"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["64222"],{231443:function(e){e.exports="/assets/e04bcb7316f7205e85fb.svg"},281958:function(e){e.exports="/assets/8ea8a20b355acc3b50a4.svg"},809844:function(e){e.exports="/assets/80cb2928688be12b0b33.svg"},176480:function(e){e.exports="/assets/9ebae403cd1cc21b469a.svg"},625065:function(e){e.exports="/assets/8dc24c1fbe75eed7a12c.svg"},875184:function(e){e.exports="/assets/14a2f3e448f5b6db0727.svg"},691270:function(e){e.exports="/assets/941a675488737c8b4ddf.svg"},704139:function(e){e.exports="/assets/383a9bde1baccc490297.svg"},306059:function(e){e.exports="/assets/34224ab48bff9727f3f8.svg"},281485:function(e){e.exports="/assets/47d3ea2d7721c75ea6cb.svg"},644106:function(e){e.exports="/assets/12da6c6ebb439deb6c3e.svg"},73827:function(e){e.exports="/assets/d34be1ad3e2cc536d3fb.svg"},149510:function(e){e.exports="/assets/8ca6d866d894de8ce5e7.svg"},646766:function(e){e.exports="/assets/02fe0381caa895a722f0.svg"},102811:function(e){e.exports="/assets/8da17df309b257dc2960.svg"},485195:function(e){e.exports="/assets/d73341fd9c4ccfa62ba5.svg"},98063:function(e){e.exports="/assets/fce42c34f4dd0e8bb13c.svg"},700830:function(e){e.exports="/assets/4f55ed28cc6035a936d7.svg"},61578:function(e){e.exports="/assets/2d58a0636f814ac589e0.svg"},748973:function(e){e.exports="/assets/fb9f3dbb28084289614c.svg"},618103:function(e){e.exports="/assets/e40148de2cd3950fa38f.svg"},552196:function(e){e.exports="/assets/e64fc5fe861b915ee00b.svg"},477591:function(e){e.exports="/assets/7bf24cb1e2cefea671c2.svg"},969048:function(e){e.exports="/assets/4850de910fb2c5feb07b.svg"},894960:function(e){e.exports="/assets/12ce72382180fcf3f422.svg"},705432:function(e){e.exports="/assets/6511f71eb92a6c0a5c56.svg"},182936:function(e){e.exports="/assets/a39009766cd093a3d189.svg"},97984:function(e){e.exports="/assets/089289afb9f220379546.svg"},845133:function(e){e.exports="/assets/df670815658f288bce7d.svg"},764896:function(e){e.exports="/assets/0c660075ce66b46cdaf0.svg"},321975:function(e){e.exports="/assets/fe1e6a3c5ebb2c9515bc.svg"},780961:function(e){e.exports="/assets/6cb2268dd459245064ab.svg"},334732:function(e){e.exports="/assets/4e58080328165a7dfe9c.svg"},795361:function(e){e.exports="/assets/8a1aa3d175a1075bde56.svg"},454120:function(e){e.exports="/assets/383f30924177973b6e2a.svg"},362827:function(e){e.exports="/assets/34e6d3da86ba4a06ee18.svg"},883760:function(e){e.exports="/assets/f42666a35319f6dc033f.svg"},584354:function(e){e.exports="/assets/b512a8f75a41236f3d73.svg"},705845:function(e){e.exports="/assets/36c01e0245211fc70d3a.svg"},725060:function(e){e.exports="/assets/91910abfebb0179f3dd8.svg"},881454:function(e){e.exports="/assets/9db0c99df4cb2d4dfa87.svg"},422445:function(e){e.exports="/assets/7711ef5d68e18fa4dbcc.svg"},24927:function(e){e.exports="/assets/cf30554f58e769dc72b9.svg"},339035:function(e){e.exports="/assets/c665e96399eea2be5a07.svg"},435921:function(e){e.exports="/assets/9da6c5317c167faaa3c8.svg"},538548:function(e){e.exports="/assets/fea1d92557530364cefd.svg"},753033:function(e){e.exports="/assets/b8566c6e8b65576532c0.svg"},15717:function(e){e.exports="/assets/cf6b9f0ee7c5cee7fb45.svg"},191986:function(e){e.exports="/assets/796a40e036bf837c7f85.png"},560580:function(e){e.exports="/assets/9f6e4c54393c8fa475cd.svg"},480032:function(e){e.exports="/assets/0957cccd566b4fe67718.svg"},699352:function(e){e.exports="/assets/7ea30df865ec7af7aac8.svg"},525377:function(e){e.exports="/assets/62b480204691a6aa6249.svg"},497224:function(e){e.exports="/assets/eb3a1dcecd0877c44c41.svg"},572344:function(e){e.exports="/assets/3086b76a2c725f33166a.svg"},238980:function(e){e.exports="/assets/c01a5fa3ed9ed6b36c1f.svg"},840347:function(e){e.exports="/assets/dc08facbd3053b6223f2.svg"},711131:function(e){e.exports="/assets/6410d8921d8b35df54a5.svg"},467054:function(e){e.exports="/assets/4970e51a711883bc86fb.svg"},14894:function(e){e.exports="/assets/d3c9d115ad5ee18fdafc.svg"},192029:function(e){e.exports="/assets/2fd3f9574d205a172fc0.jpg"},527119:function(e){e.exports="/assets/0c275302db905c9fce3e.jpg"},545505:function(e){e.exports="/assets/691c0b9237eebf2df1e5.svg"},184269:function(e){e.exports="/assets/18433a47992348f39c32.svg"},769928:function(e){e.exports="/assets/5a539d8a63649052172a.svg"},12e3:function(e){e.exports="/assets/dba60598ea89725ccc0b.svg"},98021:function(e){e.exports="/assets/3e6e1d634be03ec9a5c4.svg"},661745:function(e){e.exports="/assets/d471416be79dc0e5b746.svg"},800350:function(e){e.exports="/assets/84b249d2932173ceac6a.svg"},576394:function(e){e.exports="/assets/4d7e94e87a0ed31d889e.svg"},626065:function(e,t,n){e.exports=n.p+"e4dd260504efd1e5ef91.mp4"},546240:function(e){e.exports="/assets/9721e9727a29cd556e14.svg"},952009:function(e){e.exports="/assets/96098492389840cbb20f.svg"},708690:function(e,t,n){var i=n(570140);t.Z={search(e,t){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:e,channelId:t})},clear(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:"",channelId:e})},select(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",row:e})},addUser(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",userId:e})},removeUser(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",userId:e})},open(e){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",channelId:e})},close(){i.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"})}}},771340:function(e,t,n){var i=n(544891),l=n(570140),r=n(981631);t.Z={fetchRegions(e){i.tn.get({url:r.ANM.REGIONS(e),retries:1,oldFormErrors:!0,rejectWithError:!0}).then(t=>l.Z.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e}),()=>l.Z.dispatch({type:"LOAD_REGIONS",regions:[],guildId:e}))},changeCallRegion(e,t){i.tn.patch({url:r.ANM.CALL(e),body:{region:t},oldFormErrors:!0,rejectWithError:!0})}}},260300:function(e,t,n){var i=n(544891),l=n(570140),r=n(981631);t.Z={show(e,t){l.Z.wait(()=>l.Z.dispatch({type:"TUTORIAL_INDICATOR_SHOW",tutorialId:e,renderData:t}))},hide(e){l.Z.wait(()=>l.Z.dispatch({type:"TUTORIAL_INDICATOR_HIDE",tutorialId:e}))},dismiss(e){l.Z.wait(()=>l.Z.dispatch({type:"TUTORIAL_INDICATOR_DISMISS",tutorialId:e})),i.tn.put({url:r.ANM.TUTORIAL_INDICATOR(e),oldFormErrors:!0,rejectWithError:!0})},suppressAll(){l.Z.dispatch({type:"TUTORIAL_INDICATOR_SUPPRESS_ALL"}),i.tn.post({url:r.ANM.TUTORIAL_INDICATORS_SUPPRESS,oldFormErrors:!0,rejectWithError:!0})}}},23536:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651),l=n(192379),r=n(442837),a=n(780384),s=n(481060),o=n(332148),c=n(198620),d=n(624453),u=n(306680),h=n(494404),p=n(257559),m=n(388032);let f=[];function g(e){let{channel:t,onJump:g}=e,{messages:C,loading:x}=(0,r.cj)([d.Z],()=>{let e=d.Z.getPinnedMessages(t.id),n=null!=e?e.messages:f;return{messages:n,loading:null==n||null!=e&&e.loading}}),v=(0,r.e7)([u.ZP],()=>u.ZP.hasUnreadPins(t.id));return l.useEffect(()=>{C.some(c.k5)&&o.Z.fetchPins(t.id,!0)},[]),l.useEffect(()=>{v&&o.Z.ackPins(t.id)},[v,t.id]),(0,i.jsx)(s.Dialog,{"aria-label":m.intl.string(m.t["mp1N//"]),children:(0,i.jsx)(h.ZP,{onFetch:function(){o.Z.ackPins(t.id),o.Z.fetchPins(t.id)},channel:t,messages:C,loading:x,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?o.Z.unpinMessage(t,e.id):p.Z.confirmUnpin(t,e))},onJump:g,getProTip:function(){return t.isPrivate()?m.intl.string(m.t["3dLGAg"]):m.intl.string(m.t.KTbRcn)},renderHeader:()=>(0,i.jsx)(h.h4,{icon:s.PinIcon,title:m.intl.string(m.t["mp1N//"])}),renderEmptyState:function(e){let l=m.intl.string(m.t.fmyaWF);t.isPrivate()&&(l=m.intl.string(m.t.rhqcbG));let r=(0,a.ap)(e)?n(306059):n(281485);return(0,i.jsx)(h.nH,{msg:l,image:r},"emptystate")},listName:"pins"})})}},377993:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(873546),a=n(442837),s=n(481060),o=n(239091),c=n(144144),d=n(100527),u=n(906732),h=n(385499),p=n(82295),m=n(184301),f=n(347475),g=n(158776),C=n(699516),x=n(111583),v=n(594174),_=n(626135),I=n(585483),E=n(233870),b=n(51144),Z=n(998502),N=n(276264),S=n(981631),T=n(388032),j=n(973249);let A=[],y=Z.ZP.getEnableHardwareAcceleration();function P(e){let{user:t,channel:l,status:d,activities:u}=e,h=(0,a.e7)([x.Z],()=>null!=x.Z.getTypingUsers(l.id)[t.id]),p=(0,a.e7)([v.default],()=>v.default.getCurrentUser()),_=(0,a.e7)([g.Z],()=>g.Z.isMobileOnline(t.id)),E=(0,a.e7)([C.Z],()=>C.Z.getNickname(t.id)),Z=e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("8634")]).then(n.bind(n,354589));return n=>(0,i.jsx)(e,{...n,user:t,channel:l})})};return(0,i.jsx)(s.Popout,{preload:()=>(0,m.Z)(t,{channelId:l.id}),renderPopout:e=>(0,i.jsx)(f.Z,{...e,userId:t.id,channelId:l.id}),position:r.tq?"window_center":"left",spacing:16,onShiftClick:()=>{let e="@".concat(b.ZP.getUserTag(t,{decoration:"never"})),n="<@".concat(t.id,">");I.S.dispatchToLastSubscribed(S.CkL.INSERT_TEXT,{plainText:e,rawText:n}),c.Z.startTyping(l.id)},children:e=>(0,i.jsx)(N.Z,{user:t,currentUser:p,isOwner:t.id===l.ownerId,ownerTooltipText:T.intl.string(T.t["MRXZ+/"]),shouldAnimateStatus:y,isTyping:h,status:d,activities:u,channel:l,onContextMenu:Z,isMobile:_,nick:E,...e},t.id)})}function M(e,t){if(e.listItems.length!==t.listItems.length)return!1;for(let n=0;n<e.listItems.length;n++){let i=e.listItems[n],l=t.listItems[n];if(i.user!==l.user||i.status!==l.status||i.activities!==l.activities)return!1}return!0}function R(e){var t;let{channel:n}=e,r=v.default.getCurrentUser(),o=null==r?void 0:r.isStaff(),{analyticsLocations:c}=(0,u.ZP)(d.Z.MEMBER_LIST);let{listItems:m}=(t=n,(0,a.e7)([C.Z,v.default,g.Z],()=>{let e=(0,E.T)(t.recipients,v.default),n={};for(let t of e){var i,l,r;C.Z.isFriend(t.id)||t.id===(null===(i=v.default.getCurrentUser())||void 0===i?void 0:i.id)?n[t.id]={status:null!==(l=g.Z.getStatus(t.id))&&void 0!==l?l:S.Skl.OFFLINE,activities:null!==(r=g.Z.getActivities(t.id))&&void 0!==r?r:A}:n[t.id]={status:S.Skl.OFFLINE,activities:A}}let a=[];for(let t of e){let e={user:t,status:n[t.id].status,activities:n[t.id].activities};a.push(e)}return{listItems:a}},[t],M));l.useEffect(()=>{_.default.track(S.rMx.MEMBER_LIST_VIEWED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id})},[n.guild_id,n.id,n.type]);let f=o&&m.every(e=>e.user.isStaff());return(0,i.jsx)(u.Gt,{value:c,children:(0,i.jsx)("div",{className:j.container,children:(0,i.jsx)("aside",{className:j.membersWrap,children:(0,i.jsxs)(s.Scroller,{className:j.members,fade:!0,children:[(0,i.jsxs)(p.Z,{className:j.membersGroup,children:["".concat(T.intl.string(T.t["9Oq93t"]),"—").concat(m.length," "),f&&(0,i.jsx)(h.Z,{type:h.Z.Types.STAFF_ONLY_DM})]}),m.map(e=>(0,i.jsx)(P,{user:e.user,status:e.status,activities:e.activities,channel:n},e.user.id))]})})})})}},944543:function(e,t,n){n(757143),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(771340),d=n(600164),u=n(903223),h=n(388032),p=n(219249);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let f={position:"bottom",autoInvert:!1},g=e=>{let{region:t,className:n=p.regionSelectName}=e,l=t.name.replace(/ \(VIP\)$/,"");return(0,i.jsx)("div",{className:n,children:l})};class C extends l.PureComponent{render(){let{region:e,selected:t}=this.props;return(0,i.jsxs)(d.Z,{align:d.Z.Align.CENTER,className:a()({selected:t}),children:[(0,i.jsx)(g,{region:e,className:p.regionSelectName}),t?(0,i.jsx)("i",{className:p.check}):null]})}}class x extends l.PureComponent{componentDidMount(){null==this.props.regions&&c.Z.fetchRegions(null)}render(){let{regions:e}=this.props;if(null==e)return null;let t=this.getSelectedRegion(),n={label:t.name,value:t},l=e.filter(e=>!e.deprecated&&!e.hidden).map(e=>({label:e.name,value:e,key:e.id}));return(0,i.jsx)(o.QuickSelect,{label:h.intl.string(h.t.w8gMqq),options:l,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:f,popoutClassName:p.regionSelectPopout})}constructor(...e){super(...e),m(this,"renderOption",(e,t)=>(0,i.jsx)(C,{region:e.value,selected:t},e.value.id)),m(this,"getSelectedRegion",()=>{var e;let{regions:t,call:n}=this.props;return n.regionUpdated&&null!=t&&null!=n.region?null!==(e=t.find(e=>{let{id:t}=e;return t===n.region}))&&void 0!==e?e:{name:n.region,id:n.region}:{id:"automatic",name:h.intl.string(h.t.JEmsam),vip:!1,deprecated:!1,hidden:!1}}),m(this,"handleChangeVoiceRegion",e=>{let{value:t}=e,{channelId:n}=this.props.call;c.Z.changeCallRegion(n,t.id)})}}t.Z=s.ZP.connectStores([u.Z],()=>({regions:u.Z.getRegions(null)}))(x)},697309:function(e,t,n){n.d(t,{li:function(){return i},nT:function(){return s},p8:function(){return a},qO:function(){return r},zx:function(){return l}});let i=264,l=432,r=375,a=12633==n.j?76:null,s="resizable-sidebar-width-2"},457868:function(e,t,n){n.d(t,{Z:function(){return X}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(91192),d=n(924826),u=n(873546),h=n(442837),p=n(481060),m=n(239091),f=n(144144),g=n(607070),C=n(100527),x=n(906732),v=n(82295),_=n(91218),I=n(623624),E=n(518738),b=n(965376),Z=n(159299),N=n(184301),S=n(347475),T=n(199902),j=n(271383),A=n(430824),y=n(158776),P=n(885110),M=n(111583),R=n(594174),L=n(499033),k=n(626135),O=n(585483),D=n(700785),w=n(51144),B=n(998502),U=n(276264),H=n(981631),G=n(388032),F=n(930418),V=n(973249);let z=B.ZP.getEnableHardwareAcceleration(),W=44+U.x,K=l.memo(function(e){let{channel:t,sectionId:r,userId:a,guildOwnerId:s}=e,o=(0,h.e7)([M.Z],()=>M.Z.isTyping(t.id,a)),d=(0,h.e7)([j.ZP],()=>j.ZP.getMember(t.guild_id,a)),g=(0,h.e7)([A.Z],()=>{var e;return(null==d?void 0:d.colorRoleId)!=null?null===(e=A.Z.getRole(t.guild_id,d.colorRoleId))||void 0===e?void 0:e.name:void 0},[t.guild_id,d]),C=(0,h.e7)([R.default],()=>R.default.getUser(a)),x=(0,h.e7)([R.default],()=>R.default.getCurrentUser()),v=(null==C?void 0:C.id)===(null==x?void 0:x.id),_=(0,h.e7)([y.Z,P.Z],()=>v?P.Z.getStatus():y.Z.getStatus(a,t.guild_id)),E=(0,h.e7)([y.Z],()=>y.Z.isMobileOnline(a)),b=(0,h.e7)([y.Z,P.Z],()=>v?P.Z.getActivities():y.Z.getActivities(a,t.guild_id)),L=(0,h.e7)([T.Z],()=>T.Z.getAnyStreamForUser(a)),k=(0,c.JA)(a),D=(0,h.e7)([Z.Z],()=>Z.Z.canUserViewChannel(t.id,r,a)),B=(null==C?void 0:C.id)!=null&&C.id===s,F=l.useCallback(e=>{null!=C&&(0,m.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return n=>(0,i.jsx)(e,{...n,user:C,guildId:t.guild_id,channel:t})})},[C,t]),V=l.useCallback(()=>{if(null==C)return;let e="@".concat(w.ZP.getUserTag(C,{decoration:"never"})),n="<@".concat(C.id,">");O.S.dispatchToLastSubscribed(H.CkL.INSERT_TEXT,{plainText:e,rawText:n}),f.Z.startTyping(t.id)},[C,t]),W=l.useCallback(e=>{e.stopPropagation(),(0,I.f)({guildId:t.guild_id,location:{section:H.jXE.THREAD_MEMBER_LIST,object:H.qAy.BOOST_GEM_ICON}})},[t.guild_id]);if(null==C)return null;let K=null==d?void 0:d.premiumSince;return(0,i.jsx)(p.Popout,{preload:()=>(0,N.Z)(C,{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,i.jsx)(S.Z,{...e,userId:C.id,guildId:t.guild_id,channelId:t.id}),position:u.tq?"window_center":"left",spacing:16,onShiftClick:V,children:(e,n)=>{let{isShown:l}=n;return(0,i.jsx)(U.Z,{onContextMenu:F,shouldAnimateStatus:z,user:C,currentUser:x,nick:null==d?void 0:d.nick,status:_,activities:b,colorString:null==d?void 0:d.colorString,colorRoleName:g,isTyping:o,channel:t,guildId:t.guild_id,isMobile:E,selected:l,applicationStream:L,premiumSince:null==K?null:new Date(K),onClickPremiumGuildIcon:W,itemProps:k,lostPermissionTooltipText:D?void 0:G.intl.string(G.t["/QcoT0"]),isOwner:B,...e})}})}),Y=l.memo(function(e){let{id:t,label:n,count:l,guildId:r}=e,a=(0,E.p9)({roleId:t,guildId:r,size:16});return t===H.Skl.UNKNOWN?(0,i.jsx)("div",{className:V.membersGroup,children:(0,i.jsx)("div",{className:V.memberGroupsPlaceholder})}):(0,i.jsxs)(v.Z,{className:V.membersGroup,"aria-label":G.intl.formatToPlainString(G.t.UaqbkZ,{title:n,count:l}),children:[null!=a?(0,i.jsx)(_.Z,{className:V.roleIcon,...a}):null,(0,i.jsxs)("span",{"aria-hidden":!0,children:[n," — ",l]})]})}),q=l.memo(function(e){let{channel:t}=e;return t.type===H.d4z.PRIVATE_THREAD?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:F.divider}),(0,i.jsxs)(p.Text,{variant:"text-xs/bold",color:"header-secondary",className:F.private,children:[(0,i.jsx)(p.LockIcon,{size:"xxs",color:"currentColor"}),"\xa0",G.intl.string(G.t.BTLTAg)]}),(0,i.jsx)(p.Text,{variant:"text-sm/normal",color:"header-secondary",className:F.instructions,children:G.intl.string(G.t.Hsd8hI)})]}):null});function X(e){let{channel:t,guild:n}=e,r="members-".concat(t.id),{analyticsLocations:s}=(0,x.ZP)(C.Z.MEMBER_LIST),u=(0,b.D)(t.id,n),m=u.filter(e=>e.userIds.length>0).reverse()[0],{navigator:f,listRef:v}=function(e,t){let n=(0,h.e7)([g.Z],()=>g.Z.keyboardModeEnabled),i=l.useRef(null),r=l.useCallback((e,n)=>{let l=i.current;if(null==l)return;let r=parseInt(n,10),[a,s]=l.getSectionRowFromIndex(r),o=0===a&&0===s?t:0;l.scrollToIndex({section:a,row:s,padding:o,callback:()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})})}})},[t]),a=l.useCallback(()=>new Promise(e=>{let t=i.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),s=l.useCallback(()=>new Promise(e=>{let t=i.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]);return{navigator:(0,d.ZP)({id:e,setFocus:r,isEnabled:n,scrollToStart:a,scrollToEnd:s}),listRef:i}}(r,W),_=0===u.length||u.every(e=>0===e.userIds.length);if(l.useEffect(()=>{k.default.track(H.rMx.MEMBER_LIST_VIEWED,{channel_id:t.id,channel_type:t.type,guild_id:t.guild_id})},[t.guild_id,t.id,t.type]),_)return(0,i.jsx)(J,{channel:t});let I=o().omit(f.containerProps,["ref"]),E=D.iJ(n);return(0,i.jsx)(x.Gt,{value:s,children:(0,i.jsx)(c.bG,{navigator:f,children:(0,i.jsx)(p.FocusJumpSection,{children:e=>(0,i.jsx)("div",{className:a()(V.membersWrap,V.hiddenMembers,F.container),children:(0,i.jsx)(p.List,{ref:v,className:V.members,paddingTop:0,sectionHeight:40,renderSection:e=>{let{section:t}=e,l=u[t];return(0,i.jsx)(Y,{id:l.id,label:l.label,count:l.userIds.length,guildId:n.id},l.id)},rowHeight:W,renderRow:e=>{let{section:n,row:l}=e,{userIds:r,id:a}=u[n];return(0,i.jsx)(K,{channel:t,sectionId:a,userId:r[l],guildOwnerId:E},r[l])},footerHeight:e=>u[e]===m&&t.type===H.d4z.PRIVATE_THREAD?80:0,renderFooter:e=>u[e.section]===m?(0,i.jsx)(q,{channel:t},"footer"):null,innerAriaLabel:G.intl.string(G.t["9Oq93t"]),innerTag:"ul",sections:u.map(e=>e.userIds.length),fade:!0,...I,...e},r)})})})})}function J(e){let{channel:t}=e;return(0,i.jsxs)("div",{className:a()(V.membersWrap,V.hiddenMembers,V.members,F.emptyState),children:[(0,i.jsx)(p.Text,{className:F.emptyStateHeader,variant:"text-xs/bold",color:"interactive-normal",children:G.intl.string(G.t["9Oq93t"])}),(0,i.jsxs)("div",{className:F.emptyStateIconContainer,children:[(0,i.jsx)("div",{className:F.emptyStateIcon,children:(0,i.jsx)(p.GroupIcon,{size:"lg",color:"currentColor"})}),(0,i.jsx)(L.Z,{className:F.emptyStateStars})]}),(0,i.jsx)(p.Heading,{variant:"heading-md/semibold",children:t.isForumPost()?G.intl.string(G.t.p0UgNT):G.intl.string(G.t["9/n5v7"])}),(0,i.jsx)(p.Text,{className:F.emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary",children:G.intl.string(G.t.emw8UF)})]})}},599059:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(981631),o=n(149011);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends l.Component{componentDidUpdate(e,t){if(t.focused!==this.state.focused&&this.state.focused){var n;null===(n=this.inputRef.current)||void 0===n||n.focus()}null!==this.props.value&&this.props.value!==e.value&&this.props.value!==this.state.value&&u(this.props.value,this.props,this.state)&&this.setState({value:this.props.value})}render(){let e;let{className:t,name:n,autoComplete:l,maxLen:r}=this.props,s={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:s.opacity=0,(0,i.jsx)("div",{className:a()(o.outer,t),children:(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsx)("input",{type:"text",className:o.input,ref:this.inputRef,style:s,value:this.state.value,name:n,maxLength:r,autoComplete:l,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),(0,i.jsx)("div",{className:o.input,style:e,children:this.state.value})]})})}constructor(...e){super(...e),c(this,"inputRef",l.createRef()),c(this,"state",{focused:!1,lastGoodValue:this.props.value,value:this.props.value}),c(this,"handleChange",e=>{let{onChange:t}=this.props;this.setState({value:e.currentTarget.value}),null==t||t(e)}),c(this,"handleFocus",e=>{let{onFocus:t}=this.props;this.setState({focused:!0,lastGoodValue:e.currentTarget.value}),null==t||t(e)}),c(this,"handleBlur",e=>{if(u("",this.props,this.state)){this.setState({focused:!1});let{onBlur:t}=this.props;null==t||t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})}),c(this,"handleKeyPress",e=>{if(e.which===s.yXg.ENTER){var t;null===(t=this.inputRef.current)||void 0===t||t.blur()}})}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=""!==e?e:null!=n.value&&""!==n.value?n.value:"";return(null==t.minLen||!(i.length<t.minLen))&&(null==t.maxLen||!(i.length>t.maxLen))&&!0}},822951:function(e,t,n){n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(481060),c=n(600164),d=n(811628);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends(i=r.PureComponent){render(){let e;let{renderFooter:t,selectable:n,renderHeader:i,className:r,onClose:a,children:u}=this.props;return null!=t&&(e=(0,l.jsx)(o.ModalFooter,{direction:c.Z.Direction.HORIZONTAL,children:t()})),(0,l.jsx)(o.Modal,{onCloseRequest:a,renderModal:t=>{let{onClose:h,...p}=t;return(0,l.jsxs)(o.ModalRoot,{className:d.modal,...p,children:[(0,l.jsxs)(o.ModalHeader,{align:c.Z.Justify.BETWEEN,separator:!1,children:[i(),(0,l.jsx)(c.Z.Child,{grow:0,children:(0,l.jsx)(o.ModalCloseButton,{onClick:()=>{null!=a&&a(),h()}})})]}),(0,l.jsx)(o.ModalContent,{className:s()(r,d.content,{selectable:n}),scrollerRef:this.scrollerRef,onScroll:this.handleScroll,children:u}),e]})}})}constructor(...e){super(...e),u(this,"scrollerRef",r.createRef()),u(this,"handleScroll",()=>{let{current:e}=this.scrollerRef;if(null!=e){var t,n;null===(t=(n=this.props).onScroll)||void 0===t||t.call(n,e)}})}}u(h,"defaultProps",{selectable:!1}),t.Z=h},744061:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(200651),l=n(192379),r=n(692547),a=n(780384),s=n(481060),o=n(367907),c=n(210887),d=n(626135),u=n(981631),h=n(388032),p=n(300759),m=n(665162);function f(e){let{onClose:t,onConfirm:f,onCancel:g,channel:C,analyticsType:x,popoutText:v,animation:_}=e;l.useEffect(()=>{d.default.track(u.rMx.OPEN_POPOUT,{type:x,...(0,o.v_)(C)})},[x,C]);let I=l.useCallback(()=>{null==f||f(),t()},[f,t]),E=l.useCallback(()=>{null==g||g(),t()},[g,t]),b=l.useRef(null);return l.useEffect(()=>{let e;let t=c.Z.theme,i=!1;return null!=_&&(async()=>{let[{default:l},r]=await Promise.all([Promise.resolve().then(n.t.bind(n,500923,23)),(0,a.wj)(t)?_.dark():_.light()]);!i&&null!=b.current&&(e=l.loadAnimation({container:b.current,renderer:"svg",loop:!0,autoplay:!0,animationData:r}))})(),()=>{i=!0,null!=e&&(e.destroy(),e=void 0)}},[_]),(0,i.jsx)(s.Dialog,{"aria-labelledby":"content-warning-popout-label",children:(0,i.jsxs)("form",{className:p.contentWarningPopout,onSubmit:I,children:[(0,i.jsxs)("div",{className:p.body,children:[null!=_&&(0,i.jsx)("div",{className:p.animation,ref:b}),(0,i.jsxs)("div",{className:p.content,children:[(0,i.jsx)("div",{className:p.header,children:h.intl.string(h.t.mY3Y39)}),(0,i.jsx)(s.Text,{id:"content-warning-popout-label",className:m.markup,variant:"text-sm/normal",children:v.body}),(0,i.jsxs)("div",{className:p.buttonWrapper,children:[(0,i.jsxs)("div",{className:p.buttonContainer,children:[(0,i.jsx)(s.Button,{className:p.button,color:s.Button.Colors.PRIMARY,onClick:E,children:h.intl.string(h.t.fsBWmZ)}),(0,i.jsx)(s.Text,{variant:"text-xs/normal",className:p.buttonHint,children:h.intl.format(h.t["0LzVPT"],{})})]}),(0,i.jsxs)("div",{className:p.buttonContainer,children:[(0,i.jsx)(s.Button,{className:p.button,onClick:I,type:"submit",autoFocus:!0,children:h.intl.string(h.t.KJnHq6)}),(0,i.jsx)(s.Text,{variant:"text-xs/normal",className:p.buttonHint,children:h.intl.format(h.t.khjqdH,{})})]})]})]})]}),null!=v.footer&&""!==v.footer?(0,i.jsxs)("div",{className:p.footer,children:[(0,i.jsx)(s.CircleInformationIcon,{size:"xs",color:r.Z.unsafe_rawColors.PRIMARY_400.css,className:p.icon}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",children:v.footer})]}):null]})})}},561472:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(998698),s=n(933557),o=n(703558),c=n(731290),d=n(607744),u=n(819640),h=n(496675),p=n(699516),m=n(594174),f=n(585483),g=n(127654),C=n(205822),x=n(731994),v=n(981631),_=n(388032);t.Z=function(e){let{className:t,style:n,channel:I,draftType:E}=e,[b,Z]=l.useState(!0),N=(0,r.e7)([u.Z],()=>u.Z.hasLayers()),S=(0,r.e7)([h.Z],()=>null!=I&&h.Z.can(v.Plq.ATTACH_FILES,I),[I]),T=null!=(0,r.e7)([a.Z],()=>a.Z.getActiveCommand(I.id)),j=I.getGuildId(),A=E===o.d.FirstThreadMessage,y=(0,r.e7)([m.default],()=>{var e;return!0==!(null===(e=m.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)}),P=(0,r.e7)([c.Z],()=>c.Z.didAgree(j))&&!y,M=l.useMemo(()=>!N&&(I.isPrivate()&&!I.isManaged()||null!=j&&(!I.isNSFW()||P)&&S&&d.Z.canChatInGuild(j)),[S,P,I,j,N]),R=A?v.TPd.GUILD_THREADS_ONLY.has(I.type)?_.intl.string(_.t.RBBLhI):_.intl.string(_.t.gUx4en):b?_.intl.format(_.t.dYP2FR,{destination:(0,s.F6)(I,m.default,p.Z,!0)}):_.intl.string(_.t.h76ulJ);return T||!M?null:(0,i.jsx)(C.Z,{className:t,style:n,title:R,description:A?_.intl.string(_.t.lpgkzs):_.intl.string(_.t.usQh4O),icons:x.J6,onDrop:e=>{if(T)return!1;M&&null!=I&&((0,g.d)(e,I,E,{requireConfirm:b,showLargeMessageDialog:!1}),f.S.dispatchToLastSubscribed(v.CkL.TEXTAREA_FOCUS))},onDragClear:()=>Z(!0),onDragOver:e=>{if(T)return!1;!A&&e.shiftKey===b&&Z(!e.shiftKey)}})}},36311:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(749210),d=n(986035),u=n(594174),h=n(63063),p=n(981631),m=n(388032),f=n(677467);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends l.PureComponent{componentDidMount(){let{current:e}=this.scroller;null==e||e.scrollToBottom()}render(){let{nsfwDisallowed:e}=this.props,t=m.intl.string(m.t.peE8aW);t=e?m.intl.format(m.t["2kHZen"],{helpURL:h.Z.getArticleURL(p.BhN.NSFW_AGE_GATING)}):m.intl.string(m.t.E4Cd5O);let n=e?(0,i.jsx)(d.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:m.intl.string(m.t.NEabBQ),description:t,agreement:null,disagreement:m.intl.string(m.t["13/7kZ"]),imageClassName:f.ageGatedImage}):(0,i.jsx)(d.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:m.intl.string(m.t.ZmwvDQ),description:t,agreement:m.intl.string(m.t.wVq7ur),disagreement:m.intl.string(m.t.hg1uxs)});return(0,i.jsx)(o.AdvancedScroller,{ref:this.scroller,className:f.scroller,children:(0,i.jsx)("div",{className:a()(this.props.className,f.wrapper),children:n})})}constructor(...e){super(...e),g(this,"scroller",l.createRef()),g(this,"handleDisagree",()=>{let{guild:e}=this.props;null!=e&&c.Z.nsfwReturnToSafety(e.id)}),g(this,"handleAgree",()=>{let{guild:e}=this.props;null!=e&&c.Z.nsfwAgree(e.id)})}}t.Z=s.ZP.connectStores([u.default],()=>{var e;return{nsfwDisallowed:(null===(e=u.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)===!1}})(C)},888651:function(e,t,n){n.d(t,{$:function(){return p},Q:function(){return h}});var i=n(155281),l=n(222146),r=n(749210),a=n(430824),s=n(496675),o=n(979651),c=n(938475),d=n(981631);let u="DRAGGABLE_USER";function h(e){return(0,i.G)(u,{canDrop(e){var t,n;let{channel:i}=e,l=i.getGuildId(),r=null!==(n=null===(t=a.Z.getGuild(l))||void 0===t?void 0:t.maxVideoChannelUsers)&&void 0!==n?n:-1,u=c.ZP.countVoiceStatesForChannel(i.id),h=null!=l&&o.Z.hasVideo(i.id)&&r>0&&u>=r+1;return s.Z.can(d.Plq.MOVE_MEMBERS,i)&&s.Z.can(d.Plq.CONNECT,i)&&!h},drop(e,t){let{channel:n}=e,i=o.Z.getVoiceStateForUser(t.getItem().user.id);(null==i?void 0:i.channelId)!==n.id&&r.Z.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},(e,t)=>({connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}))(e)}function p(e){return(0,l.E)(u,{canDrag(e){let{user:t,canDrag:n}=e;return null!=n&&n},beginDrag(e){let{user:t}=e;return{user:t}}},e=>({connectUserDragSource:e.dragSource()}))(e)}},52826:function(e,t,n){n.d(t,{Z:function(){return i.Z}});var i=n(263333)},592471:function(e,t,n){n.d(t,{s:function(){return s}});var i=n(200651),l=n(192379),r=n(709014);let a={hover:{name:"hover",start:0,duration:40},click:{name:"click",start:50,duration:65}},s=()=>{let e=l.useRef(null),t=l.useCallback(()=>{null!=e.current&&e.current.play("click")},[]),s=l.useCallback(()=>{null!=e.current&&e.current.play("hover")},[]),o=l.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("hover")},[]);return{events:{onClick:t,onMouseEnter:s,onMouseLeave:o},play:t,Component:l.useCallback(t=>(0,i.jsx)(r.L,{...t,src:()=>n.e("8631").then(n.t.bind(n,105262,19)),ref:e,markers:a}),[])}}},638730:function(e,t,n){n.d(t,{T:function(){return a},h:function(){return s}}),n(47120);var i=n(192379),l=n(392711);let r=e=>e,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3?arguments[3]:void 0,a=s(r,t,n,l),o=i.useRef(e);return i.useEffect(()=>{let t=a(e);o.current=t},[e,a]),0===t?e:o.current},s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a=i.useRef((0,l.throttle)(e,t,r));return i.useEffect(()=>(a.current=(0,l.throttle)(e,t,r),()=>{var e;null===(e=a.current)||void 0===e||e.cancel()}),[e,t,r,...n]),a.current}},9145:function(e,t,n){n.d(t,{Z:function(){return U}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(993365),c=n(481060),d=n(153867),u=n(110924),h=n(607070),p=n(900211),m=n(740492),f=n(861254),g=n(871499),C=n(402113),x=n(592125),v=n(271383),_=n(944486),I=n(594174),E=n(585483),b=n(51144),Z=n(566620),N=n(317381),S=n(619915),T=n(988980),j=n(16609),A=n(952561),y=n(563218),P=n(884338),M=n(719296),R=n(651612),L=n(918559),k=n(981631),O=n(388032),D=n(718691);let w=P.u.SIZE_32,B={[L.MI.NO_CHAT]:D.noChat,[L.MI.RESIZABLE]:D.resizable};function U(e){var t,n;let{maxHeight:r,connectedLocation:U,renderExternalHeader:H}=e,{groupedButtons:G}=(0,f.ZP)({location:"ActivityPanelFocusedView"}),F=(0,A.Z)(),V=(0,s.Wu)([N.ZP],()=>N.ZP.getEmbeddedActivitiesForLocation(U),[U]),z=(0,j.p)(U),W=(0,s.e7)([x.Z],()=>x.Z.getChannel(z)),K=(0,S.gb)(V),Y=(0,S.uF)(K),q=l.useCallback(()=>{(0,Z.tg)(L.Ez.PIP)},[]),X=l.useRef(null),J=(0,s.e7)([N.ZP],()=>N.ZP.getFocusedLayout()),Q=J!==L.MI.NO_CHAT,[$,ee]=l.useState(null!==(t=m.ZP.activityPanelHeight)&&void 0!==t?t:r),et=l.useCallback(e=>{d.ZP.updatedUnsyncedSettings({activityPanelHeight:e})},[]),en=l.useRef(null),[ei,el]=l.useState({width:0,height:0});l.useLayoutEffect(()=>{if(null==en.current)return;let e=new ResizeObserver(()=>{var e,t,n,i;el({width:null!==(n=null===(e=en.current)||void 0===e?void 0:e.clientWidth)&&void 0!==n?n:0,height:null!==(i=null===(t=en.current)||void 0===t?void 0:t.clientHeight)&&void 0!==i?i:0})});return e.observe(en.current),()=>e.disconnect()},[]);let er=ei.width/Math.max(ei.height,1)<L.I0,ea=0,es=0,eo=(0,T.Z)(null==F?void 0:F.id);if(!eo){let e=ei.width,t=ei.height;er?((t=ei.width/L.I0)>ei.height&&(e=(t=ei.height)*L.I0),es=(ei.height-t)/2):((e=Math.min(ei.height*L.I0))>ei.width&&(t=(e=ei.width)/L.I0),ea=(ei.width-e)/2)}let ec=Y.get(null!==(n=null==F?void 0:F.id)&&void 0!==n?n:""),ed=(0,s.e7)([_.Z],()=>_.Z.getChannelId()),eu=(0,s.Wu)([v.ZP],()=>{var e;return null==W?[]:Array.from(null!==(e=null==ec?void 0:ec.embeddedActivity.userIds)&&void 0!==e?e:[]).map(e=>v.ZP.getMember(W.guild_id,e))},[ec,W]),eh=l.useMemo(()=>{let e=new Map;return eu.forEach(t=>{null!=t&&void 0!==t&&e.set(t.userId,t)}),e},[eu]),ep=function(e,t,n){let i=(0,u.Z)(e),r=e!==i,[a,s]=l.useState(!1);l.useEffect(()=>{s(!0);let e=setTimeout(()=>s(!1),50);return()=>clearTimeout(e)},[e]);let o=!h.Z.useReducedMotion&&(r||a);return l.useMemo(()=>{let i=o?{transitionProperty:"height, max-height",transitionDuration:"".concat(50,"ms"),transitionTimingFunction:"ease-in-out"}:void 0;return e&&null!=t?{...i,minHeight:200,maxHeight:n,height:t}:i},[o,e,n,t])}(Q,$,r);if(null==F)return null;let em=[];null!=ec&&(em=Array.from(ec.embeddedActivity.userIds).map(e=>I.default.getUser(e)).filter(e=>null!=e&&void 0!==e));let ef=(e,t)=>{var n;if(null==e||void 0===e||void 0===t)return null;let l=eh.get(e.id),r=null!==(n=null==l?void 0:l.nick)&&void 0!==n?n:b.ZP.getName(e);return(0,i.jsx)(c.TooltipContainer,{text:r,position:"bottom",children:(0,i.jsx)("img",{src:e.getAvatarURL(t.guild_id,w),alt:r,className:D.avatar},e.id)},e.id)};return(0,i.jsx)(c.ThemeProvider,{theme:k.BRd.DARK,children:e=>(0,i.jsxs)("div",{className:a()(D.wrapper,B[J],e),ref:X,style:ep,children:[null==H?void 0:H(),(0,i.jsxs)("div",{className:D.activityPanelContainer,children:[Q?null:(0,i.jsx)("div",{className:D.header,children:(0,i.jsx)(o.x,{color:"header-primary",variant:"text-md/semibold",className:D.headerTitle,children:null==F?void 0:F.name})}),(0,i.jsx)("div",{className:a()(D.activityContainer,{[D.activityContainerNoMargin]:eo}),style:{paddingLeft:ea,paddingRight:ea,paddingTop:es,paddingBottom:es},ref:en,children:(0,i.jsx)(y.Z,{className:D.iframe,embedId:(0,M.Z)(U.id,F.id)})}),null!=ed?(0,i.jsxs)("div",{className:D.footer,children:[(0,i.jsx)(P.Z,{renderIcon:!1,users:em,size:w,max:6,className:D.userAvatars,renderUser:e=>ef(e,W)}),(0,i.jsxs)("div",{className:D.footerButtons,children:[G?null:(0,i.jsx)(R.Z,{channelId:ed,className:D.circularButton}),G?(0,i.jsxs)("div",{className:D.buttonSection,children:[(0,i.jsx)(R.Z,{channelId:ed}),(0,i.jsx)(g.d,{label:O.intl.string(O.t.brPQ5e),onClick:q,iconComponent:c.MinimizeIcon,themeable:!0})]}):null,(0,i.jsx)("div",{className:D.leaveButtonContainer,children:(0,i.jsx)(C.Z,{applicationId:F.id,location:U,centerButton:!0,color:"red",className:G?void 0:D.leaveActivityButton})}),G?null:(0,i.jsx)(g.d,{label:O.intl.string(O.t.brPQ5e),onClick:q,iconComponent:c.MinimizeIcon,themeable:!0,className:D.circularButton})]}),(0,i.jsx)("div",{className:D.flex})]}):null]}),Q?(0,i.jsx)(p.Z,{minHeight:480,maxHeight:r,resizableNode:X,onResize:e=>{E.S.dispatch(k.CkL.MANUAL_IFRAME_RESIZING,{resizing:!0}),ee(e)},onResizeEnd:e=>{E.S.dispatch(k.CkL.MANUAL_IFRAME_RESIZING,{resizing:!1}),et(e)}}):null]})})}},82888:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(399606),r=n(595519),a=n(317381),s=n(917107),o=n(9145),c=n(918559);function d(e){let{maxHeight:t,renderExternalHeader:n}=e,{connectedChannelId:d,connectedActivity:u,activityPanelMode:h}=(0,l.cj)([a.ZP],()=>{var e;let t=a.ZP.getConnectedActivityChannelId();return{connectedChannelId:t,connectedActivity:null!=t&&null!==(e=a.ZP.getSelfEmbeddedActivityForChannel(t))&&void 0!==e?e:void 0,activityPanelMode:a.ZP.getActivityPanelMode()}});if(!(0,r.NX)(d))return null;let p=null==u?void 0:u.applicationId;return h!==c.Ez.PANEL||null==p?null:null==d||null==u||(0,s.Z)(d)?null:(0,i.jsx)(o.Z,{maxHeight:t,connectedLocation:u.location,renderExternalHeader:n})}},651612:function(e,t,n){n.d(t,{Z:function(){return v}}),n(653041);var i=n(200651),l=n(192379),r=n(392711),a=n(442837),s=n(481060),o=n(481051),c=n(871499),d=n(306680),u=n(111583),h=n(459273),p=n(566620),m=n(317381),f=n(918559),g=n(981631),C=n(388032),x=n(636501);function v(e){let{channelId:t,className:n,...v}=e,_=l.useRef(null),I=(0,a.e7)([m.ZP],()=>m.ZP.getFocusedLayout()===f.MI.RESIZABLE),E=l.useCallback(()=>{let e=I?f.MI.NO_CHAT:f.MI.RESIZABLE;(0,p.gC)(e)},[I]),{unreadCount:b,mentionCount:Z}=function(e){let t=(0,a.e7)([u.Z],()=>!(0,r.isEmpty)(u.Z.getTypingUsers(e)),[e]),{unreadCount:n,mentionCount:i}=(0,a.cj)([d.ZP],()=>({unreadCount:d.ZP.getUnreadCount(e),mentionCount:d.ZP.getMentionCount(e)}),[e]);return{unreadCount:n,mentionCount:i,isTyping:t}}(t),N=l.useCallback(()=>{var e;null===(e=_.current)||void 0===e||e.focus()},[]);(0,h.yp)({event:g.CkL.FOCUS_CHAT_BUTTON,handler:N});let S=I?C.intl.string(C.t["5MstTk"]):C.intl.string(C.t.kkKapK),T=[S];Z>0&&T.push(C.intl.formatToPlainString(C.t["3l1GOz"],{mentionCount:Z})),b>0&&T.push(C.intl.string(C.t.x5zAGR));let j=(0,a.e7)([m.ZP],()=>m.ZP.getFocusedLayout()),A=Z>0?Z:b,y=A>0;return(0,i.jsxs)("div",{className:x.wrapper,children:[(0,i.jsx)(c.d,{buttonRef:_,onClick:E,label:S,"aria-label":T.join(", "),tooltipPosition:"top",iconComponent:j===f.MI.NO_CHAT?s.ChevronLargeUpIcon:s.ChevronLargeDownIcon,themeable:!0,className:n,...v}),y?(0,i.jsx)(o.Z,{hasMentions:Z>0,truncatedCount:A>99?"99+":A,className:x.badge}):null]})}},596040:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(192379),l=n(566620),r=n(782769),a=n(451576);let s=e=>null!=e&&""!==e;function o(e,t){let n=(0,r.z)(null!=t?t:void 0),o=(0,a.Z)(t),c=s(e)||o;return i.useEffect(()=>{c&&n&&(0,l.w1)({guildId:e})},[e,n,c]),c&&n}},683921:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(442837),l=n(317381);function r(e){let{channelId:t}=e;return(0,i.e7)([l.ZP],()=>l.ZP.getEmbeddedActivitiesForChannel(t).some(e=>e.userIds.size>0))}},588580:function(e,t,n){n.d(t,{a:function(){return r}});var i=n(442837),l=n(317381);let r=()=>(0,i.e7)([l.ZP],()=>l.ZP.getState().shouldShowNewActivityIndicator)},451576:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(399606),l=n(592125);function r(e){var t;let n=(0,i.e7)([l.Z],()=>l.Z.getChannel(e));return null!==(t=null==n?void 0:n.isPrivate())&&void 0!==t&&t}},296797:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(192379),l=n(592125),r=n(944486),a=n(585483),s=n(16609),o=n(917107),c=n(89425),d=n(197386),u=n(981631);function h(e){let{onTransition:t}=e;i.useEffect(()=>{async function e(e){let{location:n}=e,i=(0,s.p)(n);if(null==i||!(0,o.Z)(i))return;r.Z.getVoiceChannelId()!==i&&await (0,c.Z)({channelId:i});let a=l.Z.getChannel(i),u=null==a?void 0:a.guild_id;setTimeout(()=>{(0,d.Z)(u,i),null==t||t()},0)}return a.S.subscribe(u.CkL.OPEN_EMBEDDED_ACTIVITY,e),()=>{a.S.unsubscribe(u.CkL.OPEN_EMBEDDED_ACTIVITY,e)}},[t])}},526846:function(e,t,n){n.d(t,{m:function(){return T}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(772848),o=n(442837),c=n(481060),d=n(2052),u=n(40851),h=n(607070),p=n(100527),m=n(906732),f=n(895924),g=n(390322),C=n(626135),x=n(566620),v=n(127255),_=n(5200),I=n(558317),E=n(403404),b=n(981631),Z=n(388032),N=n(350562);let S="vc-activities-".concat((0,s.Z)()),T=l.forwardRef(function(e,t){let{channel:n,isHovered:r,closePopout:s,onMouseEnter:T,onMouseLeave:j,onClick:A,className:y}=e,P=(0,o.e7)([h.Z],()=>h.Z.useReducedMotion),{id:M,guild_id:R}=n;l.useEffect(()=>{C.default.track(b.rMx.ACTIVITIES_CENTER_CONTROL_TRAY_BUTTON_HOVERED,{channel_id:M,guild_id:R})},[M,R]),l.useEffect(()=>{!r&&s()},[s,r]);let L=(0,u.bp)(),{analyticsLocations:k}=(0,m.ZP)(p.Z.ACTIVITIES_MINI_SHELF),{analyticsLocations:O}=(0,m.ZP)([...k,p.Z.ACTIVITIES_MINI_SHELF_BANNER]),D=L===b.IlC.POPOUT,w=(0,d.O)(),B=function(e){return(0,v.Z)({guildId:e}).slice(0,5)}(n.getGuildId());l.useEffect(()=>{let e=setTimeout(()=>x.ux(),1e3);return()=>clearTimeout(e)},[]);let U=l.useCallback(()=>{var e;(0,E.Z)({channel:n,guildId:null!==(e=n.getGuildId())&&void 0!==e?e:void 0,locationObject:w.location,openInPopout:D,analyticsLocations:k,opensAppLauncherModal:!0}),j(),A()},[w,k,n,A,j,D]),H=l.useCallback(e=>{T(),C.default.track(b.rMx.ACTIVITIES_MINI_SHELF_HOVERED,{channel_id:n.id,guild_id:n.getGuildId()})},[T,n]);return(0,i.jsx)(m.Gt,{value:k,children:(0,i.jsx)(g.Z,{children:(0,i.jsxs)(c.Dialog,{ref:t,"aria-labelledby":S,className:y,children:[(0,i.jsx)(c.HeadingLevel,{forceLevel:2,children:(0,i.jsx)(c.HiddenVisually,{children:(0,i.jsx)(c.H,{id:S,children:Z.intl.string(Z.t["2lnYtL"])})})}),(0,i.jsxs)("div",{className:N.container,onMouseEnter:H,onMouseLeave:j,children:[(0,i.jsxs)("div",{className:N.titleContainer,children:[(0,i.jsxs)("div",{className:N.titleLeft,children:[(0,i.jsx)(c.ActivitiesIcon,{size:"md",className:N.titleLeftIcon,color:"var(--interactive-active)"}),(0,i.jsx)(c.Text,{variant:"eyebrow",children:Z.intl.string(Z.t.f3Cz29)})]}),(0,i.jsxs)(c.Clickable,{className:N.titleRight,onClick:U,children:[(0,i.jsx)(c.Text,{variant:"eyebrow",children:Z.intl.string(Z.t["K8+z4e"])}),(0,i.jsx)(c.ChevronSmallRightIcon,{size:"custom",width:12,height:12,color:"var(--interactive-active)",className:N.titleRightIcon})]})]}),(0,i.jsx)(m.Gt,{value:O,children:null}),(0,i.jsxs)("div",{className:N.activityContainer,children:[B.map(e=>(0,i.jsx)(_.Y,{channel:n,activityItem:e,onClick:()=>{s(),A()},aspectRatio:_.Y.AspectRatio.THIRTEEN_BY_ELEVEN,animatedDivClass:N.activitySuggestion,commandOrigin:f.bB.MINI_SHELF},e.application.id)),(0,i.jsx)("div",{className:a()(N.wumpusRocketOuterContainer,{[N.wumpusReducedMotion]:P}),children:(0,i.jsx)("div",{className:N.wumpusRocketInnerContainer,children:(0,i.jsx)(I.Z,{className:N.wumpusRocket})})})]})]})]})})})})},556505:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(911969),s=n(388032),o=n(750628);function c(e){let{name:t,labelType:n,collapsed:c=!1,showTooltip:d=!1}=e,u=n===a.ww.NEW?s.intl.string(s.t.y2b7CA):s.intl.string(s.t["/qdhkp"]),h=n===a.ww.NEW?o.activityNewBadge:o.activityUpdatedBadge,[p,m]=l.useState(c?"":u);if(l.useEffect(()=>{c?m(""):n===a.ww.NEW?m(s.intl.string(s.t.y2b7CA)):n===a.ww.UPDATED&&m(s.intl.string(s.t["/qdhkp"]))},[c,n]),n===a.ww.NONE)return null;let f=(0,i.jsx)(r.TextBadge,{className:h,disableColor:!0,text:(0,i.jsx)("span",{children:p})});if(!d)return f;let g=s.intl.formatToPlainString(s.t.Vs2EeX,{activity:t});return(0,i.jsx)(r.TooltipContainer,{text:g,tooltipContentClassName:o.tooltip,children:f})}},5200:function(e,t,n){n.d(t,{Y:function(){return _}}),n(47120);var i,l,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),c=n(752877),d=n(481060),u=n(542094),h=n(182906),p=n(556505),m=n(513202),f=n(981631),g=n(388032),C=n(801848);let x=["embedded_cover"],v={tension:800,friction:24};function _(e){var t;let{channel:n,activityItem:i,onClick:l,aspectRatio:s=0,animatedDivClass:_,commandOrigin:I}=e,{onActivityItemSelected:E,imageBackground:b,activityAction:Z,labelType:N}=(0,u.ZP)({channel:n,activityItem:i,guildId:null!==(t=n.getGuildId())&&void 0!==t?t:void 0,locationObject:{},onActivityItemSelected:l,embeddedActivitiesManager:m.Z,assetNames:x,commandOrigin:I}),[S,T]=a.useState(!1),j=a.useCallback(()=>{T(!0)},[T]),A=a.useCallback(()=>{T(!1)},[T]),y=a.useMemo(()=>(0,r.jsx)("div",{className:C.overlayBadge,children:(0,r.jsx)("div",{className:C.badgeContainer,children:(0,r.jsx)(p.Z,{name:i.application.name,labelType:N})})}),[i.application.name,N]),P=a.useMemo(()=>{switch(Z){case u.JS.JOIN:return(0,r.jsx)("div",{className:C.activityAction,children:(0,r.jsx)("div",{className:C.activityActionButton,children:(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"always-white",children:g.intl.string(g.t.VJlc0d)})})});case u.JS.LEAVE:return(0,r.jsx)("div",{className:C.activityAction,children:(0,r.jsx)("div",{className:o()(C.activityActionButton,C.activityActionButtonDanger),children:(0,r.jsx)(d.Text,{variant:"text-sm/medium",color:"always-white",children:g.intl.string(g.t["wH/wDA"])})})});case u.JS.START:default:return(0,r.jsx)(r.Fragment,{})}},[Z]);return(0,r.jsx)(d.Button,{onClick:E,color:"transparent",look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onFocus:j,onBlur:A,onMouseEnter:j,onMouseLeave:A,innerClassName:C.activityItemButtonInnerClass,children:(0,r.jsx)(d.Spring,{config:v,from:{value:0},to:{value:S?1:0},children:e=>{let{value:t}=e;return(0,r.jsx)(d.ThemeProvider,{theme:f.BRd.DARK,children:e=>(0,r.jsx)(c.animated.div,{className:o()(e,C.activityItem,_,{[C.activityItem_13_11]:0===s,[C.activityItem_16_9]:1===s}),style:{transform:t.to([0,1],[1,1.05]).to(e=>"scale(".concat(e,")"))},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{imageBackground:b,applicationName:i.application.name,imageClassName:C.activitySuggestionImage,imageNotFoundClassName:C.brokenImageIconWrapper}),y,P]})})})}})})}(l=i||(i={}))[l.THIRTEEN_BY_ELEVEN=0]="THIRTEEN_BY_ELEVEN",l[l.SIXTEEN_BY_NINE=1]="SIXTEEN_BY_NINE",_.AspectRatio=i},119315:function(e,t,n){n.d(t,{T:function(){return l},r:function(){return c}});var i,l,r=n(200651);n(192379);var a=n(120356),s=n.n(a),o=n(707600);(i=l||(l={}))[i.POPOUT=0]="POPOUT",i[i.SECONDARY=1]="SECONDARY",i[i.BLACK=2]="BLACK";let c=e=>{let{left:t,top:n=0,right:i=0,bottom:l,size:a=8,alert:c=!1,maskColor:d=1}=e;return(0,r.jsx)("span",{className:s()(o.dot,{[o.alert]:c,[o.maskPopout]:0===d,[o.maskSecondary]:1===d,[o.maskBlack]:2===d}),style:{height:a,width:a,left:t,top:n,right:i,bottom:l}})}},558317:function(e,t,n){var i=n(200651);n(192379);t.Z=e=>(0,i.jsxs)("svg",{viewBox:"0 0 500 350",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"linear-gradient",x1:137.05,y1:259.98,x2:172.2,y2:237.66,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-2",x1:146.1,y1:114.65,x2:204.28,y2:84.63,gradientTransform:"matrix(-.99 .13 .13 .99 416 -12.92)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#7196ff"}),(0,i.jsx)("stop",{offset:.2,stopColor:"#6990fc"}),(0,i.jsx)("stop",{offset:.49,stopColor:"#547ff4"}),(0,i.jsx)("stop",{offset:.67,stopColor:"#4572ee"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-3",x1:167.18,y1:156.28,x2:118.66,y2:238.11,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#ff8c19"}),(0,i.jsx)("stop",{offset:.55,stopColor:"#ffe75c"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-4",x1:125.79,y1:287.01,x2:241.87,y2:290.82,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:.95,stopColor:"#ff8c19"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-5",x1:323.47,y1:303.47,x2:284.74,y2:147.93,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.08,stopColor:"#717f8e"}),(0,i.jsx)("stop",{offset:1,stopColor:"#d3d7db"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-6",x1:211.38,y1:109.6,x2:273.39,y2:77.6,gradientTransform:"matrix(-.8 .6 .6 .8 325.62 -103.19)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.32,stopColor:"#7196ff"}),(0,i.jsx)("stop",{offset:.43,stopColor:"#6a90fc"}),(0,i.jsx)("stop",{offset:.74,stopColor:"#5b84f6"}),(0,i.jsx)("stop",{offset:1,stopColor:"#5680f4"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-7",x1:-96.32,y1:138.47,x2:-101.4,y2:109.82,gradientTransform:"scale(-1 1) rotate(14.5 27.61 -552.62)",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:0,stopColor:"#4572ee"}),(0,i.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,i.jsx)("linearGradient",{id:"linear-gradient-8",x1:-39.5,y1:59.37,x2:-44.66,y2:30.24,gradientTransform:"matrix(-.98 .17 .17 .98 119.49 49.25)",xlinkHref:"#linear-gradient-7"}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-9",x1:299.25,y1:167.71,x2:244.21,y2:161.69,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.32,stopColor:"#4572f0"}),(0,i.jsx)("stop",{offset:.52,stopColor:"#4d79f3"}),(0,i.jsx)("stop",{offset:.84,stopColor:"#638bfa"}),(0,i.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,i.jsxs)("linearGradient",{id:"linear-gradient-10",x1:423.96,y1:48.35,x2:363.72,y2:139.3,gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,i.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,i.jsx)("style",{children:".cls-3{fill:#ff78b9}.cls-6{fill:#ed5f00}.cls-12{fill:#7196ff}.cls-16{fill:#b6cbff}.cls-18{fill:#7fa0ff}.cls-21{fill:#5783ff}.cls-24{fill:#8e99a5}"})]}),(0,i.jsx)("path",{d:"M391.43 240.7a19.35 19.35 0 0 1-8.76-13.59l-1.46-9.49a1 1 0 0 0-.31-.59.85.85 0 0 0-1.24 0 1 1 0 0 0-.31.59l-1.45 9.49a19.66 19.66 0 0 1-8.76 13.59l-1.26.79a.92.92 0 0 0-.3.35.9.9 0 0 0-.1.45.87.87 0 0 0 .1.45.92.92 0 0 0 .3.35l1.26.79a19.71 19.71 0 0 1 8.76 13.6l1.45 9.48a1 1 0 0 0 .32.57 1 1 0 0 0 1.23 0 .93.93 0 0 0 .31-.57l1.46-9.48a19.34 19.34 0 0 1 8.76-13.6l1.26-.79a1 1 0 0 0 .3-.35 1 1 0 0 0 .1-.45 1 1 0 0 0-.4-.8Z",style:{fill:"#57f287"}}),(0,i.jsx)("path",{d:"M79.4 119.28a19.34 19.34 0 0 1-8.76-13.6l-1.46-9.48a1 1 0 0 0-.31-.6.87.87 0 0 0-1.24 0 1.06 1.06 0 0 0-.31.6l-1.45 9.48a19.71 19.71 0 0 1-8.76 13.6l-1.26.79a.92.92 0 0 0-.3.35.87.87 0 0 0-.1.45.9.9 0 0 0 .1.45.83.83 0 0 0 .3.34l1.26.8a19.66 19.66 0 0 1 8.76 13.59l1.45 9.48a1 1 0 0 0 .32.58 1 1 0 0 0 1.23 0 .92.92 0 0 0 .31-.58l1.46-9.48a19.49 19.49 0 0 1 2.89-7.75 19.24 19.24 0 0 1 5.87-5.84l1.26-.8a.83.83 0 0 0 .3-.34 1 1 0 0 0 .1-.45 1 1 0 0 0-.1-.45.92.92 0 0 0-.3-.35Z",style:{fill:"#8cd9ff"}}),(0,i.jsx)("path",{className:"cls-3",d:"M424.29 277.52a13.59 13.59 0 0 1-4.15-4.12 13.85 13.85 0 0 1-2-5.48l-1-6.69a.66.66 0 0 0-1.31 0l-1 6.69a13.88 13.88 0 0 1-6.18 9.6l-.9.56a.72.72 0 0 0-.21.25.71.71 0 0 0-.07.32.68.68 0 0 0 .28.56l.9.56a13.88 13.88 0 0 1 6.18 9.6l1 6.7a.64.64 0 0 0 .22.4.67.67 0 0 0 .87 0 .64.64 0 0 0 .22-.4l1-6.7a13.85 13.85 0 0 1 2-5.48 13.7 13.7 0 0 1 4.15-4.12l.89-.56a.68.68 0 0 0 .28-.56.71.71 0 0 0-.07-.32.72.72 0 0 0-.21-.25ZM312.67 50.64a13.7 13.7 0 0 1-4.14-4.13 13.46 13.46 0 0 1-2-5.47l-1-6.7a.75.75 0 0 0-.22-.42.6.6 0 0 0-.88 0 .69.69 0 0 0-.22.42l-1 6.7a13.84 13.84 0 0 1-6.18 9.6l-.89.56a.69.69 0 0 0-.21.24.77.77 0 0 0 0 .64.61.61 0 0 0 .21.24l.89.57a13.79 13.79 0 0 1 6.18 9.6l1 6.69a.73.73 0 0 0 .23.41.69.69 0 0 0 .86 0 .73.73 0 0 0 .23-.41l1-6.69a13.65 13.65 0 0 1 6.18-9.6l.89-.57a.61.61 0 0 0 .21-.24.77.77 0 0 0 0-.64.69.69 0 0 0-.21-.24Z"}),(0,i.jsx)("path",{d:"M117 223.15s27.1-4.4 40.07 12.51 18.76 54.19-27.79 56.74c0 0 6.25-3.94 7.41-14.82 0 0-26.64 26.86-60.68 6.25 0 0 9-4.56 16.68-29.87C99.58 231.38 127 233.8 127 233.8s-2.6-5.55-10-10.65Z",style:{fill:"#eb459f"}}),(0,i.jsx)("path",{className:"cls-3",d:"M126.3 258.49s21.35-38.36 36.1-21.1c12.3 14.39 1.6 29.8-36.1 21.1Z"}),(0,i.jsx)("path",{d:"M140.49 210.84a39.73 39.73 0 0 1 36.29 70.69l-.24.12L140.25 211Z",style:{fill:"url(#linear-gradient)"}}),(0,i.jsx)("path",{className:"cls-6",d:"M185.46 233.56a1.25 1.25 0 1 0-1.08-2.25l-27 13 1.14 2.22ZM146.66 223.45c7.56-2.8 21.64-6.61 35.13-2.62a1.25 1.25 0 0 0 .71-2.4c-14.5-4.28-29.23-.2-37 2.75ZM193.82 240.23a1.25 1.25 0 0 0-2.41-.69c-4 14-15.42 24.07-21.73 28.74l1.17 2.28c6.51-4.72 18.63-15.19 22.97-30.33Z"}),(0,i.jsx)("path",{d:"M272.84 128.72c7.42.14 15.65-.7 25.48-1.7a9.76 9.76 0 1 0-2-19.41c-16.47 1.68-25.41 2.46-32.79.33-7.11-2-14.09-7.29-25.76-19.35a9.76 9.76 0 1 0-14 13.57c12.12 12.52 22.1 21 34.38 24.53a56.21 56.21 0 0 0 14.69 2.03Z",style:{fill:"url(#linear-gradient-2)"}}),(0,i.jsx)("path",{d:"M213.51 175.69 180.61 154a69.42 69.42 0 0 0-48.86-10.64l-14 2.17a4.88 4.88 0 0 0-2.09 8.78l51.53 36.94Z",style:{fill:"url(#linear-gradient-3)"}}),(0,i.jsx)("path",{d:"M247.56 242 246 281.4a69.31 69.31 0 0 1-19.83 45.9l-9.9 10.08a4.88 4.88 0 0 1-8.35-3.42v-63.41Z",style:{fill:"url(#linear-gradient-4)"}}),(0,i.jsx)("path",{d:"m195.12 271.32-35.64-69.44a6.69 6.69 0 0 1 2.89-9l172.52-88.56s35.91-16.82 74.81 4.87a13 13 0 0 1 6.63 12.81c-4.86 41.79-39.68 63.62-39.68 63.62l-172.52 88.6a6.69 6.69 0 0 1-9.01-2.9Z",style:{fill:"url(#linear-gradient-5)"}}),(0,i.jsx)("circle",{cx:311.18,cy:167.88,r:30.46}),(0,i.jsx)("path",{className:"cls-6",d:"M311.22 200.86a33 33 0 1 1 15-3.66 33 33 0 0 1-15 3.66Zm-.09-60.94a28 28 0 1 0 24.93 15.19 27.82 27.82 0 0 0-24.93-15.19Z"}),(0,i.jsx)("path",{d:"M213.42 126c7-3.71 14.22-8.75 22.86-14.78a10.4 10.4 0 1 0-11.9-17C209.9 104.24 202 109.6 194 111.44c-7.69 1.78-16.91.51-34-4.69a10.4 10.4 0 0 0-6 19.9c17.77 5.4 31.46 8.12 44.74 5a59.84 59.84 0 0 0 14.68-5.65Z",style:{fill:"url(#linear-gradient-6)"}}),(0,i.jsx)("path",{className:"cls-12",d:"M261.69 121.31c-2.89-11.31-5-17.25-13.46-28.37l-46.85 10.53c-1.67 25.92-6.72 34.81-5.67 43.93.83 7.25 8.38 18.18 23 18.42s21.94-9 32.9-16.55 12.55-18.27 10.08-27.96Z"}),(0,i.jsx)("path",{d:"M192.19 32.35c-12.59 2.17-3 15.4.4 18l29.55-7.24c-18.83-1.33-20.14-12.46-29.95-10.76Z",style:{fill:"#55ef84"}}),(0,i.jsx)("path",{d:"M205.44 47.31a1.23 1.23 0 0 1-.9-.38c-.14-.15-15-15.27-25.26-12.12a1.25 1.25 0 1 1-.73-2.39c11.73-3.59 27.14 12.1 27.79 12.77a1.25 1.25 0 0 1 0 1.77 1.27 1.27 0 0 1-.9.35Z"}),(0,i.jsx)("path",{d:"M230.71 38.82c8.19-3.11 15.33-22.12 1.67-26.55a15.5 15.5 0 0 0-8.25-.24c-22.91 5.18-6.34 30.84-25.54 35.31Z",style:{fill:"#47c26e"}}),(0,i.jsx)("path",{d:"M217.22 46.26a1.26 1.26 0 0 1-1.12-.7 1.24 1.24 0 0 1 .56-1.67c10.32-5.15 10.89-20.58 10.89-20.74a1.23 1.23 0 0 1 1.29-1.21 1.24 1.24 0 0 1 1.21 1.28c0 .7-.6 17.09-12.28 22.91a1.23 1.23 0 0 1-.55.13Z"}),(0,i.jsx)("path",{d:"M253.05 45.91c12-1.77 15.64-3.67 18.58 16 2.73 17.52.16 16.89-14 18.91Z",style:{fill:"url(#linear-gradient-7)"}}),(0,i.jsx)("path",{className:"cls-16",d:"M255.39 50c8.39-1.24 11.08-4.17 13 11.17 1.55 12.32.11 11.83-9.82 13.24Z"}),(0,i.jsx)("path",{className:"cls-12",d:"M194.32 38.29h43.29A25.74 25.74 0 0 1 263.35 64v20.2a20.59 20.59 0 0 1-20.59 20.59h-50.49a20.59 20.59 0 0 1-20.59-20.59V60.93a22.64 22.64 0 0 1 22.64-22.64Z",transform:"matrix(-.99 .17 -.17 -.99 443.95 105.64)"}),(0,i.jsx)("ellipse",{cx:191.65,cy:67.44,rx:4.15,ry:4.98,transform:"rotate(-10.19 191.598 67.447)"}),(0,i.jsx)("path",{className:"cls-16",d:"M215.13 55.86h20.38a13.26 13.26 0 0 1 13.26 13.26v7.29a9.45 9.45 0 0 1-9.45 9.45h-28a9.45 9.45 0 0 1-9.45-9.45v-7.29a13.26 13.26 0 0 1 13.26-13.26Z",transform:"rotate(170.35 225.325 70.857)"}),(0,i.jsx)("ellipse",{cx:253.68,cy:56.65,rx:4.15,ry:4.98,transform:"rotate(-10.19 253.608 56.64)"}),(0,i.jsx)("path",{d:"M213.51 92.38a49.86 49.86 0 0 1-7.2-1.71 1.22 1.22 0 0 0-1.52 1.55c1.48 4.27 5.12 12 9.63 1.86a1.21 1.21 0 0 0-.91-1.7Z"}),(0,i.jsx)("path",{d:"M213.09 96.62c-3.15 4.93-5.76 1.52-7.35-2a6.39 6.39 0 0 1 7.35 2Z",style:{fill:"#ff78b7"}}),(0,i.jsx)("rect",{className:"cls-18",x:215.56,y:78.58,width:12.43,height:3.55,rx:1.76,transform:"rotate(-9.66 221.695 80.354)"}),(0,i.jsx)("rect",{className:"cls-18",x:230.95,y:76.24,width:10.55,height:3.55,rx:1.78,transform:"rotate(-9.66 236.196 78.003)"}),(0,i.jsx)("path",{d:"M173.25 59c-13.14 2.31-17.43 1.63-14.12 21.19 2.85 17.5 6.11 15.93 20.21 13.43Z",style:{fill:"url(#linear-gradient-8)"}}),(0,i.jsx)("path",{className:"cls-16",d:"m173.44 62.83 4.77 24.7c-11.86 1.86-11.85 1.07-14.43-12.24-2.09-10.82.33-11.04 9.66-12.46Z"}),(0,i.jsx)("path",{d:"M230 137.26c31.47-9.59 39-.5 34.65 26.87-2.18 13.85-1.83 27.21-14.49 27-19.91-.34-12.71-17.14-12.14-32.18 0 0-6.33 1.33-11.61 2.24s-10.13-3.45-9.21-11.85 6.58-10.19 12.8-12.08Z",style:{fill:"url(#linear-gradient-9)"}}),(0,i.jsx)("path",{className:"cls-21",d:"M228.51 138.45a1.25 1.25 0 0 1-.51-2.39 42.25 42.25 0 0 1 17.69-3.33 1.27 1.27 0 0 1 1.24 1.27 1.25 1.25 0 0 1-1.25 1.23 39.77 39.77 0 0 0-16.68 3.11 1.34 1.34 0 0 1-.49.11ZM239.23 158a1.2 1.2 0 0 1-.74-.25 1.25 1.25 0 0 1-.26-1.75l5-6.65a1.25 1.25 0 1 1 2 1.49l-5 6.65a1.27 1.27 0 0 1-1 .51ZM199.73 132.31a1.26 1.26 0 0 1-1.17-.8 1.25 1.25 0 0 1 .72-1.62l9.07-3.51a1.25 1.25 0 1 1 .91 2.33l-9.08 3.51a1.2 1.2 0 0 1-.45.09Z"}),(0,i.jsx)("path",{d:"M409.7 109.18c-38.9-21.69-74.81-4.87-74.81-4.87l19.56 38.11 22.2 43.24s34.82-21.83 39.68-63.62a13 13 0 0 0-6.63-12.86Z",style:{fill:"url(#linear-gradient-10)"}}),(0,i.jsx)("ellipse",{cx:367.61,cy:110.41,rx:12.8,ry:5.19,style:{fill:"#fff"}}),(0,i.jsx)("path",{className:"cls-24",d:"m281.46 220.54-56.2 28.63a12.69 12.69 0 0 0-5.55 17.06L298.15 226a12.41 12.41 0 0 0-16.69-5.46ZM242.5 229.16a5.34 5.34 0 0 0-10 3.54l-4.21 2.09a5.36 5.36 0 1 0 1.1 2.24l4.22-2.09a5.27 5.27 0 0 0 2.38 1.65 5.25 5.25 0 0 0 4.08-.27 5.35 5.35 0 0 0 2.42-7.16Zm-17 11.59a2.84 2.84 0 1 1-2.53-5.09 2.81 2.81 0 0 1 1.26-.3 2.91 2.91 0 0 1 .92.15 2.78 2.78 0 0 1 1.63 1.43 2.84 2.84 0 0 1-1.31 3.81Zm13.5-6.67a2.78 2.78 0 0 1-2.17.14 2.84 2.84 0 1 1 2.17-.14Z"})]})},450936:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(192379),l=n(442837),r=n(570140),a=n(911969),s=n(110924),o=n(213459),c=n(404295),d=n(812206),u=n(835473),h=n(621853),p=n(484459),m=n(973616),f=n(594174),g=n(981631);let C=[a.yU.PRIMARY_ENTRY_POINT,a.yU.CHAT,a.yU.MESSAGE,a.yU.USER];function x(e){var t,n;let{channel:x}=e,v=(0,c.bG)("useAppDMChatInputData"),_=i.useMemo(()=>{if(!0!==x.isDM())return null;let e=f.default.getUser(x.getRecipientId());return void 0===e||!0!==e.bot?null:e},[x]),I=(0,l.e7)([h.Z],()=>{var e;return h.Z.isFetchingProfile(null!==(e=null==_?void 0:_.id)&&void 0!==e?e:g.lds)}),E=(0,s.Z)(I),b=(0,l.e7)([d.Z],()=>d.Z.getAppIdForBotUserId(null==_?void 0:_.id)),Z=(0,l.e7)([h.Z],()=>{var e;return null!==_?null===(e=h.Z.getUserProfile(null==_?void 0:_.id))||void 0===e?void 0:e.application:void 0}),N=null!=b?b:null==Z?void 0:Z.id;i.useEffect(()=>{if(null==N&&v){var e;(0,p.Z)(null!==(e=null==_?void 0:_.id)&&void 0!==e?e:g.lds)}},[_,N,v]),i.useEffect(()=>{(null==_?void 0:_.id)!=null&&r.Z.dispatch({type:"APP_DM_OPEN",botUserId:_.id})},[null==_?void 0:_.id]);let S=(0,o.v1)(x,{commandTypes:C},{applicationId:N,allowFetch:v&&(null==_?void 0:_.id)!=null,allowApplicationState:!0}),T=S.commands.filter(e=>e.type===a.yU.PRIMARY_ENTRY_POINT&&e.applicationId===N)[0],j=S.commands.filter(e=>"0"!==e.id&&!e.id.startsWith("-")),A=S.loading,y=null===(t=S.descriptors.find(e=>{var t;return(null===(t=e.application)||void 0===t?void 0:t.id)===N}))||void 0===t?void 0:t.application,P=i.useMemo(()=>null!=y?m.ZP.createFromServer(y):void 0,[y]),M=(0,u.q)(null==P&&v?N:void 0),R=null!==(n=null!=P?P:M)&&void 0!==n?n:void 0,L=null==R||A&&0===j.length;return{application:R,isInitialLoading:L,primaryEntryPointCommand:T,isProfileFetching:I,wasProfileFetching:E,applicationId:N,channelId:x.id,commands:j}}},368478:function(e,t,n){n.d(t,{J:function(){return x},Z:function(){return C}}),n(47120),n(789020);var i=n(192379),l=n(442837),r=n(317381),a=n(122613),s=n(16609),o=n(574952),c=n(100527),d=n(906732),u=n(783097),h=n(895924),p=n(812236),m=n(630388),f=n(981631),g=n(388032);function C(e){let{channel:t,primaryEntryPointCommand:n,application:a,showAppLauncherPopup:o=!1}=e,[h,C]=i.useState(!1),x=(0,l.e7)([r.ZP],()=>r.ZP.getCurrentEmbeddedActivity()),v=o?g.t.cpT0Cg:g.t["0hKkS0"],_=i.useMemo(()=>null!=n?(0,u.XZ)(n.displayName):g.intl.string(g.t["3xjX0d"]),[n]),I=void 0!==a.flags&&(0,m.yE)(a.flags,f.udG.EMBEDDED),E=null!=x&&x.applicationId===a.id&&(0,s.p)(x.location)===t.id,{analyticsLocations:b}=(0,d.ZP)(c.Z.APP_DMS_ENTRY_POINT_COMMAND_BUTTON),Z=null!=t.recipients?t.recipients[0]:void 0,N=(0,p.ms)({channel:t,applicationId:a.id,botUserId:Z});return{isExecutingLaunchInteraction:h,buttonText:N&&I?E?g.intl.string(g.t["Hi1/aW"]):null!=_?_:g.intl.string(g.t.zKX8Nj):g.intl.string(v),hasActiveMatchingEmbeddedActivity:E,isEmbeddedApp:I,currentEmbeddedActivity:x,channelRecipientUserId:Z,setIsExecutingLaunchInteraction:C,analyticsLocations:b}}function x(e){let{channel:t,application:n,isEmbeddedApp:l,hasActiveMatchingEmbeddedActivity:r,currentEmbeddedActivity:s,onOpenButtonPress:c,channelRecipientUserId:d,setIsExecutingLaunchInteraction:u,analyticsLocations:m}=e,f=(0,p.ms)({channel:t,applicationId:n.id,botUserId:d}),g=i.useCallback(()=>{r&&null!=s?(0,o.Z)().leaveActivity({location:s.location,applicationId:s.applicationId}):(u(!0),(0,a.Z)({targetApplicationId:n.id,channelId:t.id,analyticsLocations:m,onExecutedCallback:()=>{u(!1)},commandOrigin:h.bB.APP_DMS_ENTRY_POINT_COMMAND_BUTTON}))},[r,t.id,n.id,s,m,u]);return f&&l?g:c}},993766:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(192379),l=n(442837),r=n(499254),a=n(213459),s=n(592125);function o(e){let{isProfileFetching:t,wasProfileFetching:n,applicationId:o,channelId:c,commands:d}=e;i.useEffect(()=>{!t&&n&&null==o&&(0,r.Tv)(c)},[t,n,o,c]),i.useEffect(()=>{(0,r.Hm)(c)},[c]);let u=(0,l.e7)([a.ZP],()=>{var e,t;return null!==(t=null===(e=a.ZP.getApplicationState(o))||void 0===e?void 0:e.fetchState.fetching)&&void 0!==t&&t}),h=(0,l.e7)([a.ZP,s.Z],()=>{var e,t;let n=s.Z.getChannel(c);return null!==(t=null===(e=a.ZP.getContextState(n))||void 0===e?void 0:e.fetchState.fetching)&&void 0!==t&&t}),p=i.useRef(!1),m=i.useRef(!1);i.useEffect(()=>{p.current=!1,m.current=!1},[c]),i.useEffect(()=>{u&&(p.current=!0)},[u]),i.useEffect(()=>{h&&(m.current=!0)},[h]),i.useEffect(()=>{!u&&!h&&p.current&&m.current&&0===d.length&&(0,r.Tv)(c)},[u,h,d,c])}},569211:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(192379),l=n(585483),r=n(424602),a=n(783097),s=n(981631);function o(e){let{obstructedFromView:t,disabled:n}=e,o=r._f.getCurrentConfig({location:"inAppOAuth2ModalCallback"},{autoTrackExposure:!1}),[c,d]=i.useState(null),u=i.useRef(c);u.current=c;let h=i.useMemo(()=>null!=c?(0,a.sl)(c):null,[c]);i.useEffect(()=>{n&&d(null)},[n]);let p=null!=c&&!t;return i.useEffect(()=>{if(!p)return;let e=setTimeout(()=>{if(!t)d(null)},3e3);return()=>{clearTimeout(e)}},[t,p]),i.useEffect(()=>{if(t)return;let e=e=>{let{application:t}=e;d(t),u.current=t},n=e=>{var t;let{applicationId:n}=e;(null===(t=u.current)||void 0===t?void 0:t.id)===n&&(d(null),u.current=null)};return l.S.subscribe(s.CkL.SHOW_APP_LAUNCHER_BUTTON_APP_INSTALLED_EDUCATION,e),l.S.subscribe(s.CkL.HIDE_APP_LAUNCHER_BUTTON_APP_INSTALLED_EDUCATION,n),()=>{l.S.unsubscribe(s.CkL.SHOW_APP_LAUNCHER_BUTTON_APP_INSTALLED_EDUCATION,e),l.S.unsubscribe(s.CkL.HIDE_APP_LAUNCHER_BUTTON_APP_INSTALLED_EDUCATION,n)}},[t]),{enabled:o.enabled,showsTooltip:o.showsTooltip,applicationDetails:h,shouldShow:p}}},663924:function(e,t,n){n(653041);var i=n(200651),l=n(192379),r=n(374470),a=n(442837),s=n(952265),o=n(481060),c=n(40851),d=n(835473),u=n(540059),h=n(314910),p=n(585483),m=n(5967),f=n(499254),g=n(541099),C=n(827498),x=n(695676),v=n(421591),_=n(314734),I=n(981631),E=n(388032),b=n(906047);let Z={height:_.lv};function N(){f.yT(C.ti.DISMISSED)}function S(e){let{channel:t,closeOnModalOuterClick:n=!1,parentModalKey:u}=e,h=l.useRef(null),{renderWindow:f,windowDispatch:E}=l.useContext(c.ZP),b=null!=u,Z=(0,s.Jw)(null!=u?u:""),S=l.useCallback(e=>{var t;if(!b&&(0,s.$s)()||b&&!(Z&&n))return;let{target:i}=e;if((0,r.k)(i)&&null!=i.closest("."+_.Jh))return;for(;(0,r.k)(i);){if(i===h.current)return;if(i.classList.contains(_.t4)||i.classList.contains(_.Id)){e.preventDefault();return}if(i.classList.contains(_.NN))return;i=i.parentNode}N();let l=null===(t=(0,m.uB)(e))||void 0===t?void 0:t.activeElement;(null==l||"BODY"===l.tagName)&&p.S.dispatchToLastSubscribed(I.CkL.TEXTAREA_FOCUS)},[n,Z,b]);l.useLayoutEffect(()=>(f.addEventListener("mousedown",S),f.addEventListener("contextmenu",S),E.subscribe(I.CkL.POPOUT_CLOSE,N),()=>{f.removeEventListener("mousedown",S),f.removeEventListener("contextmenu",S),E.unsubscribe(I.CkL.POPOUT_CLOSE,N)}),[S,f,E]),(0,o.useFocusLock)(h),l.useEffect(()=>{(!b&&(0,s.$s)()||b&&!Z)&&N()},[Z,b]);let T=(0,a.e7)([g.Z],()=>g.Z.initialState(),[]),j=(0,d.q)(null==T?void 0:T.applicationId),A=l.useMemo(()=>{if(null==T)return;let e=[{type:x.gc.HOME}];return null!=T.applicationId&&null!=j&&e.push({type:x.gc.APPLICATION,application:j}),e},[T,j]);return(0,i.jsx)(v.Z,{ref:h,channel:t,entrypoint:C._b.TEXT,initHistory:A})}t.Z=l.memo(function(e){let{positionTargetRef:t,...n}=e,l=(0,u.Q3)("AppLauncherPopup");return(0,i.jsx)("span",{style:_.u$,children:(0,i.jsx)(h.W5,{className:b.positionLayer,targetRef:t,position:"top",align:"right",spacing:l?24:8,autoInvert:!0,children:e=>{let{isPositioned:t}=e;return(0,i.jsx)("section",{className:b.positionContainer,role:"dialog",style:Z,"aria-label":E.intl.string(E.t["3CNGLC"]),children:t&&(0,i.jsx)(S,{...n})})}})})})},533379:function(e,t,n){n.d(t,{R:function(){return s}});var i=n(442837),l=n(998698),r=n(873387),a=n(424602);function s(e){let{channel:t,chatInputType:n,location:s}=e,o=a.T.useExperiment({location:s},{autoTrackExposure:!0}).enabled,c=(0,r.g)(t),{activeCommand:d}=(0,i.cj)([l.Z],()=>{var e;return{activeCommand:(null===(e=n.commands)||void 0===e?void 0:e.enabled)?l.Z.getActiveCommand(t.id):null}});return o&&null==d&&c}},82906:function(e,t,n){var i=n(818083);t.Z=(0,i.B)({kind:"user",id:"2024-12_app_dm_report_button",label:"App DMs Report Button Experiment",defaultConfig:{enabledDesktop:!1,enabledMobile:!1},treatments:[{id:1,label:"Enables the report button in App DMs on desktop",config:{enabledDesktop:!0,enabledMobile:!1}},{id:1,label:"Enables the report button in App DMs on desktop and mobile",config:{enabledDesktop:!0,enabledMobile:!0}}]})},763762:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(621853),r=n(981631);function a(e){let t=(0,i.e7)([l.Z],()=>{var t;return null!==e?null===(t=l.Z.getUserProfile(null!=e?e:r.lds))||void 0===t?void 0:t.application:void 0});return null!=t?t:void 0}},870991:function(e,t,n){n.d(t,{D8:function(){return l},E4:function(){return r}});var i=n(388032);let l="https://discord.com/safety/understanding-and-avoiding-common-scams";function r(){return[{title:i.intl.string(i.t.wSZfJS),description:i.intl.string(i.t.CRwzW1)},{title:i.intl.string(i.t.cmMUaG),description:i.intl.string(i.t.n6G1ub)},{title:i.intl.string(i.t["5SPKS0"]),description:i.intl.string(i.t.eyjeJS)}]}},276060:function(e,t,n){n.d(t,{t:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2024-09_likely_atoed_connections",label:"Likely ATO Warning",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Likely ATO Warning",config:{enabled:!0}}]});function l(e){let{location:t,autoTrackExposure:n=!0}=e,{enabled:l}=i.useExperiment({location:t},{autoTrackExposure:n});return l}},605984:function(e,t,n){n.d(t,{k:function(){return c}});var i=n(385956),l=n(15701),r=n(359119),a=n(897769),s=n(403485),o=n(88101);function c(e){let t=(0,l.G)(e),n=(0,i.v)(e),c=(0,a.S)(e,r.pj.LIKELY_ATO),d=(0,s.h)(e).length>0,u=null!=(0,o.P)(e);if(!t&&!n&&!d&&!u)return c}},453470:function(e,t,n){n.d(t,{M:function(){return E}});var i=n(200651),l=n(192379),r=n(286379),a=n(481060),s=n(87051),o=n(797614),c=n(681678),d=n(378298),u=n(359119),h=n(473092),p=n(177342),m=n(621600),f=n(276060),g=n(870991),C=n(981631),x=n(134612),v=n(388032),_=n(162787);function I(e){let{onClick:t}=e;return(0,i.jsxs)("div",{className:_.safetyAction,children:[(0,i.jsxs)("div",{className:_.safetyActionText,children:[(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"header-primary",children:v.intl.string(v.t.ftIK2N)}),(0,i.jsx)(a.Text,{variant:"text-xs/medium",color:"header-secondary",children:v.intl.string(v.t.w2ve0t)})]}),(0,i.jsx)(a.Button,{size:a.Button.Sizes.SMALL,color:a.Button.Colors.PRIMARY,"aria-label":v.intl.string(v.t.ftIK2N),onClick:t,children:v.intl.string(v.t.ftIK2N)})]})}function E(e){let{channelId:t,warningId:E,senderId:b}=e,Z=(0,g.E4)(),N=l.useCallback(()=>{(0,d.T)(t,[E])},[t,E]),S=(0,f.t)({location:x.zr}),T=e=>{s.Z.updateChannelOverrideSettings(null,t,{muted:!0},m.ZB.Muted),c.Z.showMuteSuccessToast(b,t),(0,h.qc)({channelId:t,warningId:E,senderId:b,warningType:u.pj.LIKELY_ATO,cta:e}),N()},j=()=>{(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("59385").then(n.bind(n,480884));return n=>{let{transitionState:l,onClose:r}=n;return(0,i.jsx)(e,{transitionState:l,onClose:r,channelId:t,warningId:E,senderId:b,description:v.intl.string(v.t["/uid3t"]),safetyTips:Z.map((e,t)=>(0,i.jsxs)("div",{className:_.tipContent,children:[(0,i.jsx)(a.Text,{variant:"text-md/medium",color:"header-primary",children:e.title}),(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"header-secondary",children:e.description},t)]},t)),actions:(0,i.jsx)(I,{senderId:b,channelId:t,warningId:E,onClick:()=>{T(h.NM.USER_MODAL_MUTE),r()}}),learnMore:(0,i.jsx)(a.Clickable,{onClick:()=>(0,h.qc)({channelId:t,warningId:E,senderId:b,warningType:u.pj.LIKELY_ATO,cta:h.NM.USER_MODAL_LEARN_MORE}),children:(0,i.jsx)(a.Heading,{variant:"heading-sm/medium",color:"text-link",children:v.intl.format(v.t.UkH129,{learnMoreLink:g.D8})})})})}})};return(l.useEffect(()=>{S&&((0,h.MC)(C.rMx.SAFETY_WARNING_VIEWED,{channelId:t,warningId:E,senderId:b,warningType:u.pj.LIKELY_ATO}),o.Z.increment({name:r.V.SAFETY_WARNING_VIEW}))},[t,E,b,S]),S)?(0,i.jsx)(p.Q,{channelId:t,warningId:E,senderId:b,warningType:u.pj.LIKELY_ATO,header:v.intl.string(v.t.R8UsiI),description:v.intl.string(v.t.lI8nQk),onDismiss:N,buttons:[{text:v.intl.string(v.t.tC1pvL),color:a.Button.Colors.BRAND,onclick:()=>{j(),(0,h.qc)({channelId:t,warningId:E,senderId:b,warningType:u.pj.LIKELY_ATO,cta:h.NM.OPEN_MORE_TIPS})}},{text:v.intl.string(v.t.ftIK2N),color:a.Button.Colors.PRIMARY,onclick:()=>T(h.NM.USER_BANNER_MUTE)}]}):null}},963876:function(e,t,n){var i=n(570140);t.Z={setCallChatToastsEnabled(e,t){i.Z.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})}}},394059:function(e,t,n){var i,l;n.d(t,{K:function(){return i}}),(l=i||(i={}))[l.STREAM=0]="STREAM",l[l.VIDEO=1]="VIDEO"},984014:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(442837),l=n(872810),r=n(199902),a=n(314897);function s(e,t){let n=(0,i.e7)([a.default],()=>a.default.getId()),s=(0,i.e7)([r.Z],()=>{let t=r.Z.getCurrentUserActiveStream();return null!=t&&t.channelId===e},[e]),o=(0,i.e7)([r.Z],()=>r.Z.isSelfStreamHidden(e),[e]);return[(null==t||t===n)&&s,o,t=>{(0,l.pR)(e,t)}]}},27584:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),l=n(846027),r=n(314897),a=n(131951),s=n(981631),o=n(65154);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Yn.DEFAULT,n=(0,i.e7)([r.default],()=>r.default.getId()),c=(0,i.e7)([a.Z],()=>a.Z.supports(o.AN.DISABLE_VIDEO)&&a.Z.isVideoEnabled()),d=(0,i.e7)([a.Z],()=>a.Z.isLocalVideoDisabled(n,t),[n,t]),u=null==e||e===n;return[u&&(c||d),d,e=>{let i=e?s.ZUi.DISABLED:s.ZUi.MANUAL_ENABLED;l.Z.setDisableLocalVideo(n,i,t)}]}},887012:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(822183),l=n(641015);function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,l.Z)(e),{isSharedCanvasEnabled:r}=i.Z.useExperiment({guildId:e.guild_id,location:"6b64ff_1"},{autoTrackExposure:t});return n||r}},677601:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(442837),d=n(704215),u=n(846519),h=n(780384),p=n(481060),m=n(570140),f=n(475179),g=n(239091),C=n(287734),x=n(872810),v=n(153867),_=n(944543),I=n(410575),E=n(393238),b=n(110924),Z=n(40851),N=n(636449),S=n(115130),T=n(317381),j=n(596040),A=n(349619),y=n(100527),P=n(367907),M=n(906732),R=n(560861),L=n(600164),k=n(211644),O=n(258609),D=n(446226),w=n(203341),B=n(569545),U=n(102172),H=n(788983),G=n(928518),F=n(703656),V=n(740492),z=n(793319),W=n(3861),K=n(493754),Y=n(937995),q=n(618158),X=n(880831),J=n(73563),Q=n(751843),$=n(268353),ee=n(786915),et=n(800965),en=n(107169),ei=n(891551),el=n(488785),er=n(199902),ea=n(314897),es=n(979696),eo=n(523746),ec=n(430824),ed=n(496675),eu=n(306680),eh=n(944486),ep=n(594174),em=n(979651),ef=n(626135),eg=n(934415),eC=n(585483),ex=n(358085),ev=n(998502),e_=n(228488),eI=n(358221),eE=n(414910),eb=n(887012),eZ=n(909820),eN=n(493010),eS=n(742603),eT=n(71127),ej=n(221888),eA=n(185935),ey=n(900211),eP=n(18759),eM=n(878752),eR=n(354459),eL=n(981631),ek=n(388032),eO=n(965676);function eD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ew={[eL.AEg.NORMAL]:eO.normal,[eL.AEg.MINIMUM]:eO.minimum,[eL.AEg.NO_CHAT]:eO.noChat,[eL.AEg.FULL_SCREEN]:eO.fullScreen},eB={[eL.IlC.POPOUT]:eO.popout,[eL.IlC.APP]:null,[eL.IlC.OVERLAY]:null};class eU extends l.PureComponent{getRootNode(){var e,t;return(null!==(t=null===(e=this.props.popoutWindow)||void 0===e?void 0:e.window)&&void 0!==t?t:window).document.getElementById("app-mount")}componentDidMount(){let{channel:e,layout:t}=this.props;this.currentDocument.addEventListener(e_.NO,this.handleFullScreenChange),ef.default.track(eL.rMx.VIDEO_LAYOUT_TOGGLED,{video_layout:this.inPopout?"popout":t,...(0,P.AB)(e.id)})}componentWillUnmount(){this._videoBackgroundTooltipTimeout.stop(),this.currentDocument.removeEventListener(e_.NO,this.handleFullScreenChange),!(this.inPopout&&(0,ex.isMac)())&&this.maybeLeaveFullScreen()}componentDidUpdate(e){let{participantsOpen:t,inCall:n,mode:i,layout:l}=this.props,r=this.getRootNode();if(null!=r&&e.mode===eL.WtW.VIDEO&&i===eL.WtW.VOICE&&(0,e_.rB)(r,this.currentDocument)&&(0,e_.Pr)(r,this.currentDocument),e.participantsOpen!==t||l!==e.layout){var a;null===(a=this._contentRef.current)||void 0===a||a.triggerResize()}e.inCall&&!n&&this.inPopout&&m.Z.wait(()=>this.handleClosePopout())}get nativePopoutSupported(){return ex.isPlatformEmbedded&&ev.ZP.supportsFeature(eL.eRX.POPOUT_WINDOWS)}get popoutSupported(){return!ex.isPlatformEmbedded||this.nativePopoutSupported}get popoutOpen(){let{popoutWindow:e}=this.props;return null!=e&&!e.closed}get currentDocument(){let{popoutWindow:e}=this.props;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}get screenMessage(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:ek.intl.string(ek.t.J5bXZW)}:null}get paused(){return this.popoutOpen&&!this.inPopout}get inPopout(){return this.props.appContext===eL.IlC.POPOUT}get viewProperties(){let{layout:e,mode:t,channel:n,inCall:i}=this.props,l=t===eL.WtW.VIDEO&&i&&!(this.popoutOpen&&!this.inPopout),r=t===eL.WtW.VIDEO&&i&&this.popoutSupported,a=t!==eL.WtW.VOICE&&n.isPrivate()&&!this.inPopout&&i,s=n.type===eL.d4z.GUILD_VOICE,o=e===eL.AEg.MINIMUM||e===eL.AEg.NORMAL,c=this.inPopout&&this.nativePopoutSupported,d={renderHeader:!0,useTheme:!1,useExternalHeader:o,canInvite:s,canPopout:r,canFullscreen:l,canSelectRegion:n.isPrivate(),canChangeLayout:a,canStayOnTop:c};if(!i)return{...d,canFullscreen:l,useTheme:!0};switch(e){case eL.AEg.FULL_SCREEN:return{...d,canPopout:!this.inPopout&&this.popoutOpen&&d.canPopout};case eL.AEg.MINIMUM:return{...d,canPopout:!1,useTheme:!0};case eL.AEg.NO_CHAT:case eL.AEg.NORMAL:return{...d}}}renderContent(e){var t;let{selectedParticipant:n,inCall:l,hasConnectPermission:r,mode:a,popoutWindow:s,participantsOpen:o,participants:c,filteredParticipants:d,participantsVersion:u,channel:h,guild:p,layout:m,forceShowControls:f,awaitingRemoteSessionInfo:g,currentChannelActivities:C,callContainerDimensions:x}=this.props,v=m===eL.AEg.MINIMUM,_=v||m===eL.AEg.NORMAL,I=l&&a===eL.WtW.VIDEO,E=(null!==(t=null==C?void 0:C.length)&&void 0!==t?t:0)>0&&h.isPrivate();return this._lastIdleProps=e,(0,i.jsx)(J.Z,{renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatToasts:h.isGuildVoice()?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects,...e,screenMessage:this.screenMessage,disableGradients:v,idle:!f&&l&&!v&&e.idle,children:l&&this.popoutOpen&&!this.inPopout?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.Z,{channel:h}),(0,i.jsx)(W.Z,{ref:this._contentRef,inCall:l,paused:this.paused,channel:h,hasConnectPermission:r,guild:p,participants:c,filteredParticipants:d,participantsVersion:u,selectedParticipant:I?n:null,layout:m,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:o&&(!_||E),popoutWindow:this.inPopout?s:null,awaitingRemoteSessionInfo:g,callContainerDimensions:x})]})})}render(){let{layout:e,channel:t,guild:n,mode:l,chatOpen:r,appContext:s,maxSidebarWidth:o,maxHeight:c,inCall:d,participantsListOpen:u,theme:m}=this.props,{resizedHeight:f}=this.state,g=l===eL.WtW.VIDEO,C=e!==eL.AEg.NO_CHAT&&e!==eL.AEg.FULL_SCREEN&&null!=c,x=g?(0,h.ap)(m)?eL.BRd.DARK:m:void 0;return(0,i.jsxs)("div",{className:a()(eO.wrapper,ew[e],eB[s],{[eO.poppedOut]:this.popoutOpen&&!this.inPopout&&e!==eL.AEg.NO_CHAT&&t.isPrivate(),[eO.video]:g,[eO.sidebarOpen]:r||u}),ref:e=>{this._wrapperRef.current=e,this.props.wrapperRef.current=e},style:C&&null!=f?{minHeight:230,maxHeight:c,height:f}:void 0,children:[(0,i.jsx)(p.ThemeProvider,{theme:x,children:e=>(0,i.jsx)("div",{className:a()(eO.callContainer,e),ref:e=>{this._callContainerRef.current=e,this.props.callContainerRef.current=e},children:(0,i.jsx)(Y.ZP,{timeout:2e3,children:e=>this.renderContent(e)})})}),C&&(0,i.jsx)(ey.Z,{minHeight:230,maxHeight:c,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),(0,i.jsx)("div",{className:eO.channelChatWrapper,ref:e=>{this._channelChatRef.current=e,this.props.channelChatRef.current=e},children:(!d||!this.popoutOpen||this.inPopout)&&(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(eN.Z,{channel:t,guild:n,maxWidth:o}),u&&(0,i.jsx)(eT.Z,{channel:t,maxWidth:o})]})})]})}constructor(...e){super(...e),eD(this,"_prevLayout",eL.AEg.MINIMUM),eD(this,"_wrapperRef",l.createRef()),eD(this,"_callContainerRef",l.createRef()),eD(this,"_channelChatRef",l.createRef()),eD(this,"_contentRef",l.createRef()),eD(this,"_videoBackgroundTooltipTimeout",new u.V7),eD(this,"_lastIdleProps",null),eD(this,"state",{resizedHeight:V.ZP.callHeaderHeight}),eD(this,"handleFullScreenChange",()=>{let e=this.getRootNode();null!=e&&!(0,e_.rB)(e,this.currentDocument)&&this.props.layout===eL.AEg.FULL_SCREEN&&this.handleFullScreen()}),eD(this,"handleFullScreen",()=>{let e=this.getRootNode();null!=e&&(this.props.layout!==eL.AEg.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(eL.AEg.FULL_SCREEN),(0,e_.Dj)(e)):this.maybeLeaveFullScreen())}),eD(this,"maybeLeaveFullScreen",()=>{let e=this.getRootNode();if(null!=e)this.props.layout===eL.AEg.FULL_SCREEN&&(this.handleChangeLayout(this._prevLayout),(0,e_.Pr)(e,this.currentDocument))}),eD(this,"handleToggleLayout",()=>{this.handleChangeLayout(this.props.layout===eL.AEg.NORMAL?eL.AEg.NO_CHAT:eL.AEg.NORMAL)}),eD(this,"handleChangeLayout",e=>{let{channel:t,appContext:n,layout:i}=this.props;i!==e&&(f.Z.updateLayout(t.id,e,n),e===eL.AEg.FULL_SCREEN&&t.isPrivate()&&eC.S.dispatch(eL.CkL.TEXTAREA_BLUR))}),eD(this,"handleDisconnect",()=>{this.props.layout===eL.AEg.FULL_SCREEN&&this.handleFullScreen()}),eD(this,"handleContextMenu",(e,t)=>{var l,r;let{channel:a,appContext:s,layout:c}=this.props,d={onClose:()=>{var e;return null===(e=this._lastIdleProps)||void 0===e?void 0:e.onAllowIdle("menu")},context:s};switch(null===(l=this._lastIdleProps)||void 0===l||l.onPreventIdle("menu"),null===(r=this._lastIdleProps)||void 0===r||r.onActive(),e.type){case eR.fO.HIDDEN_STREAM:case eR.fO.STREAM:(0,g.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,i.jsx)(t,{...n,stream:e.stream,exitFullscreen:this.maybeLeaveFullScreen,appContext:s})},d);return;case eR.fO.USER:let u=ep.default.getUser(e.id);if(null!=u)switch(a.type){case eL.d4z.DM:return(0,g.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70205"),n.e("92453"),n.e("56826"),n.e("95324")]).then(n.bind(n,131404));return t=>(0,i.jsx)(e,{...t,showChannelCallItems:!0,showMediaItems:!0,user:u,channel:a,showModalItems:!0})},d);case eL.d4z.GROUP_DM:return(0,g.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("8634")]).then(n.bind(n,354589));return t=>(0,i.jsx)(e,{...t,showChannelCallItems:!0,showMediaItems:!0,showChatItems:c===eL.AEg.MINIMUM||c===eL.AEg.NORMAL,user:u,channel:a,showModalItems:!0})},d);case eL.d4z.GUILD_VOICE:case eL.d4z.PUBLIC_THREAD:case eL.d4z.PRIVATE_THREAD:let h=a.getGuildId();return o()(null!=h,"GuildID null for guild voice channel"),(0,g.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:u,channel:a,guildId:h,showModalItems:!0})},d)}}}),eD(this,"handleCallResize",e=>{this.setState({resizedHeight:e})}),eD(this,"handleSelectParticipant",(e,t)=>{let{channel:n,selectedParticipant:i,allActiveStreams:l,inCall:r,mode:a}=this.props;(0,eR._5)(e)&&(0,U.p9)(n,em.Z,ec.Z,ed.Z,O.Z)[0]&&(C.default.selectVoiceChannel(n.id),0===l.filter(t=>(0,B.V9)(t)===e.id&&t.state!==eL.jm8.ENDED).length&&(0,x.rn)((0,B.my)(e.id),{forceMultiple:t.shiftKey})),r&&a===eL.WtW.VIDEO&&((null==i?void 0:i.id)===e.id?f.Z.selectParticipant(n.id,null):f.Z.selectParticipant(n.id,e.id))}),eD(this,"handleOpenPopout",()=>{let{channel:e,connectedToEmbeddedActivity:t}=this.props,n=()=>{let t=e.getGuildId();null!=t&&(0,F.uL)((0,eg.LY)(t)),H.hP(e)};!t||(0,N.R)()?n():(0,A.Z)(n)}),eD(this,"handleStayOnTop",e=>{H.hY(eL.KJ3.CHANNEL_CALL_POPOUT,e)}),eD(this,"handleClosePopout",()=>{H.xv(eL.KJ3.CHANNEL_CALL_POPOUT)}),eD(this,"handleFullscreenParticipant",(e,t)=>{let{layout:n,selectedParticipant:i}=this.props,l=n===eL.AEg.FULL_SCREEN;(!l&&(null==i?void 0:i.id)!==e.id||l&&(null==i?void 0:i.id)===e.id)&&this.handleSelectParticipant(e,t),this.handleFullScreen()}),eD(this,"renderRegionSelect",()=>{let e;let{call:t,channel:n,layout:l}=this.props;return!this.inPopout&&l!==eL.AEg.FULL_SCREEN&&null!=t&&!n.isManaged()&&(e=(0,i.jsx)(_.Z,{call:t})),(0,i.jsx)(L.Z,{justify:L.Z.Justify.END,children:e})}),eD(this,"renderBottomCenter",()=>{let{channel:e,inCall:t,layout:n}=this.props;return t||n===eL.AEg.MINIMUM||n===eL.AEg.NORMAL?(0,i.jsx)(z.ZP,{exitFullScreen:this.maybeLeaveFullScreen,channel:e,onDisconnectCall:this.handleDisconnect,idleProps:this._lastIdleProps}):null}),eD(this,"renderBottomLeft",()=>{let{layout:e,mentionCount:t,channel:n,appContext:l,useNewInviteButton:r,selectedParticipant:s,shouldUseVoiceEffectsActionBar:o,inCall:c,participants:d}=this.props;if(!c)return null;let u=e===eL.AEg.NO_CHAT?Q.Z.Directions.UP:Q.Z.Directions.DOWN,h=[eL.AEg.FULL_SCREEN,eL.AEg.NO_CHAT].includes(e),m=d.some(e=>e.type===eR.fO.STREAM),f=e===eL.AEg.FULL_SCREEN?()=>{this._prevLayout=eL.AEg.NORMAL,this.handleFullScreen()}:this.handleToggleLayout,{canChangeLayout:g,canInvite:C}=this.viewProperties,x=r?(0,i.jsx)(K.Z,{channel:n,stream:(null==s?void 0:s.type)===eR.fO.STREAM?(0,B.my)(s.id):void 0,applicationId:(null==s?void 0:s.type)===eR.fO.ACTIVITY?s.id:void 0,appContext:l,className:eO.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eL.d4z.GUILD_VOICE?eL.ZY5.GUILD_CHANNEL:eL.ZY5.DM_CHANNEL}):(0,i.jsx)(ee.Z,{channel:n,stream:(null==s?void 0:s.type)===eR.fO.STREAM?(0,B.my)(s.id):void 0,className:eO.leftTrayIcon,exitFullScreen:this.maybeLeaveFullScreen,analyticsLocation:n.type===eL.d4z.GUILD_VOICE?eL.ZY5.GUILD_CHANNEL:eL.ZY5.DM_CHANNEL});return(0,i.jsxs)(i.Fragment,{children:[C&&!o?x:null,g?(0,i.jsxs)(L.Z,{className:eO.iconWrapper,align:L.Z.Align.CENTER,grow:0,children:[(0,i.jsx)(Q.Z,{label:h?ek.intl.string(ek.t.kkKapK):ek.intl.string(ek.t["5MstTk"]),direction:u,className:eO.leftTrayIcon,onClick:f}),h&&t>0?(0,i.jsx)(p.NumberBadge,{className:eO.badge,count:t}):null]}):null,(null==s?void 0:s.type)!==eR.fO.STREAM&&(null==s?void 0:s.type)!==eR.fO.ACTIVITY||o?null:(0,i.jsx)(q.Z,{children:(0,i.jsx)(ej.Z,{className:a()(eO.leftTrayIcon,eO.viewersButton),participant:s,maxVisibleUsers:4,guildId:n.getGuildId(),channelId:n.id,disableInteraction:this.inPopout||e===eL.AEg.FULL_SCREEN})}),o&&(0,i.jsx)(eM.Z,{channel:n,hasActiveStream:m,themeable:this.viewProperties.useTheme}),(0,i.jsx)(w.Z,{showLeftDivider:o,themeable:this.viewProperties.useTheme,className:eO.leftTrayIcon,channel:n})]})}),eD(this,"renderBottomRight",()=>{let{popoutWindow:e,popoutWindowAlwaysOnTop:t,currentUserId:n,selectedParticipant:l}=this.props,{canFullscreen:r,canStayOnTop:a,canPopout:s,useTheme:o}=this.viewProperties;return(0,i.jsxs)(i.Fragment,{children:[null!=l&&l.type!==eR.fO.ACTIVITY&&l.user.id!==n?(0,i.jsx)(ei.Z,{context:(0,eE.Z)(l.type),userId:l.user.id,currentWindow:this.inPopout?null!=e?e:void 0:window,sliderClassName:eO.volumeSlider,className:eO.rightTrayIcon}):null,a?(0,i.jsx)(en.Z,{className:eO.rightTrayIcon,popoutWindowAlwaysOnTop:t,onToggleStayOnTop:this.handleStayOnTop}):null,s?(0,i.jsx)(et.Z,{themeable:o,popoutOpen:this.popoutOpen,className:eO.rightTrayIcon,onOpenPopout:this.handleOpenPopout,onClosePopout:this.handleClosePopout}):null,r?(0,i.jsx)($.Z,{themeable:o,node:this.getRootNode(),guestWindow:e,className:eO.rightTrayIcon,onClick:this.handleFullScreen}):null]})}),eD(this,"renderChatToasts",()=>{let{showChatToasts:e,chatOpen:t,channel:n,inCall:l}=this.props;return!e||t||this.popoutOpen&&!this.inPopout&&l?null:(0,i.jsx)(eZ.ZP,{children:(0,i.jsx)(X.Z,{className:eO.chatToasts,channelId:n.id})})}),eD(this,"renderVoiceChannelEffects",()=>{let{channel:e,callContainerDimensions:t}=this.props;return(0,i.jsx)(eP.ZP,{children:(0,i.jsx)(el.Z,{callHeight:t.height,channelId:e.id})})}),eD(this,"renderHeader",()=>{let{renderExternalHeader:e,channel:t,guild:n,appContext:l,chatOpen:r,inCall:a}=this.props,{useExternalHeader:s,canSelectRegion:o,renderHeader:c}=this.viewProperties;return c?(0,i.jsxs)(q.Z,{children:[(0,i.jsx)("div",{className:eO.headerWrapper,children:s?null==e?void 0:e():(0,i.jsx)(eS.Z,{channel:t,guild:n,appContext:l,inCall:a,isChatOpen:r||this.popoutOpen&&!this.inPopout&&a,exitFullScreen:this.maybeLeaveFullScreen})}),o?this.renderRegionSelect():null]}):null})}}t.Z=function(e){var t;let{channel:n,renderExternalHeader:r,maxHeight:a}=e,{width:s=0,ref:o}=(0,E.Z)(),{width:u=0,height:h=0,ref:m}=(0,E.Z)(),{ref:f}=(0,E.Z)(),g=(0,Z.bp)(),C=(0,D.Z)(),x=(0,c.e7)([eh.Z],()=>{var e;return(null!==(e=null==C?void 0:C.channelId)&&void 0!==e?e:eh.Z.getVoiceChannelId())===n.id}),{participants:_,filteredParticipants:N,participantsVersion:A,mode:P,layout:R,participantsOpen:L,participantsListOpen:w,chatOpen:B,selectedParticipant:U}=(0,c.cj)([eI.Z],()=>{let e=g===eL.IlC.POPOUT,t=eI.Z.getMode(n.id);e&&(t=eL.WtW.VIDEO);let i=t===eL.WtW.VIDEO?eI.Z.getLayout(n.id,g):eL.AEg.MINIMUM;return e&&i!==eL.AEg.FULL_SCREEN&&(i=eL.AEg.NO_CHAT),{mode:t,layout:i,selectedParticipant:t!==eL.WtW.VOICE?eI.Z.getSelectedParticipant(n.id):null,participants:eI.Z.getParticipants(n.id),filteredParticipants:eI.Z.getFilteredParticipants(n.id),participantsOpen:eI.Z.getParticipantsOpen(n.id),chatOpen:eI.Z.getChatOpen(n.id),participantsListOpen:eI.Z.getParticipantsListOpen(n.id),participantsVersion:eI.Z.getParticipantsVersion(n.id)}},[g,n.id]),H=(0,c.Wu)([er.Z],()=>er.Z.getAllActiveStreams()),{selectedStream:F}=(0,c.cj)([er.Z],()=>({selectedStream:null!=U?er.Z.getActiveStreamForStreamKey(U.id):null}),[U]),z=(0,c.e7)([ec.Z],()=>ec.Z.getGuild(n.getGuildId())),W=(0,c.e7)([eo.Z],()=>eo.Z.getCall(n.id),[n.id]),K=(0,c.e7)([eu.ZP],()=>eu.ZP.getMentionCount(n.id),[n.id]),Y=(0,c.e7)([ea.default],()=>ea.default.getId()),{popoutWindow:q,popoutWindowAlwaysOnTop:X}=(0,c.cj)([G.Z],()=>({popoutWindow:G.Z.getWindow(eL.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:G.Z.getIsAlwaysOnTop(eL.KJ3.CHANNEL_CALL_POPOUT)})),J=(0,c.e7)([ed.Z],()=>ed.Z.can(eL.Plq.CONNECT,n)),Q=(0,c.e7)([es.Z],()=>es.Z.getToastsEnabled(n.id)),$=(0,c.e7)([O.Z],()=>O.Z.getAwaitingRemoteSessionInfo()),ee=(0,c.e7)([V.ZP],()=>V.ZP.callHeaderHeight),et=l.useCallback(e=>{v.ZP.updatedUnsyncedSettings({callHeaderHeight:e})},[]),en=null!==(t=null==z?void 0:z.id)&&void 0!==t?t:null,ei=(0,j.Z)(en,n.id),el=(0,c.e7)([S.Z],()=>S.Z.getFetchState(),[]),ep=(0,b.Z)(el);l.useEffect(()=>{el===S.O.ERROR&&ep!==S.O.ERROR&&(0,p.showToast)((0,p.createToast)(ek.intl.string(ek.t.AlJyIy),p.ToastType.FAILURE))},[el,ep]);let em=(0,c.e7)([T.ZP],()=>T.ZP.getSelfEmbeddedActivityForChannel(n.id),[n]);l.useEffect(()=>{let e=!1,t=null;return(async()=>{x&&P===eL.WtW.VIDEO&&(t=await ev.ZP.blockDisplaySleep(),e&&null!=t&&ev.ZP.unblockDisplaySleep(t))})(),()=>{null!=t?ev.ZP.unblockDisplaySleep(t):e=!0}},[x,P]);let ef=(0,eb.Z)(n,!0),{hasParticipantsPanel:eg}=(0,eA.Z)({location:"ChannelCall"}),eC=(0,k.bn)(d.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),{analyticsLocations:ex}=(0,M.ZP)(y.Z.CHANNEL_CALL),e_=T.ZP.getEmbeddedActivitiesForChannel(n.id),{theme:eE}=(0,p.useThemeContext)();return(0,i.jsx)(M.Gt,{value:ex,children:(0,i.jsx)(I.Z,{page:eL.ZY5.CHANNEL_CALL,children:(0,i.jsx)(eZ.B2,{children:(0,i.jsxs)(eP._A,{children:[(0,i.jsx)(eU,{channel:n,guild:z,hasConnectPermission:J,participantsOpen:L,participantsListOpen:w&&eg,renderExternalHeader:r,appContext:g,call:W,popoutWindow:q,popoutWindowAlwaysOnTop:X,mentionCount:K,selectedStream:F,mode:P,inCall:x,participants:_,filteredParticipants:N,participantsVersion:A,layout:R,chatOpen:B,maxSidebarWidth:s-550,shouldUseVoiceEffectsActionBar:ef,currentUserId:Y,selectedParticipant:U,allActiveStreams:H,useNewInviteButton:ei,connectedToEmbeddedActivity:null!=em,showChatToasts:Q,storedCallHeaderHeight:ee,updateStoredCallHeaderHeight:et,wrapperRef:o,callContainerDimensions:{width:u,height:h},callContainerRef:m,channelChatRef:f,width:s,maxHeight:a,forceShowControls:eC,awaitingRemoteSessionInfo:$,currentChannelActivities:e_,theme:eE}),!n.isPrivate()&&(0,i.jsx)(eP.YR,{}),(0,i.jsx)(eZ.H_,{})]})})})})}},909820:function(e,t,n){n.d(t,{B2:function(){return s},H_:function(){return a}});let{Layer:i,LayerContainer:l,LayerProvider:r}=(0,n(481060).createLayer)("ChannelCallChat"),a=l,s=r;t.ZP=i},493010:function(e,t,n){var i=n(200651),l=n(192379),r=n(704215),a=n(481060),s=n(475179),o=n(561472),c=n(287746),d=n(325708),u=n(541716),h=n(605236),p=n(665149),m=n(703558),f=n(585483),g=n(909820),C=n(981631),x=n(921944),v=n(388032),_=n(31224);t.Z=function(e){let{channel:t,guild:n,maxWidth:I}=e;l.useEffect(()=>{(0,h.EW)(r.z.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:x.L.AUTO})},[]);let E=l.useCallback(()=>{s.Z.updateChatOpen(t.id,!1),f.S.safeDispatch(C.CkL.FOCUS_CHAT_BUTTON)},[t.id]),b=(0,i.jsx)(p.ZP.Icon,{icon:a.XSmallIcon,tooltip:v.intl.string(v.t.cpT0Cg),onClick:E});return(0,i.jsxs)(d.Z,{sidebarType:d.y.CallChatSidebar,maxWidth:I,floatingLayer:g.ZP,children:[(0,i.jsx)(o.Z,{channel:t,draftType:m.d.ChannelMessage}),(0,i.jsxs)(p.ZP,{toolbar:b,"aria-label":v.intl.string(v.t.BIYAqa),children:[(0,i.jsx)(p.ZP.Icon,{icon:a.ChatIcon,disabled:!0,"aria-label":v.intl.string(v.t.Kx5kCA)}),(0,i.jsx)(p.ZP.Title,{children:t.name})]}),(0,i.jsx)("div",{className:_.chat,children:(0,i.jsx)(c.Z,{channel:t,guild:n,chatInputType:u.Ie.SIDEBAR},t.id)})]})}},742603:function(e,t,n){n.d(t,{Z:function(){return G}}),n(47120);var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(99690),c=n(40851),d=n(657305),u=n(835473),h=n(12498),p=n(933557),m=n(471445),f=n(925329),g=n(554747),C=n(854698),x=n(897669),v=n(665149),_=n(984370),I=n(910611),E=n(454585),b=n(134483),Z=n(210975),N=n(809244),S=n(618158),T=n(358221),j=n(362721),A=n(887012),y=n(613548),P=n(221888),M=n(339340),R=n(354459),L=n(981631),k=n(231338),O=n(388032),D=n(663602),w=n(665162);function B(e){let{focusedParticipant:t,channel:n}=e,l=(0,c.bp)(),r=(0,a.e7)([T.Z],()=>T.Z.getLayout(n.id,l));return(0,i.jsx)(S.Z,{children:(0,i.jsx)(P.Z,{className:D.participants,participant:t,maxVisibleUsers:5,guildId:n.getGuildId(),channelId:n.id,disableInteraction:l===L.IlC.POPOUT||r===L.AEg.FULL_SCREEN})})}function U(e){let{user:t,channel:n,stream:l,color:r}=e,a=(0,N.Z)(n,t,l);return null==t||null==l?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{className:D.avatar,size:s.AvatarSizes.SIZE_24,user:t,animate:!1}),(0,i.jsx)(s.Text,{className:D.playingText,variant:"text-md/medium",color:r,children:a})]})}function H(e){let t,{focusedApplication:n,focusedParticipant:l,channel:r}=e,a=(0,A.Z)(r,!0),o=(0,g.qY)(r.id),c=null!=o?(0,C.DK)(o):null,u=null!=o;if((null==l?void 0:l.type)===R.fO.ACTIVITY)null!=n&&(t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.ZP.Divider,{className:D.divider}),(0,i.jsx)(f.Z,{game:n,className:D.activityIcon}),(0,i.jsx)(s.Text,{className:D.playingText,variant:"text-md/normal",color:"none",children:(0,d.Z)(n.name)}),a&&(0,i.jsx)(B,{channel:r,focusedParticipant:l})]}));else if((null==l?void 0:l.type)===R.fO.STREAM){let e=l.user,n=l.stream;t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.ZP.Divider,{className:D.divider}),(0,i.jsx)(U,{user:e,channel:r,stream:n,color:a?"header-primary":"none"}),a&&(0,i.jsx)(B,{channel:r,focusedParticipant:l})]})}else u&&(t=(0,i.jsx)(x.Z,{guildEvent:o,recurrenceId:c}));return(0,i.jsx)("div",{className:D.container,children:t})}function G(e){let{channel:t,guild:l,appContext:o,inCall:c,isChatOpen:d,exitFullScreen:f}=e,{focusedParticipant:g}=(0,a.cj)([T.Z],()=>({focusedParticipant:T.Z.getSelectedParticipant(t.id),participantsOpen:T.Z.getParticipantsOpen(t.id)}),[t.id]),C=(0,p.ZP)(t),x=(0,m.KS)(t),[N]=(0,u.Z)((null==g?void 0:g.type)===R.fO.ACTIVITY?[g.id]:[]),S=O.intl.string(O.t.BVZqJi);t.isDM()?S=O.intl.string(O.t.jN2DfX):t.isGroupDM()&&(S=O.intl.string(O.t["e5y+go"]));let A=(0,a.e7)([h.Z],()=>h.Z.getChannelStatus(t)),P=t.isGuildVoice()&&c&&null!=A&&A.length>0,B=(0,j.ZP)(t),U=P?(0,i.jsx)(s.Tooltip,{text:O.intl.string(O.t.Mgpxi4),delay:500,position:"bottom",shouldShow:B,children:e=>(0,i.jsxs)(s.Clickable,{...e,className:r()(D.channelStatusClickable,{[D.hoverable]:B}),onClick:B?G:void 0,children:[(0,i.jsx)(s.Text,{variant:"text-xs/normal",className:r()(D.channelStatus,w.markup,{[D.hoverable]:B}),children:E.Z.parseVoiceChannelStatus(A,!0,{channelId:t.id})}),B&&(0,i.jsx)(s.PencilIcon,{size:"custom",color:"currentColor",className:r()(D.pencilIcon,D.hoverable),width:14,height:14})]})}):null;function G(){(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,339340));return n=>(0,i.jsx)(e,{channel:t,...n})},{modalKey:M.VOICE_CHANNEL_STATUS_MODAL_KEY})}let F=(0,Z.m$)({channelId:t.id,location:"ChannelCallHeader"});return(0,i.jsxs)("div",{className:D.subtitleContainer,children:[(0,i.jsx)(s.ThemeProvider,{theme:k.BR.DARK,children:e=>(0,i.jsxs)(v.ZP,{onDoubleClick:_.O,transparent:!0,className:e,childrenBottom:U,toolbar:(0,i.jsx)(y.Z,{inPopout:o===L.IlC.POPOUT,channel:t,appContext:o,inCall:c,isChatOpen:d,exitFullScreen:f}),children:[null!=x?(0,i.jsx)(v.ZP.Icon,{icon:x,disabled:!0,"aria-label":S}):null,(0,i.jsx)(v.ZP.Title,{children:(0,i.jsxs)(i.Fragment,{children:[C,F&&(0,i.jsx)(s.Tooltip,{text:O.intl.string(O.t.QyZ4TU),children:e=>(0,i.jsx)(s.ShieldLockIcon,{...e,size:"xs","aria-label":O.intl.string(O.t.VHXh8f),color:s.tokens.colors.INTERACTIVE_NORMAL,className:D.secureFramesIcon})})]})}),(0,i.jsx)(I.TS,{channel:t,guild:l}),(0,i.jsx)(H,{focusedApplication:N,focusedParticipant:g,channel:t})]})}),(0,i.jsx)(b.Z,{channelId:t.id})]})}},613548:function(e,t,n){n.d(t,{Z:function(){return q}}),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(848246),d=n(442837),u=n(481060),h=n(475179),p=n(194082),m=n(320007),f=n(236091),g=n(540059),C=n(569545),x=n(517525),v=n(665149),_=n(6242),I=n(757692),E=n(933843),b=n(141321),Z=n(2818),N=n(954551),S=n(44136),T=n(651183),j=n(618158),A=n(390322),y=n(616286),P=n(961048),M=n(179424),R=n(786915),L=n(975146),k=n(991617),O=n(597998),D=n(606304),w=n(594174),B=n(358221),U=n(887012),H=n(444253),G=n(355827),F=n(185935),V=n(354459),z=n(981631),W=n(388032),K=n(960840);function Y(e){let{channelId:t,guildId:n}=e,l=(0,d.Wu)([D.Z,B.Z],()=>{let e=Date.now();return o()(D.Z.getSpeakers()).map(e=>B.Z.getParticipant(t,e)).filter(e=>null!=e&&e.type===V.fO.USER&&e.speaking&&!(0,S.ZP)(e)).sortBy(t=>-D.Z.getSpeakingDuration(t.user.id,e)).slice(0,3).value()});return 0===l.length?null:(0,i.jsx)(i.Fragment,{children:l.map((e,t)=>(0,i.jsx)(u.Tooltip,{position:"bottom",color:u.Tooltip.Colors.GREY,text:W.intl.formatToPlainString(W.t.JjdizM,{username:e.user.username}),children:r=>(0,i.jsx)(O.ZP,{...r,className:a()(K.speaker,{[K.last]:t===l.length-1}),user:e.user,speaking:!0,collapsed:!0,guildId:n})},e.id))})}function q(e){let{inPopout:t,channel:n,appContext:r,inCall:s,isChatOpen:o,exitFullScreen:S}=e,O=n.id,{voiceParticipantsHidden:D,selectedParticipant:W,userParticipantCount:q,participantsListOpen:X}=(0,d.cj)([B.Z],()=>({selectedParticipant:B.Z.getSelectedParticipant(O),voiceParticipantsHidden:B.Z.getVoiceParticipantsHidden(O),userParticipantCount:B.Z.getUserParticipantCount(O),participantsListOpen:B.Z.getParticipantsListOpen(O)}),[O]),J=(0,d.e7)([w.default],()=>w.default.getCurrentUser()),Q=(0,U.Z)(n),$=(0,E.So)(c.q.STREAM_HIGH_QUALITY),ee=(0,I.o)(W,J),et=(0,_.lL)("CallHeader",!0,J,ee),en=n.isGuildVoice()&&!o,{hasParticipantsPanel:ei}=(0,F.Z)({location:"ChannelCallHeaderToolbar"}),el=!X&&ei&&(n.isGuildVoice()||n.isGroupDM()),{enabled:er,inInbox:ea}=Z.Z.useExperiment({location:"ChannelCallHeaderToolbar"}),es=(0,g.Q3)("ChannelCallHeaderToolbar"),{preventIdle:eo,allowIdle:ec}=(0,j.Y)("popup"),ed=[];if(Q&&!ei){let e=(null==W?void 0:W.type)===V.fO.STREAM?(0,C.my)(W.id):void 0,t=(null==W?void 0:W.type)===V.fO.ACTIVITY?W.id:void 0;ed.push((0,i.jsx)(R.Z,{className:K.button,channel:n,applicationId:t,stream:e,exitFullScreen:S,analyticsLocation:n.type===z.d4z.GUILD_VOICE?z.ZY5.GUILD_CHANNEL:z.ZY5.DM_CHANNEL},"invite-button"))}return D&&ed.push((0,i.jsx)(Y,{channelId:O,guildId:n.guild_id},"current-speaker")),ed.push((0,i.jsx)(f.Z,{className:K.button,channelId:O},"clips-enabled-indicator")),(null==W?void 0:W.type)===V.fO.STREAM&&(ed.push((0,i.jsx)(T.Z,{className:K.button,participant:W},"warning")),ed.push((0,i.jsx)(x.Z,{size:p.ZP.Sizes.LARGE,className:K.button,participant:W,showQuality:!0,premiumIndicator:$||et.enabled},"live-indicator"))),D&&!ei&&ed.push((0,i.jsx)(u.Popout,{position:"bottom",renderPopout:()=>(0,i.jsx)(A.Z,{children:(0,i.jsx)(G.Z,{channel:n})}),children:(e,t)=>{let{isShown:n}=t;return(0,l.createElement)(L.Z,{...e,isActive:n,count:q,key:"call-members",className:K.button})}},"call-members-popout")),s&&ed.push(null!=W?(0,i.jsx)(M.Z,{className:K.button,channelId:O},"deselect-participant"):(0,i.jsx)(k.Z,{className:K.button,channelId:O,isHorizontal:!0},"select-participant")),!t&&ed.push((0,i.jsx)(m.Z,{className:K.button},"clips")),!es&&ed.push((0,i.jsx)(b.Z,{onOpen:eo,onClose:ec,className:K.button},"recents")),er&&!ea&&ed.push((0,i.jsx)(N.Z,{className:K.button},"for-later")),ed.push((0,i.jsx)(u.Popout,{position:"bottom",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(A.Z,{children:(0,i.jsx)(H.Z,{channelId:O,onClose:t,appContext:r,exitFullScreen:S})})},children:(e,t)=>{let{isShown:n}=t;return(0,l.createElement)(P.Z,{...e,key:"more-options",isActive:n,className:K.lastButton})}},"more-options-popout")),(el||en)&&ed.push((0,i.jsx)(v.ZP.Divider,{className:K.divider},"divider")),el&&ed.push((0,i.jsx)(L.Z,{className:a()(K.button,{[K.lastButton]:o}),onClick:()=>h.Z.toggleParticipantsList(n.id,!X)},"participants-list-button")),en&&ed.push((0,i.jsx)(y.T,{channelId:n.id,className:a()(K.button,{[K.lastButton]:X}),disabled:o},"chat-spacer")),(0,i.jsx)(i.Fragment,{children:ed})}},444253:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(358221),s=n(441061),o=n(431368),c=n(167675),d=n(811423),u=n(418469),h=n(673539),p=n(354459),m=n(388032);function f(e){let{channelId:t,onClose:n,appContext:f,exitFullScreen:g,onSelect:C}=e,x=(0,l.e7)([a.Z],()=>a.Z.getSelectedParticipant(t)),v=(null==x?void 0:x.type)===p.fO.STREAM?x.stream:null,_=(0,s.Z)(t),I=(0,c.Z)(),E=(0,o.Z)(t),b=(0,h.Z)(t),Z=(0,d.Z)(x,t);return(0,i.jsxs)(r.Menu,{navId:"channel-call-overflow-popout",onClose:n,"aria-label":m.intl.string(m.t.pkYeAw),onSelect:C,children:[_,I,E,b,(0,u.Z)(v,f,g),Z]})}},355827:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(207055),s=n(938475),o=n(981631),c=n(388032),d=n(243765);function u(e){let{channel:t}=e,n=(0,l.e7)([s.ZP],()=>s.ZP.getVoiceStatesForChannel(t));return(0,i.jsxs)("div",{className:d.root,children:[(0,i.jsx)(r.Text,{variant:"text-xs/bold",className:d.header,children:c.intl.format(c.t.e95u3N,{count:n.length})}),(0,i.jsx)(r.Scroller,{className:d.scroller,children:(0,i.jsx)(a.Z,{allowDragging:!1,allowPreviews:!1,className:d.voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:o.Sbl.CHANNEL_CALL})})]})}},71127:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(657707),r=n(475179),a=n(325708),s=n(665149),o=n(909820),c=n(388032);function d(e){let{channel:t,maxWidth:n}=e,d=(0,i.jsx)(s.ZP.Icon,{icon:l.Dio,tooltip:c.intl.string(c.t.cpT0Cg),onClick:()=>r.Z.toggleParticipantsList(t.id,!1)});return(0,i.jsx)(a.Z,{sidebarType:a.y.ParticipantsSidebar,maxWidth:n,floatingLayer:o.ZP,children:(0,i.jsxs)(s.ZP,{toolbar:d,"aria-label":c.intl.string(c.t.jNqDh4),children:[(0,i.jsx)(s.ZP.Icon,{icon:l.BFJ,disabled:!0,"aria-label":c.intl.string(c.t.jNqDh4)}),(0,i.jsx)(s.ZP.Title,{children:c.intl.string(c.t.jNqDh4)})]})})}},900211:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(200651),l=n(192379),r=n(347469),a=n(956224);function s(e){let{resizableNode:t,onResize:n,onResizeEnd:s,minHeight:o,maxHeight:c}=e,[d,u]=l.useState(null);l.useEffect(()=>{var e,n;u(null!==(n=null===(e=t.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==n?n:null)},[t]);let h=(0,r.Z)({initialElementDimension:d,minDimension:o,maxDimension:c,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:s,orientation:r.y.VERTICAL_BOTTOM});return(0,i.jsx)("div",{onMouseDown:h,className:a.resizeHandle})}},351248:function(e,t,n){n.d(t,{Z:function(){return N}}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(748780),o=n(442837),c=n(215569),d=n(780384),u=n(481060),h=n(410030),p=n(451478),m=n(584511),f=n(354459),g=n(397109),C=n(652849),x=n(73004);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={STEPS:23,FRAME_DURATION:17,FRAME_SIZE:26},I={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:s.Z.Easing.inOut(s.Z.Easing.back()),EASING_OUT:s.Z.Easing.quad},E=200,b=125;class Z extends l.PureComponent{componentDidMount(){this.componentDidAppear()}componentDidAppear(){let{scaleAnimation:e,widthAnimation:t}=this;e.setValue(1),t.setValue(1)}componentWillEnter(e){let{scaleAnimation:t,widthAnimation:n}=this;t.setValue(0),n.setValue(0),s.Z.parallel([s.Z.timing(t,{toValue:1,duration:I.DURATION_IN,easing:I.EASING_IN}),s.Z.timing(n,{toValue:1,duration:E})]).start(e)}componentWillLeave(e){let{scaleAnimation:t,spriteAnimation:n,spriteOpacity:i,widthAnimation:l}=this;i.setValue(1),n.setValue(0);let r=[];for(let e=0;e<_.STEPS;e++)r.push(s.Z.timing(n,{toValue:-_.FRAME_SIZE*e,duration:_.FRAME_DURATION}));s.Z.sequence([s.Z.timing(t,{toValue:0,duration:I.DURATION_OUT,easing:I.EASING_OUT}),s.Z.sequence(r),s.Z.timing(l,{toValue:0,duration:b})]).start(e)}getScaleStyle(){let{scaleAnimation:e}=this;return s.Z.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[I.SCALE_MIN,I.SCALE_MAX]})}],opacity:e})}getSpriteStyle(){let{spriteAnimation:e,spriteOpacity:t}=this;return{backgroundPosition:e,opacity:t}}getWidthStyle(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px","".concat(this.props.width,"px")]})}}render(){let{theme:e,children:t,className:n}=this.props,l=(0,d.wj)(e),r=a()(g.sprite,{[x.crossWhite]:l,[x.crossGrey]:!l});return(0,i.jsxs)(s.Z.div,{className:a()(g.transition,n),style:this.getWidthStyle(),children:[(0,i.jsx)("div",{className:a()(g.spriteWrapper,C.horizontal,C.justifyCenter,C.alignCenter),children:(0,i.jsx)(s.Z.div,{className:r,style:this.getSpriteStyle()})}),(0,i.jsx)(s.Z.div,{style:this.getScaleStyle(),children:t})]})}constructor(...e){super(...e),v(this,"scaleAnimation",new s.Z.Value(0)),v(this,"spriteAnimation",new s.Z.Value(0)),v(this,"spriteOpacity",new s.Z.Value(0)),v(this,"widthAnimation",new s.Z.Value(0))}}function N(e){var t,n;let{participants:l,onContextMenu:r,className:s,onClick:d,width:C,guildId:x}=e,v=(0,h.ZP)();let _=(t=C,n=l.length,((0,u.getAvatarSize)(u.AvatarSizes.SIZE_80)+16)*n>t?u.AvatarSizes.SIZE_40:u.AvatarSizes.SIZE_80),I=(0,o.e7)([p.Z],()=>p.Z.isFocused()),E=l.map(e=>{var t,n;if(e.type!==f.fO.USER)return null;let{user:l,voiceState:a,speaking:s,ringing:o}=e;return(0,i.jsx)(Z,{className:g.participant,width:(0,u.getAvatarSize)(_),theme:v,children:(0,i.jsx)(m.Z,{src:l.getAvatarURL(x,(0,u.getAvatarSize)(_),s&&I),size:_,muted:null!==(t=null==a?void 0:a.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(n=null==a?void 0:a.isVoiceDeafened())&&void 0!==n&&n,speaking:s,ringing:o,onClick:t=>null==d?void 0:d(e,t),onContextMenu:t=>null==r?void 0:r(e,t)},e.id)},l.id)});return(0,i.jsx)(c.W,{component:"div",className:a()(g.root,s),children:E})}},18759:function(e,t,n){n.d(t,{YR:function(){return a},_A:function(){return s}});let{Layer:i,LayerContainer:l,LayerProvider:r}=(0,n(481060).createLayer)("VoiceChannelEffectsCall"),a=l,s=r;t.ZP=i},295510:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(153867),r=n(468026),a=n(394059),s=n(388032);function o(e){let{type:t,onConfirm:n,...o}=e,c=t===a.K.STREAM?s.intl.string(s.t["/lFMWl"]):s.intl.string(s.t.xzxhZW),d=t===a.K.STREAM?s.intl.string(s.t.xaOX7e):s.intl.string(s.t.oU1p9P);return(0,i.jsx)(r.default,{confirmText:s.intl.string(s.t["cY+Ooa"]),secondaryConfirmText:s.intl.string(s.t["JdIQ/f"]),title:c,cancelText:s.intl.string(s.t["ETE/oK"]),onConfirm:n,onConfirmSecondary:()=>{l.ZP.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0}),n()},body:d,...o})}},441061:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(475179),s=n(358221),o=n(388032);function c(e){let t=(0,l.e7)([s.Z],()=>s.Z.getVoiceParticipantsHidden(e));return(0,i.jsx)(r.MenuCheckboxItem,{id:"no-video-hide",label:o.intl.string(o.t.BL8ss7),checked:!t,action:()=>a.Z.toggleVoiceParticipantsHidden(e,!t)})}},431368:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(740492),s=n(984014),o=n(295510),c=n(394059),d=n(388032);function u(e,t){let[n,u,h]=(0,s.Z)(e,t),p=(0,l.e7)([a.ZP],()=>a.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,i.jsx)(r.MenuCheckboxItem,{id:"self-stream-hide",label:d.intl.string(d.t.aol7iY),checked:!u,action:()=>{if(p||u)return h(!u);(0,r.openModal)(e=>(0,i.jsx)(o.Z,{...e,type:c.K.STREAM,onConfirm:()=>h(!u)}))}}):null}},167675:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(740492),s=n(27584),o=n(295510),c=n(394059),d=n(65154),u=n(388032);function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Yn.DEFAULT,[n,h,p]=(0,s.Z)(e,t),m=(0,l.e7)([a.ZP],()=>a.ZP.disableHideSelfStreamAndVideoConfirmationAlert);return n?(0,i.jsx)(r.MenuCheckboxItem,{id:"self-video-hide",label:u.intl.string(u.t.MH8ESU),checked:!h,action:()=>{if(m||h)return p(!h);(0,r.openModal)(e=>(0,i.jsx)(o.Z,{...e,type:c.K.VIDEO,onConfirm:()=>p(!h)}))}}):null}},811423:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(812206),s=n(726721),o=n(726521),c=n(592125),d=n(354459),u=n(388032);function h(e,t){let n=(0,l.e7)([a.Z],()=>(null==e?void 0:e.type)===d.fO.ACTIVITY?a.Z.getApplication(e.id):void 0),h=(0,l.e7)([c.Z],()=>c.Z.getChannel(t)),p=null==h?void 0:h.getGuildId();return!1===s.Z.useExperiment({location:"channel_call_overflow_menu"},{autoTrackExposure:!0}).enabled||null==e||e.type!==d.fO.ACTIVITY||null==n?null:(0,i.jsx)(r.MenuGroup,{children:(0,i.jsx)(r.MenuItem,{id:"report-app",color:"danger",label:u.intl.string(u.t.NgA5vr),action:()=>(0,o.uu)({application:n,entrypoint:"activity_ui_channel_call",contextualGuildId:null!=p?p:void 0,contextualChannelId:null==h?void 0:h.id}),icon:r.FlagIcon})})}},673539:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(979696),s=n(963876),o=n(388032);function c(e){let t=(0,l.e7)([a.Z],()=>a.Z.getToastsEnabled(e));return(0,i.jsx)(r.MenuCheckboxItem,{id:"show-call-chat-toasts",label:o.intl.string(o.t["5NL5vb"]),checked:t,action:()=>s.Z.setCallChatToastsEnabled(e,!t)})}},213652:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(435064),o=n(39604),c=n(441167),d=n(871499),u=n(199902),h=n(314897),p=n(358221),m=n(354459),f=n(388032),g=n(638411);function C(e){let{channel:t}=e,n=(0,r.e7)([p.Z],()=>p.Z.getSelectedParticipant(t.id)),C=(null==n?void 0:n.type)===m.fO.STREAM,x=(0,r.e7)([u.Z],()=>C?u.Z.getActiveStreamForStreamKey(n.id):null),{ignoreSenderPreference:v}=c.Z.useExperiment({location:"ActionBarClipsButton"},{autoTrackExposure:!1}),{viewerClippingAllowed:_,isAtMaxSavingClipOperations:I}=(0,r.cj)([s.Z],()=>({viewerClippingAllowed:null!=x&&(s.Z.isViewerClippingAllowedForUser(x.ownerId)||v),isAtMaxSavingClipOperations:s.Z.getIsAtMaxSaveClipOperations()})),E=s.Z.getSettings().clipsEnabled,b=(null==x?void 0:x.ownerId)===h.default.getId(),Z=!E||!(b||_)||I||null==n,N=l.useCallback(e=>(0,i.jsx)(a.CameraIcon,{...e,color:"currentColor"}),[]);return(0,i.jsx)(d.Z,{className:g.actionBarButton,onClick:()=>{!Z&&(b?(0,o.C1)():(0,o.C1)(n.id))},disabled:Z,iconComponent:N,label:null==x?f.intl.string(f.t.eg5qtb):b||_?E?I?void 0:f.intl.string(f.t.U4URzM):f.intl.string(f.t.wSS1yM):f.intl.string(f.t.aRifJS),grow:!1})}},320427:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(125268),s=n(673125),o=n(984063),c=n(871499),d=n(304388),u=n(388032);function h(){let e=(0,l.e7)([s.Z],()=>s.Z.getDrawMode()),t=(null==e?void 0:e.type)===o.W.LINE,n=()=>{t?(0,a.Bo)(null):(0,a.Bo)({type:o.W.LINE})};return(0,i.jsx)(d.Z,{renderPopout:()=>null,children:e=>{let{...l}=e;return(0,i.jsx)(c.Z,{...l,label:u.intl.string(u.t.ZQCf9f),isActive:t,iconComponent:r.PencilIcon,onClick:n})}})}},145010:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(125268),s=n(673125),o=n(984063),c=n(390322),d=n(871499),u=n(12168),h=n(304388),p=n(388032);function m(e){let{channel:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.getDrawMode()),m=(null==n?void 0:n.type)===o.W.EMOJI_HOSE,f=(e,t)=>{null!=e?(0,a.Bo)({type:o.W.EMOJI_HOSE,emojiName:e.name,emojiId:e.id}):m&&(0,a.Bo)(null),null==t||t()};return(0,i.jsx)(h.Z,{renderPopout:e=>{let{closePopout:n,onFocus:l}=e;return(0,i.jsx)(c.Z,{children:(0,i.jsx)(u.Z,{title:p.intl.string(p.t.XYLOyM),channel:t,closePopout:n,onFocus:l,onSelectEmoji:e=>f(e,n)})})},children:e=>(0,i.jsx)(d.Z,{...e,iconComponent:r.PaintbrushThinIcon,isActive:m||e.isActive,onClick:t=>{f(null),e.onClick(t)}})})}},933686:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651),l=n(192379),r=n(442837),a=n(774078),s=n(390322),o=n(272929),c=n(456631),d=n(381871),u=n(304388);function h(e){let{channel:t}=e,n=(0,r.e7)([c.Z],()=>c.Z.effectCooldownEndTime),h=l.useMemo(()=>null!=n?(n.getTime()-Date.now())/1e3:0,[n]),{seconds:p}=(0,a.Z)(null!=n?n:new Date),m=p>0;return(0,i.jsx)(u.Z,{renderPopout:e=>{let{closePopout:n,onFocus:l}=e;return(0,i.jsx)(s.Z,{children:(0,i.jsx)(d.Z,{channel:t,closePopout:n,onFocus:l})})},children:e=>{let{onMouseEnter:t,...n}=e;return(0,i.jsx)(o.Z,{totalCooldownSeconds:h,remainingCooldownSeconds:p,onMouseEnter:e=>{var n,i;return n=e,i=t,void(!m&&i(n))},...n})}})}},361057:function(e,t,n){var i=n(200651),l=n(192379),r=n(481060),a=n(871499),s=n(447564),o=n(304388);let c=l.forwardRef((e,t)=>{let{channel:n,glow:l}=e;return(0,i.jsx)(o.Z,{renderPopout:()=>null,children:e=>{let{...o}=e,{onClick:c,...d}=o;return(0,i.jsx)(a.Z,{buttonRef:t,iconComponent:r.PotionIcon,iconColor:l?"#eb90f1":void 0,onClick:e=>{(0,s.openHDPotionModal)(n,"ActionBar"),e.stopPropagation(),c(e)},...d})}})});c.displayName="ActionBarHDStreamingConsumableButton",t.Z=c},304388:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(579185),s=n(420212),o=n(638411);function c(e){let{renderPopout:t,onMouseEnter:n,onMouseLeave:r,closePopout:a,isHovered:s,...o}=e;return l.useEffect(()=>{!s&&a()},[a,s]),(0,i.jsx)("div",{onMouseEnter:n,onMouseLeave:r,children:t({closePopout:a,...o})})}t.Z=l.forwardRef(function(e,t){let{renderPopout:n,children:d,align:u="left",isPopoutBlocked:h,onPopoutOpen:p,onPopoutClose:m}=e,[f,g]=l.useState(!1),{isHovered:C,setIsHovered:x,onMouseEnter:v,onMouseLeave:_,cancelTimers:I}=(0,a.Z)(200,300);function E(e){"focus"!==e.type&&!f&&v()}function b(){!f&&_()}function Z(e){I(),g(!f),f?null==m||m():null==p||p(),(!C||f)&&e()}l.useImperativeHandle(t,()=>({hidePopout(){x(!1),g(!1)}}),[x,g]);let N=C&&!h||f;return(0,i.jsx)(r.Popout,{animation:r.Popout.Animation.FADE,shouldShow:N,animationPosition:"top",position:"top",align:u,spacing:16,onRequestClose:()=>{x(!1),g(!1),null==m||m()},renderPopout:e=>(0,i.jsx)(c,{isHovered:N,onFocus:()=>g(!0),onMouseEnter:v,onMouseLeave:b,renderPopout:n,...e}),children:e=>{let{onClick:t,onKeyDown:n}=e;return(0,i.jsx)(i.Fragment,{children:d({onClick:e=>Z(()=>t(e)),onKeyDown:e=>{var t,i;return t=e,i=n,void((t.key===s.vn.ENTER||t.key===s.vn.SPACE)&&Z(()=>i(t)))},className:o.actionBarButton,onMouseEnter:E,onMouseLeave:b,isActive:f})})}})})},997614:function(e,t,n){n.d(t,{Z:function(){return Z}}),n(47120);var i=n(200651),l=n(192379),r=n(399606),a=n(704215),s=n(582019),o=n(481060),c=n(239091),d=n(706140),u=n(242291),h=n(792165),p=n(603074),m=n(861254),f=n(294629),g=n(390322),C=n(871499),x=n(131951),v=n(459273),_=n(304388),I=n(981631),E=n(127379),b=n(388032);function Z(e){let{channel:t,themeable:Z,whichPopoutIsOpen:N,setWhichPopoutIsOpen:S}=e,{Component:T,events:{onMouseEnter:j,onMouseLeave:A}}=(0,s.j)(),y=t.getGuildId(),{mute:P,suppress:M}=(0,f.Z)(t),R=(0,r.e7)([x.Z],()=>x.Z.isDeaf()),L=P||M||R,k=(0,u.sR)({isSoundboardButtonDisabled:L}),[O,D]=(0,d.cv)(k),{groupedButtons:w,mode:B}=(0,m.ZP)({location:"ActionBarSoundboardButton"}),U=B===m.BK.GroupedButtonsRedMic?"green":void 0;function H(){if(P)return b.intl.string(b.t["Ox4/zc"]);if(M)return b.intl.string(b.t["+YBKYG"]);if(R)return b.intl.string(b.t.X1lQlp)}function G(e){null!=y&&(0,c.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:y,...t})})}let F=l.useRef(null),V=l.useCallback(()=>{var e;null===(e=F.current)||void 0===e||e.hidePopout()},[]);return(0,v.yp)({event:I.CkL.TOGGLE_SOUNDBOARD,handler:V}),(0,i.jsx)(_.Z,{ref:F,isPopoutBlocked:null!=N&&N!==E.D.SOUNDBOARD,onPopoutClose:()=>null==S?void 0:S(void 0),onPopoutOpen:()=>null==S?void 0:S(E.D.SOUNDBOARD),align:w?"center":"left",renderPopout:e=>{let{closePopout:n}=e;return L?null:(0,i.jsx)(g.Z,{children:(0,i.jsx)(p.Z,{guildId:y,channel:t,onClose:n,gridNotice:O===a.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,i.jsx)(h.o,{onClose:n,markAsDismissed:D}),analyticsSource:"action bar button"})})},children:e=>w?(0,i.jsx)(C.d,{themeable:Z,label:H(),iconComponent:T,disabled:L,onContextMenu:G,...e,onMouseEnter:t=>{e.onMouseEnter(t),j()},onMouseLeave:()=>{e.onMouseLeave(),A()},color:e.isActive?U:void 0,className:""}):(0,i.jsx)(C.Z,{themeable:Z,label:H(),iconComponent:o.SoundboardIcon,disabled:L,onContextMenu:G,...e})})}},159909:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(125268),s=n(673125),o=n(871499),c=n(304388),d=n(388032);function u(){let e=(0,l.e7)([s.Z],()=>!s.Z.visibleOverlayCanvas);return(0,i.jsx)(c.Z,{renderPopout:()=>null,children:t=>{let{...n}=t;return(0,i.jsx)(o.Z,{...n,label:d.intl.string(d.t.Cuo44O),isActive:e,iconComponent:r.EyeIcon,onClick:a.LT})}})}},878752:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(442837),o=n(704215),c=n(779618),d=n(464792),u=n(324085),h=n(243778),p=n(446226),m=n(441167),f=n(822183),g=n(641015),C=n(861254),x=n(131951),v=n(594174),_=n(700785),I=n(213652),E=n(320427),b=n(145010),Z=n(933686),N=n(361057),S=n(997614),T=n(159909),j=n(981631),A=n(637335);function y(e){let{channel:t,hasActiveStream:n,themeable:r=!1}=e,y=(0,s.e7)([v.default],()=>{let e=v.default.getCurrentUser();return a()(null!=e,"CenterControlTray: currentUser cannot be undefined"),e}),{groupedButtons:P}=(0,C.ZP)({location:"VoiceEffectsActionBar"}),M=(0,u.Ou)(t),R=l.useRef(null),L=(0,p.Z)(),{isSharedCanvasEnabled:k}=f.Z.useExperiment({guildId:null==t?void 0:t.guild_id,location:"b7309a_1"}),{enableViewerClipping:O}=m.Z.useExperiment({location:"VoiceEffectsActionBar"},{autoTrackExposure:!1}),D=(0,c.Z)(x.Z),w=(0,u.Zm)(t,"VoiceEffectsActionBar")?[o.z.CONSUMABLE_HD_POTION_UPSELL]:[],[B,U]=(0,h.US)(w,void 0,!0),H=B===o.z.CONSUMABLE_HD_POTION_UPSELL;if(null==t||null!=L)return null;let G=(0,g.Z)(t),F=_.BT({permission:j.Plq.ADD_REACTIONS,user:y,context:t});return(0,i.jsxs)("div",{className:A.voiceEffectsActionBar,children:[!P&&G&&(0,i.jsx)(S.Z,{channel:t,themeable:r}),!P&&F&&(0,i.jsx)(Z.Z,{channel:t}),O&&D&&(0,i.jsx)(I.Z,{channel:t}),H&&(0,i.jsx)(d.t,{potionRef:R,channel:t,markAsDismissed:U}),M&&(0,i.jsx)(N.Z,{ref:R,channel:t,glow:H}),k&&n&&(0,i.jsx)(E.Z,{}),k&&n&&(0,i.jsx)(b.Z,{channel:t}),k&&n&&(0,i.jsx)(T.Z,{})]})}},193701:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(442837),l=n(375954);function r(e){let t=(0,i.e7)([l.Z],()=>l.Z.getLastMessage(e));return null==t?void 0:t.changelogId}},631937:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(192379),l=n(442837),r=n(661111),a=n(706454),s=n(306680),o=n(626135),c=n(802098),d=n(193701),u=n(702321),h=n(981631);function p(e){let t=(0,d.Z)(e),n=(0,l.e7)([a.default],()=>a.default.locale),p=(0,l.e7)([c.Z],()=>c.Z.getChangelog(null!=t?t:"",n),[t,n]),m=(0,u.Z)(e),f=i.useRef(m?Date.now():null),g=(0,l.e7)([s.ZP],()=>s.ZP.getUnreadCount(e),[e]);i.useEffect(()=>{f.current=Date.now()},[m]),i.useEffect(()=>{m&&null!=t&&r.Z.fetchChangelog(t,n,!0)},[t,n,m]),i.useEffect(()=>{m&&null!=p&&o.default.track(h.rMx.CHANGE_LOG_OPENED,{change_log_id:"".concat(p.date,":").concat(p.revision),unread_count:g})},[m,p]),i.useEffect(()=>{let e=f.current;return()=>{m&&null!=p&&null!=e&&(o.default.track(h.rMx.CHANGE_LOG_CLOSED,{seconds_open:Math.round((Date.now()-e)/1e3),change_log_id:"".concat(p.date,":").concat(p.revision),unread_count:g}),f.current=0)}},[m,p])}},890977:function(e,t,n){n.d(t,{b:function(){return v}});var i,l,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),c=n(500923),d=n.n(c),u=n(442837),h=n(607070),p=n(484334),m=n(158877),f=n(406061);function g(e){let t=(0,u.e7)([h.Z],()=>h.Z.useReducedMotion),n=a.useRef(null);return a.useEffect(()=>{let i;return null!=n.current&&(i=d().loadAnimation({container:n.current,renderer:"svg",loop:!0,autoplay:!t,animationData:JSON.parse(JSON.stringify(e))})),()=>{null==i||i.destroy()}},[n,t,e]),n}function C(e){let{className:t}=e;return(0,r.jsx)("div",{ref:g(i||(i=n.t(p,2))),className:o()(f.glow,t)})}function x(e){let{className:t}=e;return(0,r.jsx)("div",{ref:g(l||(l=n.t(m,2))),className:o()(f.trinkets,t)})}let v=e=>{let{children:t,animationContainerClassName:n,glowClassName:i,trinketsClassName:l,onMount:s}=e;return a.useEffect(()=>{s()},[s]),(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)(C,{className:i}),(0,r.jsx)("div",{className:f.circleLayer}),(0,r.jsx)("div",{className:f.entrypoint,children:t}),(0,r.jsx)(x,{className:l})]})}},823748:function(e,t,n){n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(392711),d=n.n(c),u=n(512969),h=n(848246),p=n(442837),m=n(704215),f=n(952265),g=n(481060),C=n(475179),x=n(239091),v=n(377993),_=n(697309),I=n(457868),E=n(561472),b=n(36311),Z=n(112724),N=n(902840),S=n(110924),T=n(317381),j=n(82888),A=n(917107),y=n(296797),P=n(358221),M=n(677601),R=n(541716),L=n(236091),k=n(663993),O=n(252618),D=n(540059),w=n(201493),B=n(605236),U=n(174130),H=n(588322),G=n(446226),F=n(517525),V=n(445384),z=n(613464),W=n(705563),K=n(730647),Y=n(66999),q=n(826763),X=n(180216),J=n(51486),Q=n(168843),$=n(442336),ee=n(57304),et=n(605953),en=n(374306),ei=n(984370),el=n(910611),er=n(915718),ea=n(518311),es=n(180539),eo=n(882378),ec=n(207868),ed=n(246919),eu=n(754688),eh=n(41776),ep=n(6242),em=n(757692),ef=n(933843),eg=n(134483),eC=n(703656),ex=n(359110),ev=n(854709),e_=n(14091),eI=n(6025),eE=n(897473),eb=n(922482),eZ=n(504185),eN=n(657218),eS=n(66556),eT=n(739830),ej=n(377929),eA=n(900157),ey=n(108427),eP=n(171368),eM=n(430670),eR=n(524329),eL=n(995532),ek=n(738643),eO=n(433355),eD=n(592125),ew=n(703558),eB=n(486472),eU=n(731290),eH=n(430824),eG=n(158776),eF=n(19780),eV=n(768119),ez=n(944486),eW=n(914010),eK=n(594174),eY=n(979651),eq=n(933557),eX=n(287746),eJ=n(325708),eQ=n(335615),e$=n(992744),e0=n(923029),e1=n(194082),e2=n(176505),e3=n(981631),e4=n(918559),e7=n(354459),e6=n(921944),e5=n(440493),e9=n(157925),e8=n(388032),te=n(247627);function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let tn=(0,k.Un)({createPromise:()=>n.e("49131").then(n.bind(n,434878)),webpackId:434878,renderLoader:()=>(0,i.jsx)("div",{className:te.loader,children:(0,i.jsx)(g.Spinner,{})}),name:"ForumChannel"});class ti extends l.PureComponent{componentDidMount(){(0,ey.e)("guild_channel")}componentDidUpdate(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.openChannelModal()}openChannelContextMenu(e,t){let{guild:l}=this.props;o()(null!=t,"Missing channel in Channel.openChannelContextMenu"),o()(null!=l,"Missing guild in Channel.openChannelContextMenu"),(0,x.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l})})}openThreadContextMenu(e,t){o()(null!=t,"Missing channel in Channel.openChannelContextMenu"),(0,x.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return n=>(0,i.jsx)(e,{...n,channel:t})})}openDMContextMenu(e,t){o()(null!=t,"Missing channel in Channel.openDMContextMenu");let l=eK.default.getUser(t.getRecipientId());o()(null!=l,"Missing user in Channel.openDMContextMenu"),(0,x.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70205"),n.e("92453"),n.e("56826"),n.e("95324")]).then(n.bind(n,131404));return n=>(0,i.jsx)(e,{...n,user:l,channelSelected:!0,channel:t})})}shouldRenderCall(){let{channel:e,showCall:t,nsfwAllowed:n,nsfwAgree:i}=this.props;return(!(null==e?void 0:e.isNSFW())||n&&i)&&t}renderCall(){let{channel:e}=this.props;if(o()(null!=e,"Missing channel in Channel.renderCall"),!this.shouldRenderCall())return null;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:return(0,i.jsx)(eZ.Z,{channel:e},e.id);case e3.d4z.GUILD_VOICE:case e3.d4z.DM:case e3.d4z.GROUP_DM:case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:let t=this.props.height-200;return(0,i.jsx)(M.Z,{channel:e,renderExternalHeader:this.renderHeaderBar,maxHeight:t},"call-".concat(e.id));default:return null}}renderEmbeddedActivityPanel(){let{channel:e}=this.props,t=this.shouldRenderCall();if(o()(null!=e,"Missing channel in Channel.renderEmbeddedActivityPanel"),t)return null;let n=this.props.height-200;return(0,i.jsx)(j.Z,{maxHeight:n,renderExternalHeader:this.renderHeaderBar})}renderChat(){let{channel:e,nsfwAgree:t,guild:n,nsfwAllowed:l,needSubscriptionToAccess:r}=this.props;if(o()(null!=e,"Missing channel in Channel.renderChat"),r)return(o()(null!=n,"premium channels must exist within a guild"),null==e?void 0:e.isRoleSubscriptionTemplatePreviewChannel())?(0,i.jsx)(q.Z,{guildId:n.id}):(0,i.jsx)(K.l,{guildId:n.id,children:(0,i.jsx)(X.Z,{channelId:e.id,guildId:n.id})});if(e.isNSFW()&&(!l||!t))return(0,i.jsx)(b.Z,{guild:n});if(e.isGuildVocal())return null;if(e.isDirectory())return o()(null!=n,"directory channels must exist within a guild"),(0,i.jsx)(w.Z,{channel:e,guild:n});if(e.isForumLikeChannel()){o()(null!=n,"forum channels must exist within a guild");let t={isThreadSidebarFloating:this.state.isThreadSidebarFloating,threadSidebarWidth:this.state.threadSidebarWidth};return(0,i.jsx)(tn,{channel:e,guild:n,sidebarState:t},e.id)}return(0,i.jsx)(eX.Z,{channel:e,guild:n,chatInputType:R.Ie.NORMAL},null!=n?n.id:"home")}renderSidebar(){let{searchId:e,channel:t,parentChannel:n,guild:l,needSubscriptionToAccess:r,section:a,showCall:s,showActivityPanel:c}=this.props;if(o()(null!=t,"Missing channel in Channel.renderSidebar"),__OVERLAY__||r);else if(a===e3.ULH.PROFILE&&t.isPrivate()&&!s&&!c)return(0,i.jsx)(eM.Z,{channel:t},"private-channel-profile-".concat(t.id));else if(a===e3.ULH.MEMBERS)switch(t.type){case e3.d4z.GROUP_DM:return(0,i.jsx)(v.Z,{channel:t},"private-channel-recipients-".concat(t.id));case e3.d4z.GUILD_DIRECTORY:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:var d;let u=!0===e3.TPd.GUILD_THREADS_ONLY.has(t.type)?t.id:null!==(d=t.guild_id)&&void 0!==d?d:t.id;return(0,i.jsx)(eQ.Z,{channel:t},"channel-members-".concat(u));case e3.d4z.ANNOUNCEMENT_THREAD:if(null!=n)return(0,i.jsx)(eQ.Z,{channel:n},"channel-members-".concat(n.id));break;case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:if(!t.isArchivedThread()&&null!=l)return(0,i.jsx)(I.Z,{channel:t,guild:l},"channel-members-".concat(t.id))}else if(a===e3.ULH.SEARCH&&null!=e)return(0,i.jsx)(e_.Z,{searchId:e});return null}openChannelModal(){let{channel:e,guildId:t,hasModalOpen:l,showWelcomeModal:r,isLurking:a,isUnavailable:s,showRealNameModal:o}=this.props;return null==e||null==t||s||l?null:(o&&(0,g.openModalLazy)(async()=>{let{default:e}=await n.e("53900").then(n.bind(n,784280));return n=>(0,i.jsx)(e,{...n,guildId:t})},{onCloseCallback:()=>V.Z.viewPrompt(e5.r.REAL_NAME_PROMPT,t),modalKey:"Guild Hub Real Name Modal"}),r&&(0,g.openModalLazy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return n=>(0,i.jsx)(e,{...n,guildId:t})},{onCloseCallback:()=>(0,eR.y0)(t,a),modalKey:"Guild Welcome Screen Modal"}),null)}renderThreadSidebar(){let e;let{channel:t,section:n,channelSidebarState:l,guildSidebarState:r,nsfwAgree:a,nsfwAllowed:s,width:o,isRefreshEnabled:c}=this.props;if(null==r&&null==l)return null;if(n===e3.ULH.SIDEBAR_CHAT&&null!=l){if((null==t?void 0:t.isNSFW())&&(!s||!a))return null;switch(l.type){case eE.tI.CREATE_THREAD:if(null==t?void 0:t.isForumLikeChannel())return null;e=(0,i.jsx)(eN.Z,{parentChannelId:l.parentChannelId,parentMessageId:l.parentMessageId,location:l.location});break;case eE.tI.VIEW_THREAD:let n=(null==t?void 0:t.isForumLikeChannel())?H.Z:eA.Z;e=(0,i.jsx)(n,{channelId:l.channelId});break;case eE.tI.VIEW_CHANNEL:case eE.tI.VIEW_MESSAGE_REQUEST:default:return null}}if(null!=r&&null==e){if(r.type===eE.jL.GUILD_MEMBER_MOD_VIEW){let{guildId:e,userId:t}=r.details;return(0,i.jsx)("div",{style:{width:e3.$Y6},className:te.guildSidebar,children:(0,i.jsx)(z.Z,{guildId:e,userId:t,onClose:()=>eI.Z.closeGuildSidebar(e)})})}return null}if(null==e)return null;let d=(null==t?void 0:t.type)!=null&&e3.TPd.GUILD_THREADS_ONLY.has(t.type)?528:450,u=o-e3.PrS-d;return c&&(u+=_.qO),(0,i.jsx)(eJ.Z,{sidebarType:(null==t?void 0:t.type)!=null&&e3.TPd.GUILD_THREADS_ONLY.has(t.type)?eJ.y.PostSidebar:eJ.y.ThreadSidebar,maxWidth:u,onWidthChange:this.handleThreadSidebarResize,children:e})}render(){let{channel:e,guild:t,formattedChannelName:n,isUnavailable:l,layout:r,section:s,hasModalOpen:o,guildSidebarState:c,hasTextActivityInPanelMode:d}=this.props,{threadSidebarWidth:u,isThreadSidebarFloating:h}=this.state,p=this.shouldRenderCall();if(l)return(0,i.jsx)(e$.Z,{});if(null==e)return(0,i.jsx)(e0.Z,{channelId:this.props.channelId});let m=s===e3.ULH.SIDEBAR_CHAT,f=null!=c&&!m,g=!e.isForumLikeChannel()&&!o,C=null==t?void 0:t.name;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.yY,{location:C,subsection:null!=n?n:void 0}),(0,i.jsxs)("div",{"data-has-border":e.type!==e3.d4z.GUILD_VOICE,className:a()(te.chat,{[te.threadSidebarOpen]:m||f,[te.threadSidebarFloating]:m&&h}),children:[g?(0,i.jsx)(E.Z,{style:{right:m?u:void 0},className:te.uploadArea,channel:e,draftType:ew.d.ChannelMessage}):null,p||d?null:this.renderHeaderBar(),this.renderCall(),this.renderEmbeddedActivityPanel(),(0,i.jsxs)("div",{className:a()(te.content,{[te.noChat]:r===e3.AEg.NO_CHAT}),children:[this.renderChat(),this.renderSidebar()]})]}),this.renderThreadSidebar(),(0,i.jsx)(J.Z,{})]})}constructor(...e){super(...e),tt(this,"state",{topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1}),tt(this,"handleTitleParentClick",()=>{let{parentChannel:e}=this.props;if(null!=e)(0,ex.Kh)(e.id)}),tt(this,"_handleContextMenu",(e,t)=>{switch(t.type){case e3.d4z.GUILD_VOICE:case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:this.openChannelContextMenu(e,t);break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PUBLIC_THREAD:case e3.d4z.PRIVATE_THREAD:this.openThreadContextMenu(e,t);break;case e3.d4z.DM:this.openDMContextMenu(e,t)}}),tt(this,"handleContextMenu",e=>{o()(null!=this.props.channel,"Missing channel in Channel.handleContextMenu"),this._handleContextMenu(e,this.props.channel)}),tt(this,"handleParentContextMenu",e=>{o()(null!=this.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu"),this._handleContextMenu(e,this.props.parentChannel)}),tt(this,"handleThreadSidebarResize",(e,t)=>{this.setState({threadSidebarWidth:e,isThreadSidebarFloating:t})}),tt(this,"openUserProfile",()=>{let{channel:e}=this.props;o()(null==e?void 0:e.isPrivate(),"Missing private channel in Channel.openUserProfile"),(0,eP.openUserProfileModal)({userId:e.getRecipientId(),guildId:e.guild_id,channelId:e.id,analyticsLocation:{section:e3.jXE.CHANNEL_HEADER}})}),tt(this,"renderJoinRequestInterviewButtons",()=>{let{channel:e}=this.props;return(null==e?void 0:e.hasFlag(e2.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL))?(0,i.jsx)(W.Z,{channelId:e.id,showTrailingDivider:!0}):null}),tt(this,"renderClipsEnabledIndicatorToolbarItem",()=>{let{inCall:e,voiceChannel:t}=this.props;return e?(0,i.jsx)(L.Z,{channelId:null!=t?t.id:null}):null}),tt(this,"renderStreamQualityLiveIndicatorToolbarItem",()=>{let{selectedParticipant:e,premiumIndicatorEnabled:t}=this.props;return(null==e?void 0:e.type)!==e7.fO.STREAM?null:(0,i.jsx)(F.Z,{size:e1.ZP.Sizes.LARGE,participant:e,showQuality:!0,premiumIndicator:t},"live-indicator")}),tt(this,"renderHeaderToolbar",()=>{let{channel:e,parentChannel:t,isLurking:n,showCall:l,showActivityPanel:r}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let a=[];if(e.isSystemDM())return a;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:case e3.d4z.GUILD_VOICE:break;case e3.d4z.DM:a.push(this.renderClipsEnabledIndicatorToolbarItem()),a.push(this.renderStreamQualityLiveIndicatorToolbarItem()),a.push((0,i.jsx)(er.Z,{channel:e},"calls")),a.push((0,i.jsx)(ee.Z,{channel:e},"pins")),a.push((0,i.jsx)(ea.Z,{channel:e,tooltip:e8.intl.string(e8.t.Xjlbvr)},"invite")),a.push((0,i.jsx)(es.Z,{channel:e,showCallOrActivityPanel:l||r},"profile")),a.push((0,i.jsx)(eo.Z,{channel:e},"safety_tools"));break;case e3.d4z.GROUP_DM:if(a.push(this.renderJoinRequestInterviewButtons()),a.push(this.renderClipsEnabledIndicatorToolbarItem()),a.push(this.renderStreamQualityLiveIndicatorToolbarItem()),a.push((0,i.jsx)(er.Z,{channel:e},"calls")),a.push((0,i.jsx)(ee.Z,{channel:e},"pins")),!e.isManaged()){let t=e8.intl.string(e8.t.Xjlbvr);a.push((0,i.jsx)(ea.Z,{channel:e,tooltip:t},"invite"))}a.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"));break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PRIVATE_THREAD:case e3.d4z.PUBLIC_THREAD:null!=t&&!t.isForumLikeChannel()&&a.push((0,i.jsx)(eS.Z,{channel:t},"browser")),e.isVocalThread()&&a.push((0,i.jsx)(ec.Z,{channel:e},"thread-call")),a.push((0,i.jsx)(eT.Z,{channel:e},"notifications")),a.push((0,i.jsx)(ee.Z,{channel:e},"pins")),!e.isArchivedThread()&&a.push((0,i.jsx)(Q.Z,{channelId:e.id},"members")),null!=t&&(0,N.Lp)(e)&&a.push((0,i.jsx)(et.Z,{channel:e},"summaries")),a.push((0,i.jsx)(ej.Z,{channel:e},"threads-overflow"));break;case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:a.push((0,i.jsx)(U.Z,{channel:e},"favorites")),a.push((0,i.jsx)(eS.Z,{channel:e},"browser")),!n&&a.push((0,i.jsx)($.Z,{channel:e},"notifications")),a.push((0,i.jsx)(ee.Z,{channel:e},"pins")),a.push((0,i.jsx)(Q.Z,{channelId:e.id},"members")),(0,N.Lp)(e)&&a.push((0,i.jsx)(et.Z,{channel:e},"summaries"));break;case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:!n&&(a.push((0,i.jsx)(en.Z,{channel:e},"forum-onboarding")),a.push((0,i.jsx)($.Z,{channel:e},"notifications"))),!__OVERLAY__&&a.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"));break;case e3.d4z.GUILD_DIRECTORY:a.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"))}return a}),tt(this,"renderMobileToolbar",()=>{let{channel:e}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderToolbar");let t=[];if(e.isSystemDM())return t;switch(e.type){case e3.d4z.GUILD_STAGE_VOICE:case e3.d4z.GUILD_VOICE:case e3.d4z.DM:break;case e3.d4z.GROUP_DM:t.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"));break;case e3.d4z.ANNOUNCEMENT_THREAD:case e3.d4z.PRIVATE_THREAD:case e3.d4z.PUBLIC_THREAD:!e.isArchivedThread()&&t.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"));break;case e3.d4z.GUILD_ANNOUNCEMENT:case e3.d4z.GUILD_TEXT:case e3.d4z.GUILD_FORUM:case e3.d4z.GUILD_MEDIA:case e3.d4z.GUILD_DIRECTORY:t.push((0,i.jsx)(Q.Z,{channelId:e.id},"members"))}return t}),tt(this,"renderFollowButton",()=>{let{showFollowButton:e,channel:t}=this.props;return e?(0,i.jsx)(g.Button,{size:g.Button.Sizes.MIN,color:g.Button.Colors.PRIMARY,className:te.followButton,onClick:()=>(0,g.openModalLazy)(async()=>{let{default:e}=await n.e("54642").then(n.bind(n,720589));return n=>(0,i.jsx)(e,{channel:t,...n})}),children:e8.intl.string(e8.t["3aOv+v"])}):null}),tt(this,"renderHeaderBar",()=>{let{channel:e,channelName:t,parentChannel:n,guild:l,guildId:r,showCall:s,showActivityPanel:c,hasVideo:d,headerGuildBreadcrumbPosition:u,isFavorites:h}=this.props;o()(null!=e,"Missing channel in Channel.renderHeaderBar"),o()(null!=t,"Should not be null if channel is not null.");let p=e.isDM()&&!e.isSystemDM()?this.openUserProfile:void 0,m=(null==n?void 0:n.guild_id)!=null&&(null==n?void 0:n.id)!=null?this.handleTitleParentClick:void 0;return(0,i.jsxs)("div",{className:te.subtitleContainer,children:[(0,i.jsx)(g.ThemeProvider,{theme:d&&s?e3.BRd.DARK:void 0,children:o=>(0,i.jsxs)(ei.Z,{guildId:r,channelId:e.id,channelType:e.type,hideSearch:e.isDirectory()||h&&!(0,ev.X)(),showDivider:h&&!(0,ev.X)(),toolbar:this.renderHeaderToolbar(),mobileToolbar:this.renderMobileToolbar(),className:a()(te.title,o),transparent:s||c,"aria-label":e8.intl.string(e8.t.BIYAqa),children:["left"===u&&(0,i.jsx)(el.TS,{channel:e,guild:l,caretPosition:"right"}),(0,el.ud)({channel:e,channelName:t,parentChannel:n,guild:l,hasVideo:d,handleContextMenu:this.handleContextMenu,handleParentContextMenu:this.handleParentContextMenu,handleClick:p,handleParentClick:m,renderFollowButton:this.renderFollowButton}),"right"===u&&(0,i.jsx)(el.TS,{channel:e,guild:l,caretPosition:"left"}),(0,el.v0)(e,l)]},"header-".concat(e.id))}),(0,i.jsx)(eg.Z,{channelId:e.id})]})})}}let tl=(0,Z.Z)(ti);t.Z=l.memo(function(e){var t;let{providedChannel:n}=e,[r,a]=l.useState(null),s=(0,p.e7)([ez.Z],()=>ez.Z.getChannelId()),o=(0,p.e7)([ez.Z],()=>ez.Z.getVoiceChannelId()),c=(0,p.e7)([eD.Z],()=>null!=n?n:eD.Z.getChannel(s),[s,n]),g=(0,p.e7)([eD.Z],()=>eD.Z.getChannel(o),[o]),x=null==c?void 0:c.parent_id,v=(0,p.e7)([eD.Z],()=>eD.Z.getChannel(x),[x]),_=(0,p.e7)([eH.Z],()=>eH.Z.getGuild(null==c?void 0:c.guild_id),[c]),{needSubscriptionToAccess:I}=(0,Y.Z)(null!==(t=null==c?void 0:c.id)&&void 0!==t?t:void 0),E=(0,p.e7)([P.Z],()=>{let e=null!=s?P.Z.getParticipants(s):[],t=null!=s?P.Z.getActivityParticipants(s):[];return e.length-t.length>0},[s]),b=(0,G.Z)(),Z=(0,p.e7)([ez.Z],()=>{var e;return(null!==(e=null==b?void 0:b.channelId)&&void 0!==e?e:ez.Z.getVoiceChannelId())===(null==c?void 0:c.id)}),j=(0,p.e7)([T.ZP],()=>null!=c?T.ZP.getSelfEmbeddedActivityForChannel(c.id):null,[c]),M=(0,p.e7)([eF.Z],()=>eF.Z.isConnected()),R=(0,S.Z)(M),L=M&&!1===R;l.useEffect(()=>{Z&&L&&null!=j&&null!=c&&C.Z.selectParticipant(c.id,j.applicationId)},[L,c,Z,j]);let k=(0,p.e7)([T.ZP],()=>{var e;return T.ZP.getSelfEmbeddedActivityForChannel(null!==(e=null==c?void 0:c.id)&&void 0!==e?e:e3.lds)}),O=(0,p.e7)([T.ZP],()=>T.ZP.getActivityPanelMode()),w=null!=k&&!(0,A.Z)(null==c?void 0:c.id)&&O===e4.Ez.PANEL,U=(0,p.e7)([eY.Z],()=>null!=c&&c.isVocalThread()&&!d().isEmpty(eY.Z.getVoiceStatesForChannel(c.id)),[c]),H=null!=c&&c.isPrivate()&&!w&&E,F=(null==c?void 0:c.isGuildVocal())||H||U,{welcomeModalChannelId:V}=(0,u.TH)(),z=(0,p.e7)([eh.Z],()=>null!=c&&eh.Z.isLurking(c.guild_id),[c]),W=(0,p.e7)([eL.Z],()=>eL.Z.hasSeen(null==c?void 0:c.guild_id,z),[c,z]),K=(0,p.e7)([P.Z,T.ZP],()=>null!=T.ZP.getConnectedActivityChannelId()&&T.ZP.getActivityPanelMode()===e4.Ez.PANEL?T.ZP.getFocusedLayout()===e4.MI.NO_CHAT?e3.AEg.NO_CHAT:e3.AEg.NORMAL:null!=s?P.Z.getLayout(s):e3.AEg.NORMAL,[s]),q=(0,p.e7)([P.Z],()=>null!=c?P.Z.getSelectedParticipant(c.id):null),X=(0,p.e7)([eK.default],()=>eK.default.getCurrentUser()),J=(0,ed.Z)(_),Q=(0,ek.Z)(V,null==_?void 0:_.id),{section:$,channelSidebarState:ee}=(0,p.cj)([eO.ZP],()=>({section:eO.ZP.getSection(s,null==c?void 0:c.isDM()),channelSidebarState:eO.ZP.getSidebarState(s)}),[s,c]),et=null==_?void 0:_.id,en=(0,p.e7)([eO.ZP],()=>eO.ZP.getGuildSidebarState(et),[et]),ei=(0,p.e7)([eW.Z],()=>eW.Z.getGuildId())===e3.I_8,el=(0,ef.So)(h.q.STREAM_HIGH_QUALITY),er=(0,em.o)(q,X),ea=(0,ep.lL)("Channel",!0,X,er),es=(0,eq.ZP)(c),eo=(0,eq.ZP)(c,!0),ec=null!=c&&o===c.id,eg=null!=c&&c.isGuildStageVoice();(0,y.Z)({onTransition:void 0}),l.useEffect(()=>{var e,t,n;let i=(0,eC.s1)();if((null==i?void 0:null===(e=i.location)||void 0===e?void 0:e.state)===e9.Df){let{channelId:e}=null!==(n=(0,eu.Qj)(null==i?void 0:null===(t=i.location)||void 0===t?void 0:t.pathname))&&void 0!==n?n:{};null!=e&&a(e)}},[]),l.useEffect(()=>{null!=r&&null!=c&&eg&&c.id===r&&!ec&&((0,eb.Cq)(c),a(null))},[r,eg]);let ex=(0,N.ts)(c),ev=null!=c&&c.isPrivate(),e_=(0,S.Z)(ev),eI=(0,S.Z)(null==c?void 0:c.id);l.useEffect(()=>{let e=e_&&!ev,t=e_&&ev&&(null==c?void 0:c.id)!==eI;(e||t)&&(0,B.EW)(m.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:e6.L.AUTO})},[null==c?void 0:c.id,eI,ev,e_]);let eE=(0,f.f9)(),eZ=(0,D.Q3)("Channel");return(0,i.jsx)(tl,{guildId:null==c?void 0:c.guild_id,channelId:s,channel:c,channelName:es,formattedChannelName:eo,parentChannel:v,voiceChannel:g,layout:K,needSubscriptionToAccess:I,isLurking:z,hasModalOpen:eE,section:$,channelSidebarState:ee,guildSidebarState:en,guild:_,searchId:(0,p.e7)([eV.Z],()=>eV.Z.getCurrentSearchId()),showCall:!I&&F,showActivityPanel:w,nsfwAgree:(0,p.e7)([eU.Z],()=>eU.Z.didAgree(null==c?void 0:c.guild_id)),isMobile:(0,p.e7)([eG.Z],()=>(null==c?void 0:c.type)===e3.d4z.DM&&eG.Z.isMobileOnline(c.getRecipientId()),[c]),isUnavailable:(0,p.e7)([eB.Z],()=>(null==c?void 0:c.guild_id)!=null&&eB.Z.isUnavailable(c.guild_id),[c]),showRealNameModal:J,showWelcomeModal:!W&&Q,showFollowButton:(null==c?void 0:c.type)===e3.d4z.GUILD_ANNOUNCEMENT&&(null==_?void 0:_.hasFeature(e3.oNc.NEWS))||!1,...(0,p.cj)([eY.Z],()=>({hasVideo:null!=c&&eY.Z.hasVideo(c.id)}),[c]),inCall:ec,selectedParticipant:q,nsfwAllowed:(null==X?void 0:X.nsfwAllowed)===!0,showChannelSummaries:ex,isFavorites:ei,headerGuildBreadcrumbPosition:ei?"left":"right",premiumIndicatorEnabled:el||ea.enabled,hasTextActivityInPanelMode:w,isRefreshEnabled:eZ})})},165540:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(704215),c=n(749280),d=n(481060),u=n(367907),h=n(499254),p=n(541099),m=n(827498),f=n(569211),g=n(663924),C=n(533379),x=n(404295),v=n(540059),_=n(605236),I=n(819640),E=n(291407),b=n(685006),Z=n(61356),N=n(981631),S=n(314734),T=n(921944),j=n(388032),A=n(805660),y=n(795361);let P=l.forwardRef(function(e,t){let{type:n,animateRef:r}=e,f=(0,s.e7)([p.Z],()=>p.Z.shouldShowPopup()&&p.Z.activeViewType()===n),{Component:g,events:C,play:x}=(0,c.w)(),I=(0,v.Q3)("ChannelAppLauncherButton");l.useImperativeHandle(r,()=>({animate:()=>{C.onMouseEnter()}}),[C]);let E=l.useCallback(()=>{(0,u.yw)(N.rMx.APP_LAUNCHER_ENTRYPOINT_BUTTON_CLICKED),f?h.yT(m.ti.DISMISSED):((0,_.EW)(o.z.DESKTOP_APP_LAUNCHER_ONBOARDING,{dismissAction:T.L.TAKE_ACTION}),h.__(m._b.TEXT,n)),x()},[f,n,x]);return(0,i.jsx)("div",{className:a()(A.buttonContainer,S.t4),ref:t,children:(0,i.jsx)(d.Button,{look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,tabIndex:0,className:a()(A.button,{[A.buttonActive]:f}),onClick:E,"aria-label":j.intl.string(j.t.erHFxM),focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}},innerClassName:A.buttonContents,...C,children:(0,i.jsx)(g,{size:I?"refresh_sm":void 0,color:"currentColor"})})})});function M(e){let{showAppLauncherPopup:t,children:n}=e,l=(0,s.e7)([I.Z],()=>I.Z.hasLayers()),{enabled:r,shouldShow:o,applicationDetails:c,showsTooltip:u}=(0,f.Z)({obstructedFromView:l,disabled:t});if(!r)return(0,i.jsx)(i.Fragment,{children:n});let h=o&&(null==c?void 0:c.iconURL)!=null?(0,i.jsxs)("div",{className:A.channelAppLauncherButtonPopoutIconContainer,children:[(0,i.jsx)("img",{className:a()(A.buttonContainer,A.button,A.channelAppLauncherButtonPopoutIcon),alt:j.intl.string(j.t.X4IxWF),src:null==c?void 0:c.iconURL,"aria-hidden":!0,draggable:!1}),(0,i.jsx)("div",{className:A.channelAppLauncherButtonPopoutIconShimmerContainer,children:(0,i.jsx)("img",{className:a()(A.channelAppLauncherButtonPopoutIconShimmer),alt:j.intl.string(j.t.X4IxWF),src:y,"aria-hidden":!0,draggable:!1})})]}):null;return u?(0,i.jsx)(d.Tooltip,{text:j.intl.string(j.t.JDj6Xl),shouldShow:o,forceOpen:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[h,n]})}):(0,i.jsxs)(i.Fragment,{children:[h,n]})}t.Z=l.memo(function(e){let{channel:t,type:n,animateRef:r,entryPointCommandButtonRef:a}=e,o=l.useRef(null),c=(0,C.R)({channel:t,chatInputType:n,location:"chat_input"}),d=(0,Z.Z)({type:n}),u=(0,x.h9)(t.id,"ChannelAppLauncher"),h=(0,s.e7)([p.Z],()=>p.Z.appDMChannelsWithFailedLoads().has(t.id)),{visible:m}=(0,b.xL)();return c?(0,i.jsxs)("div",{className:A.channelAppLauncher,children:[(0,i.jsx)(E.Z,{channel:t,animationContainerClassName:A.entrypointAnimation,glowClassName:A.animationGlow,trinketsClassName:A.animationTrinkets,children:(0,i.jsx)(M,{showAppLauncherPopup:d,children:(0,i.jsx)(P,{type:n,ref:o,animateRef:r})})}),d?(0,i.jsx)(g.Z,{positionTargetRef:u&&!h&&m?a:o,channel:t}):null]}):null})},291407:function(e,t,n){n.d(t,{Z:function(){return h}}),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(605236),o=n(243778),c=n(375954),d=n(890977),u=n(921944);function h(e){let{children:t,animationContainerClassName:n,glowClassName:h,trinketsClassName:p}=e,m=(0,r.e7)([c.Z],()=>c.Z.hasCurrentUserSentMessageSinceAppStart()),f=l.useMemo(()=>{let e=[];return m&&e.push(a.z.DESKTOP_APP_LAUNCHER_ONBOARDING),e},[m]),g=()=>{setTimeout(()=>(0,s.EW)(a.z.DESKTOP_APP_LAUNCHER_ONBOARDING,{dismissAction:u.L.AUTO_DISMISS}),1e4)};return(0,i.jsx)(o.ZP,{contentTypes:f,children:e=>{let{visibleContent:l}=e;if(l===a.z.DESKTOP_APP_LAUNCHER_ONBOARDING)return(0,i.jsx)(d.b,{animationContainerClassName:n,glowClassName:h,trinketsClassName:p,onMount:g,children:t});return t}})}},287746:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(873546),d=n(106351),u=n(442837),h=n(481060),p=n(430742),m=n(904245),f=n(144144),g=n(166459),C=n(966390),x=n(738619),v=n(410575),_=n(744061),I=n(857595),E=n(607070),b=n(367907),Z=n(450936),N=n(993766),S=n(499254),T=n(541099),j=n(827498),A=n(46332),y=n(533379),P=n(555573),M=n(456007),R=n(10718),L=n(998698),k=n(895924),O=n(581364),D=n(667204),w=n(404295),B=n(541716),U=n(752305),H=n(516887),G=n(974251),F=n(893718),V=n(436660),z=n(603009),W=n(540059),K=n(28546),Y=n(295474),q=n(521476),X=n(69882),J=n(71619),Q=n(185145),$=n(736052),ee=n(146128),et=n(549006),en=n(925975),ei=n(957730),el=n(400023),er=n(64078),ea=n(351780),es=n(843693),eo=n(217871),ec=n(139577),ed=n(247944),eu=n(623292),eh=n(807092),ep=n(268350),em=n(155409),ef=n(314897),eg=n(433355),eC=n(703558),ex=n(323873),ev=n(271383),e_=n(375954),eI=n(496675),eE=n(944486),eb=n(117530),eZ=n(594174),eN=n(626135),eS=n(934415),eT=n(459273),ej=n(585483),eA=n(709054),ey=n(838440),eP=n(127654),eM=n(979956),eR=n(655687),eL=n(165540),ek=n(583027),eO=n(25007),eD=n(685006),ew=n(685722),eB=n(199649),eU=n(1397),eH=n(981631),eG=n(388032),eF=n(247627),eV=n(89111);function ez(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){e.preventDefault()}let eK=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function eY(e){let{isSidebar:t,...n}=e;return t?(0,i.jsx)("section",{...n,role:"complementary"}):(0,i.jsx)("main",{...n})}class eq extends l.PureComponent{componentDidMount(){eC.Z.addChangeListener(this.draftDidChange)}componentWillUnmount(){eC.Z.removeChangeListener(this.draftDidChange)}componentDidUpdate(e,t){let{channel:n}=this.props,{textValue:i}=this.state;if(e.channel.id!==n.id){this.draftDidChange(this.props);return}if(e.hasModalOpen&&!this.props.hasModalOpen){let e=eC.Z.getDraft(n.id,eC.d.ChannelMessage);e!==i&&this.setState((0,U.eK)(e))}t.textValue.length<eH.J6R&&i.length>=eH.J6R&&eN.default.track(eH.rMx.MESSAGE_LENGTH_LIMIT_REACHED,{})}handleEditLastMessage(e){let{channel:t}=this.props;m.Z.startEditMessage(t.id,e.id,e.content),b.ZP.trackWithMetadata(eH.rMx.MESSAGE_EDIT_UP_ARROW)}handleRecallLastCommand(e){if(null==e.interactionData)return;let{channel:t}=this.props,{commandKey:n,interactionOptions:i}=(0,O.XA)(e.interactionData),{command:l,application:r}=R.Xq(t,n);if(null!=l){var a,s;let e=null!=r?{type:k.Qi.APPLICATION,id:r.id,icon:r.icon,name:null!==(s=null==r?void 0:null===(a=r.bot)||void 0===a?void 0:a.username)&&void 0!==s?s:r.name,application:r}:null;P.Po({channelId:t.id,command:l,section:e,location:k.Vh.RECALL,initialValues:(0,M.Dw)(l,null!=i?i:[])})}}render(){let{channel:e,focused:t,onBlur:n,onFocus:l,onResize:r,highlighted:a,pendingReply:s,chatInputType:c,placeholder:d,accessibilityLabel:u,shakeIntensity:p,poggermodeEnabled:m,onCommandSentinelTyped:f,renderAppLauncherButton:g}=this.props,{contentWarningProps:C}=this.state,x=(0,i.jsx)(F.Z,{textValue:this.state.textValue,richValue:this.state.richValue,focused:t,className:eF.channelTextArea,channel:e,placeholder:d,accessibilityLabel:u,pendingReply:s,type:c,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:r,onFocus:l,onBlur:n,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,renderAppLauncherButton:g,promptToUpload:eP.d,highlighted:a,setEditorRef:e=>this.editorRef=e,onCommandSentinelTyped:f});return(0,i.jsx)(h.Popout,{position:"top",onRequestClose:()=>{var e;null==C||null===(e=C.onCancel)||void 0===e||e.call(C),this.setState({contentWarningProps:null})},shouldShow:null!=C,renderPopout:e=>{let{closePopout:t}=e;return o()(null!=C,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null"),(0,i.jsx)(_.Z,{onClose:t,...C})},children:()=>m?(0,i.jsx)(h.Shaker,{isShaking:p>0,intensity:p,className:eF.shaker,children:x}):x})}constructor(...e){var t;super(...e),t=this,ez(this,"isFirstChange",!0),ez(this,"editorRef",null),ez(this,"state",{...(0,U.eK)(eC.Z.getDraft(this.props.channel.id,eC.d.ChannelMessage)),contentWarningProps:null}),ez(this,"draftDidChange",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,{textValue:n}=t.state,i=eC.Z.getDraft(e.channel.id,eC.d.ChannelMessage);n!==i&&(""===i||""===n)&&t.setState((0,U.eK)(i),()=>{if(n!==i){let{onFocus:e}=t.props;null==e||e()}})}),ez(this,"handleKeyDown",e=>{let{keyboardModeEnabled:t,onKeyDown:n,channel:i}=this.props,l=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,r=0!==this.state.textValue.length;switch(e.which){case eH.yXg.DELETE:case eH.yXg.BACKSPACE:this.handleIncrementCombo("",1);return;case eH.yXg.ARROW_UP:if(l||r)return;if(e.preventDefault(),t)eb.Z.getUploadCount(i.id,eC.d.ChannelMessage)>0?ej.S.dispatchToLastSubscribed(eH.CkL.FOCUS_ATTACHMENT_AREA):ej.S.dispatchToLastSubscribed(eH.CkL.FOCUS_MESSAGES,{atEnd:!0});else{let{channel:e}=this.props,t=e_.Z.getLastChatCommandMessage(e.id),n=e_.Z.getLastEditableMessage(e.id);null!=t&&null!=n?eA.default.compare(n.id,t.id)>0?this.handleEditLastMessage(n):this.handleRecallLastCommand(t):null!=t?this.handleRecallLastCommand(t):null!=n&&this.handleEditLastMessage(n)}return;case eH.yXg.ESCAPE:if(l||e.target!==e.currentTarget)return;if(e.preventDefault(),t){(0,I.rf)();return}if(eb.Z.getUploadCount(i.id,eC.d.ChannelMessage)>0){g.Z.clearAll(i.id,eC.d.ChannelMessage);return}}null==n||n(e,r)}),ez(this,"handleIncrementCombo",(e,t)=>{var n;if(!this.props.poggermodeEnabled)return;let i=this.props.channel.id,l=ef.default.getId(),r=es.ZP.getUserCombo(l,i),a=(null!==(n=null==r?void 0:r.value)&&void 0!==n?n:0)+1;(0,er.SE)({channelId:i,userId:l,value:null!=e?e.length:a,multiplier:t})}),ez(this,"handleTextareaChange",(e,t,n)=>{let{keyboardModeEnabled:i,channel:{id:l}}=this.props;p.Z.changeDraft(l,t,eC.d.ChannelMessage);let r=""!==t&&n!==this.state.richValue,a=r&&!eK.test(t)&&!t.startsWith("/")&&(!this.isFirstChange||t!==this.state.textValue);this.isFirstChange=!1,a&&this.state.textValue.length<t.length&&this.handleIncrementCombo(),a?f.Z.startTyping(l):""===t&&f.Z.stopTyping(l),r&&i&&(0,I.rf)(),this.setState({textValue:t,richValue:n})}),ez(this,"handleSendMessage",async e=>{let{value:t,uploads:n,stickers:i,command:l,commandOptionValues:r,isGif:a}=e;if(0===(t=t.trim()).length&&(null==i||0===i.length)&&(null==n||0===n.length))return Promise.resolve({shouldClear:!1,shouldRefocus:!0});let{guild:s,channel:o,pendingReply:c,chatInputType:d}=this.props,u=!1;if(null!=l){if(l.inputType===k.iw.BUILT_IN_INTEGRATION)return ej.S.dispatch(eH.CkL.SHAKE_APP,{duration:200,intensity:2}),Promise.resolve({shouldClear:!1,shouldRefocus:!0});let e=L.Z.getCommandOrigin(o.id);if(e===k.bB.APPLICATION_LAUNCHER||e===k.bB.IMAGE_RECS_MENU||e===k.bB.IMAGE_RECS_SUBMENU){var h;let{location:t,sectionName:n}=null!==(h=(0,ek._U)(l))&&void 0!==h?h:{},i=e===k.bB.APPLICATION_LAUNCHER?T.Z.lastShownEntrypoint():j._b.TEXT;if(!await (0,A.L)({applicationId:l.applicationId,channel:o,location:t,sectionName:n,entrypoint:i}))return Promise.resolve({shouldClear:!1,shouldRefocus:!0});(0,ek.SC)(l)}let n=await (0,D.Z)({command:l,optionValues:null!=r?r:{},context:{guild:s,channel:o}});if(l.inputType!==k.iw.BUILT_IN_TEXT)return Promise.resolve({shouldClear:!0,shouldRefocus:!0});null!=n&&(t=null!=n.content&&""!==n.content?n.content:t,u=!0===n.tts)}return(0,ey.v)({openWarningPopout:e=>this.setState({contentWarningProps:e}),type:this.props.chatInputType,content:t,stickers:i,uploads:n,channel:o}).then(e=>{let{valid:l,failureReason:r}=e;if(!l)return r===eH.zYc.SLOWMODE_COOLDOWN?(ej.S.dispatch(eH.CkL.SHAKE_APP,{duration:200,intensity:2}),ej.S.dispatch(eH.CkL.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1};let h=(0,en.g)(t,{channel:o,isEdit:!1});null!=h&&(null!=h.content&&(t=h.content),null!=h.tts&&(u=h.tts));let p=ei.ZP.parse(o,t);p.tts=p.tts||u;let f=m.Z.getSendMessageOptionsForReply(c);if(a)return m.Z.sendMessage(o.id,p,void 0,f),(0,eu.A6)(o.id),{shouldClear:!1,shouldRefocus:!0};if(null!=n&&n.length>0){let e=(0,eM.KZ)(n);if((0,eM.Bf)(e,null==s?void 0:s.id))return(0,eP.G)(o,e),{shouldClear:!1,shouldRefocus:!1};C.Z.uploadFiles({channelId:o.id,uploads:n,draftType:eC.d.ChannelMessage,parsedMessage:p,options:{...f,stickerIds:i}}),g.Z.clearAll(o.id,eC.d.ChannelMessage)}else null!=i&&i.length>0?""!==t?m.Z.sendMessage(o.id,p,void 0,{...f,stickerIds:i}):m.Z.sendStickers(o.id,i,t,f,p.tts):m.Z.sendMessage(o.id,p,void 0,f);return this.setState((0,U.H2)()),(0,eu.A6)(o.id),(0,ep.qB)(o.id,d.drafts.type),{shouldClear:!0,shouldRefocus:!0}})}),ez(this,"handleSetValue",e=>{var t,n;let i=null===(t=this.editorRef)||void 0===t?void 0:t.getSlateEditor();null!=i&&(V.Q.select(i,[]),i.insertText(e),null===(n=this.editorRef)||void 0===n||n.focus())}),ez(this,"renderAttachButton",(e,t)=>(0,i.jsx)(G.Z,{className:t,channel:this.props.channel,draftType:eC.d.ChannelMessage,editorTextContent:this.state.textValue,setValue:this.handleSetValue,canOnlyUseTextCommands:e})),ez(this,"renderApplicationCommandIcon",(e,t,n)=>(0,i.jsx)(H.Z,{className:n,command:e,section:t,channel:this.props.channel}))}}class eX extends l.PureComponent{static getDerivedStateFromProps(e,t){let{channel:n}=e,{currentChannelId:i}=t;return n.id!==i?{textAreaFocused:null!=n&&!c.tq&&eI.Z.can(eH.Plq.SEND_MESSAGES,n),currentChannelId:n.id}:null}componentDidMount(){ej.S.subscribe(eH.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}componentDidUpdate(e){(this.props.isEditing!==e.isEditing||this.props.hasModalOpen!==e.hasModalOpen)&&(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())}componentWillUnmount(){ej.S.unsubscribe(eH.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)}render(){var e;let t;let{channel:n,guild:l,keyboardModeEnabled:r,hasModalOpen:s,pendingReply:o,chatInputType:c,placeholder:u,accessibilityLabel:p,showQuarantinedUserBanner:m,filterAfterTimestamp:f,communicationDisabledUntil:g,shakeIntensity:C,poggermodeEnabled:_,isSelectedResourceChannel:I,showAutomodUserProfileChatBlocker:E,showAppLauncherButton:b,showAppDMsUI:Z,isInitialLoading:N,entryPointCommandButtonRef:S,isFailedAppDMLoad:T,isRefreshEnabled:j}=this.props,{textAreaFocused:A,textAreaHighlighted:y}=this.state,P=c===B.Ie.SIDEBAR;t=P&&n.type===eH.d4z.GUILD_VOICE?eG.t.pnnyFR:P&&n.type===eH.d4z.GUILD_STAGE_VOICE?eG.t.YInSkp:d.T.THREADS.has(n.type)?eG.t["OkzL+f"]:eG.t.UbNmGR;let M=(0,i.jsx)("div",{className:eF.channelBottomBarArea,children:(0,i.jsx)(ew.Z,{})}),R=(0,i.jsxs)("div",{className:eF.channelBottomBarArea,children:[(0,i.jsx)(em.Z,{tutorialId:"writing-messages",position:"left",offsetX:75,children:(0,i.jsx)(eq,{focused:A,highlighted:y,channel:n,guild:l,keyboardModeEnabled:r,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:s,pendingReply:o,chatInputType:c,placeholder:u,accessibilityLabel:p,shakeIntensity:C,poggermodeEnabled:_,onCommandSentinelTyped:this.handleCommandSentinelTyped,renderAppLauncherButton:this.renderAppLauncherButton})}),j?null:this.renderAppLauncherButton(),Z&&!T?(0,i.jsx)("div",{className:eF.entryPointButtonContainer,children:(0,i.jsx)(eD.ZP,{channel:n,entryPointCommandButtonRef:S,type:c})}):null]}),L=Z&&N,k=L&&N?M:R,O=a()({[eV.barWithAppLauncherButton]:b,[eV.barWithAppsDMsUI]:Z});return(0,i.jsx)(v.Z,{page:(0,eS.mE)(this.props.channel),children:(0,i.jsx)(et.sW,{children:(0,i.jsx)(ee.BV,{children:(0,i.jsxs)(eT.I3,{ref:this.dispatchGroupRef,children:[(0,i.jsx)(eT.d9,{event:eH.CkL.TEXTAREA_FOCUS,handler:this.handleInputFocus}),(0,i.jsx)(eT.d9,{event:eH.CkL.TEXTAREA_BLUR,handler:this.handleInputBlur}),(0,i.jsx)(eT.d9,{event:eH.CkL.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker}),(0,i.jsx)(eT.d9,{event:eH.CkL.OPEN_APP_LAUNCHER,handler:this.handleOpenAppLauncher}),(0,i.jsxs)(eY,{isSidebar:P,className:eF.chatContent,"aria-label":eG.intl.formatToPlainString(t,{channelName:n.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract,children:[(0,i.jsx)(eO.Z,{channel:n,guild:l,narrow:P}),(0,i.jsxs)(h.HeadingLevel,{component:(0,i.jsx)(h.HiddenVisually,{children:(0,i.jsx)(h.H,{children:eG.intl.format(eG.t.eTzKk5,{channelName:n.name})})}),children:[(0,i.jsx)(el.Z,{channel:n,forceCozy:I,filterAfterTimestamp:f,showingQuarantineBanner:m,jumpBarClassName:O}),I?null:null!==(e=this.renderMessageBanner({channel:n,showQuarantinedUserBanner:m,guild:l,communicationDisabledUntil:g,showAutomodUserProfileChatBlocker:E}))&&void 0!==e?e:(0,i.jsxs)("form",{ref:this.inputFormRef,onSubmit:eW,className:a()(eF.form,{[eF.formWithLoadedChatInput]:!L}),children:[_&&(0,i.jsx)(eo.Z,{channelId:n.id}),n.isPrivate()?(0,i.jsx)(eB.Z,{channel:n,children:k}):(0,i.jsx)(eU.Z,{channel:n,children:k}),j?null:(0,i.jsx)(x.Z,{channel:n,poggermodeEnabled:_}),!P&&(0,i.jsx)(z.Z,{})]}),(0,i.jsx)(et.kw,{})]})]})]})})})},"messages-".concat(n.id))}constructor(...e){super(...e),ez(this,"inputFormRef",l.createRef()),ez(this,"state",{textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:this.props.channel.id}),ez(this,"dispatchGroupRef",l.createRef()),ez(this,"appIconAnimateRef",l.createRef()),ez(this,"handleRequestFocus",e=>{e.channelId===this.props.channel.id&&this.setState({textAreaFocused:!0})}),ez(this,"handleInputFocus",e=>{var t;null===(t=this.dispatchGroupRef.current)||void 0===t||t.bumpDispatchPriority(),(null==e?void 0:e.highlight)!=null?this.setState({textAreaFocused:!0,textAreaHighlighted:null==e?void 0:e.highlight}):this.setState({textAreaFocused:!0})}),ez(this,"handleInputBlur",()=>{(document.hasFocus()||this.props.hasModalOpen)&&this.setState({textAreaFocused:!1,textAreaHighlighted:!1})}),ez(this,"handleInputKeyDown",(e,t)=>{this.state.textAreaHighlighted&&this.setState({textAreaHighlighted:!1}),!t&&this._handleMoveToPane(e)}),ez(this,"handleKeyDown",e=>{var t;if(null===(t=this.inputFormRef.current)||void 0===t?!void 0:!t.contains(e.target))this._handleMoveToPane(e)}),ez(this,"_handleMoveToPane",e=>{let{keyboardModeEnabled:t,chatInputType:n,channel:i}=this.props;if(!!t)switch(e.which){case eH.yXg.ARROW_LEFT:n===B.Ie.SIDEBAR&&ej.S.dispatch(eH.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:eE.Z.getChannelId()});return;case eH.yXg.ARROW_RIGHT:n===B.Ie.NORMAL&&ej.S.dispatch(eH.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:eg.ZP.getCurrentSidebarChannelId(i.id)})}}),ez(this,"handleOpenExpressionPicker",e=>{let{activeView:t}=e;(0,K.PG)(t,this.props.chatInputType)}),ez(this,"handleOpenAppLauncher",e=>{let{applicationId:t}=e;return S.__(j._b.TEXT,this.props.chatInputType,{applicationId:t})}),ez(this,"handleChatInteract",()=>{var e;null===(e=this.dispatchGroupRef.current)||void 0===e||e.bumpDispatchPriority()}),ez(this,"handleCommandSentinelTyped",()=>{var e;null===(e=this.appIconAnimateRef.current)||void 0===e||e.animate()}),ez(this,"renderMessageBanner",e=>{let{channel:t,showQuarantinedUserBanner:n,guild:l,communicationDisabledUntil:r,showAutomodUserProfileChatBlocker:a}=e;return t.type===eH.d4z.DM&&n?(0,i.jsx)(ed.Z,{}):null!=r&&(0,X.J)(r)&&null!=l&&!eI.Z.can(eH.Plq.ADMINISTRATOR,l)?(0,i.jsx)(Q.T,{guild:l,disabledUntil:r}):a?(0,i.jsx)(q.h,{guild:l}):null}),ez(this,"renderAppLauncherButton",()=>{let{channel:e,entryPointCommandButtonRef:t,chatInputType:n}=this.props;return(0,i.jsx)(eL.Z,{channel:e,type:n,animateRef:this.appIconAnimateRef,entryPointCommandButtonRef:t})})}}t.Z=l.memo(function(e){let{channel:t,guild:n,chatInputType:r,filterAfterTimestamp:a}=e,{placeholder:s,accessibilityLabel:o}=(0,eR.Z)(t),c=(0,ed.S)(eZ.default.getCurrentUser(),t),[d]=(0,J.AB)(null==n?void 0:n.id),p=(0,Y.Ux)(null==n?void 0:n.id),m=(0,u.e7)([eZ.default],()=>eZ.default.getCurrentUser()),f=(0,u.e7)([ev.ZP],()=>{var e,t,i;return null!=m&&null!==(i=null===(e=ev.ZP.getMember(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:eH.lds,null==m?void 0:m.id))||void 0===e?void 0:e.isPending)&&void 0!==i&&i}),g=(0,u.e7)([ea.Z],()=>ea.Z.isEnabled()),C=(0,ec.Z)(t.id),x=(0,$.Z)(t.id),v=(0,y.R)({channel:t,chatInputType:r,location:"ChannelChatMemo"}),_=(0,w.h9)(t.id,"ChannelChatMemo"),{isInitialLoading:I,primaryEntryPointCommand:b,isProfileFetching:S,wasProfileFetching:j,applicationId:A,channelId:P,commands:M}=(0,Z.Z)({channel:t});(0,N.Z)({isProfileFetching:S,wasProfileFetching:j,applicationId:A,channelId:P,commands:M});let R=l.useRef(null),L=(0,u.e7)([T.Z],()=>T.Z.appDMChannelsWithFailedLoads().has(t.id)),k=(0,W.Q3)("ChannelChat");return(0,i.jsx)(eX,{channel:t,isEditing:null!=(0,u.e7)([ex.Z],()=>ex.Z.getEditingMessageId(t.id)),hasModalOpen:(0,h.useModalsStore)(h.hasAnyModalOpenSelector),guild:n,keyboardModeEnabled:(0,u.e7)([E.Z],()=>E.Z.keyboardModeEnabled),pendingReply:(0,u.e7)([eh.Z],()=>eh.Z.getPendingReply(t.id)),chatInputType:r,placeholder:s,accessibilityLabel:o,filterAfterTimestamp:a,showQuarantinedUserBanner:c,communicationDisabledUntil:d,shakeIntensity:C,poggermodeEnabled:g,isSelectedResourceChannel:x,showAutomodUserProfileChatBlocker:p&&!f,showAppLauncherButton:v,showAppDMsUI:_,isInitialLoading:I,showEntryPointAppCommandButton:null!=b,entryPointCommandButtonRef:R,isFailedAppDMLoad:L,isRefreshEnabled:k})})},25007:function(e,t,n){var i=n(200651),l=n(192379),r=n(481369),a=n(944103),s=n(946050),o=n(256413),c=n(292853),d=n(359565),u=n(226027);t.Z=l.memo(function(e){let{channel:t,narrow:n}=e,l=(0,o.Z)(t),h=(0,r.Z)(),{showUnreadsNotice:p,clearUnreadsNotice:m}=(0,a.Z)(t);return t.isArchivedLockedThread()?(0,i.jsx)(d.s,{channel:t,narrow:n}):t.isLockedThread()?(0,i.jsx)(d.q,{channel:t,narrow:n}):p?(0,i.jsx)(s.Z,{channel:t,clearUnreadsNotice:m}):l&&h.includes(u.E.OPT_IN_CHANNEL)?(0,i.jsx)(c.Z,{channel:t,narrow:n}):null})},325708:function(e,t,n){n.d(t,{Z:function(){return C},y:function(){return i}}),n(47120);var i,l,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),c=n(392711),d=n(692547),u=n(153867),h=n(347469),p=n(740492),m=n(36645),f=n(311572);(l=i||(i={}))[l.PostSidebar=0]="PostSidebar",l[l.ThreadSidebar=1]="ThreadSidebar",l[l.CallChatSidebar=2]="CallChatSidebar",l[l.MessageRequestSidebar=3]="MessageRequestSidebar",l[l.HomeSidebar=4]="HomeSidebar",l[l.ParticipantsSidebar=5]="ParticipantsSidebar";function g(e){let{resizableNode:t,onResize:n,onResizeEnd:i,maxWidth:l,minWidth:a}=e,s=(0,h.Z)({minDimension:a,maxDimension:l,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:i,orientation:h.y.HORIZONTAL_LEFT,throttleDuration:16});return(0,r.jsx)("div",{onMouseDown:s,className:f.resizeHandle})}function C(e){let{sidebarType:t,maxWidth:n,onWidthChange:i,children:l,floatingLayer:s}=e,h=a.useRef(null),C=function(e){switch(e){case 0:return"postSidebarWidth";case 1:return"threadSidebarWidth";case 2:return"callChatSidebarWidth";case 3:return"messageRequestSidebarWidth";case 4:return"homeSidebarWidth";case 5:return"callParticipantsSidebarWidth"}}(t),[x,v]=a.useState(p.ZP[C]),_=a.useCallback(e=>{u.ZP.updatedUnsyncedSettings({[C]:e})},[C]),I=5===t?m.at:m.Co,E=(0,m.WL)({maxWidth:n,minWidth:I}),b=(0,c.clamp)(x,I,n),Z=E?b:b+d.Z.modules.chat.RESIZE_HANDLE_WIDTH;a.useEffect(()=>{null==i||i(b,E)},[b,i,E]);let N=null!=s?s:a.Fragment;return(0,r.jsxs)(r.Fragment,{children:[!E&&(0,r.jsx)("div",{style:{minWidth:Z}}),(0,r.jsx)(N,{children:(0,r.jsxs)("div",{className:f.chatLayerWrapper,children:[(0,r.jsx)("div",{className:o()(f.chatTarget,{[f.floating]:E,[f.notFloating]:!E}),style:{width:Z}}),!E&&(0,r.jsx)(g,{minWidth:I,maxWidth:n,resizableNode:h,onResize:v,onResizeEnd:_}),(0,r.jsx)("div",{ref:h,className:o()(f.container,{[f.floating]:E}),style:{width:b},children:l})]})})]})}},685006:function(e,t,n){n.d(t,{ZP:function(){return S},xL:function(){return N}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(15729),o=n(731965),c=n(481060),d=n(911969),u=n(100527),h=n(367907),p=n(450936),m=n(368478),f=n(499254),g=n(827498),C=n(213459),x=n(541716),v=n(61356),_=n(981631),I=n(314734),E=n(700559);let b=(0,s.U)(()=>({visible:!1})),Z=e=>{(0,o.j)(()=>{b.setState({visible:e})})},N=b;function S(e){let{channel:t,entryPointCommandButtonRef:n,type:r}=e,{isInitialLoading:a,application:s,primaryEntryPointCommand:o}=(0,p.Z)({channel:t}),c=null==s?void 0:s.id,m=(0,v.Z)({type:r}),{sectionCommands:I}=(0,C.If)(t,null!=c?c:""),E=l.useCallback(()=>{m?f.yT(g.ti.DISMISSED):(f.__(g._b.TEXT,x.Ie.NORMAL,{applicationId:c}),(0,h.yw)(_.rMx.APPLICATION_COMMAND_SECTION_SELECTED,{application_id:c,location:u.Z.APP_DMS_ENTRY_POINT_COMMAND_BUTTON,source:g._b.TEXT}))},[c,m]),b=null!=I&&I.filter(e=>e.type===d.yU.CHAT||e.type===d.yU.PRIMARY_ENTRY_POINT).length>0,N=!a&&null!=s&&!0===b;return(l.useEffect(()=>(Z(N),()=>{Z(!1)}),[N]),N)?(0,i.jsx)(T,{channel:t,application:s,primaryEntryPointCommand:o,onOpenButtonPress:E,entryPointCommandButtonRef:n,type:r}):null}function T(e){let{channel:t,application:n,primaryEntryPointCommand:l,onOpenButtonPress:r,entryPointCommandButtonRef:s,type:o}=e,d=(0,v.Z)({type:o}),{isExecutingLaunchInteraction:u,buttonText:h,hasActiveMatchingEmbeddedActivity:p,isEmbeddedApp:f,currentEmbeddedActivity:g,channelRecipientUserId:C,setIsExecutingLaunchInteraction:x,analyticsLocations:_}=(0,m.Z)({channel:t,primaryEntryPointCommand:l,application:n,showAppLauncherPopup:d}),b=(0,m.J)({channel:t,application:n,isEmbeddedApp:f,hasActiveMatchingEmbeddedActivity:p,currentEmbeddedActivity:g,onOpenButtonPress:r,channelRecipientUserId:C,setIsExecutingLaunchInteraction:x,analyticsLocations:_}),Z=p?c.Button.Colors.RED:c.Button.Colors.BRAND;return(0,i.jsx)(c.Button,{className:a()(E.entryPointAppCommandButton,I.Id),size:c.Button.Sizes.LARGE,color:Z,submitting:u,onClick:b,buttonRef:s,children:h})}},335615:function(e,t,n){n.d(t,{Z:function(){return er}}),n(47120),n(724458);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(91192),d=n(924826),u=n(873546),h=n(876215),p=n(442837),m=n(902704),f=n(481060),g=n(239091),C=n(941028),x=n(144144),v=n(276264),_=n(607070),I=n(100527),E=n(367907),b=n(906732),Z=n(493324),N=n(611064),S=n(677432),T=n(178762),j=n(868671),A=n(82295),y=n(91218),P=n(313201),M=n(623624),R=n(518738),L=n(570096),k=n(155409),O=n(184301),D=n(347475),w=n(439170),B=n(430824),U=n(111583),H=n(594174),G=n(585483),F=n(823379),V=n(51144),z=n(998502),W=n(981631),K=n(388032),Y=n(973249);function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let X=z.ZP.getEnableHardwareAcceleration(),J=44+v.x,Q={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}};class $ extends l.Component{shouldComponentUpdate(e){return!(0,m.Z)(this.props,e,["channelId"])}render(){let{colorString:e,colorRoleName:t,isOwner:n,nick:l,user:r,currentUser:a,activities:s,applicationStream:o,status:c,channel:d,guildId:h,isTyping:p,isMobileOnline:m,premiumSince:g,...C}=this.props,x=null!=g?new Date(g):null;return(0,i.jsx)(f.Popout,{preload:()=>(0,O.Z)(r,{channelId:d.id,guildId:h}),renderPopout:this.renderUserPopout,position:u.tq?"window_center":"left",spacing:16,onShiftClick:this.handleShiftClick,children:(u,f)=>{let{isShown:g}=f;return(0,i.jsx)(v.Z,{className:Y.member,onContextMenu:this.renderUserContextMenu,shouldAnimateStatus:X,user:r,currentUser:a,nick:l,status:c,activities:s,applicationStream:o,isOwner:n,premiumSince:x,colorString:e,colorRoleName:t,isTyping:p,channel:d,guildId:h,isMobile:m,onClickPremiumGuildIcon:this.openGuildSubscriptionModal,selected:g,itemProps:C,...u})}})}constructor(...e){super(...e),q(this,"renderUserContextMenu",e=>{(0,g.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:this.props.user,guildId:this.props.guildId,channel:this.props.channel,showMediaItems:!0})})}),q(this,"handleShiftClick",()=>{let{user:e,channel:t}=this.props,n="@".concat(V.ZP.getUserTag(e,{decoration:"never"})),i="<@".concat(e.id,">");G.S.dispatchToLastSubscribed(W.CkL.INSERT_TEXT,{plainText:n,rawText:i}),x.Z.startTyping(t.id)}),q(this,"openGuildSubscriptionModal",e=>{let{guildId:t}=this.props;if(null!=t)e.stopPropagation(),(0,M.f)({guildId:t,location:{section:W.jXE.MEMBER_LIST,object:W.qAy.BOOST_GEM_ICON}})}),q(this,"renderUserPopout",e=>(0,i.jsx)(D.Z,{...e,userId:this.props.user.id,guildId:this.props.guildId,channelId:this.props.channel.id,roleId:this.props.colorRoleId}))}}let ee=l.memo(e=>{let{colorRoleId:t,...n}=e,{channel:l,user:r,index:a}=e,s=(0,c.JA)("".concat(a)),o=(0,p.e7)([U.Z],()=>U.Z.isTyping(l.id,r.id)),d=(0,p.e7)([H.default],()=>H.default.getCurrentUser()),u=(0,p.e7)([B.Z],()=>{var e;return null!=t?null===(e=B.Z.getRole(l.guild_id,t))||void 0===e?void 0:e.name:void 0},[l,t]);return(0,i.jsx)($,{...n,...s,isTyping:o,currentUser:d,colorRoleName:u})}),et=l.memo(function(e){let{id:t,title:n,count:l,guildId:r}=e,a=(0,R.p9)({roleId:t,guildId:r,size:16});return t===W.Skl.UNKNOWN?(0,i.jsx)("div",{className:Y.membersGroup,children:(0,i.jsx)("div",{className:Y.memberGroupsPlaceholder})}):(0,i.jsxs)(A.Z,{className:Y.membersGroup,children:[(0,i.jsx)(f.HiddenVisually,{children:K.intl.format(K.t.UaqbkZ,{title:n,count:l})}),(0,i.jsxs)("span",{"aria-hidden":!0,children:[null!=a?(0,i.jsx)(y.Z,{className:Y.roleIcon,...a}):null,n," — ",l]})]})});function en(e){let{index:t}=e,n=(0,c.JA)("".concat(t));return(0,i.jsx)(v.Z,{itemProps:n})}class ei extends l.Component{shouldComponentUpdate(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length}componentDidMount(){this.updateSubscription(),this.trackMemberListViewed(),this._areActivitiesExperimentallyHidden=(0,Z.$)("ChannelMembers")}componentDidUpdate(e){e.channel.id!==this.props.channel.id&&this.updateSubscription(),this.trackMemberListViewed(),this.updateMaxContentFeedRowSeen()}getContentFeedAdjustedDimensions(e){let{height:t,rowHeight:n,y:i}=e,l=this.getContentFeedHeight(),r=Math.max(0,t-Math.max(0,l-i)),a=Math.floor(r/n);return{height:r,rowHeight:n,rowsVisible:a,y:Math.max(0,i-l)}}getDimensions(){let e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};let{offsetHeight:t,scrollTop:n}=e.getScrollerState(),i=Math.floor(t/J);return this.getContentFeedAdjustedDimensions({height:t,rowHeight:J,rowsVisible:i,y:n})}render(){let{groups:e,listId:t,channel:n}=this.props;return(0,i.jsx)(f.FocusJumpSection,{children:l=>(0,i.jsx)(P.FG,{children:r=>(0,i.jsx)("aside",{className:a()(Y.membersWrap,Y.hiddenMembers),"aria-labelledby":r,children:(0,i.jsx)(f.HeadingLevel,{component:(0,i.jsx)(f.HiddenVisually,{children:(0,i.jsx)(f.H,{id:r,children:K.intl.format(K.t.JBQxV1,{channel:n.name})})}),children:(0,i.jsx)(c.SJ,{children:n=>{let{ref:r,role:s,...o}=n;return(0,i.jsx)(f.List,{innerRole:s,innerAriaLabel:K.intl.string(K.t["9Oq93t"]),ref:e=>{var t;this._list=e,this.props.listRef.current=e,r.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},className:a()(Y.members,{[Y.fullWidth]:u.tq}),paddingTop:0,sectionHeight:40,rowHeight:this.getRowHeightComputer(),renderSection:this.renderSection,renderRow:this.renderRow,sections:e.map(e=>e.count),onScroll:this.handleScroll,fade:!0,customTheme:!0,...o,...l},t)}})})})})})}constructor(...e){super(...e),q(this,"_list",null),q(this,"_areActivitiesExperimentallyHidden",!1),q(this,"lastReportedAnalyticsChannel",void 0),q(this,"setList",e=>{this._list=e,this.props.listRef.current=e}),q(this,"renderSection",e=>{let{section:t}=e,{groups:n,channel:r}=this.props,a=n[t];return(0,N.R)(a)?(0,l.createElement)(N.Z,{...a,key:"section-".concat(t)}):0===t?(0,i.jsx)(k.Z,{tutorialId:"whos-online",position:"left",inlineSpecs:Q,children:(0,i.jsx)(et,{...a,guildId:r.guild_id})},"section-".concat(t)):(0,l.createElement)(et,{...a,key:"section-".concat(t),guildId:r.guild_id})}),q(this,"getRowProps",e=>{let{groups:t,rows:n}=this.props,i=t[e.section];if(null==i)return null;let{index:l}=i;return null==l||"row"!==e.type?null:n[l+1+e.row]}),q(this,"renderRow",e=>{let{section:t,row:n,rowIndex:l}=e,{channel:r}=this.props,a=this.getRowProps(e);if(null!=a){if(a.type===w.so.MEMBER&&"user"in a){let{colorString:e,colorRoleId:t,user:n,status:s,isOwner:o,isMobileOnline:c,nick:d,activities:u,applicationStream:h,premiumSince:p}=a;return(0,i.jsx)(ee,{colorString:e,colorRoleId:t,user:n,status:s,isOwner:o,nick:d,activities:this._areActivitiesExperimentallyHidden?[]:u,applicationStream:h,channel:r,guildId:r.guild_id,premiumSince:p,isMobileOnline:c,index:l},"member-".concat(a.user.id))}if(a.type===w.so.CONTENT_INVENTORY){let e="content-inventory-".concat(a.entry.id);null!=a.entry.original_id&&(e+="-".concat(a.entry.original_id));let t=(0,i.jsx)(T.ZP,{...a,channel:this.props.channel,index:l},e);return a.entry.content_type===h.s.LEADERBOARD?(0,i.jsx)(L.N,{children:t},e):t}if(a.type===w.so.HIDDEN_CONTENT_INVENTORY)return(0,i.jsx)(S.Z,{},"content-inventory-hidden-entry")}return(0,i.jsx)(en,{index:l},"placeholder-".concat(t,":").concat(n))}),q(this,"handleScroll",()=>{this.updateSubscription(),this.updateMaxContentFeedRowSeen()}),q(this,"updateMaxContentFeedRowSeen",o().debounce(()=>{let e=this._list;if(null==e)return;let{offsetHeight:t,scrollTop:n}=e.getScrollerState();this.props.updateMaxContentFeedRowSeen(n+t-40)},50)),q(this,"getContentFeedGroup",()=>{let e=this.props.groups[j.T];if((0,N.R)(e))return e}),q(this,"hasContentFeed",()=>null!=this.getContentFeedGroup()),q(this,"getRowHeightComputer",()=>{let e=this.getContentFeedGroup();if(null!=e){let{rows:t}=this.props,n=e.index;return function(e,i){if(e===j.T){let e=t[n+1+i];return(0,T.iZ)(e)}return J}}return J}),q(this,"getContentFeedHeight",()=>{let e=this.getContentFeedGroup();return null!=e?e.feedHeight+40:0}),q(this,"updateSubscription",o().debounce(()=>{if(null==this._list)return;let{channel:e}=this.props,{rowHeight:t,y:n,height:i}=this.getDimensions();(0,C.TV)({guildId:e.guild_id,channelId:e.id,y:n,height:i,rowHeight:t})},50)),q(this,"trackMemberListViewed",()=>{var e;if(this.lastReportedAnalyticsChannel===this.props.channel.id)return;let t=null===(e=this._list)||void 0===e?void 0:e.getItems(),{rowsVisible:n}=this.getDimensions();if(void 0===n||0===n||null==t)return;this.hasContentFeed()&&(t=t.filter(e=>e.section!==j.T));let i=t.map(e=>this.getRowProps(e)).slice(0,n+1).filter(F.lm);if(0===i.length)return;let l=i.reduce((e,t)=>t.type!==w.so.MEMBER?e:(e.num_users_visible++,t.isMobileOnline&&e.num_users_visible_with_mobile_indicator++,null!=t.activities&&t.activities.length>0&&(e.num_users_visible_with_activity++,t.activities.some(e=>e.type===W.IIU.PLAYING)&&e.num_users_visible_with_game_activity++),null!=t.user.avatarDecoration&&e.num_users_visible_with_avatar_decoration++,e),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0,num_users_visible_with_avatar_decoration:0});this.lastReportedAnalyticsChannel=this.props.channel.id,E.ZP.trackWithMetadata(W.rMx.MEMBER_LIST_VIEWED,{...l})})}}function el(e){let{channel:t,className:n}=e,{analyticsLocations:r}=(0,b.ZP)(I.Z.MEMBER_LIST),s=(0,p.e7)([_.Z],()=>_.Z.keyboardModeEnabled),o=(0,p.cj)([w.ZP],()=>w.ZP.getProps(t.guild_id,t.id)),{rows:u,groups:h,version:m,updateMaxRowSeen:f}=(0,j.H)({memberStoreProps:o,channelId:t.id,guildId:t.guild_id}),g=l.useRef(null),C=l.useCallback((e,t)=>{let n=g.current;if(null==n)return;let i=parseInt(t,10),[l,r]=n.getSectionRowFromIndex(i),a=0===l&&0===r?J:0;n.scrollToIndex({section:l,row:r,padding:a,callback:()=>{requestAnimationFrame(()=>{var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})})}})},[]),x=l.useCallback(()=>new Promise(e=>{let t=g.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),v=l.useCallback(()=>new Promise(e=>{let t=g.current;if(null==t)return e();t.scrollToBottom({callback(){requestAnimationFrame(()=>setTimeout(e,100))}})}),[]),E=(0,d.ZP)({id:"members-".concat(t.id),setFocus:C,isEnabled:s,scrollToStart:x,scrollToEnd:v});return(0,i.jsx)(b.Gt,{value:r,children:(0,i.jsx)("div",{className:a()(Y.container,n),children:(0,i.jsx)(c.bG,{navigator:E,children:(0,i.jsx)(ei,{...e,...o,version:m,groups:h,rows:u,listRef:g,updateMaxContentFeedRowSeen:f})})})})}function er(e){let{channel:t,className:n}=e,r=l.useDeferredValue(t);return l.useMemo(()=>(0,i.jsx)(el,{channel:r,className:n}),[r,n])}},862679:function(e,t,n){var i=n(200651),l=n(192379),r=n(873546),a=n(442837),s=n(481060),o=n(346486),c=n(433355),d=n(33293);t.Z=l.memo(function(e){let{message:t,subtitle:n,countdown:u,buttonText:h,buttonColor:p,buttonSubmitting:m,onButtonClick:f,imageSrc:g,animationSrc:C,secondaryButtonText:x,onSecondaryButtonClick:v,children:_,useReducedMotion:I=!1}=e,E=(0,a.e7)([c.ZP],()=>c.ZP.getState().isMembersOpen);if(r.tq&&E)return null;if(null==t)return(0,i.jsx)(i.Fragment,{children:l.Children.only(_)});let b=null;return null!=g?b=(0,i.jsx)("img",{alt:"",src:g,className:d.image}):null!=C&&(b=(0,i.jsx)(s.LottieAnimation,{importData:C,shouldAnimate:!I,className:d.animation})),(0,i.jsxs)("div",{className:d.wrapper,children:[(0,i.jsxs)("div",{className:d.content,children:[b,(0,i.jsxs)("div",{className:d.text,children:[(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",className:d.title,children:t}),null!=n&&(0,i.jsx)(s.Text,{color:"text-muted",variant:"text-xs/normal",children:n})]})]}),(0,i.jsxs)("div",{className:d.buttonContainer,children:[null!=x&&(0,i.jsx)(s.Button,{className:d.button,size:s.Button.Sizes.SMALL,onClick:v,look:s.Button.Looks.LINK,color:s.Button.Colors.PRIMARY,submitting:m,children:x}),null!=h&&(0,i.jsx)(s.Button,{className:d.button,innerClassName:d.innerButton,size:s.Button.Sizes.SMALL,onClick:f,submitting:m,color:null!=p?p:s.Button.Colors.PRIMARY,children:h})]}),null!=u&&(0,i.jsx)(o.Z,{className:d.countdown,deadline:u})]})})},992744:function(e,t,n){var i=n(200651),l=n(192379),r=n(780384),a=n(481060),s=n(410030),o=n(367907),c=n(984370),d=n(981631),u=n(388032),h=n(610047),p=n(66737),m=n(525377);t.Z=()=>{let e=(0,s.ZP)();l.useEffect(()=>{o.ZP.trackWithMetadata(d.rMx.GUILD_OUTAGE_VIEWED,{})},[]);let t=(0,r.wj)(e)?p:m;return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsxs)(c.Z,{toolbar:(0,i.jsx)(l.Fragment,{}),children:[(0,i.jsx)(c.Z.Icon,{icon:a.TextIcon,"aria-hidden":!0}),(0,i.jsx)(c.Z.Title,{children:u.intl.string(u.t["8LKcho"])})]}),(0,i.jsxs)("div",{className:h.content,children:[(0,i.jsx)("img",{alt:"",className:h.splashImage,src:t}),(0,i.jsx)(a.Heading,{className:h.splashHeader,variant:"heading-lg/medium",children:u.intl.string(u.t.m9gRVF)}),(0,i.jsx)(a.Text,{className:h.splashText,variant:"text-md/normal",children:u.intl.string(u.t["wC3j5+"])})]})]})}},685722:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651),l=n(120356),r=n.n(l),a=n(306867);function s(){return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsx)("div",{className:r()(a.placeholderItem,a.chatTextAreaPlaceholder)}),(0,i.jsx)("div",{className:r()(a.placeholderItem,a.appLauncherPlaceholder)}),(0,i.jsx)("div",{className:r()(a.placeholderItem,a.entryPointAppCommandPlaceholder)})]})}},199649:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(194359),s=n(631937),o=n(702321),c=n(377171),d=n(699516),u=n(626135),h=n(63063),p=n(862679),m=n(981631),f=n(596401),g=n(388032);function C(e){let{channel:t,children:C}=e,x=(0,l.e7)([d.Z],()=>d.Z.isBlocked(t.getRecipientId()));(0,s.Z)(t.id);let v=(0,o.Z)(t.id),_=t.isSystemDM(),I=x&&!_&&!t.isMultiUserDM(),E={};if(_){let e=v?(0,i.jsxs)(i.Fragment,{children:[g.intl.string(g.t["+KSnWV"]),(0,i.jsx)(r.WindowLaunchIcon,{size:"xs",color:c.Z.HEADER_PRIMARY})]}):g.intl.string(g.t.hvVgAQ);E.message=g.intl.string(g.t.Bt2N7O),E.subtitle=g.intl.string(g.t["n/Vzk5"]),E.buttonText=e,E.onButtonClick=()=>{if(v){open(f.D2),u.default.track(m.rMx.CHANGE_LOG_CTA_CLICKED,{cta_type:"chat_blocker",target:f.D2});return}open(h.Z.getArticleURL(m.BhN.SYSTEM_DMS))},E.imageSrc=n(780961)}else I&&(E.message=g.intl.string(g.t["9T6N5+"]),E.buttonText=g.intl.string(g.t.XyHpKC),E.onButtonClick=()=>{a.Z.unblockUser(t.getRecipientId())});return(0,i.jsx)(p.Z,{...E,children:C})}},923029:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),l=n(192379),r=n(873546),a=n(442837),s=n(481060),o=n(665149),c=n(911560),d=n(210887),u=n(914010),h=n(981631),p=n(388032),m=n(514925);function f(e){let t,{channelId:f}=e;l.useEffect(()=>{c.Z.loadThread(f)});let g=(0,a.e7)([u.Z],()=>u.Z.getGuildId())===h.I_8,C=(0,a.e7)([d.Z],()=>d.Z.theme);return t=g?(0,i.jsx)(s.EmptyStateText,{note:p.intl.string(p.t["D5SN5+"]),children:p.intl.string(p.t.xVTAdX)}):null!=f?(0,i.jsx)(s.Spinner,{type:s.Spinner.Type.SPINNING_CIRCLE}):(0,i.jsx)(s.EmptyStateText,{note:p.intl.string(p.t["LTr+x8"]),children:p.intl.string(p.t.ai6Lbm)}),(0,i.jsxs)("div",{className:m.noChannel,children:[r.tq&&(0,i.jsx)(o.ZP,{children:(0,i.jsx)(l.Fragment,{})}),(0,i.jsxs)(s.EmptyState,{theme:C,children:[(0,i.jsx)(s.EmptyStateImage,{darkSrc:g?n(691270):n(625065),lightSrc:g?n(704139):n(875184),width:272,height:222}),t]})]})}},1397:function(e,t,n){n.d(t,{Z:function(){return z}}),n(47120);var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(442837),o=n(481060),c=n(893776),d=n(528963),u=n(749210),h=n(607070),p=n(391650),m=n(645896),f=n(353093),g=n(717057),C=n(693546),x=n(881952),v=n(305325),_=n(246364),I=n(983736),E=n(937111),b=n(270801),Z=n(652730),N=n(41776),S=n(657352),T=n(33154),j=n(144114),A=n(703656),y=n(210887),P=n(237904),M=n(271383),R=n(430824),L=n(607744),k=n(496675),O=n(594174),D=n(700785),w=n(862679),B=n(981631),U=n(815660),H=n(388032),G=n(145532);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class V extends l.PureComponent{componentDidMount(){let{isFollowable:e,channelFollowingUsersSeen:t,channel:n}=this.props;e&&null==t&&d.Z.fetchChannelFollowerStats(n.id)}componentDidUpdate(e){let{shouldShowLurkerModeSuccessPopout:t,guild:n,showMemberVerificationModal:i,clanInfo:l}=this.props;if(!i&&!e.shouldShowLurkerModeSuccessPopout&&t&&null!=n){if((0,f.EJ)(n)&&null==l)return;this.setState({shouldShowLurkerModeSuccessPopout:!0})}}render(){let{isFollowable:e,isLurking:t,notClaimed:r,notPhoneVerified:a,notEmailVerified:s,newMember:c,memberDeadline:d,newAccount:u,accountDeadline:h,theme:p,children:m,canSendMessages:f,channelFollowingUsersSeen:g,showLurkerModeUpsellPopout:C,showMemberVerificationModal:x,useReducedMotion:v,isStaff:I,guildJoinRequest:E}=this.props,{shouldShowLurkerModeUpsellPopout:b,shouldShowLurkerModeSuccessPopout:Z}=this.state,N={theme:p,useReducedMotion:v};if(e&&!f){if(N.message=H.intl.string(H.t.Hl0Mqq),null!=g&&g>=1e3){let e=1e3*Math.floor(g/1e3);N.subtitle=H.intl.formatToPlainString(H.t.C5bgrK,{count:e.toLocaleString()})}N.buttonText=H.intl.string(H.t["3aOv+v"]),N.onButtonClick=this.handleFollowAnnouncement,N.imageSrc=n(485195),t&&(N.onSecondaryButtonClick=this.handleJoinServer,N.secondaryButtonText=H.intl.string(H.t["RLch7+"]))}else if(r)N.message=H.intl.string(H.t["Eg3/c3"]),N.buttonText=H.intl.string(H.t.fiNVio),N.onButtonClick=x?this.handleShowMemberVerification:this.handleClaimAccount,N.imageSrc=n(102811);else if(x)switch(null==E?void 0:E.applicationStatus){case _.wB.SUBMITTED:N.message=H.intl.string(H.t["5iLvS0"]),N.subtitle=H.intl.string(H.t.FdsK4u),N.buttonText=H.intl.string(H.t.mqtdmZ),N.onButtonClick=this.handleCancelApplication,N.imageSrc=n(281958);break;case _.wB.REJECTED:N.message=H.intl.string(H.t.lk30cX),N.buttonText=H.intl.string(H.t["8RrsHh"]),N.onButtonClick=this.handleViewApplicationRejection,N.imageSrc=n(809844);break;default:N.message=H.intl.string(H.t.rEBKvr),N.buttonText=H.intl.string(H.t["r8/DT0"]),N.buttonColor=o.ButtonColors.BRAND,N.onButtonClick=this.handleShowMemberVerification;N.animationSrc=()=>n.e("26176").then(n.t.bind(n,737848,19)).then(e=>{let{default:t}=e;return t})}else a&&!I?(N.message=H.intl.string(H.t["2dThMD"]),N.buttonText=H.intl.string(H.t["50gfOj"]),N.onButtonClick=this.handleVerifyPhone,N.imageSrc=n(98063)):s?(N.message=H.intl.string(H.t.FkGPS0),N.buttonText=H.intl.string(H.t.lm1UKi),N.onButtonClick=this.handleResendVerification,N.imageSrc=n(102811)):c?(N.message=H.intl.formatToPlainString(H.t.IH7RMD,{min:B.YeM.MEMBER_AGE}),N.countdown=d):u&&(N.message=H.intl.formatToPlainString(H.t["2JA2GB"],{min:B.YeM.ACCOUNT_AGE}),N.countdown=h);return(0,i.jsx)(o.Popout,{position:"top",align:"left",shouldShow:Z,onRequestClose:()=>this.setState({shouldShowLurkerModeSuccessPopout:!1}),renderPopout:this.renderSuccessPopout,children:e=>(0,i.jsx)(w.Z,{...N,children:(0,i.jsxs)(l.Fragment,{children:[this.renderMemberVerificationSuccessModal(),C?(0,i.jsx)(o.Popout,{renderPopout:this.renderLurkerModeUpsellPopout,shouldShow:b,position:"top",children:e=>(0,i.jsx)(o.Clickable,{...e,className:G.clickableChannelTextArea,onClick:this.handleTextAreaClick,children:m})}):m]})})})}constructor(...e){super(...e),F(this,"state",{submitting:!1,shouldShowLurkerModeUpsellPopout:!1,shouldShowLurkerModeSuccessPopout:!1}),F(this,"renderSuccessPopout",e=>{let{closePopout:t}=e,{guild:n}=this.props;return a()(null!=n,"This guildID cannot be null"),(0,i.jsx)(S.Z,{onClose:t,guild:n})}),F(this,"handleCancelApplication",()=>{let{guild:e}=this.props;if(null!=e)(0,o.openModal)(t=>(0,i.jsx)(o.ConfirmModal,{header:H.intl.string(H.t.aIz1oa),confirmText:H.intl.string(H.t["cY+Ooa"]),cancelText:H.intl.string(H.t["ETE/oK"]),onConfirm:()=>C.Z.removeGuildJoinRequest(e.id),confirmButtonColor:o.Button.Colors.BRAND,...t,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:H.intl.string(H.t["13tjTU"])})}))}),F(this,"handleViewApplicationRejection",()=>{let{guild:e}=this.props;if(null!=e)(0,o.openModalLazy)(async()=>{let{default:t}=await n.e("3378").then(n.bind(n,76075));return n=>(0,i.jsx)(t,{guildId:e.id,...n})})}),F(this,"handleShowMemberVerification",()=>{let{guild:e}=this.props;null!=e&&(0,v.hk)(e.id)}),F(this,"handleClaimAccount",()=>{p.j()}),F(this,"handleVerifyPhone",()=>{(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("51501")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:j.L.GUILD_PHONE_REQUIRED,...t})},{modalKey:U.M})}),F(this,"handleResendVerification",()=>{var e;c.Z.verifyResend();let t=null===(e=O.default.getCurrentUser())||void 0===e?void 0:e.email;null!=t&&(0,o.openModal)(e=>(0,i.jsx)(o.ConfirmModal,{...e,header:H.intl.string(H.t.LykQYm),confirmText:H.intl.string(H.t.BddRzc),confirmButtonColor:o.Button.Colors.BRAND,children:(0,i.jsx)(o.Text,{variant:"text-md/normal",children:H.intl.format(H.t.azKEPz,{email:t})})}))}),F(this,"handleTextAreaClick",()=>{let{showLurkerModeUpsellPopout:e}=this.props;this.setState({shouldShowLurkerModeUpsellPopout:e})}),F(this,"handleJoinServer",async()=>{this.setState({submitting:!0});let e=this.props.channel.getGuildId();try{await u.Z.joinGuild(e,{source:B.vtS.CHAT_INPUT_BLOCKER})}catch{this.setState({submitting:!1})}}),F(this,"handleGoBack",()=>{this.setState({submitting:!0}),(0,A.s1)().goBack()}),F(this,"handleFollowAnnouncement",()=>{let{channel:e}=this.props;(0,o.openModalLazy)(async()=>{let{default:t}=await n.e("54642").then(n.bind(n,720589));return n=>(0,i.jsx)(t,{channel:e,...n})})}),F(this,"closeLurkerModeUpsellPopout",()=>{this.setState({shouldShowLurkerModeUpsellPopout:!1})}),F(this,"renderLurkerModeUpsellPopout",()=>{let{guild:e}=this.props;return a()(null!=e,"GuildVerification.renderLurkerModeUpsellPopout - guild cannot be undefined"),(0,i.jsx)(T.Z,{type:T.s.CHAT,guild:e,closePopout:this.closeLurkerModeUpsellPopout})}),F(this,"renderMemberVerificationSuccessModal",()=>{let{guild:e,guildJoinRequest:t}=this.props,n=(null==t?void 0:t.applicationStatus)===_.wB.APPROVED;if(null==e||null==t||!n||(0,x.d3)(t))return null;let l=()=>{C.Z.ackUserGuildJoinRequest(e.id,t.joinRequestId)};return(0,f.EJ)(e)?(0,i.jsx)(o.Modal,{renderModal:t=>(0,i.jsx)(g.default,{...t,onAccept:l,guildId:e.id}),onCloseRequest:l}):(0,i.jsx)(o.Modal,{renderModal:t=>(0,i.jsx)(b.Z,{...t,onAccept:l,guildName:e.name}),onCloseRequest:l})})}}function z(e){var t,n;let{channel:r,children:a}=e,o=r.getGuildId(),c=(0,s.e7)([R.Z],()=>R.Z.getGuild(o)),d=(0,s.e7)([L.Z],()=>L.Z.getCheck(o)),u=r.type===B.d4z.GUILD_ANNOUNCEMENT&&null!=c&&c.hasFeature(B.oNc.NEWS),p=(0,s.e7)([P.Z],()=>u?P.Z.getFollowerStatsForChannel(r.id):null),g=(0,s.e7)([N.Z],()=>N.Z.isLurking(o)),C=(0,s.e7)([O.default],()=>O.default.getCurrentUser()),v=null!==(t=null==C?void 0:C.isStaff())&&void 0!==t&&t,b=(0,s.e7)([M.ZP],()=>{var e,t;return null!=C&&null!==(t=null===(e=M.ZP.getMember(o,C.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t}),S=!!(0,I.Dc)(c),T=(b||d.notClaimed)&&S,j=(0,s.e7)([Z.Z],()=>Z.Z.shouldShowPopout(o)),A=(0,s.e7)([k.Z],()=>k.Z.can(B.Plq.SEND_MESSAGES,r)),w=(0,s.e7)([E.Z],()=>E.Z.getRequest(o)),[U,H]=(0,m.L_)(o),G=(0,m.Cc)(o),F=(null==w?void 0:w.applicationStatus)===_.wB.APPROVED;l.useEffect(()=>{if(!(!(0,f.EJ)(c)||!F||(0,x.d3)(w))&&null==G)H()},[c,F,w,G]);let z={...d,guild:c,isLurking:g,isFollowable:u,shouldShowLurkerModeSuccessPopout:j,showLurkerModeUpsellPopout:g&&null!=c&&D.Uu(B.Plq.SEND_MESSAGES,r),theme:y.Z.theme,canSendMessages:A,channelFollowingUsersSeen:null!=p?p.usersSeenEver:null,hasVerificationGate:S,showMemberVerificationModal:T,guildJoinRequestStatus:null!==(n=null==w?void 0:w.applicationStatus)&&void 0!==n?n:_.wB.STARTED,guildJoinRequest:w,useReducedMotion:h.Z.useReducedMotion,isStaff:v,isLoading:U,clanInfo:G};return(0,i.jsx)(V,{...z,channel:r,children:a})}},61356:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(399606),l=n(541099);function r(e){let{type:t}=e;return(0,i.e7)([l.Z],()=>{let e=l.Z.activeViewType();return null!=e&&e===t&&l.Z.shouldShowPopup()},[t])}},516887:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(826298),c=n(625553);t.Z=l.memo(function(e){var t;let{className:n,channel:l,section:r}=e,d=null!=r?(0,o.ky)(r):null;return(0,i.jsx)("div",{className:a()(n,c.wrapper),children:(0,i.jsx)("div",{className:c.icon,children:null!=d?(0,i.jsx)(s.Tooltip,{text:null!==(t=null==r?void 0:r.name)&&void 0!==t?t:"",position:"top",children:e=>(0,i.jsx)(d,{...e,channel:l,section:r,width:24,height:24})}):null})})})},974251:function(e,t,n){n(47120),n(411104);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(704215),c=n(481060),d=n(53281),u=n(110924),h=n(40851),p=n(595519),m=n(620662),f=n(424602),g=n(924557),C=n(435064),x=n(712114),v=n(540059),_=n(605236),I=n(536442),E=n(79390),b=n(665906),Z=n(706454),N=n(695346),S=n(433355),T=n(819640),j=n(375954),A=n(496675),y=n(885110),P=n(627553),M=n(38761),R=n(585483),L=n(358085),k=n(127654),O=n(316595),D=n(193910),w=n(951211),B=n(981631),U=n(356659),H=n(921944),G=n(388032),F=n(406843);t.Z=l.memo(function(e){var t,r;let V,{className:z,channel:W,draftType:K,editorTextContent:Y,setValue:q,canOnlyUseTextCommands:X}=e,J=(0,h.bp)(),Q=l.useRef(null),$=(0,s.e7)([y.Z],()=>y.Z.getActivities()),ee=(0,s.e7)([C.Z],()=>C.Z.getSettings().clipsEnabled),et=(0,s.e7)([C.Z],()=>C.Z.getLastClipsSession()),en=(0,s.Wu)([C.Z],()=>C.Z.getNewClipIds()),ei=(0,s.e7)([S.ZP],()=>null==S.ZP.getCurrentSidebarChannelId(W.id)),{showClipsHeaderEntrypoint:el}=g.NV.useExperiment({location:"ChannelAttachButton"},{autoTrackExposure:!1}),{enabled:er}=f.T.useExperiment({location:"ChannelAttachButton"},{autoTrackExposure:!1}),ea=(0,s.e7)([I.qc],()=>I.qc.hasHotspot(I.v6.CLIPS_CHANNEL_ATTACH_REMINDER)),es=(0,c.useModalsStore)(e=>(0,c.hasModalOpenSelector)(e,U.Qr)),eo=(0,s.e7)([T.Z],()=>T.Z.hasLayers()),ec=(0,s.e7)([C.Z],()=>C.Z.hasClips()),[ed,eu]=l.useState(null),eh=(0,g.Go)()&&(ee||ec),ep=W.isPrivate(),em=(0,s.e7)([A.Z],()=>ep||A.Z.can(B.Plq.ATTACH_FILES,W)&&A.Z.can(B.Plq.SEND_MESSAGES,W)),ef=(0,s.e7)([Z.default],()=>Z.default.locale),eg=["en-US","en-GB"].includes(ef)?G.intl.string(G.t.d56gCQ):G.intl.string(G.t.PdRCRk),eC=(0,u.Z)(et);(null==eC?void 0:eC.newClipIds.length)!==(null==et?void 0:et.newClipIds.length)&&(null!==(t=null==et?void 0:et.newClipIds.length)&&void 0!==t?t:0)>0&&null==ed&&ea&&ei&&!es&&!el&&!eo&&eu("recentClips");let ex=(e,t,n)=>{null!=t&&"ETOOLARGE"===t.code?(0,k.G)(W,[]):(0,k.d)(e,W,K,{requireConfirm:!0,showLargeMessageDialog:n}),R.S.dispatchToLastSubscribed(B.CkL.TEXTAREA_FOCUS)},ev=(0,s.e7)([j.Z],()=>j.Z.hasCurrentUserSentMessageSinceAppStart());function e_(){(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("2668"),n.e("75272")]).then(n.bind(n,542055));return t=>(0,i.jsx)(e,{...t,channelId:W.id})},{modalKey:U.Qr}),eu(null)}l.useEffect(()=>{let e=()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.activateUploadDialogue()};return R.S.subscribe(B.CkL.UPLOAD_FILE,e),()=>{R.S.unsubscribe(B.CkL.UPLOAD_FILE,e)}});let eI=(0,b.NE)(W),eE=(0,b.Xu)(W),eb=!N.dN.useSetting()&&!(0,L.isAndroidWeb)()&&null!=window.ResizeObserver,eZ=(0,E.UI)(null!=W?W:void 0),eN=(0,c.useRedesignIconContext)().enabled,eS=(0,p.qB)(W.id,"ChannelAttachButton"),eT=null!==(r=null==en?void 0:en.length)&&void 0!==r?r:0,ej=(0,w.Z)({canAttachFiles:em,canStartThreads:eI||eE,useSlate:eb,hasClips:eh,canUseApplicationCommands:!X&&!er,channel:W,activities:$,newClipsCount:eT,canPostPolls:eZ,canLaunchActivities:eS,appContext:J}),eA=(0,v.Q3)("ChannelAttachButton");if(0===ej.length)return null;let ey=$.some(e=>(0,m.Z)(e,B.xjy.SYNC)),eP=$.some(e=>(0,m.Z)(e,B.xjy.JOIN)&&!(0,m.Z)(e,B.xjy.EMBEDDED))||ey;V=eN?(0,i.jsx)(c.CirclePlusIcon,{size:eA?"refresh_sm":void 0,color:"currentColor",colorClass:F.attachButtonPlus}):eP?(0,i.jsx)(M.Z,{className:F.__invalid_attachButtonIcon,foreground:F.attachButtonPlay,background:F.attachButtonPlus,width:24,height:24}):eT>0?(0,i.jsx)(P.Z,{className:F.__invalid_attachButtonIcon,foreground:F.attachButtonClip,background:F.attachButtonPlus,width:24,height:24}):(0,i.jsx)(c.CirclePlusIcon,{size:"md",color:"currentColor",className:F.__invalid_attachButtonIcon,colorClass:F.attachButtonPlus});let eM=(0,i.jsx)(c.Popout,{shouldShow:null!=ed,animation:c.Popout.Animation.NONE,align:"recentClips"===ed?"center":"left",position:"top",positionKey:null!=ed?ed:"null",onRequestOpen:()=>{ev&&(0,_.EW)(o.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:H.L.TAKE_ACTION}),eu("attachMenu")},onRequestClose:()=>{!(0,c.hasAnyModalOpen)()&&(ev&&(0,_.EW)(o.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:H.L.TAKE_ACTION}),eu(null))},renderPopout:e=>{switch(ed){case"recentClips":return(0,i.jsx)(x.Z,{...e,onOpenClips:e_,lastClipsSession:et});case"attachMenu":return(0,i.jsx)(D.Z,{...e,onClose:()=>eu(null),options:ej,channel:W,onFileUpload:()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.activateUploadDialogue()},draftType:K,editorTextContent:Y,setValue:q,openClips:e_});default:throw Error("Invalid popout type provided")}},children:e=>(0,i.jsx)(c.Button,{look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,className:a()(F.attachButton,z),innerClassName:F.attachButtonInner,"aria-label":eg,onDoubleClick:em?()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.activateUploadDialogue()}:void 0,...e,children:V})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:F.uploadInput,children:(0,i.jsx)(d.Z,{ref:Q,onChange:e=>{ex(e.currentTarget.files,e.currentTarget.err),e.currentTarget.value=""},multiple:W.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0})}),(0,i.jsx)("div",{className:F.attachWrapper,children:(0,i.jsx)(O.Z,{channel:W,isOmniMenuOpen:"attachMenu"===ed,openOmniMenu:()=>eu("attachMenu"),enabled:eS,animationContainerClassName:F.buttonAnimation,glowClassName:F.buttonAnimationGlow,trinketsClassName:F.buttonAnimationTrinkets,children:eM})})]})})},316595:function(e,t,n){n.d(t,{Z:function(){return h}}),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(890977),o=n(605236),c=n(243778),d=n(375954),u=n(921944);function h(e){let{children:t,enabled:n,animationContainerClassName:h,glowClassName:p,trinketsClassName:m}=e,f=(0,r.e7)([d.Z],()=>d.Z.hasCurrentUserSentMessageSinceAppStart()),g=l.useMemo(()=>{let e=[];return f&&n&&e.push(a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2),e},[f,n]),C=()=>{setTimeout(()=>(0,o.EW)(a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2,{dismissAction:u.L.AUTO_DISMISS}),1e4)};return(0,i.jsx)(c.ZP,{contentTypes:g,children:e=>{let{visibleContent:n}=e;if(n===a.z.ACTIVITIES_CHAT_BUTTON_NUX_V2)return(0,i.jsx)(s.b,{animationContainerClassName:h,glowClassName:p,trinketsClassName:m,onMount:C,children:t});return t}})}},193910:function(e,t,n){n.d(t,{Z:function(){return P}}),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(831209),a=n(442837),s=n(704215),o=n(481060),c=n(278323),d=n(566620),u=n(403404),h=n(906732),p=n(605236),m=n(706140),f=n(243778),g=n(488131),C=n(375954),x=n(626135),v=n(585483),_=n(403182),I=n(127654),E=n(752305),b=n(951211),Z=n(981631),N=n(921944),S=n(489887),T=n(388032),j=n(308183);let A=/(.*)```(\w+)\n(.*)```(.*)/s;function y(){let e=(0,a.e7)([C.Z],()=>C.Z.hasCurrentUserSentMessageSinceAppStart()),t=[];e&&t.push(s.z.ACTIVITIES_CHAT_MENU_NEW_BADGE);let[n]=(0,m.cv)(t);return l.useEffect(()=>()=>{n===s.z.ACTIVITIES_CHAT_MENU_NEW_BADGE&&(0,p.EW)(s.z.ACTIVITIES_CHAT_MENU_NEW_BADGE,{dismissAction:N.L.TAKE_ACTION})},[n]),(0,i.jsx)(f.ZP,{contentTypes:t,children:e=>{let{visibleContent:t}=e;return t===s.z.ACTIVITIES_CHAT_MENU_NEW_BADGE?(0,i.jsx)(o.TextBadge,{text:T.intl.string(T.t.y2b7CA),color:r.Z.BUTTON_DANGER_BACKGROUND}):null}})}function P(e){let{channel:t,options:a,onFileUpload:m,onClose:f,onSelect:C,draftType:P,editorTextContent:M,setValue:R,openClips:L}=e,{analyticsLocations:k}=(0,h.ZP)();l.useEffect(()=>{x.default.track(Z.rMx.OPEN_POPOUT,{type:"Send Attachment",channel_id:t.id,guild_id:t.guild_id})},[t.guild_id,t.id]);function O(){(0,g.R6)(t,void 0,"Plus Button")}function D(){x.default.track(Z.rMx.CHANNEL_ATTACH_MENU_USE_APPS_CLICKED),R("/",(0,E.JM)("/"))}function w(){L()}function B(){(0,p.EW)(s.z.POLLS_CHAT_INPUT_COACHMARK,{dismissAction:N.L.TAKE_ACTION}),(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("68784").then(n.bind(n,611611));return n=>(0,i.jsx)(e,{...n,channel:t})},{modalKey:S.$z})}function U(){x.default.track(Z.rMx.CHANNEL_ATTACH_MENU_START_ACTIVITY_CLICKED,{channel_type:t.type,channel_id:t.id,guild_id:t.guild_id}),(0,u.Z)({channel:t,guildId:t.guild_id,locationObject:{page:t.isPrivate()?Z.ZY5.DM_CHANNEL:Z.ZY5.GUILD_CHANNEL,section:Z.jXE.CHANNEL_TEXT_AREA,object:Z.qAy.CONTEXT_MENU_ITEM,objectType:Z.Qqv.ACTIVITY},openInPopout:!1,enableSelectedTextChannelInvite:!0,analyticsLocations:k}),(0,d.w1)({guildId:t.guild_id})}function H(){let e=M,n="txt",i="",l=M.match(A);null!=l&&(i=l[1],n=l[2],e=l[3],i+=l[4]),(0,I.d)([(0,_.dp)(new Blob([e],{type:"text/plain"}),"message.".concat(n))],t,P),v.S.dispatchToLastSubscribed(Z.CkL.CLEAR_TEXT),""!==i&&v.S.dispatchToLastSubscribed(Z.CkL.INSERT_TEXT,{plainText:i})}return(0,i.jsx)(o.Menu,{onSelect:C,navId:"channel-attach",onClose:f,"aria-label":T.intl.string(T.t.Xm41aW),className:j.menu,children:a.map(function(e){var n;let l=(0,i.jsxs)("div",{className:j.optionLabel,children:[(0,i.jsx)(e.icon,{className:j.optionIcon,color:"currentColor"}),(0,i.jsx)("div",{className:j.optionName,children:e.display}),null!=e.badgeVal&&e.badgeVal>0&&(0,i.jsx)(o.NumberBadge,{className:j.badge,color:null!==(n=e.badgeColor)&&void 0!==n?n:r.Z.STATUS_DANGER,count:e.badgeVal})]});switch(e.type){case b.r.UPLOAD_A_FILE:return(0,i.jsx)(o.MenuItem,{id:"upload-file",label:l,action:m},"upload-file");case b.r.UPLOAD_TEXT_AS_FILE:if(""===M)return null;return(0,i.jsx)(o.MenuItem,{id:"upload-text-as-file",label:l,action:H},"upload-text-as-file");case b.r.CLIPS:return(0,i.jsx)(o.MenuItem,{id:"clips",label:l,action:w},"clips");case b.r.POLL:return(0,i.jsx)(o.MenuItem,{id:"poll",label:l,action:B},"poll");case b.r.INVITE_TO_PLAY_GAME:return(0,i.jsx)(o.MenuItem,{id:"play",label:l,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:Z.mFx.JOIN,activity:n,location:k[k.length-1]})}},"play");case b.r.INVITE_TO_LISTEN:return(0,i.jsx)(o.MenuItem,{id:"listen",label:l,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:Z.mFx.LISTEN,activity:n,location:k[k.length-1]})}},"listen");case b.r.INVITE_TO_WATCH:return(0,i.jsx)(o.MenuItem,{id:"watch",label:l,action:()=>{var n;return n=e.activity,void c.Z.sendActivityInvite({channelId:t.id,type:Z.mFx.WATCH,activity:n,location:k[k.length-1]})}},"watch");case b.r.CREATE_THREAD:return(0,i.jsx)(o.MenuItem,{id:"THREAD",label:l,action:O},"THREAD");case b.r.SLASH_COMMAND:return(0,i.jsx)(o.MenuItem,{id:"SLASH_COMMAND",label:l,action:D},"SLASH_COMMAND");case b.r.ACTIVITY:return(0,i.jsx)(o.MenuItem,{id:"activity",label:l,action:U,hint:(0,i.jsx)(y,{})},"activity");default:return null}})})}},951211:function(e,t,n){n.d(t,{Z:function(){return p},r:function(){return i}}),n(653041);var i,l,r=n(481060),a=n(620662),s=n(933557),o=n(377171),c=n(699516),d=n(594174),u=n(981631),h=n(388032);function p(e){let{canAttachFiles:t,canStartThreads:n,useSlate:i,canUseApplicationCommands:l,hasClips:p,channel:m,activities:f,newClipsCount:g,canPostPolls:C,canLaunchActivities:x,appContext:v}=e,_=[];return t&&(_.push({type:"UPLOAD_A_FILE",icon:r.FileUpIcon,display:h.intl.string(h.t["d3+iYm"])}),_.push({type:"UPLOAD_TEXT_AS_FILE",icon:r.FileUpIcon,display:h.intl.string(h.t["G9s+EB"])})),p&&t&&v!==u.IlC.POPOUT&&_.push({type:"CLIPS",icon:r.ClipsIcon,display:h.intl.string(h.t.o034cn),badgeVal:g,badgeColor:o.Z.BG_BRAND}),n&&_.push({type:"CREATE_THREAD",icon:r.ThreadPlusIcon,display:h.intl.string(h.t.rBIGBA)}),C&&_.push({type:"POLL",icon:r.PollsIcon,display:h.intl.string(h.t.Flr51t)}),i&&l&&_.push({type:"SLASH_COMMAND",icon:r.AppsIcon,display:h.intl.string(h.t.Bbvp6O)}),x&&_.push({type:"ACTIVITY",icon:r.ActivitiesIcon,display:h.intl.string(h.t["16Lfra"])}),f.forEach(e=>{if(!(0,a.Z)(e,u.xjy.EMBEDDED))e.type===u.IIU.PLAYING&&(0,a.Z)(e,u.xjy.JOIN)&&_.push({type:"INVITE_TO_GAME",icon:r.DpadIcon,display:h.intl.formatToPlainString(h.t["KHLo+P"],{channel:(0,s.F6)(m,d.default,c.Z,!0),game:null!=e?e.name:""}),activity:e}),e.type===u.IIU.LISTENING&&(0,a.Z)(e,u.xjy.SYNC)&&_.push({type:"INVITE_TO_LISTEN",icon:r.UserPlayIcon,display:h.intl.formatToPlainString(h.t.I479p6,{channel:(0,s.F6)(m,d.default,c.Z,!0),name:null!=e?e.name:""}),activity:e}),e.type===u.IIU.WATCHING&&(0,a.Z)(e,u.xjy.SYNC)&&_.push({type:"INVITE_TO_WATCH",icon:r.EyeIcon,display:h.intl.formatToPlainString(h.t["EvCP/v"],{channel:(0,s.F6)(m,d.default,c.Z,!0),name:null!=e?e.name:""}),activity:e})}),_}(l=i||(i={})).UPLOAD_A_FILE="UPLOAD_A_FILE",l.UPLOAD_TEXT_AS_FILE="UPLOAD_TEXT_AS_FILE",l.INVITE_TO_PLAY_GAME="INVITE_TO_GAME",l.INVITE_TO_LISTEN="INVITE_TO_LISTEN",l.INVITE_TO_WATCH="INVITE_TO_WATCH",l.CREATE_THREAD="CREATE_THREAD",l.SLASH_COMMAND="SLASH_COMMAND",l.CLIPS="CLIPS",l.POLL="POLL",l.ACTIVITY="ACTIVITY"},940725:function(e,t,n){n.d(t,{h:function(){return u}}),n(47120);var i=n(704215),l=n(442837),r=n(645041),a=n(271383),s=n(430824),o=n(594174),c=n(353093),d=n(981631);function u(e){let t=(0,l.e7)([o.default,s.Z,a.ZP],()=>(function(e){let[t,n,i]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[o.default,s.Z,a.ZP];if(null==e)return!1;let l=n.getGuild(e);if(null==l||!(0,c.EJ)(l)||null==l.profile)return!1;let r=t.getCurrentUser();if(null==r)return!1;let d=i.getMember(e,r.id);if(null==d||d.isPending)return!1;if(null==r.primaryGuild)return!0;let u=null!=d.joinedAt?new Date(d.joinedAt):null,h=null!=u&&Date.now()-u.getTime()>2592e5,{identityGuildId:p,identityEnabled:m}=r.primaryGuild;return null!=p&&null==m?e===p:null==p&&null==m?h:(p!==e||!1!==m)&&null!=p&&!1===m&&h})(e,[o.default,s.Z,a.ZP]),[e]),n=(0,r.FT)(i.C.ADOPT_CLAN_IDENTITY_NOTICE,null!=e?e:d.lds);return t&&!n}},603009:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(752877),o=n(704215),c=n(481060),d=n(442837),u=n(410030),h=n(607070),p=n(645041),m=n(430824),f=n(914010),g=n(594174),C=n(626135),x=n(645896),v=n(905362),_=n(603368),I=n(353093),E=n(940725),b=n(114487),Z=n(979264),N=n(981631),S=n(921944),T=n(388032),j=n(431972);function A(e){var t;let{guild:n,showToast:r,onConfirm:o,onDismiss:p}=e,[m,f]=l.useState(!1),C=l.useRef(null),v=(0,x.Cc)(n.id),E=(0,u.ZP)(),N=(0,d.e7)([h.Z],()=>h.Z.useReducedMotion),S=(0,_.nP)(null==v?void 0:null===(t=v.branding)||void 0===t?void 0:t.primaryColor,[c.tokens.colors.BG_BRAND,.5]),A=c.tokens.colors.BG_SURFACE_OVERLAY.resolve({theme:E,saturation:1}).hex(),y=(0,_.nj)(S,A,"top left",.3,"30%"),P=(0,d.e7)([g.default],()=>{var e;return null===(e=g.default.getCurrentUser())||void 0===e?void 0:e.primaryGuild},[]);l.useLayoutEffect(()=>{var e;if(null==C.current)return;let t=null===(e=C.current)||void 0===e?void 0:e.parentNode;return null!=t&&(t.style.zIndex="1003"),()=>{null!=t&&(t.style.zIndex="1002")}},[]);let M=l.useCallback(e=>{e.stopPropagation(),e.preventDefault(),p()},[p]),R=l.useCallback(e=>{e.stopPropagation(),e.preventDefault(),o()},[o]),L=(0,c.useTransition)(r,{from:{transform:N?"translateY(0)":"translateY(16px)",opacity:0,pointerEvents:"none"},enter:{transform:"translateY(0)",opacity:1,pointerEvents:"all"},leave:{transform:N?"translateY(0)":"translateY(16px)",opacity:0,pointerEvents:"none"},config:{mass:1,tension:500,friction:18,clamp:!0},delay:200},"animate-always"),k=(0,I.Zp)(n,P),O=k?T.intl.formatToPlainString(T.t.qFqINz,{guildName:n.name}):T.intl.formatToPlainString(T.t.bFwASk,{guildName:n.name}),D=k?T.intl.string(T.t.eA1ymp):T.intl.string(T.t.MF0Ntb),w=k?T.intl.formatToPlainString(T.t["60PXOz"],{guildName:n.name}):T.intl.formatToPlainString(T.t.i27ioq,{guildName:n.name});return L((e,t)=>{var l,r;return t&&(0,i.jsx)(s.animated.div,{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:a()(j.wrapper),style:{...e,...y},ref:C,children:(0,i.jsx)(c.ClickableContainer,{"aria-label":w,onClick:R,children:(0,i.jsxs)("div",{className:a()(j.toastContainerInner,m?j.hovered:null),children:[(0,i.jsxs)("div",{className:j.guildIconContainer,children:[(0,i.jsx)(b.Z,{guild:n,iconSize:64}),(0,i.jsx)("div",{className:j.guildTagContainer,children:(0,i.jsx)(Z.aG,{guildId:n.id,clanTag:null===(l=n.profile)||void 0===l?void 0:l.tag,clanBadge:null===(r=n.profile)||void 0===r?void 0:r.badge,className:j.guildClanTag})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(c.Heading,{variant:"heading-md/bold",color:"header-primary",children:O})}),(0,i.jsx)("div",{children:(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"header-secondary",children:D})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(c.Clickable,{className:j.toastButton,onClick:M,children:(0,i.jsx)(c.XSmallBoldIcon,{size:"custom",width:20,height:20})})})]})})})})}function y(e){let{}=e,t=(0,d.e7)([f.Z],()=>f.Z.getGuildId()),n=(0,E.h)(t),r=(0,d.e7)([m.Z],()=>m.Z.getGuild(t),[t]),[a,s]=l.useState(!1),c=l.useRef(null);l.useEffect(()=>(n&&(c.current=window.setTimeout(()=>{s(!0),C.default.track(N.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:o.C[o.C.ADOPT_CLAN_IDENTITY_NOTICE],guild_id:null!=t?t:N.lds})},2500)),()=>{null!=c.current&&window.clearTimeout(c.current)}),[]);let u=l.useCallback(()=>{if(s(!1),null!=t)(0,v.SJ)(t)},[,t]),h=l.useCallback(()=>{if(s(!1),null!=t)(0,p.Qd)(o.C.ADOPT_CLAN_IDENTITY_NOTICE,null!=t?t:N.lds,!0,S.L.DISMISS)},[t]);return n&&null!=t&&null!=r?(0,i.jsx)(A,{guild:r,onConfirm:u,onDismiss:h,showToast:a}):null}},236091:function(e,t,n){var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(692547),o=n(481060),c=n(358221),d=n(594190),u=n(199902),h=n(924557),p=n(435064),m=n(354459),f=n(388032),g=n(669189);t.Z=e=>{let{className:t,channelId:n}=e,l=(0,h.Go)(),C=p.Z.isDecoupledGameClippingEnabled();return(0,a.e7)([u.Z,c.Z,p.Z,d.ZP],()=>{var e;if(null==n)return!1;let t=u.Z.getCurrentUserActiveStream(),i=null===(e=d.ZP.getVisibleGame())||void 0===e?void 0:e.windowHandle;return null!=t&&!!p.Z.getSettings().clipsEnabled&&!!l||null!=i&&!!p.Z.getSettings().decoupledClipsEnabled&&!!C||c.Z.getParticipants(n).some(e=>e.type===m.fO.USER&&p.Z.isClipsEnabledForUser(e.user.id))})?(0,i.jsxs)(o.TooltipContainer,{text:f.intl.string(f.t.DJXW3N),color:o.TooltipColors.GREY,className:r()(t,g.clipsEnabledIndicator),children:[(0,i.jsx)(o.IconBadge,{icon:o.ClipsIcon,shape:o.BadgeShapes.ROUND_LEFT,color:s.Z.unsafe_rawColors.PRIMARY_500.css,className:g.clipBadgeIcon}),(0,i.jsx)(o.TextBadge,{text:f.intl.string(f.t.pCMkDQ),shape:o.BadgeShapes.ROUND_RIGHT,color:s.Z.unsafe_rawColors.PRIMARY_500.css,className:g.clipBadgeText})]}):null}},712114:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651),l=n(192379),r=n(990547),a=n(481060),s=n(213609),o=n(536442),c=n(39604),d=n(176127),u=n(388032),h=n(717191);function p(e){let{onOpenClips:t,lastClipsSession:n,closePopout:p}=e;return(l.useEffect(()=>()=>{(0,c.eL)()},[]),(0,s.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.HOTSPOT,properties:{hotspot_location:o.v6.CLIPS_CHANNEL_ATTACH_REMINDER}}),null==n)?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{className:h.recentClipsPopout,children:[(0,i.jsx)("div",{className:h.thumbnailStackContainer,children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(a.Heading,{className:h.header,color:"header-primary",variant:"heading-md/extrabold",children:u.intl.format(u.t["+qxkzM"],{count:n.newClipIds.length})}),(0,i.jsx)(a.Text,{color:"text-normal",className:h.__invalid_content,variant:"text-sm/medium",children:u.intl.format(u.t["7XX0/f"],{applicationName:n.applicationName})}),(0,i.jsxs)("div",{className:h.buttonsContainer,children:[(0,i.jsx)(a.Button,{color:a.Button.Colors.PRIMARY,look:a.Button.Looks.LINK,onClick:function(){(0,o.Kw)(o.v6.CLIPS_CHANNEL_ATTACH_REMINDER),p()},children:u.intl.string(u.t["7r5Z19"])}),(0,i.jsx)(a.Button,{color:a.Button.Colors.BRAND,onClick:t,children:u.intl.string(u.t.md4qKy)})]})]})}},560861:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(704215),c=n(481060),d=n(70097),u=n(243778),h=n(518950),p=n(594174),m=n(133634),f=n(324085),g=n(921944),C=n(388032),x=n(140343);function v(e){let{channel:t}=e,r=(0,s.e7)([p.default],()=>p.default.getUser(t.hdStreamingBuyerId),[t.hdStreamingBuyerId]),[a,d]=(0,l.useState)(!1),[h,C]=(0,l.useState)(!1),x=(0,f.bK)(),[v,I]=(0,l.useState)(!1);(0,l.useEffect)(()=>{t.isHDStreamSplashed&&I(!0)},[]),(0,f.Uu)(t),function(e){let t=(0,s.e7)([p.default],()=>p.default.getCurrentUser()),r=[];e.hdStreamingBuyerId===(null==t?void 0:t.id)&&!e.isHDStreamSplashed&&r.push(o.z.HD_STREAMING_POTION_MODAL_UPSELL);let[a,d]=(0,u.US)(r);(0,l.useEffect)(()=>{if(a===o.z.HD_STREAMING_POTION_MODAL_UPSELL){var t;t=d,(0,c.openModalLazy)(async()=>{let{default:l}=await n.e("88452").then(n.bind(n,552394));return n=>(0,i.jsx)(l,{markAsDismissed:t,channel:e,...n})})}},[a,d,e])}(t);let E=()=>{d(!1)};(0,f.J)(t,()=>{if(x){C(!0),E();return}d(!0);let e=setTimeout(()=>{C(!0)},25e3);return()=>clearTimeout(e)});let b=v?[o.z.HD_STREAMING_POTION_BANNER]:[],[Z,N]=(0,u.US)(b);return null==r?null:(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(_,{buyer:r,onEnd:E}),(h||Z===o.z.HD_STREAMING_POTION_BANNER)&&(0,i.jsx)(m.Z,{channel:t,buyer:r,streaming:!0,onClose:()=>{C(!1),v&&N(g.L.DISMISS)}})]})}function _(e){let{onEnd:t,buyer:n}=e,r=(0,l.useRef)(null),s=(0,l.useRef)(null),[o,u]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=r.current;if(null==e)return;let t=()=>{e.currentTime>=23&&!o&&u(!0)};return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}});let[p,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(null!=s.current)m(s.current.offsetWidth>245)},[]);let{avatarSrc:f,eventHandlers:g}=(0,h.Z)({user:n,size:c.AvatarSizes.SIZE_32,animateOnHover:!0});return(0,i.jsxs)("div",{className:x.trigger,children:[(0,i.jsx)(d.Z,{ref:r,className:x.video,autoPlay:!0,onEnded:t,children:(0,i.jsx)("source",{src:"https://cdn.discordapp.com/assets/content/9f56bffb69fd37ec42b909d277c92d523a1c579075b9cb06880fc7cbc7f365f3.webm",type:"video/webm"})}),(0,i.jsxs)("div",{ref:s,className:a()(x.content,{[x.masked]:o}),children:[(0,i.jsx)(c.Avatar,{src:f,"aria-label":n.username,size:c.AvatarSizes.SIZE_32,...g}),(0,i.jsxs)("div",{className:x.text,children:[!p&&(0,i.jsx)(c.Text,{variant:"text-sm/normal",children:C.intl.string(C.t["i/nliI"])}),(0,i.jsx)(c.Text,{className:x.premium,variant:"text-sm/normal",children:C.intl.string(C.t["Fh/mk5"])})]})]})]})}},464792:function(e,t,n){n.d(t,{t:function(){return h}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(738672),o=n(447564),c=n(921944),d=n(388032),u=n(30057);let h=e=>{let{channel:t,markAsDismissed:n,potionRef:l}=e;return(0,i.jsx)(m,{channel:t,buttonRef:l,dismissed:!1,nudgeAlignIntoViewport:!0,onClick:()=>{n(c.L.TAKE_ACTION)},onDismiss:()=>{n(c.L.USER_DISMISS)}})};function p(e){let{channel:t,onClick:n,hidden:l,onDismiss:s}=e;return(0,i.jsxs)("div",{className:r()(u.popoutContainer,{[u.hidden]:l}),children:[(0,i.jsx)("img",{className:u.image,src:"https://cdn.discordapp.com/assets/premium/roadblocks/hd_streaming.png",alt:"HD Streaming Nitro Perk"}),(0,i.jsx)(a.Button,{className:u.closeButton,"aria-label":d.intl.string(d.t.cpT0Cg),look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,onClick:()=>{s()},children:(0,i.jsx)(a.XSmallIcon,{size:"xs",className:u.closeIcon,color:"white"})}),(0,i.jsxs)("div",{className:u.infoContainerParent,children:[(0,i.jsx)(a.Heading,{className:u.heading,variant:"heading-md/extrabold",children:d.intl.string(d.t.kQqTnp)}),(0,i.jsx)("div",{className:u.infoContainer,children:(0,i.jsx)(a.Text,{className:u.infoText,variant:"text-sm/medium",children:d.intl.string(d.t.cxf5yM)})}),(0,i.jsx)("div",{className:u.buttonContainer,children:(0,i.jsx)(a.Button,{onClick:()=>{(0,o.openHDPotionModal)(t,"HDStreamingPotionUpsellPopout"),n()},color:a.ButtonColors.WHITE,className:u.button,children:d.intl.string(d.t.GBe9lJ)})})]})]})}function m(e){let{channel:t,onClick:n,...l}=e;return(0,i.jsx)(s.h,{...l,skipForceHide:!0,renderComponent:e=>(0,i.jsx)(p,{onClick:n,channel:t,...e})})}},133634:function(e,t,n){n.d(t,{Z:function(){return j}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(913527),o=n.n(s),c=n(752877),d=n(442837),u=n(481060),h=n(846027),p=n(518950),m=n(937995),f=n(199902),g=n(131951),C=n(594174),x=n(63063),v=n(5192),_=n(120619),I=n(578976),E=n(981631),b=n(37113),Z=n(388032),N=n(540964),S=n(454120);let T=e=>1-Math.pow(1-e,3);function j(e){let{channel:t,buyer:r,onClose:s,dismissibleContent:j}=e,A=(0,d.Wu)([f.Z],()=>f.Z.getAllActiveStreams()),y=(0,d.e7)([C.default],()=>C.default.getCurrentUser()),P=null!=A.find(e=>e.ownerId===(null==y?void 0:y.id)),M=(0,d.e7)([_.Z],()=>_.Z.getPreviousGoLiveSettings()),R=P&&null!=M&&M.resolution!==b.LY.RESOLUTION_1440&&M.frameRate!==b.ws.FPS_60,[L,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{k(!0)},[]);let O=(0,l.useContext)(m.h9),D=(0,u.useSpring)({from:L?{opacity:0,transform:"translateX(-50%) translateY(30px) scale(0.9)"}:{},to:{opacity:1,transform:O?"translateX(-50%) translateY(0px) scale(1)":"translateX(-50%) translateY(-66px) scale(1)"},config:{duration:250,easing:T,immediate:!L}}),{avatarSrc:w,eventHandlers:B}=(0,p.Z)({user:r,size:u.AvatarSizes.SIZE_48,animateOnHover:!0}),U=v.ZP.getName(t.guild_id,t.id,r),H=P&&!R,G=t.hdStreamingUntil;if(null==G||null==r||null==y)return null;let F=o()(G).diff(o()(),"hours"),V=j?Z.intl.format(Z.t["6LrV9f"],{username:U,num:F,helpCenterLink:x.Z.getArticleURL(E.BhN.HD_STREAMING_POTION)}):r.id===y.id?Z.intl.string(Z.t.IjKvNT):!0===P?Z.intl.format(Z.t.JkWoqK,{username:U,helpCenterLink:x.Z.getArticleURL(E.BhN.HD_STREAMING_POTION)}):Z.intl.formatToPlainString(Z.t.vNbVXF,{username:U}),z=R?Z.intl.string(Z.t.o7NIjY):H?Z.intl.string(Z.t.r6xhBw):Z.intl.string(Z.t.yKw8Dg);return null==r||null==y?null:(0,i.jsxs)(c.animated.div,{style:D,className:N.banner,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(u.Avatar,{src:w,"aria-label":r.username,size:u.AvatarSizes.SIZE_48,...B}),(0,i.jsx)("img",{className:N.potion,src:S,alt:""})]}),(0,i.jsx)(u.Heading,{variant:"heading-sm/medium",children:V}),(0,i.jsxs)("div",{className:N.subsection,children:[(0,i.jsx)(u.Button,{onClick:()=>{if(R){let e=_.Z.getPreviousGoLiveSettings(),t=g.Z.getGoLiveSource();if(null==e){s();return}let n=(0,I.s)(e.resolution,e.frameRate,t);h.Z.setGoLiveSource(n),s();return}if(H){s();return}(0,u.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("93382"),n.e("79477"),n.e("57252")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{analyticsLocation:"HDStreamingPotionBanner",...t})}),s()},className:a()({[N.actionButton]:!0!==P}),children:z}),!H&&(0,i.jsx)(u.Clickable,{className:N.x,onClick:s,children:(0,i.jsx)(u.XSmallIcon,{name:"close"})})]})]})}},493324:function(e,t,n){n.d(t,{$:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2024-02_hide_member_list_activities",label:"Hide member list activities",defaultConfig:{hideActivities:!1},treatments:[{id:1,label:"Enabled (hide activities)",config:{hideActivities:!0}}]});function l(e){return i.getCurrentConfig({location:e},{autoTrackExposure:!0}).hideActivities}},442853:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120),n(653041);var i=n(192379),l=n(149765),r=n(442837),a=n(902704),s=n(592125),o=n(720202),c=n(271383),d=n(700785),u=n(231338);let h=[],p=new Set;function m(e){let{entries:t,channelId:n}=e,m=(0,r.e7)([s.Z],()=>s.Z.getChannel(n)),f=null==m?void 0:m.guild_id,g=i.useRef(new Set),C=i.useMemo(()=>{let e=new Set(null==t?void 0:t.map(e=>e.author_id));return!(0,a.E)([...g.current],[...e])&&(g.current=e),g.current},[t]);i.useEffect(()=>{if(null!=f)Array.from(C).forEach(e=>{o.Z.requestMember(f,e)})},[C,f]);let x=(0,r.Wu)([c.ZP],()=>{if(null==f)return h;let e=[];for(let t of C)c.ZP.isMember(f,t)&&e.push(t);return e},[C,f]),v=i.useMemo(()=>{if(null==m||0===x.length)return p;let e=new Set;for(let t of x){let n=d.uB({user:t,context:m});l.e$(n,u.Pl.VIEW_CHANNEL)&&e.add(t)}return e},[x,m]);return i.useMemo(()=>null==t?void 0:t.filter(e=>v.has(e.author_id)),[t,v])}},520951:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(192379),l=n(442837),r=n(162461),a=n(71585),s=n(146282),o=n(561308);let c=new Set;function d(e){let t=(0,l.e7)([a.Z,s.Z],()=>{let e=s.Z.getDebugImpressionCappingDisabled();return!(0,r.wm)("useFilterImpressionCappedContent")||e?c:a.Z.getImpressionCappedItemIds()},[e]);return i.useMemo(()=>{if(null==e)return{entries:e,filteredIds:c};let n=new Set;return{entries:e.filter(e=>!!(0,o.kr)(e)||!t.has(e.id)||(n.add(e.id),!1)),filteredIds:n}},[e,t])}},809017:function(e,t,n){n.d(t,{G:function(){return i}});let i="content-inventory-feed"},590026:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(192379),l=n(876215),r=n(442837),a=n(676316),s=n(146282),o=n(442853),c=n(520951),d=n(897674),u=n(206583);let h=new Set([l.s.PLAYED_GAME,l.s.WATCHED_MEDIA,l.s.TOP_GAME,l.s.TOP_ARTIST,l.s.LISTENED_SESSION,l.s.LAUNCHED_ACTIVITY]);function p(e){let t=(0,d.Z)(u.YN.GLOBAL_FEED);t=(0,o.Z)({entries:t,channelId:e}),t=i.useMemo(()=>null==t?void 0:t.filter(e=>h.has(e.content_type)),[t]);let{entries:n,filteredIds:l}=(0,c.Z)(t);t=n;let{entriesWithLeaderboard:p,hasLeaderboardEntry:m}=(0,a.Z)({entries:t,channelId:e});return t=p,{requestId:(0,r.e7)([s.Z],()=>s.Z.getFeedRequestId(u.YN.GLOBAL_FEED)),entries:t,impressionCappedEntryIds:l,hasLeaderboardEntry:m}}},611064:function(e,t,n){n.d(t,{R:function(){return C}});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(239091),o=n(82295),c=n(485267),d=n(71585),u=n(703180),h=n(809017),p=n(981631),m=n(388032),f=n(623020),g=n(973249);function C(e){return(null==e?void 0:e.id)===h.G}t.Z=l.memo(function(e){let t,{title:h,onToggleExpand:C,expanded:x,expandedCount:v}=e,_=(0,r.e7)([d.Z],()=>d.Z.hidden),I=l.useCallback(e=>{(0,s.jW)(e,async()=>{let{MemberListContentSettingsMenu:e}=await Promise.resolve().then(n.bind(n,703180));return()=>(0,i.jsx)(e,{closePopout:s.Zy})})},[]);return(0,i.jsxs)(o.Z,{className:g.membersGroup,children:[(0,i.jsx)(a.HiddenVisually,{children:m.intl.format(m.t.UaqbkZ,{title:h,count:v})}),(0,i.jsxs)(a.Clickable,{onClick:e=>{if(e.currentTarget===e.target||e.currentTarget.contains(e.target))return _?(0,c.lY)():v>3?C():(0,p.dG4)()},onContextMenu:I,tag:"span","aria-hidden":!0,className:f.headerContainer,children:[(0,i.jsxs)("div",{className:f.header,children:[(0,i.jsxs)("span",{children:[h," — ",v]}),(0,i.jsx)(u.default,{})]}),v<=3&&!_?null:(t=_?(0,i.jsx)(a.ChevronSmallUpIcon,{className:f.toggleExpandIcon}):x?(0,i.jsx)(a.ChevronSmallDownIcon,{className:f.toggleExpandIcon}):(0,i.jsx)(a.ChevronSmallRightIcon,{className:f.toggleExpandIcon}),(0,i.jsx)(a.FocusRing,{children:(0,i.jsx)("div",{tabIndex:0,className:f.toggleExpandIcon,children:t})}))]})]})})},677432:function(e,t){t.Z=()=>null},703180:function(e,t,n){n.r(t),n.d(t,{MemberListContentSettingsMenu:function(){return d}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(485267),s=n(71585),o=n(981631),c=n(388032);let d=e=>{let{closePopout:t}=e,d=(0,l.e7)([s.Z],()=>s.Z.hidden);return(0,i.jsx)(r.Menu,{onSelect:()=>{},navId:"member-list-settings-menu",onClose:null!=t?t:o.dG4,"aria-label":c.intl.string(c.t.w2jvOT),children:(0,i.jsxs)(r.MenuGroup,{children:[(0,i.jsx)(r.MenuItem,{id:"about",label:c.intl.string(c.t.pWLGnJ),icon:r.CircleInformationIcon,action:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("71517").then(n.bind(n,549505));return t=>(0,i.jsx)(e,{...t})}),null==t||t()}}),(0,i.jsx)(r.MenuCheckboxItem,{id:"hide",label:c.intl.string(c.t.AhNYub),checked:d,action:()=>{(0,a.lY)(),null==t||t()}})]})})};t.default=()=>(0,i.jsx)(r.Popout,{animation:r.Popout.Animation.NONE,position:"bottom",align:"right",renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(d,{closePopout:t})},children:e=>(0,i.jsx)(r.Clickable,{...e,onClick:t=>{t.stopPropagation(),e.onClick(t)},style:{width:"12px",height:"12px"},children:(0,i.jsx)(r.SettingsIcon,{size:"xxs"})})})},868671:function(e,t,n){n.d(t,{H:function(){return E},T:function(){return I}}),n(47120),n(724458);var i=n(192379),l=n(442837),r=n(570140),a=n(439170),s=n(592125),o=n(430824),c=n(451478),d=n(626135),u=n(162461),h=n(71585),p=n(34586),m=n(69259),f=n(590026),g=n(178762),C=n(206583),x=n(809017),v=n(981631),_=n(388032);let I=0;function E(e){let{memberStoreProps:{groups:t,rows:n,version:I},channelId:E,guildId:b}=e,[Z,N]=i.useState(!1),{requestId:S,entries:T,impressionCappedEntryIds:j,hasLeaderboardEntry:A}=(0,f.Z)(E),y=(0,l.e7)([h.Z],()=>h.Z.hidden),P=(0,l.e7)([c.Z],()=>c.Z.isFocused()),M=(0,l.e7)([s.Z],()=>s.Z.getChannel(E)),R=(0,l.e7)([o.Z],()=>o.Z.getGuild(b),[b]),L=(0,p.E)(R),k=null!=L&&L&&(null==M?void 0:M.isForumChannel())===!1,[O,D,w,B]=i.useMemo(()=>{let e;if(null==T||0===T.length||null==S||!k)return[t,n,I];let i=Z?T.length:A?4:3,l=T.slice(0,i);e=y?[{type:a.so.HIDDEN_CONTENT_INVENTORY}]:l.map(e=>({type:a.so.CONTENT_INVENTORY,entry:e,requestId:S}));let r={id:x.G,type:a.so.CONTENT_INVENTORY_GROUP,key:x.G,count:e.length,index:n.length,title:_.intl.string(_.t["6gwSFR"]),onToggleExpand:()=>{N(e=>{let t=!e;return d.default.track(v.rMx.MEMBERLIST_CONTENT_FEED_TOGGLED,{channel_id:E,guild_id:b,expanded:t}),t})},expanded:Z,expandedCount:T.length,feedHeight:e.map(g.iZ).reduce((e,t)=>e+t,0)};return[[r,...t],[...n,r,...e],Math.random(),e]},[E,T,Z,t,b,S,n,I,y,k,A]),U=i.useRef(0),H=i.useRef(T),G=i.useRef(),F=i.useRef({impressionCappedEntryIds:j}),V=i.useCallback(e=>{var t;let n=Math.floor(e/g.YN),i=Math.min(null!==(t=null==B?void 0:B.length)&&void 0!==t?t:0,n);U.current=Math.max(U.current,i)},[B]);return i.useEffect(()=>{H.current=T},[T]),i.useEffect(()=>{F.current={impressionCappedEntryIds:j}},[j]),i.useEffect(()=>(U.current=0,G.current=Date.now(),()=>{var e,t;if(null==S||null==G.current||Date.now()-G.current<3e3)return;let n=null!==(t=null===(e=H.current)||void 0===e?void 0:e.map(e=>e.id))&&void 0!==t?t:[],i=n.slice(0,U.current);if(!y&&!!P&&!!k)(0,m.e)(v.rMx.RANKING_ITEMS_SEEN_MUST_BE_SAMPLED,{request_id:S,first_shown_at:G.current,item_ids:i,surface_type:C.Kd.GUILD_MEMBER_LIST,channel_id:E,guild_id:b,all_item_ids:n,impression_capped_item_ids:[...F.current.impressionCappedEntryIds]}),(0,u.wm)("useInjectContentInventoryFeed")&&r.Z.dispatch({type:"CONTENT_INVENTORY_TRACK_ITEM_IMPRESSIONS",itemIds:i})}),[S,E,b,y,P,k]),{groups:O,rows:D,version:w,updateMaxRowSeen:V}}},42311:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(626786),o=n(980239);function c(e){let{className:t,roleColor:n,roleName:l,hasRemoveIcon:c=!1,onClick:d,disabled:u=!1,verified:h=!1}=e;return(0,i.jsx)(a.Button,{className:r()(t,o.button),look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,onClick:d,disabled:u,children:(0,i.jsx)(s.Z,{className:o.role,roleColor:n,roleName:l,verified:h,children:c&&(0,i.jsx)(a.XSmallIcon,{size:"custom",color:"currentColor",height:6,width:6,className:o.removeRole,colorClass:o.removeRoleIcon})})})}},626786:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(134433),s=n(662253);function o(e){let t,{className:n,children:l,verified:o,roleColor:c,roleName:d}=e;return t=o?(0,i.jsx)(a.Z,{size:12,color:c,className:s.linkedRoleColor}):(0,i.jsx)("div",{className:s.roleColor,style:{backgroundColor:c}}),(0,i.jsxs)("div",{className:r()(n,s.role),children:[t,d,l]})}},997638:function(e,t,n){n.d(t,{ZP:function(){return I},cy:function(){return l},iu:function(){return i}}),n(47120);var i,l,r,a,s,o=n(200651),c=n(192379),d=n(120356),u=n.n(d),h=n(780384),p=n(481060),m=n(626135),f=n(600164),g=n(981631),C=n(388032),x=n(404169);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(a=i||(i={})).CENTER="center",a.LEFT="left",(s=l||(l={})).TOP="top",s.MIDDLE="middle";class _ extends c.PureComponent{componentDidMount(){let{uniqueId:e}=this.props;m.default.track(g.rMx.SHOW_TUTORIAL,{tutorial:e})}componentWillUnmount(){m.default.track(g.rMx.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})}render(){let{renderMedia:e,textAlign:t,isLongText:n,title:i,body:l,className:r,forceTheme:a,onClickSkipAll:s}=this.props,c="left"===t||n,d="center"===t||!c;return(0,o.jsxs)(p.Dialog,{className:u()(x.popoutRoot,r),children:[null!=e&&(0,o.jsx)(f.Z,{className:x.mediaContainer,justify:c?f.Z.Justify.START:f.Z.Justify.CENTER,children:e()}),(0,o.jsx)(p.H,{className:u()({[x.titleCenter]:d,[x.titleLeft]:c}),children:i}),(0,o.jsx)("string"==typeof l?"p":"div",{className:u()({[x.bodyCenter]:d,[x.bodyLeft]:c}),children:l}),(0,o.jsxs)(f.Z,{className:x.buttonContainer,justify:c?f.Z.Justify.BETWEEN:f.Z.Justify.CENTER,children:[(0,o.jsx)(p.Button,{size:p.ButtonSizes.SMALL,onClick:this.handleDismiss,children:C.intl.string(C.t["+IrDzM"])}),(0,o.jsx)(p.Button,{size:p.ButtonSizes.SMALL,look:p.Button.Looks.BLANK,onClick:s,color:(0,h.ap)(a)?p.Button.Colors.PRIMARY:p.Button.Colors.WHITE,className:c?x.buttonSkipLeftAlign:x.buttonSkipCenterAlign,children:C.intl.string(C.t["33wtxs"])})]})]})}constructor(...e){super(...e),v(this,"state",{confirmed:!1}),v(this,"handleDismiss",()=>{let{onClickComplete:e}=this.props;this.setState({confirmed:!0},()=>null==e?void 0:e())})}}class I extends(r=c.PureComponent){render(){let{renderMedia:e,textAlign:t,onComplete:n,onSkipAll:i,isLongText:l,title:r,body:a,children:s,spacing:c,forceTheme:d,...u}=this.props,h="top"===u.position||"bottom"===u.position?"center":"top";return(0,o.jsx)(p.Popout,{...u,align:h,spacing:null!=c?c:0,renderPopout:this.renderPopoutContent,nudgeAlignIntoViewport:!0,children:s})}constructor(...e){super(...e),v(this,"onClickComplete",e=>{e(),this.props.onComplete()}),v(this,"onClickSkipAll",e=>{let{onSkipAll:t,uniqueId:n}=this.props;e(),t(),m.default.track(g.rMx.DISMISS_ALL_TUTORIALS,{tutorial:n})}),v(this,"renderPopoutContent",e=>{let{closePopout:t,position:n}=e,{forceTheme:i,isLongText:l,arrowAlignment:r,renderMedia:a}=this.props,s=null!=a;return(0,o.jsx)(p.ThemeProvider,{theme:i,children:e=>(0,o.jsx)(_,{...this.props,className:u()({[x.bottom]:"bottom"===n,[x.contentNarrowNoMedia]:!l&&!s,[x.contentNarrowWithMedia]:!l&&s,[x.contentWideNoMedia]:l&&!s,[x.contentWideWithMedia]:l&&s,[x.right]:"right"===n,[x.top]:"top"===n,[x.left]:"left"===n,[x.arrowAlignmentTop]:"top"===r,[x.arrowAlignmentMiddle]:"middle"===r,"force-theme":null!=i},e),onClickComplete:()=>this.onClickComplete(t),onClickSkipAll:()=>this.onClickSkipAll(t)})})})}}v(I,"TextAlignments",i),v(I,"defaultProps",{textAlign:"left"})},597:function(e,t,n){n.d(t,{c:function(){return c}});var i=n(954955),l=n.n(i),r=n(544891),a=n(570140),s=n(486527),o=n(981631);let c=l()(async e=>{try{a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_START"});let t=await r.tn.get({url:o.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{type:s.C2.GUILD_SCHEDULED_EVENT},rejectWithError:!0});a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:t.body})}catch(e){a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_FAILURE"})}},200)},99325:function(e,t,n){n.d(t,{Dr:function(){return x},Rq:function(){return g},So:function(){return C},Su:function(){return v},YZ:function(){return p},_Q:function(){return _},bF:function(){return m},c$:function(){return h},kx:function(){return f}});var i=n(954955),l=n.n(i),r=n(990547),a=n(544891),s=n(570140),o=n(573261),c=n(866112),d=n(486527),u=n(981631);let h=l()(async(e,t)=>{try{s.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});let n=await a.tn.get({url:u.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{category_id:t},rejectWithError:!0});s.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){s.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),p=l()(async e=>{try{let t=await a.tn.get({url:u.ANM.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e),rejectWithError:!0});s.Z.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:e,counts:t.body})}catch(e){}},200);async function m(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.AR.UNCATEGORIZED,l=await o.Z.post({url:u.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:i},trackedActionData:{event:r.NetworkActionNames.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:e,guild_id:t,primary_category_id:i}},rejectWithError:!1});s.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:e,entry:l.body})}function f(e,t){o.Z.delete({url:u.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:r.NetworkActionNames.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}},rejectWithError:!0}),s.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})}let g=l()(async(e,t)=>{if(!c.Z.shouldFetch(e,t)){s.Z.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",channelId:e,query:t});return}try{s.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:e,query:t});let n=await a.tn.get({url:u.ANM.DIRECTORY_ENTRIES_SEARCH(e),query:{query:t},rejectWithError:!0});s.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:e,query:t,results:n.body})}catch(e){s.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"})}},200),C=e=>{s.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",channelId:e})},x=async function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.AR.UNCATEGORIZED,l=await a.tn.patch({url:u.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:i},rejectWithError:!1});s.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:e,entry:l.body})},v=(e,t)=>{s.Z.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})},_=async(e,t)=>{try{let n=await a.tn.get({url:u.ANM.DIRECTORY_CHANNEL_LIST_BY_ID(e),query:{entity_ids:t},rejectWithError:!0});s.Z.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:e,entries:n.body})}catch(e){}}},866112:function(e,t,n){n(653041);var i,l,r,a,s=n(442837),o=n(570140),c=n(975984);let d=[],u={},h={};class p extends(i=s.ZP.Store){getSearchState(e){var t;return null!==(t=u[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}}getSearchResults(e,t){var n,i,l;return null!==(l=null===(i=h[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.results)&&void 0!==l?l:d}shouldFetch(e,t){var n,i;let l=null===(i=h[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.lastSearchedAt;return null==l||Date.now()-l>12e4}}a="GuildDirectorySearchStore",(r="displayName")in(l=p)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new p(o.Z,{GUILD_DIRECTORY_SEARCH_START:function(e){let{channelId:t,query:n}=e;u[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){let{channelId:t,query:n,results:i}=e;u[t]={...u[t],fetching:!1};let l=[];i.forEach(e=>{let t=(0,c.MQ)(e);l.push(t)}),h[t]={...h[t],[n]:{results:(0,c.Th)(l),lastSearchedAt:Date.now()}}},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){let{channelId:t}=e;u[t]={...u[t],fetching:!1}},GUILD_DIRECTORY_SEARCH_CLEAR:function(e){let{channelId:t}=e;u[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){let{channelId:t,query:n}=e;u[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t;let{channelId:n,guildId:i}=e,l=null===(t=u[n])||void 0===t?void 0:t.mostRecentQuery;if(null==l)return;let r=h[n][l];if(null==r)return;let a=r.results.filter(e=>e.guildId!==i);h[n]={...h[n],[u[n].mostRecentQuery]:{...r,results:a}}}})},273387:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(570140),c=n(975984),d=n(486527);let u=Object.freeze({}),h=!1,p={},m={},f={},g={},C={};class x extends(i=s.ZP.Store){isFetching(){return h}getCurrentCategoryId(e){var t;return null!==(t=m[e])&&void 0!==t?t:d.AR.ALL}getDirectoryEntries(e,t){var n;return null!=t?null===(n=f[e])||void 0===n?void 0:n[t]:p[e]}getDirectoryEntry(e,t){var n;return null===(n=p[e])||void 0===n?void 0:n[t]}getDirectoryAllEntriesCount(e){var t;return Object.keys(null!==(t=p[e])&&void 0!==t?t:{}).length}getDirectoryCategoryCounts(e){var t;return null!==(t=g[e])&&void 0!==t?t:u}getAdminGuildEntryIds(e){return C[e]}}a="GuildDirectoryStore",(r="displayName")in(l=x)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new x(o.Z,{GUILD_DIRECTORY_FETCH_START:function(){h=!0},GUILD_DIRECTORY_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e;h=!1;let i={},l={};n.forEach(e=>{let t=(0,c.MQ)(e);i[t.guildId]=t,null!=l[t.primaryCategoryId]?l[t.primaryCategoryId][t.guildId]=t:l[t.primaryCategoryId]={[t.guildId]:t}}),p[t]=i,f[t]=l},GUILD_DIRECTORY_FETCH_FAILURE:function(){h=!1},GUILD_DIRECTORY_ENTRY_CREATE:function(e){var t,n,i,l,r;let{channelId:a,entry:s}=e,o=(0,c.MQ)(s);if(null==o||(null===(t=p[a])||void 0===t?void 0:t[o.guildId])!=null)return;p[a]={...p[a],[o.guildId]:o};let u=null!==(i=o.primaryCategoryId)&&void 0!==i?i:d.AR.UNCATEGORIZED;if(f[a]={...f[a],[u]:{...null===(n=f[a])||void 0===n?void 0:n[u],[o.guildId]:o}},null!=g[a]){let e=null!==(r=null===(l=g[a])||void 0===l?void 0:l[u])&&void 0!==r?r:0;g[a]={...g[a],[u]:e+1}}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n;let{channelId:i,guildId:l}=e,r=null===(t=p[i])||void 0===t?void 0:t[l];if(null==r)return;let a=r.primaryCategoryId,s=Object.assign({},p[i]);delete s[l],null===(n=C[i])||void 0===n||n.delete(l),C[i]=new Set(C[i]),p[i]=s;let o=Object.assign({},f[i][a]);if(delete o[l],f[i]={...f[i],[a]:o},null!=g[i]){let e=g[i][a]-1;g[i]={...g[i],[a]:e>=0?e:0}}},GUILD_DIRECTORY_ENTRY_UPDATE:function(e){var t,n,i,l,r,a,s,o,u;let{channelId:h,entry:m}=e,C=(0,c.MQ)(m),x=null===(t=p[h])||void 0===t?void 0:t[C.guildId];p[h]={...p[h],[C.guildId]:{...x,...C}};let v=null!==(l=null==x?void 0:x.primaryCategoryId)&&void 0!==l?l:d.AR.UNCATEGORIZED,_=null!==(r=C.primaryCategoryId)&&void 0!==r?r:d.AR.UNCATEGORIZED,I=Object.assign({},null===(n=f[h])||void 0===n?void 0:n[v]);null!=x&&v!==_&&delete I[C.guildId],f[h]={...f[h],[v]:I,[_]:{...null===(i=f[h])||void 0===i?void 0:i[_],[C.guildId]:{...x,...C}}},_!==v&&null!=g[h]&&(g[h]={...g[h],[v]:(null===(a=g[h])||void 0===a?void 0:a[v])>0?(null===(s=g[h])||void 0===s?void 0:s[v])-1:0,[_]:(null!==(u=null===(o=g[h])||void 0===o?void 0:o[_])&&void 0!==u?u:0)+1})},GUILD_DIRECTORY_CATEGORY_SELECT:function(e){let{channelId:t,categoryId:n}=e;m[t]=n},GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS:function(e){let{channelId:t,counts:n}=e;g[t]=n},GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS:function(e){let{channelId:t,entries:n}=e,i=new Set;n.forEach(e=>{let t=(0,c.MQ)(e);i.add(t.guildId)}),C[t]=i}})},975984:function(e,t,n){n.d(t,{Lz:function(){return u},MQ:function(){return o},TR:function(){return h},Th:function(){return d},_N:function(){return c}}),n(47120);var i=n(512722),l=n.n(i),r=n(392711),a=n.n(r),s=n(486527);function o(e){var t,n,i,r,a,o,c;return l()(e.type===s.C2.GUILD,"Directory entries must be connected to a guild!"),{channelId:e.directory_channel_id,guildId:e.entity_id,type:e.type,authorId:e.author_id,createdAt:e.created_at,description:e.description,primaryCategoryId:e.primary_category_id,name:null===(t=e.guild)||void 0===t?void 0:t.name,icon:null===(n=e.guild)||void 0===n?void 0:n.icon,splash:null===(i=e.guild)||void 0===i?void 0:i.splash,features:new Set(null===(r=e.guild)||void 0===r?void 0:r.features),approximateMemberCount:null===(a=e.guild)||void 0===a?void 0:a.approximate_member_count,approximatePresenceCount:null===(o=e.guild)||void 0===o?void 0:o.approximate_presence_count,featurableInDirectory:null===(c=e.guild)||void 0===c?void 0:c.featurable_in_directory}}let c=5;function d(e){return a().orderBy(e,[e=>e.approximateMemberCount],["desc"])}function u(e){var t;return(t=e.filter(e=>e.featurableInDirectory),a().orderBy(t,[e=>e.createdAt],["desc"])).slice(0,c)}function h(e){return d(e)}},683818:function(e,t,n){n.d(t,{G:function(){return c},Z:function(){return o}});var i=n(442837),l=n(592125),r=n(430824),a=n(496675),s=n(981631);function o(e){let t=(0,i.e7)([r.Z],()=>r.Z.getGuild(e.guildId)),n=(0,i.e7)([l.Z],()=>l.Z.getChannel(e.channelId)),o=(0,i.e7)([a.Z],()=>a.Z.can(s.Plq.ADMINISTRATOR,t)),c=(0,i.e7)([a.Z],()=>a.Z.can(s.Plq.MANAGE_MESSAGES,n));return{isEntryAdmin:o,canEdit:o||c,canRemove:o||c}}function c(e){return(0,i.e7)([a.Z],()=>a.Z.can(s.Plq.SEND_MESSAGES,e))}},201493:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(570140),o=n(45114),c=n(147754),d=n(306680),u=n(626135),h=n(597),p=n(99325),m=n(866112),f=n(273387),g=n(683818),C=n(102888),x=n(65839),v=n(453879),_=n(408310),I=n(486527),E=n(981631),b=n(405143);t.Z=e=>{var t;let{channel:Z,guild:N}=e,{currentCategoryId:S,directoryEntries:T,categoryCounts:j,allEntriesCount:A,isLoading:y}=(0,r.cj)([f.Z],()=>{let e=f.Z.getCurrentCategoryId(Z.id),t=f.Z.getDirectoryEntries(Z.id,e===I.AR.ALL?null:e),n=f.Z.getDirectoryCategoryCounts(Z.id),i=f.Z.getDirectoryAllEntriesCount(Z.id);return{currentCategoryId:e,directoryEntries:t,categoryCounts:n,allEntriesCount:i,isLoading:f.Z.isFetching()}});l.useEffect(()=>()=>{let e=d.ZP.lastMessageId(Z.id);if(null!=e)s.Z.wait(()=>{(0,o.In)(Z.id,!0,!0,e)})},[Z.id]);let P=l.useMemo(()=>null!=T?(0,v.v)(Object.values(T),S):null,[T,S]),{mostRecentQuery:M,searchFetching:R,searchResults:L}=(0,r.cj)([m.Z],()=>{let{mostRecentQuery:e,fetching:t}=m.Z.getSearchState(Z.id);return{mostRecentQuery:e,searchFetching:t,searchResults:m.Z.getSearchResults(Z.id,e)}}),[k,O]=l.useState(M),D=""!==M,{showHubEventsList:w}=c.Z.useExperiment({guildId:null!==(t=N.id)&&void 0!==t?t:"",location:"6f7fb0_1"},{autoTrackExposure:!1});l.useEffect(()=>{p.c$(Z.id),p.YZ(Z.id),w&&h.c(Z.id),O(M)},[Z.id]),l.useEffect(()=>{u.default.track(E.rMx.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:Z.id,directory_guild_id:N.id,primary_category_id:S})},[Z.id,N.id,S]);let B=(0,g.G)(Z)?()=>{(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("79764").then(n.bind(n,533202));return t=>(0,i.jsx)(e,{...t,directoryGuildName:N.name,directoryGuildId:N.id,directoryChannelId:Z.id,currentCategoryId:S===I.AR.ALL?null:S})})}:void 0,U=e=>{0!==k.trim().length&&e.charCode===E.yXg.ENTER&&(p.Rq(Z.id,k),u.default.track(E.rMx.GUILD_DIRECTORY_SEARCH,{directory_channel_id:Z.id,directory_guild_id:N.id}))},H=()=>{O(""),p.So(Z.id)};return D?(0,i.jsx)(_.Z,{searchQuery:k,setSearchQuery:O,mostRecentQuery:M,handleSearchKeyPress:U,handleClearSearch:H,handleCreateOrAddGuild:B,searchResults:L,searchFetching:R}):null==P&&null==S?(0,i.jsx)("div",{className:b.pageContainer,children:(0,i.jsx)(a.Spinner,{className:b.spinner})}):(null==P?void 0:P.length)===0&&null==S?(0,i.jsx)("div",{className:b.pageContainer,children:(0,i.jsx)(C.Z,{guild:N,onAddGuild:B})}):(0,i.jsx)(x.Z,{channel:Z,searchQuery:k,setSearchQuery:O,handleSearchKeyPress:U,handleClearSearch:H,handleCreateOrAddGuild:B,currentCategoryId:S,handleSelectCategory:e=>{p.Su(Z.id,e)},directoryEntries:P,categoryCounts:j,allEntriesCount:A,isLoading:y})}},102888:function(e,t,n){var i=n(200651),l=n(192379),r=n(481060),a=n(128557),s=n(981631),o=n(388032),c=n(24298);t.Z=e=>{let{guild:t,onAddGuild:d}=e,u=l.useCallback(()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,source:s.t4x.HUB_DIRECTORY,analyticsLocation:{section:s.jXE.HUB_WELCOME_CTA}})})},[t]);return(0,i.jsxs)("div",{className:c.emptyWrapper,children:[(0,i.jsx)("img",{className:c.emptyImage,alt:"",src:n(705845)}),(0,i.jsx)(r.Heading,{className:c.emptyTitle,variant:"heading-xl/semibold",children:o.intl.format(o.t.vyvrpK,{guildName:t.name})}),(0,i.jsx)(r.Text,{variant:"text-md/normal",className:c.emptySubtitle,children:o.intl.string(o.t.WypE0t)}),null!=d?(0,i.jsx)(a.i,{className:c.emptyCTA,iconUrl:n(362827),header:o.intl.string(o.t.hyK15u),completed:!1,onClick:d}):null,(0,i.jsx)(a.i,{className:c.emptyCTA,iconUrl:n(538548),header:o.intl.string(o.t.L4bwJy),completed:!1,onClick:u})]})}},400251:function(e,t,n){n.d(t,{m:function(){return S}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(239091),d=n(749210),u=n(686546),h=n(951394),p=n(565138),m=n(372769),f=n(134432),g=n(769654),C=n(601964),x=n(430824),v=n(768581),_=n(683818),I=n(16853),E=n(981631),b=n(388032),Z=n(393289),N=n(883760);let S=e=>{let{onClick:t}=e;return(0,i.jsxs)(o.Clickable,{onClick:t,className:Z.addEntryCard,children:[(0,i.jsx)("img",{alt:"",src:N}),(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"header-primary",className:Z.addServerText,children:b.intl.string(b.t.H9jxS0)})]})};function T(e){let{entry:t}=e,[r,s]=l.useState(!1),{canEdit:c}=(0,_.Z)(t);return(0,i.jsx)("div",{className:a()(Z.actionButtonsContainer,{[Z.forceButtonsShow]:r}),children:(0,i.jsxs)(h.ZP,{children:[c?(0,i.jsx)(o.Tooltip,{text:b.intl.string(b.t.XnuOvL),hideOnClick:!0,children:e=>{let{onClick:l,...r}=e;return(0,i.jsx)(h.zx,{...r,onClick:()=>{null==l||l(),(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,i.jsx)(e,{...n,entry:t})})},"aria-label":b.intl.string(b.t.XnuOvL),children:(0,i.jsx)(o.PencilIcon,{size:"xs",color:"currentColor",className:Z.overflowIcon})})}}):null,(0,i.jsx)(I.Z,{onRequestOpen:()=>s(!0),onRequestClose:()=>s(!1),entry:t,hideEditButton:!0,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(o.Tooltip,{text:b.intl.string(b.t.UKOtz8),hideOnClick:!0,children:e=>{let{onClick:l,...r}=e;return(0,i.jsx)(h.zx,{...n,...r,onClick:e=>{null==l||l(),t(e)},"aria-label":b.intl.string(b.t.UKOtz8),children:(0,i.jsx)(o.MoreHorizontalIcon,{size:"md",color:"currentColor",className:Z.overflowIcon})})}})}})]})})}t.Z=e=>{var t;let{entry:r}=e,[a,h]=l.useState(!1),_=null!=(0,s.e7)([x.Z],()=>x.Z.getGuild(r.guildId)),I=async()=>{h(!0);try{_?(0,g.X)(r.guildId):await d.Z.joinGuild(r.guildId,{source:E.vtS.DIRECTORY_ENTRY})}finally{h(!1)}},N=v.ZP.getGuildSplashURL({id:r.guildId,splash:r.splash,size:300*(0,f.x_)()}),S=null!==(t=v.ZP.getGuildIconURL({id:r.guildId,icon:r.icon,size:40}))&&void 0!==t?t:void 0,j=b.intl.string(b.t.VJlc0d);return _&&(j=b.intl.string(b.t.cqWE2d)),(0,i.jsxs)("div",{className:Z.card,onContextMenu:e=>{(0,c.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,643560));return t=>(0,i.jsx)(e,{...t,entry:r})})},children:[(0,i.jsxs)("div",{className:Z.cardHeader,children:[(0,i.jsx)("div",{className:Z.splash,children:null!=N&&(0,i.jsx)("img",{src:N,alt:"",className:Z.splashImage})}),(0,i.jsx)("div",{className:Z.guildIcon,children:(0,i.jsx)(u.ZP,{mask:u.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,i.jsx)("div",{className:Z.iconMask,children:(0,i.jsx)(p.Z,{className:Z.icon,iconSrc:S,guild:new C.ZP(r),size:p.Z.Sizes.MEDIUM,active:!0})})})})]}),(0,i.jsxs)("div",{className:Z.guildInfo,children:[(0,i.jsxs)("div",{className:Z.title,children:[(0,i.jsx)(m.Z,{className:Z.guildBadge,guild:r,tooltipColor:o.Tooltip.Colors.PRIMARY}),(0,i.jsx)(o.Text,{className:Z.guildName,variant:"heading-md/semibold",color:"header-primary",children:r.name})]}),(0,i.jsx)(o.Text,{className:Z.description,variant:"text-sm/normal",color:"header-secondary",children:r.description}),(0,i.jsxs)("div",{className:Z.memberInfo,children:[null!=r.approximatePresenceCount&&(0,i.jsxs)("div",{className:Z.memberCount,children:[(0,i.jsx)("div",{className:Z.dotOnline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"header-secondary",children:b.intl.format(b.t["LC+S+v"],{membersOnline:r.approximatePresenceCount})})]}),null!=r.approximateMemberCount&&(0,i.jsxs)("div",{className:Z.memberCount,children:[(0,i.jsx)("div",{className:Z.dotOffline}),(0,i.jsx)(o.Text,{variant:"text-xs/normal",color:"header-secondary",children:b.intl.format(b.t.zRl6XV,{count:r.approximateMemberCount})})]})]}),(0,i.jsx)(o.Button,{submitting:a,className:Z.joinButton,color:_?o.Button.Colors.PRIMARY:o.Button.Colors.GREEN,onClick:I,children:j})]}),(0,i.jsx)(T,{entry:r})]})}},643560:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var i=n(200651),l=n(192379),r=n(481060),a=n(239091),s=n(299206),o=n(726521),c=n(99325),d=n(683818),u=n(388032);function h(e){let{entry:t,onSelect:h,closePopout:p,hideEditButton:m=!1}=e,{isEntryAdmin:f,canEdit:g,canRemove:C}=(0,d.Z)(t),x=(0,s.Z)({id:t.guildId,label:u.intl.string(u.t["94lLDw"]),onSuccess:p});l.useEffect(()=>{!g&&!C&&null==x&&(0,a.Zy)()});let v=()=>{c.kx(t.channelId,t.guildId)};function _(){(0,a.Zy)(),null==p||p()}return(0,i.jsxs)(r.Menu,{navId:"guild-entry-context",onClose:_,"aria-label":u.intl.string(u.t.HpQykZ),onSelect:h,children:[(0,i.jsxs)(r.MenuGroup,{children:[g&&!m?(0,i.jsx)(r.MenuItem,{id:"update-entry",label:u.intl.string(u.t.XnuOvL),action:function(){(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("34191").then(n.bind(n,303647));return n=>(0,i.jsx)(e,{...n,entry:t})}),_()}}):null,C?(0,i.jsx)(r.MenuItem,{id:"remove-from-hub",label:u.intl.string(u.t.KUxYWF),action:function(){(0,r.openModal)(e=>(0,i.jsx)(r.ConfirmModal,{header:u.intl.string(u.t.KUxYWF),confirmText:u.intl.string(u.t.N86XcH),cancelText:u.intl.string(u.t["ETE/oK"]),onConfirm:v,...e,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",children:u.intl.format(u.t["/5y0ub"],{guildName:t.name})})})),_()},color:"danger"}):null,f?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.MenuItem,{id:"report-server-listing",label:u.intl.string(u.t.Aen9en),action:function(){null!=t&&((0,o.sq)(t),_())},icon:r.FlagIcon,color:"danger"})})]}),(0,i.jsx)(r.MenuGroup,{children:x})]})}},16853:function(e,t,n){var i=n(200651);n(192379);var l=n(481060),r=n(643560);t.Z=e=>{let{entry:t,hideEditButton:n,children:a,onRequestOpen:s,onRequestClose:o}=e;return(0,i.jsx)(l.Popout,{onRequestOpen:s,onRequestClose:o,animation:l.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:l}=e;return(0,i.jsx)(r.default,{entry:t,closePopout:l,hideEditButton:n})},children:a})}},65839:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(481060),c=n(112724),d=n(430824),u=n(496675),h=n(768581),p=n(400251),m=n(486527),f=n(981631),g=n(388032),C=n(405143),x=n(73234),v=n(584354),_=n(725060);let I=(0,c.Z)(e=>{let{searchQuery:t,setSearchQuery:n,handleClearSearch:l,handleSearchKeyPress:r,width:s}=e,c=null!=s&&s<=800;return(0,i.jsxs)("div",{className:x.header,children:[(0,i.jsx)("img",{alt:"",className:x.headerImage,src:c?_:v}),(0,i.jsx)("div",{className:x.headerContentWrapper,children:(0,i.jsxs)("div",{className:a()(x.headerContent,{[x.headerContentSmall]:c}),children:[(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",className:x.searchTitle,children:g.intl.string(g.t.IT7qoK)}),(0,i.jsx)(o.Text,{variant:"text-md/normal",className:x.searchSubtitle,children:g.intl.string(g.t["5PoYtr"])}),(0,i.jsx)(o.SearchBox,{searchTerm:t,className:x.searchBox,inputClassName:x.searchBoxInput,closeIconClassName:x.closeIcon,searchIconClassName:x.searchIcon,label:g.intl.string(g.t.nL2wKC),placeholder:g.intl.string(g.t.nL2wKC),onChange:n,onClear:l,onKeyPress:r,cta:null!=t&&t.length>0?g.intl.string(g.t["CU+6oK"]):null})]})})]})});function E(e){let{guild:t,directoryEntries:n,handleCreateOrAddGuild:l,isLoading:r}=e,c=(0,s.e7)([u.Z],()=>u.Z.can(f.Plq.ADMINISTRATOR,t)),d=[];null!=n&&n.forEach(e=>{d=d.concat(e.entries)}),d.sort((e,t)=>{var n,i;return(null!==(n=t.approximateMemberCount)&&void 0!==n?n:0)-(null!==(i=e.approximateMemberCount)&&void 0!==i?i:0)});let m=h.ZP.getGuildSplashURL({id:t.id,splash:t.splash});return(0,i.jsx)("div",{className:C.pageContainer,children:(0,i.jsxs)(o.AdvancedScrollerAuto,{className:C.scroller,children:[(0,i.jsxs)("div",{className:x.header,children:[null!=m?(0,i.jsx)("img",{alt:"",className:a()(x.headerImage,x.headerImageSimple),src:m}):null,(0,i.jsx)("div",{className:x.headerImageBG}),(0,i.jsx)("div",{className:x.headerContentWrapper,children:(0,i.jsx)("div",{className:a()(x.headerContent,x.headerContentSmall),children:(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",color:"always-white",children:g.intl.format(g.t.WphZ6e,{categoryName:"Midjourney"})})})})]}),r&&null==n?(0,i.jsx)(o.Spinner,{className:C.spinner}):(0,i.jsxs)("div",{className:C.cardsContainer,children:[d.map(e=>(0,i.jsx)(p.Z,{entry:e},e.guildId)),c&&null!=l?(0,i.jsx)(p.m,{onClick:l}):null]})]})})}t.Z=e=>{let{channel:t,directoryEntries:n,handleCreateOrAddGuild:r,searchQuery:a,setSearchQuery:c,handleClearSearch:u,handleSearchKeyPress:h,currentCategoryId:v,handleSelectCategory:_,categoryCounts:b,allEntriesCount:Z,isLoading:N}=e,S=(0,s.e7)([d.Z],()=>d.Z.getGuild(t.getGuildId()));return null!=S&&S.hasFeature(f.oNc.SHARD)?(0,i.jsx)(E,{guild:S,directoryEntries:n,handleCreateOrAddGuild:r,isLoading:N}):(0,i.jsx)("div",{className:C.pageContainer,children:(0,i.jsxs)(o.AdvancedScrollerAuto,{className:C.scroller,children:[(0,i.jsx)(I,{searchQuery:a,setSearchQuery:c,handleClearSearch:u,handleSearchKeyPress:h}),(0,i.jsx)(o.AdvancedScrollerThin,{orientation:"horizontal",children:(0,i.jsxs)(o.TabBar,{className:x.tabBar,type:"top",look:"brand",selectedItem:v,onItemSelect:e=>{_(e)},children:[(0,i.jsx)(o.TabBar.Item,{className:x.tabBarItem,id:m.AR.ALL,children:"".concat(g.intl.string(g.t.hEAa2d)," (").concat(Z,")")},m.AR.ALL),(0,m.b7)(t.id).map(e=>{let{value:t,label:n}=e;return(0,i.jsx)(o.TabBar.Item,{className:x.tabBarItem,id:t,children:"".concat(n," ").concat(null!=b[t]?"(".concat(b[t],")"):"")},t)})]})}),N&&null==n?(0,i.jsx)(o.Spinner,{className:C.spinner}):null==n?void 0:n.map((e,t)=>(0,i.jsxs)(l.Fragment,{children:[void 0!==e.header?(0,i.jsx)(o.Text,{variant:"text-md/semibold",className:x.sectionHeader,children:e.header}):null,(0,i.jsxs)("div",{className:C.cardsContainer,children:[e.entries.map(e=>(0,i.jsx)(p.Z,{entry:e},e.guildId)),e.appendEndCard&&null!=r?(0,i.jsx)(p.m,{onClick:r}):null]})]},t))]})})}},453879:function(e,t,n){n.d(t,{v:function(){return a}}),n(47120),n(653041);var i=n(975984),l=n(486527),r=n(388032);function a(e,t){if(t!==l.AR.ALL)return[{entries:(0,i.TR)(e),appendEndCard:!0}];let n=[],a=(0,i.Lz)(e),s=new Set(a.map(e=>e.guildId));a.length>0&&n.push({header:r.intl.string(r.t.CbaapK),entries:a,appendEndCard:!1});let o=e.filter(e=>!s.has(e.guildId));return(o=(0,i.Th)(o)).length>0&&n.push({header:r.intl.string(r.t.wxbhER),entries:o,appendEndCard:!0}),n}},408310:function(e,t,n){var i=n(200651);n(192379);var l=n(481060),r=n(671533),a=n(400251),s=n(388032),o=n(405143),c=n(182007),d=n(176480);t.Z=e=>{let t,{searchQuery:n,setSearchQuery:u,mostRecentQuery:h,handleClearSearch:p,handleSearchKeyPress:m,handleCreateOrAddGuild:f,searchResults:g,searchFetching:C}=e;if(C)t=(0,i.jsx)("div",{className:o.pageContainer,children:(0,i.jsx)(l.Spinner,{className:o.spinner})});else if(0===g.length){let e=null!=f?s.intl.format(s.t.qWFupq,{addServerHook:function(e,t){return(0,i.jsx)(l.Anchor,{onClick:f,children:e},t)}}):s.intl.string(s.t.vYyEnp);t=(0,i.jsxs)("div",{className:c.emptySearchWrapper,children:[(0,i.jsx)("img",{className:c.emptySearchImage,alt:"",src:d}),(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",color:"header-primary",className:c.emptySearchTitle,children:s.intl.string(s.t["6HXiuL"])}),(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",className:c.emptySearchSubtitle,children:e})]})}else t=(0,i.jsx)("div",{className:o.cardsContainer,children:g.map(e=>(0,i.jsx)(a.Z,{entry:e},e.guildId))});return(0,i.jsx)("div",{className:o.pageContainer,children:(0,i.jsxs)(l.ScrollerAuto,{className:o.scroller,children:[(0,i.jsxs)("div",{className:c.searchHeader,children:[(0,i.jsxs)("div",{className:c.headerTitleWrapper,children:[(0,i.jsx)(l.Clickable,{onClick:p,className:c.arrow,children:(0,i.jsx)(r.Z,{direction:r.Z.Directions.LEFT})}),(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",className:c.searchPageTitle,children:s.intl.format(s.t.UkOHRU,{numResults:g.length,query:h})})]}),(0,i.jsx)(l.SearchBox,{searchTerm:n,className:c.searchPageBox,inputClassName:c.searchPageInput,label:s.intl.string(s.t.nL2wKC),placeholder:s.intl.string(s.t.nL2wKC),onChange:u,onClear:p,onKeyPress:m,cta:null!=n&&n.length>0?s.intl.string(s.t["CU+6oK"]):null})]}),t]})})}},396769:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(481060),r=n(600164),a=n(242289);function s(e){let{icon:t,onClick:n,label:s}=e;return(0,i.jsx)(l.Button,{look:l.Button.Looks.BLANK,size:l.Button.Sizes.MIN,className:a.button,onClick:n,children:(0,i.jsxs)(r.Z,{align:r.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:a.buttonIcon,children:t}),(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"none",children:s})]})})}},7782:function(e,t,n){var i=n(200651),l=n(192379),r=n(873546),a=n(442837),s=n(481060),o=n(194359),c=n(686546),d=n(333984),u=n(486622),h=n(922409),p=n(86203),m=n(922611),f=n(6025),g=n(621853),C=n(171368),x=n(433355),v=n(699516),_=n(594174),I=n(768581),E=n(525541),b=n(981631),Z=n(377668),N=n(228168),S=n(388032),T=n(108720);let j=e=>{let{userId:t,channelId:n}=e,r=(0,a.e7)([g.Z],()=>g.Z.getMutualGuilds(t),[t]),o=l.useMemo(()=>null!=r?r.slice(0,3).map((e,t)=>{let{guild:n}=e,l=null!=n?I.ZP.getGuildIconURL({id:n.id,icon:n.icon,size:24}):null;if(null==l)return null;let a=t===(r.length>3?3:r.length)-1,s=(0,i.jsx)("img",{src:l,alt:"",className:T.avatar},t);return a?s:(0,i.jsx)(c.ZP,{className:T.avatarMask,mask:c.ZP.Masks.VOICE_USER_SUMMARY_ITEM,width:24,height:24,children:s},t)}).filter(e=>null!=e):[],[r]);return null==r||0===r.length?(0,i.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:S.intl.string(S.t.zjVh8v)}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:T.avatarContainer,children:o}),(0,i.jsx)(s.Clickable,{onClick:()=>{(0,C.openUserProfileModal)({userId:t,channelId:n,section:N.oh.MUTUAL_GUILDS,analyticsLocation:{section:b.jXE.DIRECT_MESSAGE}})},children:(0,i.jsx)(s.Text,{className:T.mutualGuilds,variant:"text-sm/normal",children:S.intl.format(S.t.eE3oen,{count:r.length})})})]})},A=e=>{var t;let{relationshipType:n,userId:l,showingBanner:r}=e,a=null===(t=_.default.getUser(l))||void 0===t?void 0:t.bot,c=(0,m.Do)({location:"RelationshipActions"}),d=()=>{o.Z.addRelationship({userId:l,context:{location:b.ZY5.DM_CHANNEL}})},u=(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,color:s.Button.Colors.PRIMARY,onClick:()=>{o.Z.addRelationship({userId:l,context:{location:b.ZY5.DM_CHANNEL},type:b.OGo.BLOCKED})},children:S.intl.string(S.t.l4EmaW)});switch(n){case b.OGo.NONE:return(0,i.jsxs)(i.Fragment,{children:[!a&&!r&&(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:d,children:S.intl.string(S.t.w5uwoK)}),u]});case b.OGo.FRIEND:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:()=>{o.Z.removeFriend(l,{location:b.ZY5.DM_CHANNEL})},color:s.Button.Colors.PRIMARY,children:S.intl.string(S.t.cvSt1N)}),u]});case b.OGo.BLOCKED:return(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:()=>{o.Z.unblockUser(l,{location:b.ZY5.DM_CHANNEL})},color:s.Button.Colors.PRIMARY,children:S.intl.string(S.t.XyHpKC)});case b.OGo.PENDING_INCOMING:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Text,{className:T.action,color:"header-secondary",variant:"text-sm/normal",children:S.intl.string(S.t.c2v5nJ)}),(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:d,children:S.intl.string(c?S.t["+WbSn5"]:S.t.ZcibdX)}),(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,color:s.Button.Colors.PRIMARY,onClick:()=>{o.Z.cancelFriendRequest(l,{location:b.ZY5.DM_CHANNEL})},children:S.intl.string(c?S.t.rQSndn:S.t.xuio0N)}),u]});case b.OGo.PENDING_OUTGOING:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,disabled:!0,children:S.intl.string(S.t.xMH6vL)}),u]});default:return null}},y=e=>{let{channelId:t,otherUserId:n}=e,r=l.useCallback(()=>{(0,s.showToast)((0,s.createToast)(S.intl.string(S.t.a2j0ho),s.ToastType.FAILURE))},[]),a=l.useCallback(()=>{f.Z.closeChannelSidebar(x.uZ)},[]),o=l.useCallback(()=>{f.Z.closeChannelSidebar(x.uZ)},[]),{acceptMessageRequest:c,rejectMessageRequest:d,isAcceptLoading:h,isRejectLoading:p,isOptimisticAccepted:m,isOptimisticRejected:g}=(0,u.m)({user:_.default.getUser(n),onError:r,onAcceptSuccess:o,onRejectSuccess:a}),C=h||p||m||g;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:()=>c(t),disabled:C,submitting:h,children:S.intl.string(S.t.Kz8Pws)}),(0,i.jsx)(s.Button,{className:T.action,size:s.Button.Sizes.TINY,onClick:()=>d(t),color:s.Button.Colors.PRIMARY,disabled:C,submitting:p,children:S.intl.string(S.t.B2nygY)})]})};t.Z=e=>{let{userId:t,channel:n,showingBanner:l}=e,{channelId:s}=(0,h._)(),o=(0,a.e7)([d.Z],()=>null!=s&&d.Z.isSpam(s),[s]),c=(0,a.e7)([v.Z],()=>v.Z.getRelationshipType(t),[t]),u=n.id===s;return t===Z.fL?null:o||u?(0,i.jsxs)("div",{className:T.mobileContainer,children:[(0,i.jsx)("div",{className:T.mobileMutualGuilds,children:(0,i.jsx)(j,{userId:t,channelId:n.id})}),(0,i.jsxs)("div",{className:T.mobileButtons,children:[(0,i.jsx)(y,{channelId:n.id,otherUserId:t}),(0,i.jsx)(p.Z,{channel:n})]})]}):!0===r.tq||u?(0,i.jsxs)("div",{className:T.mobileContainer,children:[(0,i.jsx)("div",{className:T.mobileMutualGuilds,children:(0,i.jsx)(j,{userId:t,channelId:n.id})}),(0,i.jsxs)("div",{className:T.mobileButtons,children:[(0,i.jsx)(A,{relationshipType:c,userId:t,showingBanner:l}),!l&&(0,i.jsx)(E.Z,{otherUserId:t,channel:n,navigateAwayOnReportSuccess:!1})]})]}):(0,i.jsxs)("div",{className:T.container,children:[(0,i.jsx)(j,{userId:t,channelId:n.id}),(0,i.jsx)("div",{className:T.divider}),(0,i.jsx)(A,{relationshipType:c,userId:t,showingBanner:l}),!l&&(0,i.jsx)(E.Z,{otherUserId:t,channel:n})]})}},967128:function(e,t,n){n.d(t,{Kq:function(){return d},Ot:function(){return u},jz:function(){return h}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(534091),o=n(981631),c=n(246924);function d(e){let{locked:t=!1,channelType:n}=e,l=(0,a.useRedesignIconContext)().enabled,s=n===o.d4z.GUILD_VOICE||n===o.d4z.GUILD_STAGE_VOICE;if(!l)return(0,i.jsx)("div",{className:r()(c.emptyChannelIcon,c.emptyChannelIconSvg,{[c.locked]:t,[c.voiceChat]:s})});{let e=s?a.ChatIcon:t?a.TextLockIcon:a.TextIcon;return(0,i.jsx)("div",{className:r()(c.emptyChannelIcon,c.emptyChannelIconComponent),children:(0,i.jsx)(e,{color:a.tokens.colors.WHITE,size:"custom",width:42,height:42})})}}function u(e){let{children:t,className:n}=e;return(0,i.jsx)(a.Heading,{"aria-hidden":"true",className:r()(n,c.header),variant:"heading-xxl/extrabold",children:t})}function h(e){let{children:t}=e;return(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"none",className:c.description,children:t})}t.ZP=function(e){let{className:t,channelId:n,children:l,...a}=e;return(0,i.jsx)("div",{className:r()(t,c.container),id:(0,s.p)(n,n),...a,children:l})}},600084:function(e,t,n){n.d(t,{Z:function(){return F}});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(570140),o=n(384275),c=n(82906),d=n(763762),u=n(933557),h=n(605436),p=n(736052),m=n(86203),f=n(189156),g=n(878857),C=n(621853),x=n(484459),v=n(131704),_=n(881998),I=n(984933),E=n(496675),b=n(594174),Z=n(51144),N=n(7782),S=n(967128),T=n(320781),j=n(269203),A=n(86863),y=n(558756),P=n(753898),M=n(734386),R=n(184279),L=n(438306),k=n(544142),O=n(128557),D=n(981631),w=n(176505),B=n(388032),U=n(948861),H=n(232186);function G(e){let{canManageRoles:t,channel:n}=e,l=t&&(0,h.Yk)(n),a=(0,r.e7)([I.ZP],()=>null!=n.guild_id&&n===I.ZP.getDefaultChannel(n.guild_id),[n]);if((0,p.Z)(n.id))return null;if(n.isForumPost())return(0,i.jsx)(T.Z,{channel:n});if(v.Ec.has(n.type))return(0,i.jsx)(k.Z,{channel:n});else if(a)return(0,i.jsx)(O.Z,{channel:n});else if(l)return(0,i.jsx)(M.Z,{channel:n});return(0,i.jsx)(L.Z,{channel:n})}function F(e){var t,n;let{channel:h,showingBanner:p}=e,v=(0,u.ZP)(h),{type:I}=h,T=(0,r.e7)([b.default],()=>h.isPrivate()?b.default.getUser(h.getRecipientId()):null),M=Z.ZP.useUserTag(T),{canManageRoles:L,canReadMessageHistory:k}=(0,r.cj)([E.Z],()=>({canManageRoles:E.Z.can(D.Plq.MANAGE_ROLES,h),canReadMessageHistory:E.Z.can(D.Plq.READ_MESSAGE_HISTORY,h)})),O=(0,r.e7)([C.Z],()=>I===D.d4z.DM?C.Z.getMutualGuilds(h.getRecipientId()):null,[h,I]),{systemDMRedesignEnabled:F}=g.Z.useExperiment({location:"bf1a4f_1"},{autoTrackExposure:null!==(t=h.isSystemDM())&&void 0!==t&&t}),V=(0,d.Z)(null!==(n=null==T?void 0:T.id)&&void 0!==n?n:D.lds),{authorizedAppToken:z,authorizedAppsFetchState:W}=(0,r.cj)([_.Z],()=>{var e;return{authorizedAppToken:null!=V?null===(e=_.Z.getApps())||void 0===e?void 0:e.find(e=>e.application.id===V.id):void 0,authorizedAppsFetchState:_.Z.getFetchState()}}),K=c.Z.useExperiment({location:"EmptyMessages"}).enabledDesktop;if(l.useEffect(()=>{I===D.d4z.DM&&null==O&&null!=T&&s.Z.wait(()=>(0,x.Z)(h.getRecipientId(),T.getAvatarURL(null,80),{withMutualGuilds:!0}))},[O,I,h,T]),l.useEffect(()=>{(null==T?void 0:T.bot)&&W===_.M.NOT_FETCHED&&o.Z.fetch()},[null==T?void 0:T.bot,W]),h.isSystemDM())return F?(0,i.jsx)(R.Z,{channel:h}):(0,i.jsx)(P.Z,{channel:h,children:B.intl.string(B.t.Rzvnio)});if(I===D.d4z.DM){let e;return null!=T&&null!=V?null!=z&&(e=(0,i.jsxs)("div",{className:U.buttonContainer,children:[(0,i.jsx)(y.W,{className:U.button,channel:h,user:T}),(0,i.jsx)(A.n,{className:U.button,user:T,application:V,channel:h,oauth2Token:z}),K&&(0,i.jsx)(m.Z,{buttonSize:a.ButtonSizes.SMALL,color:a.Button.Colors.PRIMARY,channel:h})]})):e=(0,i.jsx)(N.Z,{userId:h.getRecipientId(),channel:h,showingBanner:p}),(0,i.jsxs)(P.Z,{channel:h,user:T,children:[null!=T&&(0,i.jsx)(a.Heading,{variant:"heading-xl/medium",className:H.marginBottom20,children:M}),B.intl.format(B.t["Qvg+6+"],{username:v}),(null==T?void 0:T.isProvisional)&&(0,i.jsx)(f.Z,{look:"channel_header"}),e]})}if(h.isMultiUserDM())return h.isManaged()?(0,i.jsxs)(S.ZP,{channelId:h.id,children:[(0,i.jsx)(S.Ot,{children:B.intl.format(B.t.I3R7Vl,{channelName:v})}),(0,i.jsx)(S.jz,{children:B.intl.string(B.t.M8Ao6O)})]}):h.hasFlag(w.zZ.IS_JOIN_REQUEST_INTERVIEW_CHANNEL)?(0,i.jsx)(j.Z,{channel:h}):(0,i.jsx)(P.Z,{channel:h,children:B.intl.format(B.t.MFwcqK,{name:v})});return k?(0,i.jsx)(G,{channel:h,canManageRoles:L}):(0,i.jsx)(S.ZP,{channelId:h.id,children:(0,i.jsx)(S.jz,{children:B.intl.format(B.t.hPVEQE,{channelName:v})})})}},320781:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(471445),s=n(456269),o=n(660189),c=n(257511),d=n(967128),u=n(388032),h=n(89307);function p(e){var t;let{channel:n}=e,p=(0,s.eV)(n),{firstMessage:m}=(0,l.cj)([o.Z],()=>o.Z.getMessage(n.id)),f=new Set((0,s.kn)(n,p)),g=null!==(t=(0,a.KS)(n))&&void 0!==t?t:r.ChatIcon;return(0,i.jsxs)(d.ZP,{channelId:n.id,className:h.container,children:[(0,i.jsx)("div",{className:h.iconWrapper,children:(0,i.jsx)(g,{className:h.icon,strokeWidth:1.75})}),(0,i.jsx)(d.Ot,{className:h.header,children:n.name}),null==m&&(0,i.jsx)(r.Text,{variant:"text-md/normal",color:"header-secondary",children:u.intl.string(u.t.mE3KJC)}),(0,i.jsx)(c.Z,{appliedTags:f})]})}},269203:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(805519),s=n(565138),o=n(246364),c=n(705563),d=n(594174),u=n(967128),h=n(388032),p=n(932212);function m(e){var t;let{joinRequest:n,guild:a}=e,c=(0,l.e7)([d.default],()=>d.default.getUser(n.userId));return(0,i.jsxs)("div",{className:p.summaryContainer,children:[(0,i.jsxs)("div",{className:p.summaryHeader,children:[null!=a&&(0,i.jsxs)("div",{className:p.summaryHeaderClanInfo,children:[(0,i.jsx)(s.Z,{guild:a,active:!0,size:s.Z.Sizes.SMOL,className:p.guildIcon}),(0,i.jsx)(r.Heading,{variant:"heading-sm/semibold",color:"header-primary",children:a.name})]}),null!=c&&(0,i.jsx)(r.Heading,{variant:"heading-xl/semibold",color:"header-primary",children:h.intl.format(h.t.jDV3i4,{username:c.globalName})})]}),null===(t=n.formResponses)||void 0===t?void 0:t.filter(e=>e.field_type!==o.QJ.TERMS).map(e=>{let t=e.field_type===o.QJ.MULTIPLE_CHOICE&&null!=e.response?e.choices[e.response]:e.response;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{className:p.summarySeparator}),(0,i.jsxs)("div",{className:p.formResponseContainer,children:[(0,i.jsx)(r.Text,{variant:"text-xs/semibold",color:"text-muted",children:e.label}),(0,i.jsx)(r.Text,{variant:"text-md/medium",color:"text-primary",children:t})]})]})})]})}function f(e){let{channel:t}=e,{loading:n,joinRequest:l,joinRequestGuild:s}=(0,a.Z)(t.id);return(0,i.jsx)(u.ZP,{channelId:t.id,className:p.container,children:(0,i.jsx)(u.jz,{children:null!=l&&null!=l.formResponses?(0,i.jsxs)("div",{className:p.formContainer,children:[(0,i.jsx)("div",{children:(0,i.jsx)(m,{guild:s,joinRequest:l})}),(0,i.jsx)(c.Z,{channelId:t.id,showProfile:!0})]}):n?(0,i.jsx)(r.Spinner,{}):null})})}},86863:function(e,t,n){n.d(t,{n:function(){return p}});var i=n(200651),l=n(442837),r=n(481060),a=n(384275),s=n(468026),o=n(317381),c=n(513202),d=n(626135),u=n(981631),h=n(388032);let p=e=>{let{className:t,channel:n,user:p,application:m,oauth2Token:f}=e,g=(0,l.e7)([o.ZP],()=>o.ZP.getSelfEmbeddedActivities());if(!p.bot||null==m)return null;function C(){a.Z.delete(f.id);let e=g.get(m.id);null!=e&&c.Z.leaveActivity({location:e.location,applicationId:m.id})}return(0,i.jsx)(r.Button,{className:t,size:r.ButtonSizes.SMALL,color:r.Button.Colors.PRIMARY,onClick:()=>(function(e,t,n){let l=h.intl.formatToPlainString(h.t.QWGvxM,{applicationName:e.name});(0,r.openModal)(e=>(0,i.jsx)(s.default,{title:h.intl.string(h.t.DT39Aw),body:l,confirmText:h.intl.string(h.t.xUqheH),cancelText:h.intl.string(h.t["ETE/oK"]),onConfirm:t,...e})),d.default.track(u.rMx.APP_MANAGE_CTA_CLICKED,{application_id:e.id,channel_id:n.id,channel_type:n.type})})(m,C,n),children:h.intl.string(h.t["5S3sQE"])})}},558756:function(e,t,n){n.d(t,{W:function(){return o}});var i=n(200651),l=n(442837),r=n(481060),a=n(9156),s=n(388032);let o=e=>{let{className:t,channel:o,user:c}=e,d=(0,l.e7)([a.ZP],()=>a.ZP.isChannelMuted(null,o.id));return c.bot?(0,i.jsx)(r.Button,{className:t,size:r.ButtonSizes.SMALL,color:d?r.Button.Colors.PRIMARY:r.Button.Colors.RED,onClick:function(){(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("83545").then(n.bind(n,53149));return t=>(0,i.jsx)(e,{channelId:o.id,...t})})},children:d?s.intl.string(s.t.YqAjX1):s.intl.string(s.t["w4m94+"])}):null}},753898:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(607070),s=n(43267),o=n(933557),c=n(266076),d=n(518950),u=n(967128);function h(e){var t;let{channel:n,children:h,user:p}=e,m=(0,l.e7)([a.Z],()=>a.Z.useReducedMotion),f=null!==(t=(0,o.ZP)(n))&&void 0!==t?t:"",{avatarDecorationSrc:g,eventHandlers:C,isAnimating:x}=(0,d.Z)({user:p,size:r.AvatarSizes.SIZE_80,animateOnHover:!0});return(0,i.jsxs)(u.ZP,{channelId:n.id,...C,children:[(()=>{let e=!m&&x;return n.isMultiUserDM()?(0,i.jsx)(c.Z,{channel:n,size:r.AvatarSizes.SIZE_80,experimentLocation:"empty_messages",animated:e,"aria-label":f}):(0,i.jsx)(r.Avatar,{"aria-label":f,size:r.AvatarSizes.SIZE_80,src:(0,s.x)(n,80,e),avatarDecoration:g})})(),(0,i.jsx)(u.Ot,{children:f}),(0,i.jsx)(u.jz,{children:h})]})}},525541:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(481060),r=n(493683),a=n(726521),s=n(213010),o=n(718538),c=n(388032);function d(e){let{otherUserId:t,channel:n,buttonSize:d=l.ButtonSizes.TINY,className:u,buttonText:h,navigateAwayOnReportSuccess:p=!0,onReportClick:m,onReportSubmit:f,onMouseEnter:g,onMouseLeave:C}=e,x=(0,s.Q)(t),v=(0,o.V)(n.id,t);if(!x||null==v)return null;let _=()=>{null==f||f(),r.Z.closePrivateChannel(n.id,p)};return(0,i.jsx)(l.Button,{className:u,size:d,color:l.Button.Colors.RED,disabled:null==v,onClick:()=>{null==m||m(),(0,a.WL)(v,_)},onMouseEnter:g,onMouseLeave:C,children:null!=h?h:c.intl.string(c.t.HHZmDg)})}},734386:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(149765),d=n(866442),u=n(442837),h=n(481060),p=n(787014),m=n(911969),f=n(933557),g=n(605436),C=n(185413),x=n(42311),v=n(626786),_=n(434404),I=n(454585),E=n(430824),b=n(496675),Z=n(594174),N=n(700785),S=n(51144),T=n(396769),j=n(967128),A=n(318374),y=n(981631),P=n(388032),M=n(840822);function R(e){let{channel:t}=e,[n,r]=l.useState(!1),s=(0,f.ZP)(t,!0),R=t.guild_id,L=(0,u.e7)([E.Z],()=>null!=R?E.Z.getRoles(R):void 0),k=(0,u.e7)([Z.default,E.Z],()=>{var e;return Z.default.getUser(null===(e=E.Z.getGuild(R))||void 0===e?void 0:e.ownerId)}),O=l.useMemo(()=>null!=R?o()(L).sortBy(e=>-e.position).filter(e=>!(0,g.pM)(R,e.id)).value():[],[R,L]),D=l.useMemo(()=>o()(O).filter(e=>{if(null==R)return!1;let n=N.I0({forceRoles:{[e.id]:e},context:t});return c.e$(n,y.Plq.ADMINISTRATOR)||c.e$(n,y.Plq.VIEW_CHANNEL)}).value(),[t,R,O]),w=(0,u.Wu)([Z.default],()=>{let e={};for(let n of(null!=k&&(e[k.id]=k),Object.values(t.permissionOverwrites))){if(n.type!==m.BN.MEMBER||null!=e[n.id])continue;let t=Z.default.getUser(n.id);null!=t&&(e[t.id]=t)}return o()(e).filter(e=>{var n;let i=N.BT({permission:y.Plq.ADMINISTRATOR,user:e,context:t}),l=null!==(n=t.permissionOverwrites[e.id])&&void 0!==n?n:N.Hn,r=c.e$(l.allow,y.Plq.VIEW_CHANNEL);return i||r}).value()},[t,k]),B=b.Z.can(y.Plq.MANAGE_CHANNELS,t)||b.Z.can(y.Plq.MANAGE_ROLES,t);function U(){p.ZP.open(t.id)}let H=l.useCallback(()=>r(!1),[]);return(0,i.jsxs)(j.ZP,{channelId:t.id,children:[(0,i.jsx)(j.Kq,{locked:!0,channelType:t.type}),(0,i.jsx)(j.Ot,{children:P.intl.format(P.t.I3R7Vl,{channelName:s})}),(0,i.jsx)(j.jz,{children:P.intl.format(P.t.QuwqjI,{channelName:s,topicHook:()=>I.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),B?(0,i.jsxs)("div",{className:M.channelSettingButtons,children:[(0,i.jsx)(T.Z,{label:P.intl.string(P.t.dMJ3Y2),onClick:()=>r(!0),icon:(0,i.jsx)(h.GroupIcon,{size:"xs",color:"currentColor"})}),(0,i.jsx)(T.Z,{label:P.intl.string(P.t["3gUsJS"]),onClick:U,icon:(0,i.jsx)(h.PencilIcon,{size:"xs",color:"currentColor"})})]}):null,(0,i.jsxs)("div",{className:M.members,children:[function(){if(1!==w.length||D.length>0)return(0,i.jsx)(A.Z,{guildId:t.guild_id,className:M.avatars,maxUsers:5,users:w});let e=w[0],n=S.ZP.getName(e);return(0,i.jsxs)("div",{className:M.avatars,children:[(0,i.jsx)(h.Avatar,{src:e.getAvatarURL(t.guild_id,24),"aria-label":n,size:h.AvatarSizes.SIZE_24}),(0,i.jsx)(h.Text,{tag:"span",className:M.singleUserName,variant:"text-md/normal",children:n}),"\xa0",(0,i.jsx)(h.Text,{tag:"span",variant:"text-md/normal",color:"text-muted",children:P.intl.string(P.t.rt0ERU)})]})}(),D.map((e,n)=>{var l,r;let s=null!==(r=e.colorString)&&void 0!==r?r:(0,d.Rf)(y.p6O),o=(null===(l=e.tags)||void 0===l?void 0:l.guild_connections)!==void 0;return B?(0,i.jsx)(x.Z,{className:a()(M.role,{[M.last]:n===D.length-1}),roleName:e.name,roleColor:s,disabled:!B,verified:o,onClick:()=>{_.Z.open(t.guild_id,y.pNK.MEMBERS),_.Z.selectRole(e.id)}},e.id):(0,i.jsx)(v.Z,{className:a()(M.role,{[M.last]:n===D.length-1}),roleName:e.name,roleColor:s,verified:o},e.id)})]}),n?(0,i.jsx)(h.Modal,{renderModal:e=>(0,i.jsx)(C.default,{...e,onClose:()=>(H(),e.onClose()),channelId:t.id}),onCloseRequest:()=>r(!1)}):null]})}},184279:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(481060),r=n(43267),a=n(933557),s=n(297700),o=n(534091),c=n(967128),d=n(388032),u=n(786563),h=n(191986);let p=()=>(0,i.jsx)("svg",{width:"46",height:"34",viewBox:"0 0 46 34",className:u.chatBubbleLip,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M0 33.4637C16.1697 28.954 21.1764 9.59155 19.2146 0L45.681 0.000148089C45.681 0.000148089 44.681 9.14498 40.1914 18.3023C34.4077 30.0996 6.2893 33.1232 0 33.4637Z"})});function m(e){var t;let{channel:n}=e,m=null!==(t=(0,a.ZP)(n))&&void 0!==t?t:"";return(0,i.jsxs)("div",{id:(0,o.p)(n.id,n.id),className:u.headerContainer,children:[(0,i.jsx)("img",{src:h,className:u.wumpusImage,alt:""}),(0,i.jsxs)("div",{className:u.chatBubbleContainer,children:[(0,i.jsx)(p,{}),(0,i.jsxs)("div",{className:u.chatBubble,children:[(0,i.jsx)(l.Avatar,{"aria-label":m,size:l.AvatarSizes.SIZE_80,src:(0,r.x)(n,80,!1)}),(0,i.jsxs)(c.Ot,{className:u.emptyMessageHeader,children:[m,(0,i.jsx)(s.Z,{className:u.flowerStar,size:24,children:(0,i.jsx)(l.CheckmarkSmallIcon,{size:"md",color:"currentColor",className:u.verified})})]}),(0,i.jsx)(c.jz,{children:d.intl.string(d.t.Rzvnio)})]})]})]})}},438306:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(787014),s=n(933557),o=n(454585),c=n(131704),d=n(496675),u=n(396769),h=n(967128),p=n(981631),m=n(388032),f=n(100649);function g(e){let{channel:t}=e,n=(0,s.ZP)(t,!0),g=(0,l.e7)([d.Z],()=>d.Z.can(p.Plq.MANAGE_CHANNELS,t)&&c.dF.has(t.type));return(0,i.jsxs)(h.ZP,{channelId:t.id,children:[(0,i.jsx)(h.Kq,{channelType:t.type}),(0,i.jsx)(h.Ot,{children:m.intl.format(m.t.I3R7Vl,{channelName:n})}),(0,i.jsx)(h.jz,{children:m.intl.format(m.t.pYMVRU,{channelName:n,topicHook:()=>o.Z.parseTopic(t.topic,!0,{channelId:t.id})})}),g?(0,i.jsx)("div",{className:f.buttonContainer,children:(0,i.jsx)(u.Z,{label:m.intl.string(m.t["3gUsJS"]),onClick:()=>{a.ZP.open(t.id)},icon:(0,i.jsx)(r.PencilIcon,{size:"xs",color:"currentColor"})})}):null]})}},544142:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(239091),c=n(100527),d=n(906732),u=n(471445),h=n(184301),p=n(347475),m=n(271383),f=n(594174),g=n(51144),C=n(967128),x=n(981631),v=n(388032),_=n(678606);function I(e){var t,l;let{userId:u,channel:C}=e,{analyticsLocations:x}=(0,d.ZP)(c.Z.USERNAME),v=(0,a.e7)([f.default],()=>f.default.getUser(u)),I=(0,a.e7)([m.ZP],()=>null!=u?m.ZP.getMember(C.guild_id,u):null);function E(e){if(null==v)return null;(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("70675")]).then(n.bind(n,654663));return t=>(0,i.jsx)(e,{...t,user:v,guildId:C.guild_id,channel:C})})}let b=null!==(l=null!==(t=null==I?void 0:I.nick)&&void 0!==t?t:g.ZP.getName(v))&&void 0!==l?l:"???",Z=null==I?void 0:I.colorString;return null==v?(0,i.jsx)("span",{className:r()(_.threadCreatorName,_.unknownCreatorName),children:b}):(0,i.jsx)(d.Gt,{value:x,children:(0,i.jsx)(s.Popout,{preload:()=>(0,h.Z)(v,{guildId:C.guild_id,channelId:C.id}),renderPopout:e=>(0,i.jsx)(p.Z,{userId:v.id,guildId:C.guild_id,channelId:C.id,roleId:null==I?void 0:I.colorRoleId,...e}),position:"right",children:e=>(0,i.jsx)(s.Clickable,{...e,tag:"span",className:_.threadCreatorName,onContextMenu:E,children:(0,i.jsx)(s.NameWithRole,{name:b,color:null!=Z?Z:void 0})})})})}function E(e){let{channel:t}=e,{threadMetadata:n}=t;return null==n?(0,i.jsx)("div",{style:{marginTop:-8}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:(0,i.jsx)("div",{className:_.subtitle,children:v.intl.format(v.t.imPXd3,{usernameHook:(e,n)=>(0,i.jsx)(I,{userId:t.ownerId,channel:t},n)})})}),t.type===x.d4z.PRIVATE_THREAD?(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:v.intl.string(v.t["1awbZG"])}):null]})}function b(e){var t;let{channel:n}=e,l=null!==(t=(0,u.KS)(n))&&void 0!==t?t:s.ThreadIcon;return(0,i.jsxs)(C.ZP,{channelId:n.id,children:[(0,i.jsx)("div",{className:_.iconWrapper,children:(0,i.jsx)(l,{className:_.icon})}),(0,i.jsx)(C.Ot,{children:n.name}),(0,i.jsx)(E,{channel:n})]})}},128557:function(e,t,n){n.d(t,{Z:function(){return P},i:function(){return y}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(75124),o=n(748780),c=n(442837),d=n(704215),u=n(481060),h=n(699682),p=n(367907),m=n(644914),f=n(434404),g=n(330010),C=n(314897),x=n(430824),v=n(594174),_=n(259580),I=n(585483),E=n(63063),b=n(358085),Z=n(709054),N=n(967128),S=n(981631),T=n(231873),j=n(388032),A=n(567522);function y(e){let{className:t,iconUrl:n,icon:r,header:s,completed:o,onClick:c}=e,[d,p]=l.useState(!1),m=(0,h.Z)(o);return l.useEffect(()=>{null!=m&&o!==m&&(p(!0),setTimeout(()=>p(!1),1e3))},[o,m]),(0,i.jsxs)(u.Clickable,{className:a()(t,A.card,{[A.completed]:o}),onClick:c,children:[null!=r?r:(0,i.jsx)("div",{className:A.icon,style:{backgroundImage:"url('".concat(n,"')")}}),(0,i.jsx)(u.Text,{color:"header-primary",className:a()(A.cardTextContainer,A.cardHeader),variant:"text-sm/normal",children:s}),o?(0,i.jsx)(u.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:a()(A.checkmark,{[A.animate]:d})}):(0,i.jsx)(_.Z,{className:A.arrow,direction:_.Z.Directions.RIGHT})]})}function P(e){let{channel:t}=e,r=(0,c.e7)([x.Z],()=>null!=t?x.Z.getGuild(t.getGuildId()):null,[t]),h=null!=r&&Z.default.extractTimestamp(r.id)<Date.now()-S._8R,_=(0,c.e7)([C.default],()=>(null==r?void 0:r.ownerId)===C.default.getId(),[r]),{canInvite:P,canManageGuild:M,canMessage:R}=(0,m.TE)(t,r),L=(0,c.e7)([v.default],()=>{var e,t;return(null===(e=v.default.getCurrentUser())||void 0===e?void 0:e.desktop)===!0||(null===(t=v.default.getCurrentUser())||void 0===t?void 0:t.mobile)===!0}),{guildPopulated:k,guildMessaged:O,guildPersonalized:D}=(0,m.h_)(r),{handleInvite:w,handleMessage:B,handlePersonalize:U,handleDownload:H,handleAddApplication:G}=function(e){let t=l.useCallback(()=>{p.ZP.trackWithMetadata(S.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:T.Ft.CHANNEL_WELCOME,action:T.j7.INVITE}),null!=e&&(0,u.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,source:S.t4x.CHANNEL_WELCOME,analyticsLocation:{section:S.jXE.CHANNEL_WELCOME_CTA}})})},[e]),r=l.useCallback(()=>{p.ZP.trackWithMetadata(S.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:T.Ft.CHANNEL_WELCOME,action:T.j7.SEND_MESSAGE}),I.S.dispatch(S.CkL.TEXTAREA_FOCUS,{highlight:!0,channelId:S.lds})},[]),a=l.useCallback(()=>{p.ZP.trackWithMetadata(S.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:T.Ft.CHANNEL_WELCOME,action:T.j7.PERSONALIZE_SERVER}),null!=e&&f.Z.open(e.id,S.pNK.OVERVIEW,{section:S.jXE.CHANNEL_WELCOME_CTA})},[e]),s=l.useCallback(()=>{p.ZP.trackWithMetadata(S.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:T.Ft.CHANNEL_WELCOME,action:T.j7.DOWNLOAD}),(0,u.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,431583));return t=>(0,i.jsx)(e,{source:S.jXE.CHANNEL_WELCOME_CTA,...t})})},[]);return{handleInvite:t,handleMessage:r,handlePersonalize:a,handleDownload:s,handleAddApplication:l.useCallback(()=>{null!=e&&(p.ZP.trackWithMetadata(S.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:T.Ft.CHANNEL_WELCOME,action:T.j7.ADD_APP}),(0,u.openModalLazy)(async()=>{let{default:t}=await n.e("77875").then(n.bind(n,657300));return n=>{var l;return(0,i.jsx)(t,{guildId:null!==(l=e.id)&&void 0!==l?l:"",...n,analyticsType:d.z.APP_DIRECTORY_SERVER_SETUP_UPSELL_MODAL})}}))},[e])}}(r),F=!(L||k||O||D),{titleAnimatedStyle:V,opacities:z}=function(e){let t=(0,s.Z)(()=>new o.Z.Value(0)),n=(0,s.Z)(()=>new o.Z.Value(0)),i=[];return i.push((0,s.Z)(()=>new o.Z.Value(0))),i.push((0,s.Z)(()=>new o.Z.Value(0))),i.push((0,s.Z)(()=>new o.Z.Value(0))),i.push((0,s.Z)(()=>new o.Z.Value(0))),l.useEffect(()=>{o.Z.stagger(300,[o.Z.parallel([o.Z.timing(n,{toValue:1,duration:450}),o.Z.timing(t,{toValue:1,duration:450})]),o.Z.stagger(100,[o.Z.timing(i[0],{toValue:1,duration:300}),o.Z.timing(i[1],{toValue:1,duration:300}),o.Z.timing(i[2],{toValue:1,duration:300}),o.Z.timing(i[3],{toValue:1,duration:300})])]).start()},[n,t,i]),{titleAnimatedStyle:e?{transform:[{translateY:t.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}],opacity:n}:{},opacities:i}}(F),[W,K]=l.useState([]),Y=W.length>0;if(l.useEffect(()=>{(async()=>{try{var e;let t=await (0,g.i)(null!==(e=null==r?void 0:r.id)&&void 0!==e?e:S.lds);K(t.map(e=>e.id))}catch{}})()},[null==r?void 0:r.id]),null==r)return null;let q=[];!h&&(P&&q.push((0,i.jsx)(o.Z.div,{className:A.cardWrapper,style:F?{opacity:z[q.length]}:{},children:(0,i.jsx)(y,{iconUrl:n(538548),header:j.intl.string(j.t.q9n0TU),completed:k,onClick:w})},"invite")),M&&q.push((0,i.jsx)(o.Z.div,{className:A.cardWrapper,style:F?{opacity:z[q.length]}:{},children:(0,i.jsx)(y,{iconUrl:n(753033),header:j.intl.string(j.t.c5kxPj),completed:D,onClick:U})},"customize")),R&&q.push((0,i.jsx)(o.Z.div,{className:A.cardWrapper,style:F?{opacity:z[q.length]}:{},children:(0,i.jsx)(y,{iconUrl:n(15717),header:j.intl.string(j.t["SoP7+v"]),completed:O,onClick:B})},"message")),(0,b.isWeb)()&&q.push((0,i.jsx)(o.Z.div,{className:A.cardWrapper,style:F?{opacity:z[q.length]}:{},children:(0,i.jsx)(y,{iconUrl:n(435921),header:j.intl.string(j.t.pGVNIy),completed:L,onClick:H})},"download")),q.push((0,i.jsx)(o.Z.div,{className:A.cardWrapper,style:F?{opacity:z[q.length]}:{},children:(0,i.jsx)(y,{iconUrl:n(881454),header:j.intl.string(j.t.IhHDEB),completed:Y,onClick:G})},"addapp")));let X=_?j.intl.string(j.t["1ach9P"]):j.intl.string(j.t["ezm+/v"]);h&&(X=j.intl.string(j.t["gwyU/P"]));let J="".concat(E.Z.getArticleURL(S.BhN.GUILD_GETTING_STARTED),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-new-user&utm_content=--t%3Apm");return(0,i.jsx)(N.ZP,{channelId:t.id,children:(0,i.jsx)("div",{className:A.container,children:(0,i.jsxs)("div",{className:A.inner,children:[(0,i.jsxs)(o.Z.div,{style:V,children:[(0,i.jsx)(u.Heading,{className:A.titleName,variant:"heading-xxl/semibold",children:j.intl.format(j.t.rkHVKS,{guildName:r.name})}),(0,i.jsxs)(u.Text,{color:"header-secondary",className:a()({[A.subtitle]:!0,[A.noChildren]:0===q.length}),variant:"text-sm/normal",children:[X," ",q.length>0?j.intl.format(j.t.UOtD39,{guideURL:J}):null]})]}),q]})})})}},174130:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(665149),s=n(853856),o=n(117984),c=n(593214),d=n(362658),u=n(916069),h=n(388032);function p(e){let{channel:t}=e,{isFavoritesPerk:n}=(0,d.z)("ChannelFavoritesHeaderButton"),p=(0,u.Z)(),{notifyFavoriteAdded:m}=(0,c.up)(),f=(0,l.e7)([s.Z],()=>s.Z.isFavorite(t.id));if(!n||p)return null;let g=f?r.StarIcon:r.StarOutlineIcon,C=f?h.intl.string(h.t.Bou7lZ):h.intl.string(h.t["4wcdEx"]);return(0,i.jsx)(a.ZP.Icon,{icon:g,tooltip:C,"aria-label":C,onClick:()=>{f?(0,o.oC)(t.id):(m(),(0,o.kj)(t.id))}})}},961675:function(e,t,n){n(47120);var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=new Set;class o extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&(s=new Set(e))}hasHidden(e){return s.has(e)}getState(){return s}}a(o,"displayName","ForumChannelAdminOnboardingGuideStore"),a(o,"persistKey","ForumChannelAdminOnboardingGuideStore"),t.Z=new o(r.Z,{ADMIN_ONBOARDING_GUIDE_HIDE:function(e){let{channelId:t,hide:n}=e;n?s.add(t):s.delete(t)}})},257511:function(e,t,n){n.d(t,{Z:function(){return a}}),n(47120);var i=n(200651);n(192379);var l=n(479099),r=n(283728);function a(e){let{appliedTags:t,setAppliedTags:n}=e,a=null!=n?e=>{t.has(e)&&(t.delete(e),n(new Set(t)))}:void 0;return(0,i.jsx)("div",{className:r.tags,children:Array.from(t).map(e=>(0,i.jsx)(l.Z,{tag:e,onRemove:a,size:null==a?l.Z.Sizes.SMALL:l.Z.Sizes.MEDIUM},e.id))})}},432771:function(e,t,n){n.d(t,{c:function(){return a}});var i=n(913527),l=n.n(i),r=n(709054);let a=e=>{let t=r.default.extractTimestamp(e);return!l()().isBefore(l()(t).add(l().duration(15,"days")))}},62764:function(e,t,n){n.d(t,{Z:function(){return L}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(852229),o=n(442837),c=n(52826),d=n(481060),u=n(904245),h=n(593472),p=n(393238),m=n(330726),f=n(48929),g=n(333535),C=n(566006),x=n(443877),v=n(60174),_=n(216337),I=n(920888),E=n(287151),b=n(569471),Z=n(346479),N=n(592125),S=n(934415),T=n(456269),j=n(109590),A=n(228392),y=n(981631),P=n(388032),M=n(811994),R=n(636804);function L(e){let{postId:t,isFirstMessage:n,isLastItem:r=!1,parentChannelId:L}=e,{ref:k,width:O}=(0,p.Z)(),[D,w]=l.useState(3),[B,U]=l.useState(!n),[H,G]=(0,m.Z)(!1,2e3),F=(0,o.e7)([N.Z],()=>N.Z.getChannel(t),[t]),{firstMessage:V}=(0,j.cl)(F),z=(0,o.e7)([b.Z],()=>b.Z.hasJoined(t)),{disableReactionUpdates:W,disableReactionCreates:K,isLurking:Y,isGuest:q,isPendingMember:X}=(0,x.Z)(F),J=(0,o.e7)([N.Z],()=>N.Z.getChannel(L)),Q=(0,T.Bs)(J),$=(0,o.e7)([f.Z],()=>f.Z.shouldDisplayPrompt(t)&&!0===n,[t,n]),ee=l.useCallback(e=>{let t=e[0];if(null!=t&&n){let e=t.intersectionRect,n=t.boundingClientRect;U((e.bottom-e.top)/(n.bottom-n.top)<1)}},[n]);l.useLayoutEffect(()=>{let e=k.current;if(null==e||!n)return;let t=new IntersectionObserver(ee,{threshold:1});return t.observe(e),()=>{t.disconnect()}});let[et,en]=l.useState(!0);if(l.useEffect(()=>{if(null!=O)w(Math.floor((O-280)/58)),en(!1)},[O]),null==F||null==V)return null;let ei=V.reactions.length>0,el=()=>{z?Z.Z.leaveThread(F,"Forum Toolbar"):Z.Z.joinThread(F,"Forum Toolbar")},er=()=>{(0,A.B)({postId:F.id,location:{section:y.jXE.CHANNEL_HEADER}}),(0,s.J)((0,S.EO)(F,J)),G(!0)},ea=()=>{u.Z.jumpToMessage({channelId:F.id,messageId:F.id,flash:!0,jumpType:h.SR.INSTANT})},es=z?d.CheckmarkLargeIcon:d.BellIcon;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:a()(M.container,{[M.header]:B}),ref:k,children:[(0,i.jsxs)("div",{className:a()(M.reactButtons,{[M.loading]:et}),children:[!ei&&!K&&null!=Q&&(0,i.jsx)("div",{className:R.reactions,children:(0,i.jsx)(E.le,{message:V,readOnly:!1,useChatFontScaling:!1,isLurking:Y,isGuest:q,isPendingMember:X,emoji:Q,type:C.O.NORMAL,hideCount:!0,count:0,me:!1,burst_count:0,me_burst:!1})}),(0,i.jsx)(I.Z,{message:V,channel:F,disableReactionCreates:!0,disableReactionUpdates:W,isLurking:Y,isGuest:q,isPendingMember:X,maxReactions:D,className:M.reactions,useChatFontScaling:!1,isForumToolbar:!0,forceHideReactionCreates:!0}),!K&&(0,i.jsx)(v.X,{type:C.O.NORMAL,message:V,channel:F,useChatFontScaling:!1,className:M.addReactButton,isForumToolbar:!0,children:!ei&&P.intl.string(P.t.xpOyTE)})]}),(0,i.jsxs)("div",{className:M.buttons,children:[(0,i.jsx)(d.Tooltip,{text:P.intl.string(P.t.F7oeDg),children:e=>(0,i.jsxs)(d.Button,{...e,look:d.Button.Looks.BLANK,size:d.Button.Sizes.SMALL,onClick:el,className:M.button,innerClassName:a()(M.buttonInner,{[M.active]:z}),children:[(0,i.jsx)(es,{size:"xs",color:"currentColor"}),z?P.intl.string(P.t["7OkUzs"]):P.intl.string(P.t["3aOv+v"])]})}),(0,i.jsx)(d.Tooltip,{text:P.intl.string(P.t.WqhZsr),children:e=>(0,i.jsxs)(d.Button,{...e,look:d.Button.Looks.BLANK,size:d.Button.Sizes.SMALL,onClick:er,className:M.button,innerClassName:M.buttonInner,children:[H?(0,i.jsx)(d.CheckmarkLargeIcon,{size:"custom",color:"currentColor",width:16,height:16}):(0,i.jsx)(d.LinkIcon,{size:"custom",color:"currentColor",width:16,height:16}),H?P.intl.string(P.t["t5VZ8/"]):null]})}),!n&&(0,i.jsx)(d.Tooltip,{text:P.intl.string(P.t.nFP4oa),children:e=>(0,i.jsx)(d.Button,{...e,look:d.Button.Looks.BLANK,size:d.Button.Sizes.SMALL,onClick:ea,className:M.button,innerClassName:M.buttonInner,children:(0,i.jsx)(c.Z,{size:"custom",color:"currentColor",width:16,height:16})})})]})]}),$&&(0,i.jsx)(g.Z,{threadId:t}),(0,i.jsx)(_.Z,{channel:F,isLastItem:r})]})}},588322:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(200651),l=n(192379),r=n(442837),a=n(239091),s=n(561472),o=n(933557),c=n(287746),d=n(541716),u=n(665149),h=n(910611),p=n(703656),m=n(664342),f=n(592125),g=n(703558),C=n(430824),x=n(228392),v=n(388032),_=n(454002);function I(e){let{channelId:t}=e,I=(0,r.e7)([f.Z],()=>f.Z.getChannel(t)),E=(0,r.e7)([f.Z],()=>f.Z.getChannel(null==I?void 0:I.parent_id)),b=(0,r.e7)([C.Z],()=>C.Z.getGuild(null==I?void 0:I.getGuildId())),Z=(0,o.ZP)(I),N=l.useRef(!1);if(l.useEffect(()=>{null!=I&&!N.current&&(N.current=!0,(0,x.lN)(I))},[I]),null==I||null==b)return null;let S=(0,i.jsx)(m.Z,{channel:I});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{channel:I,draftType:g.d.ChannelMessage}),(0,i.jsx)(u.ZP,{toolbar:S,"aria-label":v.intl.string(v.t.Pwe8tL),children:(0,h.ud)({channel:I,parentChannel:E,channelName:Z,guild:b,inSidebar:!0,handleContextMenu:function(e){(0,a.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:I})})},handleClick:function(){null!=I&&(0,p.XU)(I.guild_id,I.id)}})}),(0,i.jsx)("div",{className:_.chat,children:(0,i.jsx)(c.Z,{channel:I,guild:b,chatInputType:d.Ie.SIDEBAR},t)})]})}},257115:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(927923),l=n(388032);function r(e){switch(e){case i.YE.XBOX:return l.intl.string(l.t.T0uYKy);case i.YE.PLAYSTATION:return l.intl.string(l.t.FWAzS0)}}},43982:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(512722),r=n.n(l),a=n(392711),s=n.n(a),o=n(970731),c=n(981631),d=n(388032),u=n(601839),h=n(480032),p=n(699352);let m=null;function f(e){let{onDismiss:t,onAccept:n,popoutPosition:l,gameConsoleAccounts:a}=e;r()(a.length>0,"Rendering ConsoleNUXTooltip without a game console account"),(null==m||null==a.find(e=>e.type===m))&&(m=s().shuffle(a)[0].type);let f=null,g=null;switch(m){case c.ABu.XBOX:f=d.intl.string(d.t.soeJqK),g=p;break;case c.ABu.PLAYSTATION:case c.ABu.PLAYSTATION_STAGING:f=d.intl.string(d.t.o8gjmJ),g=h}return(0,i.jsx)(o.ZP,{header:d.intl.string(d.t.ZagEMT),content:f,asset:(0,i.jsx)("img",{src:g,alt:"",className:u.art}),onClick:n,onSecondaryClick:t,markAsDismissed:t,buttonCTA:d.intl.string(d.t.HYgaeX),secondaryButtonCTA:d.intl.string(d.t.SlM9wc),caretPosition:"top"===l?o.DF.BOTTOM_LEFT:o.DF.TOP_LEFT})}},203341:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(481060),o=n(358221),c=n(243778),d=n(390322),u=n(871499),h=n(819640),p=n(797258),m=n(446226),f=n(937393),g=n(43982),C=n(721351),x=n(420529),v=n(927923),_=n(981631),I=n(921944),E=n(388032),b=n(151745);function Z(e){let{onClose:t,channel:n}=e,l=(0,x.Z)(n);return(0,i.jsx)(s.Menu,{onClose:t,onSelect:()=>null,navId:"transfer-menu","aria-label":E.intl.string(E.t.jqqLb2),children:l})}function N(e){let{channel:t,showLeftDivider:n=!1,...x}=e,N=(0,m.Z)(),S=(0,r.e7)([p.Z],()=>{var e,t;return null===(e=p.Z.getSessionById(null!==(t=null==N?void 0:N.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os}),T=(0,r.e7)([h.Z],()=>h.Z.hasLayers()),[j,A]=(0,r.Wu)([o.Z],()=>[o.Z.getMode(t.id),o.Z.getLayout(t.id)]),y=(0,s.useModalsStore)(s.hasAnyModalOpenSelector),P=(0,f.Z)(),M=P.filter(e=>e.twoWayLink),[R,L]=l.useState(!1);if(null==N&&0===P.length)return null;let k=_.WtW.VOICE!==j&&[_.AEg.NO_CHAT,_.AEg.FULL_SCREEN].includes(A)?"top":"bottom",O=[];return M.length>0&&O.push(a.z.DONUT_DESKTOP_NUX),(0,i.jsx)(c.ZP,{contentTypes:O,children:e=>{let{visibleContent:l,markAsDismissed:r}=e,o=l===a.z.DONUT_DESKTOP_NUX;return(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)("div",{className:b.leftDivider}):null,(0,i.jsx)(s.Popout,{position:k,spacing:o?16:void 0,positionKey:"".concat(j,":").concat(A),onRequestClose:()=>L(!1),shouldShow:(o||R)&&!T&&!y,renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(d.Z,{children:o?(0,i.jsx)(g.Z,{popoutPosition:k,onDismiss:()=>r(I.L.UNKNOWN),onAccept:()=>{r(I.L.UNKNOWN),L(!0)},gameConsoleAccounts:M}):(0,i.jsx)(Z,{onClose:()=>{n()},channel:t})})},children:e=>{var t;return(0,i.jsx)(u.Z,{...e,...x,onClick:()=>L(!0),label:null!=(t=S)?t===v.YE.XBOX?E.intl.string(E.t.T0uYKy):E.intl.string(E.t.FWAzS0):E.intl.string(E.t["mbi/fH"]),iconComponent:(0,C.Z)(S)})}})]})}})}},440493:function(e,t,n){var i;n.d(t,{r:function(){return i}}),(i||(i={})).REAL_NAME_PROMPT="REAL_NAME_PROMPT"},445384:function(e,t,n){var i=n(570140);t.Z={viewPrompt:function(e,t){i.Z.wait(()=>{i.Z.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})})}}},420438:function(e,t,n){n(47120);var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={};class o extends(i=l.ZP.PersistedStore){initialize(e){for(let t in e){let n=e[t];s[t]=new Set(n)}}hasViewedPrompt(e,t){let n=s[t];return null!=n&&(!!n.has(e)||!1)}getState(){return s}}a(o,"displayName","GuildPromptsStore"),a(o,"persistKey","GuildPromptsStore"),t.Z=new o(r.Z,{GUILD_PROMPT_VIEWED:function(e){let{prompt:t,guildId:n}=e,i=s[n];return null==i?(s[n]=new Set,s[n].add(t),!0):!i.has(t)&&(i.add(t),!0)},GUILD_DELETE:function(e){let{guild:t}=e;return null!=s[t.id]&&!t.unavailable&&(delete s[t.id],!0)}})},232961:function(e,t,n){n.d(t,{I:function(){return l}});var i=n(570140);function l(e){i.Z.dispatch({type:"REMOVE_AUTOMOD_MESSAGE_NOTICE",messageId:e})}},521476:function(e,t,n){n.d(t,{h:function(){return h}}),n(47120);var i=n(200651);n(192379);var l=n(481060),r=n(100527),a=n(906732),s=n(545594),o=n(295474),c=n(981631),d=n(388032),u=n(117285);function h(e){var t,n;let{guild:h}=e,{analyticsLocations:p}=(0,a.ZP)(r.Z.AUTOMOD_PROFILE_QUARANTINE_ALERT),[m,f]=(0,o.ww)({guildId:null!==(t=null==h?void 0:h.id)&&void 0!==t?t:c.lds,analyticsLocations:p,openWithoutBackstack:!0}),g=f?d.intl.string(d.t["9ph2v7"]):d.intl.string(d.t.ldh9Cg),C=f?d.intl.string(d.t["/PGQf3"]):d.intl.string(d.t.WikgZ2);return(0,i.jsx)("div",{children:(0,i.jsx)(s.i,{bannerIcon:(0,i.jsx)(l.ChatXIcon,{size:"lg",color:"currentColor",className:u.bannerIcon}),bannerHeader:d.intl.format(d.t.kcYdTk,{guildName:null!==(n=null==h?void 0:h.name)&&void 0!==n?n:""}),bannerSubtext:g,containerStyles:u.bannerContainer,headerStyles:u.bannerHeader,children:(0,i.jsx)(l.Button,{onClick:()=>{m()},size:l.Button.Sizes.SMALL,children:C})})})}},251794:function(e,t,n){n.d(t,{q:function(){return a},z:function(){return r}});var i=n(200651);n(192379);var l=n(481060);function r(e){let{guildId:t,userId:r,anaylticsLocations:a}=e;(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("72920").then(n.bind(n,109730));return n=>(0,i.jsx)(e,{guildId:t,userId:r,anaylticsLocations:a,...n})})}function a(e){let{guildId:t,userId:r,anaylticsLocations:a}=e;(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("76233").then(n.bind(n,171494));return n=>(0,i.jsx)(e,{guildId:t,userId:r,anaylticsLocations:a,...n})})}},322937:function(e,t,n){n.d(t,{$:function(){return a}});var i=n(192379),l=n(774078),r=n(202107);function a(e){let{communicationDisabledUntil:t,userId:n,guildId:a}=null!=e?e:{},s=(0,l.Z)(null!=t?Date.parse(t):Date.now()),o=s.seconds,c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(null==e||null==a||null==n){clearTimeout(c.current);return}return o<=0&&null==c.current&&(c.current=setTimeout(()=>{r.Z.clearGuildMemberTimeout(a,n)},1e3)),()=>{null!=c.current&&(clearTimeout(c.current),c.current=null)}},[a,n,o,t,e]),s}},185145:function(e,t,n){n.d(t,{T:function(){return g}}),n(47120);var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(346486),s=n(545594),o=n(314897),c=n(271383),d=n(322937),u=n(134049),h=n(893732),p=n(590433),m=n(388032),f=n(614435);function g(e){let{guild:t,disabledUntil:n}=e,[g,C]=(0,u.i)(t.id),x=(0,l.e7)([c.ZP,o.default],()=>c.ZP.getMember(t.id,o.default.getId()),[t.id]);return(0,d.$)(x),(0,i.jsxs)("div",{children:[g?(0,i.jsx)(h.Z,{onClose:()=>C(t.id),guildName:t.name}):null,(0,i.jsx)(s.i,{bannerIcon:(0,i.jsx)(r.ClockWarningIcon,{size:"md",color:"currentColor",className:f.bannerIcon}),bannerHeader:m.intl.string(m.t["9UoK6e"]),bannerSubtext:m.intl.format(m.t["4ZwD5O"],{link:p.cu}),containerStyles:f.bannerContainer,headerStyles:f.bannerHeader,children:(0,i.jsx)(r.Text,{variant:"text-sm/semibold",children:(0,i.jsx)(a.Z,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0})})})]})}},893732:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(424039);function s(e){let{onClose:t,guildName:n}=e;return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsx)("div",{className:a.iconContainer,children:(0,i.jsx)(l.ClockWarningIcon,{size:"custom",color:"currentColor",className:a.icon,width:20,height:20})}),(0,i.jsxs)("div",{className:a.header,children:[(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",className:a.headerText,children:r.intl.string(r.t.LIIyeH)}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",children:r.intl.format(r.t["4/6vQk"],{guildName:n})}),(0,i.jsx)(l.Button,{onClick:t,className:a.button,children:r.intl.string(r.t.BddRzc)})]})]})}},356778:function(e,t,n){n.d(t,{II:function(){return m},Ow:function(){return _},P2:function(){return b},mw:function(){return i},z0:function(){return I}}),n(47120);var i,l,r=n(192379),a=n(232713),s=n(65400),o=n(731965),c=n(570140),d=n(110924),u=n(840877),h=n(952537),p=n(981631);let m=-1;(l=i||(i={})).MESSAGES="messages",l.LINKS="links",l.MEDIA="media",l.ALL_COUNTS="all_counts";function f(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=JSON.stringify(i);return l?"guild_".concat(t,"_search_tab_").concat(n,"_for_").concat(e,"_with_additonal_").concat(r):"guild_".concat(t,"_search_").concat(n,"_for_").concat(e,"_with_additonal_").concat(r)}let g={searchFetcher:null,searchTabFetcher:null,result:null,messageCount:m,lastMessage:null},C=(0,s.F)(()=>new Map),x=(e,t)=>{(0,o.j)(()=>{C.setState(n=>{let i=n.get(e);return null==i?n.set(e,{...g,...t}):n.set(e,{...i,...t}),n})})},v=e=>C(t=>t.get(e),a.X);function _(e,t,n){let i=null!=n?n:{};switch(t){case"links":return{author_id:e,has:["link"],...i};case"media":return{author_id:e,attachment_extension:["png","jpg","webp","mov","mp4","gif","mp3","wav","flac","ogg","opus"],...i};case"all_counts":return{author_id:[e],limit:1,cursor:null,...i};default:return{author_id:e,...i}}}function I(e,t,n){return function(e,t,n,i){let{addtionalQuery:l,shouldDispatch:a=!1}=i,s=r.useMemo(()=>f(e,t,n,l),[e,t,n,l]),o=v(s),C=(0,d.Z)(s),[I,E]=r.useState({});return r.useEffect(()=>{if(C!==s){let i=_(e,n,l),r=new u.ZP(t,p.aib.GUILD,i);x(s,{searchFetcher:r,messageCount:m,lastMessage:null}),setTimeout(()=>{r.fetch(e=>{let n=e.body,i=n.messages[0];if(x(s,{searchFetcher:r,result:n,messageCount:n.total_results,lastMessage:i}),E({}),a){var l,o;c.Z.dispatch({type:"MOD_VIEW_SEARCH_FINISH",searchId:t,guildId:t,analyticsId:n.analytics_id,totalResults:n.total_results,channels:n.channels,messages:n.messages,threads:null!==(l=n.threads)&&void 0!==l?l:[],members:(null!==(o=n.members)&&void 0!==o?o:[]).map(e=>(0,h.Z)(e)),hasError:!1,doingHistoricalIndex:n.doing_deep_historical_index,documentsIndexed:n.documents_indexed})}},e=>{},e=>{x(s,{messageCount:0,lastMessage:null}),E({})})})}return()=>{}},[e,t,o,s,n,l]),null!=o?o:g}(e,t,"messages",n)}function E(e,t,n,i){let l=r.useMemo(()=>f(e,t,n,i,!0),[e,t,n,i]),a=v(l),s=(0,d.Z)(l);return{key:l,previousKey:s,state:a}}function b(e,t,n){var i,l,a;let{key:s,state:o}=E(e,t,"messages",n),{key:c,state:d}=E(e,t,"links",n),{key:h,state:f}=E(e,t,"media",n),g=r.useMemo(()=>_(e,"all_counts",n),[e,n]),C=r.useMemo(()=>({tabs:{messages:_(e,"messages",g),links:_(e,"links",g),media:_(e,"media",g)},track_exact_total_hits:!0}),[e,g]),v=r.useCallback(e=>{let t=e.messages,n=e.links,i=e.media;x(s,t),x(c,n),x(h,i)},[c,h,s]),I=r.useCallback(e=>{v({messages:e,links:e,media:e})},[v]);r.useEffect(()=>{let e=new u.tJ(t,p.aib.GUILD,g,C);I({searchTabFetcher:e,messageCount:m,lastMessage:null});let n=setTimeout(async()=>{let t=null;try{let n=await e.makeRequest();t=null==n?void 0:n.body}catch(e){t=null}if(null==t)I({messageCount:0,lastMessage:null});else{var n,i,l,r,a,s;let e=t.tabs.messages,o=t.tabs.links,c=t.tabs.media;v({messages:{messageCount:null!==(n=null==e?void 0:e.total_results)&&void 0!==n?n:0,lastMessage:null!==(i=null==e?void 0:e.messages[0])&&void 0!==i?i:null},links:{messageCount:null!==(l=null==o?void 0:o.total_results)&&void 0!==l?l:0,lastMessage:null!==(r=null==o?void 0:o.messages[0])&&void 0!==r?r:null},media:{messageCount:null!==(a=null==c?void 0:c.total_results)&&void 0!==a?a:0,lastMessage:null!==(s=null==c?void 0:c.messages[0])&&void 0!==s?s:null}})}Z({})});return()=>{e.cancel(),clearTimeout(n)}},[e,t,g,C,I,v]);let[b,Z]=r.useState({});return{messagesCount:null!==(i=null==o?void 0:o.messageCount)&&void 0!==i?i:m,linksCount:null!==(l=null==d?void 0:d.messageCount)&&void 0!==l?l:m,mediaCount:null!==(a=null==f?void 0:f.messageCount)&&void 0!==a?a:m}}},613464:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(749210),d=n(110924),u=n(410030),h=n(616780),p=n(100527),m=n(906732),f=n(527379),g=n(687158),C=n(184301),x=n(502762),v=n(271383),_=n(594174),I=n(189357),E=n(718617),b=n(327250),Z=n(764948);function N(e){let{userId:t,guildId:n,onClose:r,className:N,infoPanelClassName:S,style:T}=e,j=(0,I.ms)(n),A=(0,s.e7)([_.default],()=>_.default.getUser(t),[t]),y=(0,s.e7)([v.ZP],()=>v.ZP.getMember(n,t),[n,t]),[P,M]=l.useState(null==A||null==y),R=(0,d.Z)(y),L=l.useRef(null),{analyticsLocations:k}=(0,m.ZP)(p.Z.GUILD_MEMBER_MOD_VIEW),O=(0,g.ZP)(t,n),D=(0,u.ZP)();return(l.useEffect(()=>{!j&&r()},[j,r]),l.useEffect(()=>{null!=R&&null==y&&!P&&r()},[P,y,r,R]),l.useEffect(()=>{null!=A&&null!=y&&M(!1)},[A,y]),l.useEffect(()=>{let e=null==y;return!P&&e&&(L.current=window.setTimeout(r,500)),()=>{null!=L.current&&window.clearTimeout(L.current)}},[P,y,r]),(0,h.$)({[n]:[t]}),l.useEffect(()=>{(async function e(){let e=[c.Z.requestMembersById(n,[t]),(0,f.nb)(n,[t]),(0,C.Z)(t,void 0,{guildId:n,dispatchWait:!0})];await Promise.all(e),M(!1)})()},[n,t]),j)?P||null==A||null==y?(0,i.jsx)("div",{className:a()(Z.sidebarContainer,Z.loadingContainer,N),style:T,children:(0,i.jsx)(o.Spinner,{animated:!0,type:P?o.Spinner.Type.SPINNING_CIRCLE:o.Spinner.Type.CHASING_DOTS})}):(0,i.jsx)(m.Gt,{value:k,children:(0,i.jsx)("div",{className:a()(Z.sidebarContainer,N),style:T,children:(0,i.jsx)(x.Z,{user:A,displayProfile:O,profileType:null,themeOverride:D,forceShowPremium:!0,className:Z.profileThemedContainer,children:(0,i.jsxs)("div",{className:Z.innerContainer,children:[(0,i.jsx)(b.ZP,{userId:t,guildId:n,onClose:r}),(0,i.jsx)(E.Z,{userId:t,guildId:n,onClose:r,className:S})]})})})}):null}},370595:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(481060),r=n(50493),a=n(388032),s=n(509133),o=n(758570);function c(e){let{onNavigate:t,backPanel:n=r.k.INFO}=e;return(0,i.jsxs)("div",{className:o.header,children:[(0,i.jsx)("div",{className:o.headerTitle,children:(0,i.jsxs)(l.Clickable,{className:s.backButton,onClick:()=>null==t?void 0:t(n),children:[(0,i.jsx)(l.ArrowSmallLeftIcon,{size:"custom",width:20,height:20}),(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",children:a.intl.string(a.t["13/7kZ"])})]})}),(0,i.jsx)(l.KeyCombo,{shortcut:"esc",keyClassName:s.keyComboInner,className:s.keyComboContainer})]})}},718617:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651),l=n(192379),r=n(752877),a=n(442837),s=n(186325),o=n(481060),c=n(110924),d=n(714338),u=n(237617),h=n(433355),p=n(189432),m=n(727381),f=n(313692),g=n(596443),C=n(50493),x=n(981631);function v(e,t){return n=>{if(0===n)return"auto";let i="forwards"===t.current,l=n>0,r=!1;return l&&i&&"left"===e&&(r=!0),l&&!i&&"right"===e&&(r=!0),!l&&i&&"right"===e&&(r=!0),!l&&!i&&"left"===e&&(r=!0),r?"calc(".concat(100*Math.abs(n),"% + ").concat(Math.round(12*Math.abs(n)),"px)"):"auto"}}function _(e){var t,n;let{userId:_,guildId:I,onClose:E,analyticsLocation:b,className:Z}=e,N=(0,a.e7)([h.ZP],()=>h.ZP.getGuildSidebarState(I),[I]),S=null!==(t=null==N?void 0:N.details.modViewPanel)&&void 0!==t?t:C.k.INFO,T=(0,c.Z)(_);let j=null==(n=S)?null:n===C.k.INFO?"backwards":"forwards",A=(0,u.Z)(j),{reducedMotion:y}=l.useContext(s.S),P=l.useCallback(e=>{null!=N&&(0,p.r)(I,_,N.baseChannelId,{modViewPanel:e})},[N,I,_]),M=l.useMemo(()=>({[x.EkH.CLOSE_MODAL]:{binds:["esc"],comboKeysBindGlobal:!0,action(){if(S===C.k.INFO)return E();return P(C.k.INFO)}}}),[E,S,P]);l.useEffect(()=>(d.Z.enable(),d.Z.enableTemp(M),()=>d.Z.disableTemp()),[M]);let R=(0,o.useTransition)(S,{value:0,from:{value:1},enter:{value:0},leave:{value:-1}},T!==_?"animate-never":"animate-always");return(0,i.jsx)(r.animated.div,{style:{position:"relative",height:"100%",flex:1,overflow:"hidden"},children:R((e,t,n)=>{var l,a,s;let{key:o}=n;return(0,i.jsx)(r.animated.div,{style:{position:"absolute",display:"flex",flexDirection:"column",backfaceVisibility:"hidden",width:"100%",height:"100%",...y.enabled?{opacity:null===(l=e.value)||void 0===l?void 0:l.to(e=>1-Math.abs(e))}:{left:null===(a=e.value)||void 0===a?void 0:a.to(v("left",A)),right:null===(s=e.value)||void 0===s?void 0:s.to(v("right",A))}},children:function(e){switch(e){case C.k.INFO:return(0,i.jsx)(m.Z,{userId:_,guildId:I,onNavigate:P,className:Z});case C.k.MESSAGE_HISTORY:return(0,i.jsx)(f.Z,{userId:_,guildId:I,onNavigate:()=>P(C.k.INFO),className:Z});case C.k.PERMISSIONS:return(0,i.jsx)(g.Z,{userId:_,guildId:I,onNavigate:()=>P(C.k.INFO),className:Z});default:return null}}(t)},o)})})}},753042:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(200651),l=n(192379),r=n(399606),a=n(481060),s=n(388905),o=n(527379),c=n(376923),d=n(16829),u=n(430824),h=n(944486),p=n(189432),m=n(776767),f=n(981631),g=n(388032),C=n(758570);function x(e){let{member:t}=e,n=(0,r.e7)([u.Z],()=>u.Z.getGuild(t.guildId),[t.guildId]),x=(0,c.mh)(t.userId,t.guildId),v=(0,c.mV)(t.userId,t.guildId),_=(0,c.LD)(t.userId),I=(0,c.wi)(t.userId,t.guildId);return(l.useEffect(()=>{(0,o.zO)(t.guildId)},[t.guildId]),null==n)?null:(0,i.jsx)(a.FormItem,{title:g.intl.string(g.t["ldCE/v"]),titleClassName:C.infoTitle,children:(0,i.jsxs)(m.WM,{children:[(0,i.jsx)(m._2,{icon:(0,i.jsx)(a.ShieldUserIcon,{size:"custom",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:g.intl.string(g.t.nzGai4)}),description:x?(0,i.jsx)(a.CheckmarkLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:a.tokens.colors.INFO_POSITIVE_FOREGROUND}):(0,i.jsx)(a.XLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:a.tokens.colors.INFO_DANGER_FOREGROUND})}),v!==c.qc.NO_GATE&&(0,i.jsx)(m._2,{icon:(0,i.jsx)(a.BookCheckIcon,{size:"custom",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:g.intl.string(g.t["93hqlp"])}),description:v===c.qc.AGREED?(0,i.jsx)(a.CheckmarkLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:a.tokens.colors.INFO_POSITIVE_FOREGROUND}):(0,i.jsx)(a.XLargeBoldIcon,{size:"custom",width:m.Mn,height:m.Mn,color:a.tokens.colors.INFO_DANGER_FOREGROUND})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(a.ClydeIcon,{size:"custom",color:"currentColor",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:g.intl.string(g.t.SaDIpK)}),description:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:_})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(s.Vj,{guild:n,size:s.Vj.Sizes.SMOL,animate:!1,className:C.guildIcon}),name:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:g.intl.string(g.t["NQJ+WF"])}),description:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:I})}),(0,i.jsx)(m._2,{icon:(0,i.jsx)(a.GroupPlusIcon,{size:"custom",width:m.Mn,height:m.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:g.intl.string(g.t["eJOq+f"])}),description:(0,i.jsx)(a.Text,{variant:"text-sm/medium",color:"text-normal",children:(0,i.jsx)(d.ZP,{userId:t.userId,guildId:t.guildId,showInviterAsFooter:!0,onClickInviter:e=>{let n=h.Z.getChannelId();(0,p.r)(t.guildId,e.id,null!=n?n:f.lds)}})})})]})})}},787469:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(481060),c=n(893966),d=n(472596),u=n(285173),h=n(430824),p=n(496675),m=n(776767),f=n(981631),g=n(388032),C=n(758570);function x(e){let{member:t}=e,n=(0,s.e7)([h.Z],()=>h.Z.getGuild(t.guildId)),r=(0,s.e7)([h.Z],()=>h.Z.getRoles(t.guildId)),x=l.useMemo(()=>null==n?[]:null==t.highestRoleId?t.roles:Object.values(r).filter(e=>e.id!==t.highestRoleId&&t.roles.includes(e.id)).sort((e,t)=>{var n,i;return null!==(i=null!==(n=null==e?void 0:e.position)&&void 0!==n?n:0-(null==t?void 0:t.position))&&void 0!==i?i:0}).map(e=>e.id),[t.roles,t.highestRoleId,n,r]),v=(0,s.e7)([c.Z],()=>c.Z.getEnhancedMember(t.guildId,t.userId),[t.guildId,t.userId]),_=(0,d.zq)(v),I=(0,d.vN)(t),E=(0,s.e7)([p.Z],()=>p.Z.can(f.Plq.MANAGE_ROLES,n),[n]);return null==n?null:(0,i.jsx)(o.FormItem,{title:g.intl.string(g.t.LPJmLy),titleClassName:C.infoTitle,children:(0,i.jsx)(m.WM,{children:(0,i.jsx)(m._2,{description:t.roles.length>0||E?(0,i.jsxs)("div",{className:C.roleContainer,children:[(0,i.jsx)(o.Tooltip,{"aria-label":g.intl.string(g.t["0g8Xd3"]),allowOverflow:!0,text:g.intl.string(g.t["93S+lJ"]),children:e=>{let{onMouseEnter:n,onMouseLeave:l}=e;return(0,i.jsx)(o.Clickable,{onMouseEnter:n,onMouseLeave:l,children:(0,i.jsx)(u.Z,{className:a()(C.roleTooltipItem,C.highestRole),role:_,guildId:t.guildId})})}}),x.map(e=>(0,i.jsx)(u.Z,{className:C.roleTooltipItem,role:r[e],guildId:t.guildId},e)),E&&(0,i.jsx)(o.Tooltip,{"aria-label":g.intl.string(g.t.ljnBlp),allowOverflow:!0,text:g.intl.string(g.t.ljnBlp),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsx)(o.Clickable,{className:C.addRoleContainer,onClick:I,onMouseEnter:t,onMouseLeave:n,children:(0,i.jsx)(o.CirclePlusIcon,{size:"custom",color:"currentColor",className:C.addRoleIcon,width:20,height:20})})}})]}):(0,i.jsx)("div",{className:C.noRoles,children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:g.intl.string(g.t.nZfHsb)})})})})})}},477718:function(e,t,n){n.d(t,{Z:function(){return j}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(913527),o=n.n(s),c=n(399606),d=n(481060),u=n(480137),h=n(906732),p=n(376923),m=n(472596),f=n(987707),g=n(909746),C=n(501801),x=n(271383),v=n(430824),_=n(5192),I=n(776767),E=n(981631),b=n(388032),Z=n(872278),N=n(389401),S=n(758570);function T(e){var t;let{log:n,member:r,guild:s}=e,{analyticsLocations:u}=(0,h.ZP)(),f=g.nm(n),v=g.QM(n),I=null===(t=g.V$(E.zUn.REASON,n))||void 0===t?void 0:t.newValue,S=g.J5(n),T=(0,p.LJ)(n.id),j=(0,c.e7)([x.ZP],()=>null!=n.userId?x.ZP.getMember(r.guildId,n.userId):null,[r.guildId,n.userId]),A=l.useCallback(e=>t=>{t.preventDefault(),t.stopPropagation(),null!=e&&(0,m.RE)(e,u)},[u]),y=l.useCallback(()=>null==n.user?null:(0,i.jsx)(d.Tooltip,{text:b.intl.string(b.t.mvsi9v),children:e=>{var t;let{onMouseEnter:l,onMouseLeave:a}=e;return(0,i.jsx)(d.Clickable,{tag:"span",className:Z.username,onClick:A(j),onMouseEnter:l,onMouseLeave:a,children:(0,i.jsxs)(d.Text,{variant:"text-sm/medium",tag:"span",children:["@",(0,i.jsx)(d.NameWithRole,{name:_.ZP.getName(r.guildId,null,n.user),color:null!==(t=null==j?void 0:j.colorString)&&void 0!==t?t:void 0})]})})}}),[A,n.user,r.guildId,j])();return(0,i.jsxs)("div",{className:a()(N.modInfoItem,Z.auditLogItem),children:[(0,i.jsxs)("div",{className:Z.auditLogItemTitleContainer,children:[(0,i.jsxs)("div",{className:Z.auditLogItemTitle,children:[null!=f&&(0,i.jsx)(d.Text,{variant:"text-sm/semibold",color:"header-primary",children:f}),null!=v&&(0,i.jsxs)(d.Text,{variant:"text-sm/normal",color:"header-secondary",children:["(","string"==typeof v?v:o()(v).fromNow(),")"]})]}),(0,i.jsx)("div",{className:Z.auditLogItemDate,children:(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"header-primary",children:T})})]}),null!=I&&(0,i.jsx)("div",{className:Z.auditLogSecondaryContainer,children:(0,i.jsxs)("div",{className:Z.auditLogReason,children:[y,(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:I})]})}),null==I&&null!=S&&(0,i.jsx)("div",{className:Z.auditLogSecondaryContainer,children:(0,i.jsxs)("div",{className:Z.auditLogSecondary,children:[y,(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:S})]})}),null==I&&null==S&&(0,i.jsx)("div",{className:Z.auditLogSecondaryContainer,children:(0,i.jsx)("div",{className:Z.auditLogSecondary,children:(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-muted",tag:"span",children:(0,i.jsx)(C.tP,{log:n,guild:s,onContentClick:()=>{},className:Z.auditLogExpandedChangeDetails})})})})]})}function j(e){let{member:t}=e,n=(0,c.e7)([v.Z],()=>v.Z.getGuild(t.guildId),[t.guildId]),r=(0,c.e7)([f.Z],()=>{let e=f.Z.logs;return null==e||null==n?[]:g._$(e,n)},[n]);return(l.useEffect(()=>{(async function e(e,t){await u.gV(t,e)})(t.guildId,t.userId)},[t.guildId,t.userId]),null==n||0===r.length)?null:(0,i.jsx)(d.FormItem,{title:b.intl.string(b.t.flCxLi),titleClassName:S.infoTitle,children:r.length>0?(0,i.jsx)(I.WM,{children:r.map(e=>(0,i.jsx)(T,{log:e,member:t,guild:n},e.id))}):null})}},776767:function(e,t,n){n.d(t,{Mn:function(){return o},WM:function(){return d},_2:function(){return c}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(389401);let o=16;function c(e){let{description:t,name:n,icon:l,onNavigate:c,className:d,missingNavIcon:u}=e;return(0,i.jsxs)(a.Clickable,{onClick:c,className:r()(s.modInfoItem,null!=c&&s.modInfoAction,d),children:[null!=l&&(0,i.jsx)("div",{className:s.modInfoItemIcon,children:l}),null!=n&&(0,i.jsx)("div",{className:s.modInfoItemName,children:n}),(0,i.jsx)("div",{className:s.modInfoItemDescription,children:t}),null!=c&&(0,i.jsx)("div",{className:s.modInfoItemActionIcon,children:(0,i.jsx)(a.ChevronLargeRightIcon,{size:"custom",width:o,height:o})}),null==c&&null!=u&&(0,i.jsx)("div",{className:s.modInfoItemActionIcon,children:u})]})}function d(e){let{children:t}=e;return(0,i.jsx)("div",{className:s.modInfoItemContainer,children:t})}},791176:function(e,t,n){n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(481060),c=n(285173),d=n(422559),u=n(430824),h=n(233608),p=n(776767),m=n(351127),f=n(50493),g=n(981631),C=n(388032),x=n(944454);function v(e){var t,n;let{permission:l,roleIds:r,guild:h,specMap:p}=e,f=g.Plq[l],v=null!==(n=null===(t=p[f.toString()])||void 0===t?void 0:t.title)&&void 0!==n?n:(0,d.wt)(f),_=m._o.has(f),I=(0,s.e7)([u.Z],()=>u.Z.getRoles(h.id));return(0,i.jsx)(o.Tooltip,{"aria-label":C.intl.string(C.t["0g8Xd3"]),tooltipClassName:x.roleTooltipContainer,tooltipContentClassName:x.roleTooltipContentContainer,allowOverflow:!0,text:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:_?C.intl.string(C.t["GEuu/P"]):C.intl.string(C.t.wgGiCg)}),r.map(e=>(0,i.jsx)("div",{className:x.roleTooltipItem,children:(0,i.jsx)(c.Z,{role:I[e],guildId:h.id})},e))]}),children:e=>{let{onMouseEnter:t,onMouseLeave:n}=e;return(0,i.jsxs)(o.Clickable,{className:a()(x.permissionChiplet,{[x.elevatedPermission]:_}),onMouseEnter:t,onMouseLeave:n,children:[_&&(0,i.jsx)(o.ShieldLockIcon,{size:"custom",width:16,height:16,color:o.tokens.colors.TEXT_BRAND}),(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"interactive-normal",children:v})]})}})}t.Z=l.memo(function(e){let{member:t,onNavigate:n}=e,r=(0,s.e7)([u.Z],()=>u.Z.getGuild(t.guildId),[t.guildId]),c=(0,m.B2)(t.userId,t.guildId,m.Qn),d=(0,m.B2)(t.userId,t.guildId,m.pd),_=Object.keys(c).length,I=Object.keys(d).length,E=l.useMemo(()=>null!=r?h.Z.getGuildPermissionSpecMap(r):null,[r]),b=l.useMemo(()=>null!=r?h.Z.generateGuildPermissionSpec(r):null,[r]),Z=l.useMemo(()=>{if(null==r||null==E)return null;if(0===_)return(0,i.jsx)("div",{className:a()(x.permissionChiplet,x.noModPerms),children:(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"text-positive",children:C.intl.string(C.t.sXhykZ)})});let e=[];return null==b||b.forEach(t=>{t.permissions.forEach(t=>{let n=t.flag,l=m.pd.find(e=>g.Plq[e]===n);if(null==l)return;let a=c[l];if(null!=a)e.push((0,i.jsx)(v,{permission:l,roleIds:a,guild:r,specMap:E},l))})}),e},[r,_,c,b,E]);return null==r?null:(0,i.jsx)(o.FormItem,{title:(0,i.jsxs)("div",{className:x.headerContainer,children:[(0,i.jsx)(o.Text,{variant:"eyebrow",color:"header-secondary",children:C.intl.string(C.t.ZCq2nJ)}),(0,i.jsxs)(o.Clickable,{className:x.viewAllPermissions,onClick:()=>n(f.k.PERMISSIONS),children:[(0,i.jsx)(o.Text,{variant:"eyebrow",color:"interactive-normal",children:C.intl.format(C.t["0x6aTk"],{count:I})}),(0,i.jsx)(o.ChevronSmallRightIcon,{size:"custom",width:16,height:16})]})]}),children:(0,i.jsx)(p.WM,{children:(0,i.jsx)(p._2,{description:(0,i.jsx)("div",{className:x.permissionsContainer,children:Z})})})})})},727381:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(399606),s=n(481060),o=n(271383),c=n(594174),d=n(777288),u=n(753042),h=n(787469),p=n(477718),m=n(791176),f=n(908474),g=n(467014),C=n(388032),x=n(758570);function v(){return(0,i.jsxs)("div",{className:x.header,children:[(0,i.jsxs)("div",{className:x.headerTitle,children:[(0,i.jsx)(d.Z,{width:16,height:16}),(0,i.jsx)(s.Heading,{variant:"heading-md/semibold",children:C.intl.string(C.t.kj3tz8)})]}),(0,i.jsx)("div",{children:(0,i.jsx)(s.KeyCombo,{shortcut:"esc",keyClassName:x.keyComboInner,className:x.keyComboContainer})})]})}function _(e){let{userId:t,guildId:n,location:l,className:d,onNavigate:C}=e,_=(0,a.e7)([c.default],()=>c.default.getUser(t),[t]),I=(0,a.e7)([o.ZP],()=>o.ZP.getMember(n,t),[n,t]);return null==_||null==I?null:(0,i.jsxs)("div",{className:r()(x.container,d),children:[(0,i.jsx)(v,{}),(0,i.jsxs)(s.Scroller,{className:x.innerContainer,children:[(0,i.jsx)(f.Z,{member:I}),(0,i.jsx)(g.Z,{userId:t,guildId:n}),(0,i.jsx)(m.Z,{member:I,onNavigate:C}),(0,i.jsx)(h.Z,{member:I}),(0,i.jsx)(u.Z,{member:I}),(0,i.jsx)(p.Z,{member:I})]})]})}},908474:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),l=n(192379),r=n(399606),a=n(481060),s=n(346486),o=n(69882),c=n(815790),d=n(893966),u=n(776767),h=n(388032),p=n(758570);function m(e){let{member:t}=e,n=t.userId,m=t.guildId,f=(0,r.e7)([d.Z],()=>d.Z.getEnhancedMember(m,n),[n,m]),g=(null!=f?f:t).unusualDMActivityUntil,C=l.useCallback(e=>{if(null==e)return null;let t=new Date(e).getTime();return(0,c.fv)(t,c.jq.JOINED_AT)},[]),x=l.useMemo(()=>null==t?null:C(g),[t,C,g]),v=l.useMemo(()=>(0,o.J)(t.communicationDisabledUntil),[t.communicationDisabledUntil]),_=l.useMemo(()=>null==t.communicationDisabledUntil?new Date:new Date(t.communicationDisabledUntil),[t.communicationDisabledUntil]);return null!=g||v?(0,i.jsx)(a.FormItem,{title:h.intl.string(h.t["7V375+"]),titleClassName:p.infoTitle,children:(0,i.jsxs)(u.WM,{children:[null!=g&&(0,i.jsx)(u._2,{icon:(0,i.jsx)(a.ChatWarningIcon,{size:"custom",color:"currentColor",width:u.Mn,height:u.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.intl.string(h.t.ZRnONz)}),description:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:x})}),v&&null!=_&&(0,i.jsx)(u._2,{icon:(0,i.jsx)(a.ClockWarningIcon,{size:"custom",color:"currentColor",width:u.Mn,height:u.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.intl.string(h.t["TJ8/tL"])}),description:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:(0,i.jsx)(s.Z,{deadline:_,showUnits:!0,stopAtOneSec:!0})})})]})}):null}},467014:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(433355),o=n(189432),c=n(356778),d=n(776767),u=n(50493),h=n(388032),p=n(758570);function m(e){let{userId:t,guildId:n}=e,m=(0,r.e7)([s.ZP],()=>s.ZP.getGuildSidebarState(n),[n]),{messagesCount:f,linksCount:g,mediaCount:C}=(0,c.P2)(t,n),x=new Intl.NumberFormat(h.intl.currentLocale).format(f),v=new Intl.NumberFormat(h.intl.currentLocale).format(g),_=new Intl.NumberFormat(h.intl.currentLocale).format(C),I=l.useCallback(async e=>{if(null==m)return;let i=(0,c.Ow)(t,e);await (0,o.r)(n,t,m.baseChannelId,{modViewPanel:u.k.MESSAGE_HISTORY,additionalSearchQuery:i})},[n,m,t]);return(0,i.jsx)(a.FormItem,{title:h.intl.string(h.t.vCn2Tk),titleClassName:p.infoTitle,children:(0,i.jsxs)(d.WM,{children:[(0,i.jsx)(d._2,{icon:(0,i.jsx)(a.ChatIcon,{size:"custom",color:"currentColor",width:d.Mn,height:d.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.intl.string(h.t.OIgYlZ)}),description:f===c.II?(0,i.jsx)(a.Spinner,{type:a.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:x}),onNavigate:f>0?()=>I(c.mw.MESSAGES):void 0}),(0,i.jsx)(d._2,{icon:(0,i.jsx)(a.LinkIcon,{size:"custom",width:d.Mn,height:d.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.intl.string(h.t.DFSvTk)}),description:g===c.II?(0,i.jsx)(a.Spinner,{type:a.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:v}),onNavigate:g>0?()=>I(c.mw.LINKS):void 0}),(0,i.jsx)(d._2,{icon:(0,i.jsx)(a.ImagesIcon,{size:"custom",width:d.Mn,height:d.Mn}),name:(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"text-normal",children:h.intl.string(h.t["Aw9+/P"])}),description:C===c.II?(0,i.jsx)(a.Spinner,{type:a.SpinnerTypes.SPINNING_CIRCLE,className:p.loadingSpinner}):(0,i.jsx)(a.Text,{variant:"text-sm/semibold",color:"interactive-normal",children:_}),onNavigate:C>0?()=>I(c.mw.MEDIA):void 0})]})})}},313692:function(e,t,n){n.d(t,{Z:function(){return Z}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(399606),c=n(481060),d=n(963374),u=n(735020),h=n(786761),p=n(937889),m=n(619753),f=n(433355),g=n(271383),C=n(594174),x=n(189432),v=n(356778),_=n(370595),I=n(50493),E=n(758570),b=n(949801);function Z(e){var t,n;let{userId:r,guildId:Z,location:N,className:S,onNavigate:T}=e,j=l.useRef(null),A=(0,o.e7)([f.ZP],()=>f.ZP.getGuildSidebarState(Z),[Z]),y=l.useRef(0),[P,M]=l.useState(null!==(t=null==A?void 0:A.details.additionalSearchQuery)&&void 0!==t?t:{}),R=(0,v.z0)(r,Z,{addtionalQuery:P,shouldDispatch:!0}),L=(0,o.e7)([C.default],()=>C.default.getUser(r),[r]),k=(0,o.e7)([g.ZP],()=>g.ZP.getMember(Z,r),[Z,r]);l.useLayoutEffect(()=>{let e=null==A?void 0:A.details.scrollOffset;if(null!=e){var t;null===(t=j.current)||void 0===t||t.scrollTo({to:e,animate:!1})}},[]);let O=l.useCallback(e=>{if(null==A)return;let t=e.target.scrollTop;y.current=t,(0,x.r)(Z,r,A.baseChannelId,{modViewPanel:I.k.MESSAGE_HISTORY,additionalSearchQuery:P,scrollOffset:y.current})},[Z,r,A,P]),D=(0,s.throttle)(O,300),w=l.useCallback(e=>{if(null==A)return;let t={...P,offset:25*e};M(t),(0,x.r)(Z,r,A.baseChannelId,{modViewPanel:I.k.MESSAGE_HISTORY,additionalSearchQuery:t,scrollOffset:y.current})},[Z,r,A,P]),B=null!==(n=null==P?void 0:P.offset)&&void 0!==n?n:0,U=(0,o.e7)([u.Z],()=>{if(null==R.result)return[];let e=R.result.messages,t=(0,d.nC)("");return e.map(e=>e.map(e=>{let n=u.Z.getMessage(e.id,e.channel_id),i=(0,h.e5)(e);return null!=n&&(i=i.merge({attachments:n.attachments,embeds:n.embeds})),i.isSearchHit?i.set("customRenderedContent",(0,p.ZP)(i,{postProcessor:t,allowHeading:!0,allowList:!0})):i}))},[R.result]),H=l.useMemo(()=>{var e,t,n,i;return null==R.result?{documentsIndexed:0,isSearching:!0,isIndexing:!1,isHistoricalIndexing:!1,offset:B,totalResults:0,hasError:!1,showBlockedResults:!1,showNoResultsAlt:!1}:{documentsIndexed:null!==(e=R.result.documents_indexed)&&void 0!==e?e:0,isSearching:!1,isIndexing:null!==(t=R.result.doing_deep_historical_index)&&void 0!==t&&t,isHistoricalIndexing:null!==(n=R.result.doing_deep_historical_index)&&void 0!==n&&n,offset:B,totalResults:null!==(i=R.result.total_results)&&void 0!==i?i:0,hasError:!1,showBlockedResults:!1,showNoResultsAlt:!1}},[R.result,B]);return null==L||null==k||null==H?null:(0,i.jsxs)("div",{className:a()(E.container,S),children:[(0,i.jsx)(_.Z,{guildId:Z,userId:r,onNavigate:T}),(0,i.jsx)(c.AdvancedScroller,{className:b.innerContainer,ref:j,onScroll:D,children:(0,i.jsx)(m.Z,{searchResults:U,search:H,searchId:r,renderEmbeds:!0,blockCount:0,ignoreCount:0,scrollTo:()=>{},onChangePage:w})})]})}},596443:function(e,t,n){n.d(t,{Z:function(){return A}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(954955),o=n.n(s),c=n(399606),d=n(481060),u=n(605436),h=n(79712),p=n(285173),m=n(434404),f=n(422559),g=n(271383),C=n(430824),x=n(496675),v=n(594174),_=n(233608),I=n(370595),E=n(351127),b=n(981631),Z=n(388032),N=n(758570),S=n(227893);function T(e){var t,n,r,s;let{permission:o,roleIds:g,guild:v,specMap:_,categoryTitle:I,userId:N}=e,T=(0,c.e7)([C.Z],()=>C.Z.getRoles(v.id)),j=b.Plq[o],A=null!==(r=null===(t=_[j.toString()])||void 0===t?void 0:t.title)&&void 0!==r?r:(0,f.wt)(j),y=null!==(s=null===(n=_[j.toString()])||void 0===n?void 0:n.description)&&void 0!==s?s:"",P=E._o.has(j),M=E.Qn.includes(o),R=g.length,L=(0,c.e7)([x.Z],()=>x.Z.can(b.Plq.MANAGE_ROLES,v),[v]),k=l.useCallback(async e=>{if(!!L)await m.Z.open(v.id,b.pNK.ROLES),await m.Z.selectRole(e)},[L,v.id]);return(0,i.jsxs)("div",{className:a()(S.permissionItemContainer,{[S.elevatedPermission]:P}),children:[(0,i.jsxs)("div",{className:S.permissionItemHeader,children:[(0,i.jsxs)("div",{className:S.permissionTitle,children:[(0,i.jsx)(d.Text,{variant:"text-md/medium",color:"header-primary",children:A}),null!=I&&(0,i.jsxs)("div",{className:S.permissionItemSubheader,children:[(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"header-muted",children:I}),P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{height:4,width:4,"aria-hidden":"true",color:d.tokens.colors.INTERACTIVE_MUTED.css}),(0,i.jsx)(d.Tooltip,{text:Z.intl.string(Z.t.GZvXuL),children:e=>(0,i.jsxs)(d.Clickable,{className:S.elevatedPermissionContainer,...e,children:[(0,i.jsx)(d.ShieldLockIcon,{size:"custom",width:12,height:12,color:d.tokens.colors.TEXT_BRAND}),(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"text-brand",children:Z.intl.string(Z.t.k7Kqj4)})]})})]}),!P&&M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{height:4,width:4,"aria-hidden":"true",color:d.tokens.colors.INTERACTIVE_MUTED.css}),(0,i.jsx)("div",{className:S.elevatedPermissionContainer,children:(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"header-muted",children:Z.intl.string(Z.t.IfqUEB)})})]})]})]}),(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"text-normal",children:Z.intl.format(Z.t.KmJI4O,{roleCount:R})})]}),null!=y&&(0,i.jsx)("div",{className:S.permissionItemDescription,children:(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"text-secondary",children:y})}),(0,i.jsx)("div",{className:S.permissionItemRoleContainer,children:g.map(e=>(0,E.Ov)(e,N)?(0,i.jsx)("div",{className:S.roleTooltipItem,children:(0,i.jsx)("div",{className:S.roleChiplet,children:(0,i.jsx)(d.Text,{variant:"text-xs/medium",color:"text-normal",children:Z.intl.string(Z.t.pclUFB)})})},e):(0,i.jsx)(d.Clickable,{className:a()(S.roleTooltipItem,{[S.editable]:L&&!(0,u.pM)(v.id,e)}),onClick:()=>k(e),children:(0,i.jsx)(p.Z,{role:T[e],guildId:v.id,className:S.roleChiplet})},e))})]})}function j(e,t){return t.toLowerCase().includes(e.toLowerCase())}function A(e){let{userId:t,guildId:n,location:r,className:s,onNavigate:u}=e,h=(0,c.e7)([v.default],()=>v.default.getUser(t),[t]),p=(0,c.e7)([C.Z],()=>C.Z.getGuild(n),[n]),m=(0,c.e7)([g.ZP],()=>g.ZP.getMember(n,t),[n,t]),x=(0,E.B2)(t,n,E.pd),A=Object.keys(x).length,y=l.useMemo(()=>null!=p?_.Z.getGuildPermissionSpecMap(p):null,[p]),P=l.useMemo(()=>null!=p?_.Z.generateGuildPermissionSpec(p):null,[p]),[M,R]=l.useState(""),[L,k]=l.useState(""),O=l.useCallback(o()(k,300),[]),D=l.useCallback(e=>{R(e),O(e)},[O]),w=l.useCallback(()=>{R(""),k("")},[]),B=l.useMemo(()=>{if(null==p||null==y||null==m)return null;if(0===A)return(0,i.jsx)(d.Text,{variant:"text-sm/normal",children:Z.intl.string(Z.t.DEBGqK)});let e=[];return null==P||P.forEach(n=>{n.permissions.forEach(l=>{let r=l.flag,a=E.pd.find(e=>b.Plq[e]===r);if(null==a)return;let s=x[a];if(null!=s){if(L.length>0){var o,c,d,u,h;let e=null!==(u=null===(o=y[r.toString()])||void 0===o?void 0:o.title)&&void 0!==u?u:(0,f.wt)(r),t=null!==(h=null===(d=y[r.toString()])||void 0===d?void 0:null===(c=d.description)||void 0===c?void 0:c.toString())&&void 0!==h?h:"",i=n.title,l=E._o.has(r),s=E.Qn.includes(a),p=l?Z.intl.string(Z.t.k7Kqj4):s?Z.intl.string(Z.t.IfqUEB):null,m=j(L,e),g=j(L,t),C=j(L,i),x=null!=p&&j(L,p);if(!m&&!g&&!C&&!x)return}e.push((0,i.jsx)(T,{permission:a,roleIds:s,guild:p,specMap:y,categoryTitle:n.title,userId:t},a))}})}),e},[p,y,m,A,P,x,L,t]);return null==h||null==m?null:(0,i.jsxs)("div",{className:a()(N.container,s),children:[(0,i.jsx)(I.Z,{guildId:n,userId:t,onNavigate:u}),(0,i.jsx)(d.Scroller,{className:S.permissionsGroupContainer,children:(0,i.jsx)(d.FormItem,{title:Z.intl.string(Z.t.BBWnpq),children:(0,i.jsxs)("div",{className:S.permissionsItemContainer,children:[(0,i.jsx)(d.SearchBar,{className:S.searchBar,query:M,placeholder:Z.intl.string(Z.t["yD9+dH"]),onChange:D,onClear:w,autoComplete:"off",inputProps:{autoCapitalize:"none",autoCorrect:"off",spellCheck:"false"}}),B]})})})]})}},351127:function(e,t,n){n.d(t,{B2:function(){return g},Ov:function(){return f},Qn:function(){return p},_o:function(){return m},pd:function(){return h}}),n(47120),n(411104),n(653041);var i=n(149765),l=n(399606),r=n(271383),a=n(430824),s=n(594174),o=n(700785),c=n(981631),d=n(135899);let u=[c.Plq.USE_CLYDE_AI],h=Object.keys(c.Plq).filter(e=>!u.includes(c.Plq[e])),p=Array.from(new Set([...d.$X,...c.yYS,c.Plq.ADMINISTRATOR,c.Plq.KICK_MEMBERS,c.Plq.BAN_MEMBERS,c.Plq.MANAGE_GUILD,c.Plq.MANAGE_CHANNELS,c.Plq.MANAGE_ROLES,c.Plq.MANAGE_MESSAGES,c.Plq.MANAGE_THREADS,c.Plq.MANAGE_GUILD_EXPRESSIONS,c.Plq.CREATE_GUILD_EXPRESSIONS,c.Plq.MANAGE_EVENTS,c.Plq.CREATE_EVENTS,c.Plq.MODERATE_MEMBERS,c.Plq.MENTION_EVERYONE,c.Plq.MANAGE_WEBHOOKS])).map(e=>{let t=h.find(t=>c.Plq[t]===e);if(null==t)throw Error("Permission ".concat(e," not found in Permissions"));return t}),m=new Set(c.yYS);function f(e,t){return e===t}function g(e,t,n){let d=(0,l.e7)([a.Z],()=>a.Z.getGuild(t),[t]);return(0,l.e7)([r.ZP,s.default,a.Z],()=>{let l={},u=r.ZP.getMember(t,e),h=s.default.getUser(e);if(null==d||null==u||null==h)return l;let p=a.Z.getRole(d.id,d.getEveryoneRoleId()),m=o.uB({user:h,context:d});for(let e of n){let t=c.Plq[e];if(!!i.e$(m,t)){for(let n of(l[e]=[],u.roles)){let r=a.Z.getRole(d.id,n);if(null!=r)(i.e$(r.permissions,c.Plq.ADMINISTRATOR)||i.Db(r.permissions,t))&&l[e].push(r.id)}null!=p&&(i.e$(p.permissions,c.Plq.ADMINISTRATOR)||i.Db(p.permissions,t))&&l[e].push(p.id),d.isOwner(h)&&l[e].push(h.id)}}return l},[d,t,n,e])}},327250:function(e,t,n){n.d(t,{ZP:function(){return M}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(399606),s=n(481060),o=n(493683),c=n(906732),d=n(979264),u=n(69882),h=n(251794),p=n(386696),m=n(946273),f=n(910693),g=n(314897),C=n(271383),x=n(430824),v=n(496675),_=n(158776),I=n(885110),E=n(594174),b=n(572004),Z=n(5192),N=n(51144),S=n(308083),T=n(388032),j=n(125712);function A(e){let{user:t,guildId:n,onClose:l}=e,r=t.id,o=(0,a.e7)([I.Z,_.Z,g.default],()=>r===g.default.getId()?I.Z.getStatus():_.Z.getStatus(r,n),[r,n]);return(0,i.jsxs)("div",{className:j.topRow,children:[(0,i.jsxs)("div",{className:j.memberNameContainer,children:[(0,i.jsx)("div",{className:j.memberAvatar,children:(0,i.jsx)(s.Avatar,{src:t.getAvatarURL(n,48),"aria-label":t.username,size:s.AvatarSizes.SIZE_48,status:o})}),(0,i.jsxs)("div",{className:j.memberNameAndTagContainer,children:[(0,i.jsxs)("div",{className:j.memberNameTextContainer,children:[(0,i.jsx)(s.Text,{variant:"text-lg/medium",children:(0,i.jsx)(s.NameWithRole,{name:Z.ZP.getName(n,null,t),color:s.tokens.colors.HEADER_PRIMARY.css})}),(0,i.jsx)(d.ZP,{primaryGuild:null==t?void 0:t.primaryGuild,userId:null==t?void 0:t.id,contextGuildId:n,badgeSize:S.NC.SIZE_16,textVariant:"heading-md/semibold",className:j.memberClanTag,containerClassName:j.memberClanTagContainer})]}),(0,i.jsx)(s.Text,{variant:"text-md/medium",color:"text-normal",children:N.ZP.getUserTag(t)})]})]}),(0,i.jsx)(s.Text,{variant:"text-md/medium",color:"text-normal",children:(0,i.jsx)(s.Clickable,{className:j.closeAction,onClick:l,children:(0,i.jsx)(s.XSmallIcon,{size:"md",color:"currentColor"})})})]})}function y(e){let{tag:t="div",text:n,disabled:l,children:a,onClick:o,...c}=e;return(0,i.jsx)(s.Tooltip,{text:n,children:e=>(0,i.jsx)(s.Clickable,{...c,...e,tag:t,"aria-label":n,className:r()(j.bottomRowAction,{[j.bottomRowActionDisabled]:l}),onClick:l?void 0:o,children:(0,i.jsx)("div",{className:j.innerBottomRowAction,children:a})})})}function P(e){let{user:t,member:l,guildId:r}=e,d=(0,a.e7)([x.Z],()=>x.Z.getGuild(r)),{canKickUser:C,canBanUser:_,canModerateMembers:I}=(0,a.cj)([v.Z,E.default,x.Z],()=>({canKickUser:(0,m.BK)(t,d),canBanUser:(0,m.mm)(t,d),canModerateMembers:null!=d&&(0,p.F)(d.id,t.id,[E.default,x.Z,v.Z])}),[t,d]),Z=(0,u.b)(l),{analyticsLocations:N,newestAnalyticsLocation:S}=(0,c.ZP)(),A=(0,f.sE)(r,{targetUserId:t.id,location:S,locations:N}),P=(0,a.e7)([g.default],()=>g.default.getId()===(null==t?void 0:t.id));return(0,i.jsxs)("div",{className:j.bottomRow,children:[(0,i.jsx)(y,{disabled:P,text:T.intl.string(T.t["g33r/P"]),onClick:()=>{o.Z.openPrivateChannel(t.id)},children:(0,i.jsx)(s.ChatIcon,{size:"custom",color:"currentColor",width:24,height:24})}),(0,i.jsx)(y,{disabled:!C,text:T.intl.string(T.t["3glT6e"]),onClick:()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("5454").then(n.bind(n,854360));return n=>(0,i.jsx)(e,{...n,location:S,guildId:r,user:t})})},children:(0,i.jsx)(s.UserMinusIcon,{size:"custom",width:24,height:24,color:s.tokens.colors.TEXT_NORMAL.css})}),(0,i.jsx)(y,{disabled:!_,text:T.intl.string(T.t["5MBJ5O"]),onClick:()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("43350").then(n.bind(n,98746));return n=>(0,i.jsx)(e,{...n,location:S,guildId:r,user:t})})},children:(0,i.jsx)(s.HammerIcon,{size:"custom",width:24,height:24,color:s.tokens.colors.TEXT_NORMAL.css})}),(0,i.jsx)(y,{disabled:!I,text:Z?T.intl.string(T.t.N86XcH):T.intl.string(T.t.kTlLr6),onClick:()=>{Z?(0,h.q)({guildId:l.guildId,userId:l.userId,anaylticsLocations:N}):(0,h.z)({guildId:l.guildId,userId:l.userId,anaylticsLocations:N})},children:(0,i.jsx)(s.ClockWarningIcon,{size:"custom",width:24,height:24,color:s.tokens.colors.TEXT_NORMAL.css})}),(0,i.jsx)(y,{text:T.intl.string(T.t.IHTjzM),onClick:()=>{A(f.jQ.COPY_ID),(0,b.JG)(t.id)},disabled:!b.wS,children:(0,i.jsx)(s.IdIcon,{size:"custom",width:24,height:24,color:s.tokens.colors.TEXT_NORMAL.css})})]})}function M(e){let{userId:t,guildId:n,onClose:l}=e,r=(0,a.e7)([E.default],()=>E.default.getUser(t),[t]),s=(0,a.e7)([C.ZP],()=>C.ZP.getMember(n,t),[n,t]);return null==r||null==s?null:(0,i.jsxs)("div",{className:j.container,children:[(0,i.jsx)(A,{user:r,guildId:n,onClose:l}),(0,i.jsx)(P,{user:r,member:s,guildId:n})]})}},270801:function(e,t,n){var i=n(200651);n(192379);var l=n(481060),r=n(313201),a=n(388032),s=n(844132);let o=()=>n.e("39248").then(n.t.bind(n,48603,19)).then(e=>{let{default:t}=e;return t});t.Z=e=>{let t=(0,r.Dt)();return(0,i.jsxs)(l.ModalRoot,{...e,transitionState:e.transitionState,"aria-labelledby":t,children:[(0,i.jsx)("div",{className:s.animationContainer,children:(0,i.jsx)(l.LottieAnimation,{importData:o,className:s.animationMiddle})}),(0,i.jsx)(l.ModalContent,{children:(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",className:s.header,id:t,children:a.intl.format(a.t.z9qozM,{guildName:e.guildName})}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:a.intl.string(a.t.nwpqyc)}),(0,i.jsx)(l.Button,{className:s.button,onClick:()=>{e.onAccept(),e.onClose()},children:a.intl.string(a.t.NuzmOD)})]})})]})}},705563:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(665149),s=n(171368),o=n(650774),c=n(430824),d=n(496675),u=n(709054),h=n(826581),p=n(246364),m=n(360328),f=n(981631),g=n(388032),C=n(112883);function x(e){let{channelId:t,showProfile:n=!1,showTrailingDivider:x=!1}=e,v=u.default.cast(t),{joinRequest:_,isModmin:I,guildId:E,maxMembers:b}=(0,l.cj)([h.Z,c.Z,d.Z],()=>{let e=h.Z.getRequest(v),t=c.Z.getGuild(null==e?void 0:e.guildId);return{joinRequest:e,isModmin:null!=t&&d.Z.can(f.Plq.KICK_MEMBERS,t),guildId:null==t?void 0:t.id,maxMembers:null==t?void 0:t.maxMembers}}),Z=(0,l.e7)([o.Z],()=>null!=E?o.Z.getMemberCount(E):0),N=null!=b&&(null!=Z?Z:0)>=b,{approveRequest:S,rejectRequest:T,submitting:j}=(0,m.s)(null==_?void 0:_.guildId,null==_?void 0:_.userId,null==_?void 0:_.joinRequestId);return null!=_&&_.applicationStatus===p.wB.SUBMITTED&&I?(0,i.jsxs)("div",{className:C.buttons,children:[(0,i.jsx)(r.Tooltip,{text:g.intl.string(g.t.RbIXi4),shouldShow:N,children:e=>(0,i.jsx)(r.Button,{...e,color:r.Button.Colors.GREEN,submitting:j,onClick:S,size:r.ButtonSizes.SMALL,disabled:N,children:g.intl.string(g.t.BzjDQE)})}),(0,i.jsx)(r.Button,{color:r.Button.Colors.RED,onClick:T,size:r.ButtonSizes.SMALL,disabled:j||_.applicationStatus!==p.wB.SUBMITTED,children:g.intl.string(g.t.hDtbs7)}),n&&(0,i.jsx)(r.Button,{color:r.Button.Colors.TRANSPARENT,onClick:()=>{(0,s.openUserProfileModal)({userId:_.userId,guildId:_.guildId,analyticsLocation:{section:f.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:f.qAy.JOIN_REQUEST}})},size:r.ButtonSizes.SMALL,children:g.intl.string(g.t.iXAna2)}),x&&(0,i.jsx)(a.ZP.Divider,{})]}):null}},360328:function(e,t,n){n.d(t,{s:function(){return h}}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(287734),o=n(592125),c=n(693546),d=n(246364),u=n(388032);function h(e,t,h,p){let[m,f]=l.useState(!1),g=(0,r.e7)([o.Z],()=>o.Z.getChannel(p)),C=l.useCallback(()=>{(0,a.showToast)((0,a.createToast)(u.intl.string(u.t.R0RpRU),a.ToastType.FAILURE))},[]),x=l.useCallback(async()=>{if(!m&&null!=e&&null!=t&&null!=h){if(null!=g){s.default.selectPrivateChannel(g.id);return}if(!m){f(!0);try{await c.Z.createOrEnterJoinRequestInterview(h)}catch{C()}finally{f(!1)}}}},[e,h,g,C,m,t]),v=async()=>{if(!m&&null!=e&&null!=t&&null!=h){f(!0);try{await c.Z.updateGuildJoinRequest(e,t,h,d.wB.APPROVED)}catch{C()}finally{f(!1)}}};return{approveRequest:v,rejectRequest:()=>{null!=e&&null!=t&&null!=h&&(0,a.openModalLazy)(async()=>{let{default:l}=await n.e("56496").then(n.bind(n,113886));return n=>(0,i.jsx)(l,{modalProps:n,guildId:e,userId:t,guildJoinRequestId:h,onError:C})})},submitting:m,handleOpenInterview:x}}},376923:function(e,t,n){n.d(t,{LD:function(){return x},LJ:function(){return v},mV:function(){return g},mh:function(){return C},qc:function(){return i},wi:function(){return _}}),n(789020),n(47120);var i,l,r=n(192379),a=n(913527),s=n.n(a),o=n(399606),c=n(983736),d=n(271383),u=n(430824),h=n(594174),p=n(630388),m=n(709054);n(893966),n(527379);var f=n(372897);function g(e,t){var n,i;let l=(0,o.e7)([h.default],()=>h.default.getUser(e),[e]),r=(0,o.e7)([d.ZP],()=>d.ZP.getMember(t,e),[t,e]),a=(0,o.e7)([u.Z],()=>u.Z.getGuild(t),[t]);return(0,c.Dc)(a)?null==l||null==r||null==a?1:(0,p.yE)(null!==(n=r.flags)&&void 0!==n?n:0,f.q.BYPASSES_VERIFICATION)||(0,p.yE)(null!==(i=r.flags)&&void 0!==i?i:0,f.q.COMPLETED_ONBOARDING)||null!=r.isPending&&!r.isPending?2:1:0}function C(e,t){var n;let i=(0,o.e7)([h.default],()=>h.default.getUser(e),[e]),l=(0,o.e7)([d.ZP],()=>d.ZP.getMember(t,e),[t,e]);if(null==i||null==l)return!1;let r=(0,p.yE)(null!==(n=l.flags)&&void 0!==n?n:0,f.q.BYPASSES_VERIFICATION),a=(null==i?void 0:i.isPhoneVerified())||(null==i?void 0:i.isStaff()),s=(null==l?void 0:l.joinedAt)!=null;return i.verified||a||s||r}function x(e){return r.useMemo(()=>{let t=m.default.extractTimestamp(e);return s()(new Date(t)).format("MMM DD, YYYY")},[e])}function v(e){return r.useMemo(()=>{let t=m.default.extractTimestamp(e);return s()(new Date(t)).format("MM/DD/YYYY")},[e])}function _(e,t){let n=(0,o.e7)([d.ZP],()=>d.ZP.getMember(t,e),[t,e]),i=null==n?void 0:n.joinedAt;return r.useMemo(()=>null==i?"":s()(new Date(i)).format("MMM DD, YYYY"),[i])}(l=i||(i={}))[l.NO_GATE=0]="NO_GATE",l[l.NO_AGREEMENT=1]="NO_AGREEMENT",l[l.AGREED=2]="AGREED"},637271:function(e,t,n){var i,l=n(442837),r=n(570140),a=n(592125),s=n(176505);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},d={};class u extends(i=l.ZP.PersistedStore){initialize(e){var t;c=null!==(t=null==e?void 0:e.selectedResourceChannelIdByGuildId)&&void 0!==t?t:{}}getState(){return{selectedResourceChannelIdByGuildId:c}}getSelectedResourceChannelId(e){return null==e?null:c[e]}getHomeNavigationChannelId(e){var t;return null==e?null:null!==(t=c[e])&&void 0!==t?t:d[e]}}o(u,"displayName","GuildOnboardingHomeNavigationStore"),o(u,"persistKey","GuildOnboardingHomeNavigationStore"),t.Z=new u(r.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(null==n||t===s.oC.GUILD_HOME)return;let i=a.Z.getChannel(t),l=c[n],r=d[n];if(!((null==i?void 0:i.isThread())&&(null==i?void 0:i.parent_id)!=null&&[r,l].includes(null==i?void 0:i.parent_id)))t!==l&&delete c[n],t!==r&&delete d[n]},SELECT_HOME_RESOURCE_CHANNEL:function(e){let{channelId:t,guildId:n}=e;null==t?delete d[n]:c[n]=t,delete d[n]},SELECT_NEW_MEMBER_ACTION_CHANNEL:function(e){let{channelId:t,guildId:n}=e;delete c[n],d[n]=t}})},736052:function(e,t,n){n.d(t,{Z:function(){return d}}),n(789020);var i=n(399606),l=n(592125),r=n(630388),a=n(637271),s=n(931261),o=n(981631),c=n(176505);function d(e){var t;let n=(0,i.e7)([l.Z],()=>l.Z.getChannel(e)),d=null!=n&&(0,r.yE)(n.flags,c.zZ.IS_GUILD_RESOURCE_CHANNEL),u=(0,i.e7)([a.Z],()=>a.Z.getSelectedResourceChannelId(null==n?void 0:n.guild_id)),h=(0,s.g)(null!==(t=null==n?void 0:n.guild_id)&&void 0!==t?t:o.lds);return null!=n&&h&&d&&u===n.id}},231873:function(e,t,n){var i,l,r,a,s,o;n.d(t,{Ft:function(){return r},Rg:function(){return i},j7:function(){return l}}),(a=i||(i={})).INVITE="member_joined",a.CHANNEL="create_channel",a.AVATAR="avatar",a.MESSAGE="send_message",a.COMPLETED="completed",a.DISMISSED="dismissed",(s=l||(l={})).PERSONALIZE_SERVER="Personalize Server",s.INVITE="Invite Friends",s.CREATE_CHANNEL="Create Channel",s.SEND_MESSAGE="Send Message",s.DOWNLOAD="Download",s.ADD_APP="Add App",s.DISMISS_GUILD_PROGRESS="Dismiss Guild Progress",s.DISCORD_OVERVIEW_VIDEO="Discord Overview Video",s.JOIN_GUILD="Join Guild",s.CONTACT_SYNC="Sync Contacts",s.DISMISS="Dismiss",(o=r||(r={})).CHANNEL_WELCOME="Channel Welcome CTA",o.GUILD_PROGRESS="Guild Progress",o.HUB_PROGRESS="Hub Progress"},644914:function(e,t,n){n.d(t,{TE:function(){return v},h_:function(){return _}}),n(47120);var i=n(192379),l=n(392711),r=n.n(l),a=n(442837),s=n(159300),o=n(901461),c=n(314897),d=n(592125),u=n(984933),h=n(650774),p=n(430824),m=n(819640),f=n(375954),g=n(496675),C=n(709054),x=n(981631);function v(e,t){return(0,a.cj)([g.Z],()=>({canInvite:(0,s.b)(g.Z,t,e),canManageGuild:null!=t&&g.Z.can(x.Plq.MANAGE_GUILD,t),canMessage:null!=e&&g.Z.can(x.Plq.SEND_MESSAGES,e),canCreateChannel:null!=t&&g.Z.can(x.Plq.MANAGE_CHANNELS,t)}),[t,e])}function _(e){var t;return{guildPopulated:function(e){let t=(0,a.e7)([d.Z],()=>d.Z.getChannel(null==e?void 0:e.systemChannelId)),n=(0,a.Wu)([f.Z],()=>null!=t?f.Z.getMessages(t.id).toArray():[]);return(0,a.e7)([h.Z],()=>{var t;let i=null!==(t=h.Z.getMemberCount(null==e?void 0:e.id))&&void 0!==t?t:0,l=n.some(e=>e.type===x.uaV.USER_JOIN);return i>1||l},[e,n])}(e),guildMessaged:function(e){let t=(0,a.e7)([d.Z],()=>null!=e?d.Z.getMutableBasicGuildChannelsForGuild(e.id):null);return function(e){let t=(0,a.e7)([c.default],()=>c.default.getId());return(0,a.e7)([f.Z],()=>r().some(e,e=>{let n=f.Z.getMessages(e.id).toArray();return r().some(n,e=>e.author.id===t&&!(0,o.Z)(e))}))}(i.useMemo(()=>null==t?[]:r().values(t),[t]))}(e),guildPersonalized:function(e){let t=(0,a.e7)([m.Z],()=>m.Z.hasLayers()),n=(0,a.e7)([p.Z],()=>p.Z.getGuild(null==e?void 0:e.id));return(null==n?void 0:n.icon)!=null&&!t}(e),guildChannelCreated:(t=e,(0,a.e7)([u.ZP],()=>{let e=u.ZP.getChannels(null==t?void 0:t.id),n=e[u.Zb];function i(e){return null!=t&&C.default.extractTimestamp(e.channel.id)-C.default.extractTimestamp(t.id)>500}return e[u.sH].some(i)||n.some(i)},[t]))}}},406074:function(e,t,n){n.d(t,{C:function(){return u}});var i=n(149765),l=n(442837),r=n(160404),a=n(592125),s=n(430824),o=n(584825),c=n(790285),d=n(981631);function u(e){let{guildId:t,channelId:n}=e,u=(0,o.qi)(t);return(0,l.Wu)([a.Z,s.Z,r.Z],()=>{let e=a.Z.getChannel(n),l=s.Z.getGuild(t),o=r.Z.isViewingServerShop(t);return null!=l&&null!=e?u.filter(t=>(function(e,t,n){let{isPreviewingRoles:l=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(l||e.published))return!1;let r=n.permissionOverwrites[e.role_id];if((0,c.TG)(n,r))return!0;let a=s.Z.getRole(t.id,t.getEveryoneRoleId()),o=null!=a&&!i.e$(a.permissions,d.Plq.VIEW_CHANNEL),u=(0,c.wB)(n,n.permissionOverwrites[t.id]),h=s.Z.getRole(t.id,e.role_id);return o&&!u&&null!=h&&(0,c.MT)(h)&&!(0,c.wB)(n,r)})(t,l,e,{isPreviewingRoles:o})):[]},[t,n,u])}},660196:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(192379),l=n(442837),r=n(367907),a=n(906732),s=n(703656),o=n(626135),c=n(730647),d=n(289393),u=n(934826),h=n(981631);function p(e){var t;let{guildId:n,groupListingId:p,location:m,relevantSubscriptionListingIds:f}=e,g=(0,c.f)("useTrackRoleSubscriptionUpsellAnalytics"),{activeSubscription:C}=(0,u.Z)(p),x=null!=C,v=(0,l.Wu)([d.Z],()=>(null!=f?f:[]).filter(e=>{var t;return(null===(t=d.Z.getSubscriptionListing(e))||void 0===t?void 0:t.published)===!0}),[f]),{analyticsLocations:_}=(0,a.ZP)(null!==(t=(0,s.DR)())&&void 0!==t?t:[]),I=i.useRef(!1);i.useEffect(()=>{g&&null!=p&&null!=v&&!I.current&&(I.current=!0,o.default.track(h.rMx.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,{role_subscription_group_listing_id:p,role_subscription_listing_ids:v,is_premium_member:x,location_stack:_,location:m,...(0,r.hH)(n)}))},[n,p,g,m,v,x,_])}},826763:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(481060),r=n(434404),a=n(962086),s=n(303737),o=n(981631),c=n(388032),d=n(166368),u=n(497224);function h(e){let{guildId:t}=e;return(0,i.jsx)("div",{className:d.upsellPage,children:(0,i.jsxs)("div",{className:d.upsellContainer,children:[(0,i.jsx)("img",{src:u,alt:""}),(0,i.jsxs)("div",{className:d.upsellContent,children:[(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",children:c.intl.string(c.t["8gJGPj"])}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",className:d.bodyText,children:c.intl.string(c.t.GpOWIi)}),(0,i.jsx)(l.Button,{size:l.Button.Sizes.MEDIUM,onClick:()=>{(0,a.mL)(t),r.Z.open(t,o.pNK.ROLE_SUBSCRIPTIONS,void 0,o.KsC.ROLE_SUBSCRIPTION_TIERS),(0,s.GN)(t)},className:d.__invalid_button,children:c.intl.string(c.t["I/XhUl"])})]})]})})}},470134:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(923726),c=n(388032),d=n(546973);function u(e){let{text:t,hasScrolled:n}=e;return(0,i.jsxs)("div",{className:a()(d.container,{[d.containerHide]:n}),children:[(0,i.jsx)("div",{className:d.notice,children:(0,i.jsx)(s.Text,{className:d.__invalid_label,variant:"text-md/medium",color:"header-primary",children:t})}),(0,i.jsx)("div",{className:d.noticeArrow})]})}function h(e){let[t,n]=l.useState(),[r,a]=l.useState(),[s,d]=l.useState(!1),[h,p]=l.useState(!1),{enabled:m}=(0,o.s1)(e);return l.useEffect(()=>{m&&null!=t&&null!=r?d(t<r):d(!1)},[m,t,r]),{horizontalScrollNotice:l.useMemo(()=>s?(0,i.jsx)(u,{text:c.intl.string(c.t.RfAAHx),hasScrolled:h}):null,[s,h]),handleScroll:()=>p(!0),handleSetScrollerRef:e=>{var t;return a(null==e?void 0:null===(t=e.getScrollerState())||void 0===t?void 0:t.scrollWidth)},handleSetContainerRef:e=>n(null==e?void 0:e.clientWidth)}}},36246:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(873546),s=n(481060),o=n(470134),c=n(254583);function d(e){let{guildId:t,children:n,className:l}=e,{horizontalScrollNotice:d,handleScroll:u,handleSetScrollerRef:h,handleSetContainerRef:p}=(0,o.Z)(t),m=(0,i.jsx)("div",{className:c.tierPreviewsContainer,children:(0,i.jsx)("div",{className:r()(c.tierPreviews,l),children:n})});return!a.tq&&(m=(0,i.jsxs)(i.Fragment,{children:[d,(0,i.jsx)(s.AdvancedScroller,{className:c.scroller,orientation:"horizontal",ref:h,onScroll:u,children:m})]})),(0,i.jsx)("div",{className:c.carouselMaxWidth,ref:p,children:m})}},180216:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(592125),o=n(430824),c=n(584825),d=n(406074),u=n(660196),h=n(36246),p=n(305342),m=n(981631),f=n(388032),g=n(625298);function C(e){let{guildId:t,channelId:n}=e,C=(0,d.C)({guildId:t,channelId:n}),x=(0,c.GG)(t),v=(0,c.YB)(t),_=(0,r.e7)([o.Z],()=>o.Z.getGuild(t),[t]),I=null==_?void 0:_.name,E=(0,r.e7)([s.Z],()=>s.Z.getChannel(n)),b=l.useMemo(()=>{let e={};for(let t of x)for(let n of t.subscription_listings_ids)e[n]=t.id;return e},[x]);return((0,u.Z)({guildId:t,location:m.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:C.map(e=>e.id)}),null==_)?(0,i.jsx)("div",{className:g.__invalid_spinnerContainer,children:(0,i.jsx)(a.Spinner,{className:g.__invalid_spinner})}):(0,i.jsxs)(a.ScrollerAuto,{className:g.pageContainer,children:[(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:g.joinCtaTitle,children:f.intl.format(f.t.xHMpys,{serverName:I,channelName:null==E?void 0:E.name})}),(0,i.jsx)(a.Text,{className:g.joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary",children:null==v?void 0:v.description}),(0,i.jsx)(h.Z,{guildId:t,children:C.filter(e=>null!=b[e.id]).map(e=>(0,i.jsx)(p.Z,{guildId:t,listingId:e.id,groupListingId:b[e.id],analyticsLocation:m.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id))})]})}},389303:function(e,t,n){n.d(t,{Z:function(){return c}}),n(47120);var i=n(314897),l=n(496675),r=n(938475),a=n(700785),s=n(924301),o=n(85243);function c(e){if(!e.isGuildVoice()||s.ZP.getGuildScheduledEventsByIndex(s.bN.CHANNEL_EVENT_ACTIVE(e.id)).length<1||!l.Z.can(o.AN,e))return!1;let t=new Set(r.ZP.getVoiceStatesForChannel(e).map(e=>e.user.id)),n=i.default.getId();for(let i of t)if(i!==n&&a.BT({permission:o.AN,user:i,context:e}))return!1;return!0}},95764:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(40851),s=n(357156),o=n(390322),c=n(88479),d=n(592125),u=n(15274),h=n(482241),p=n(389303),m=n(554747),f=n(388032);function g(e){let{channelId:t,onClick:n}=e,g=(0,a.bp)(),C=(0,m.qY)(t),x=(0,l.e7)([d.Z],()=>d.Z.getChannel(t),[t]),{canManageGuildEvent:v}=(0,s.XJ)(x),_=v(C);if(null==C)return null;let I=()=>{if(null!=x&&(0,p.Z)(x)){(0,u.lC)(x,g);return}n()},E=()=>{h.Z.endEvent(C.id,C.guild_id)};return _?(0,i.jsx)(r.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(o.Z,{children:(0,i.jsx)(r.Menu,{navId:"exit-options",onSelect:()=>{},"aria-label":f.intl.string(f.t["K6/mk5"]),onClose:t,children:(0,i.jsx)(r.MenuItem,{id:"end-voice-event",color:"danger",action:E,label:f.intl.string(f.t.qaYzPD),icon:r.CircleXIcon})})})},align:"center",position:"top",animation:r.Popout.Animation.FADE,children:e=>{let{onClick:t}=e;return(0,i.jsx)(c.Z,{label:f.intl.string(f.t["6vrfgo"]),onClick:I,onPopoutClick:t})}}):(0,i.jsx)(c.Z,{label:f.intl.string(f.t["6vrfgo"]),onClick:n})}},334877:function(e,t,n){n.d(t,{l:function(){return r}});var i=n(15729),l=n(731965);let r=(0,i.U)(e=>({canCloseModal:!0,onUpdateCanCloseModal(t){(0,l.j)(()=>e({canCloseModal:t}))}}))},897669:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(481060),r=n(665149),a=n(894017),s=n(79874),o=n(854698),c=n(390966),d=n(388032),u=n(599331);function h(e){let{guildEvent:t,recurrenceId:n}=e,h=(0,s.ZP)(t,n),p=(0,a.Z)(n,t.id);if(null==t)return null;let m=(null==t?void 0:t.scheduled_start_time)!=null?(0,o.lh)(p,h.startTime,new Date(null==t?void 0:t.scheduled_start_time)):null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP.Divider,{className:u.divider}),(0,i.jsx)(c.z,{startTime:h.startTime.toISOString(),status:null!=m?m:t.status,liveText:d.intl.string(d.t.kM6e4O),className:u.eventSchedule,textVariant:"text-lg/semibold",eventType:t.entity_type,guildEventId:null==t?void 0:t.id,recurrenceId:n}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-md/normal",className:u.eventName,children:t.name})]})}},688641:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(388032),o=n(819588);function c(e){let{className:t,iconContainerClassName:n,icon:l,color:c,title:d,description:u,userCount:h,onClick:p,highlight:m}=e;return(0,i.jsxs)(a.Clickable,{className:r()(o.container,t,null!=m&&{[o.pulse]:m}),onClick:p,children:[(0,i.jsx)("div",{style:{backgroundColor:c},className:r()(o.icon,n),children:l}),(0,i.jsxs)("div",{className:o.textContainer,children:[(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",children:d}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.inline,children:u}),null!=h&&h>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.dot,children:"•"}),(0,i.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:o.inline,children:s.intl.format(s.t.NywdIi,{count:h})})]}):null]}),(0,i.jsx)(a.ChevronSmallRightIcon,{size:"xs",color:"currentColor",className:o.caret})]})}},596449:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(692547),r=n(481060),a=n(576749),s=n(688641),o=n(388032);function c(e){let{className:t,guildId:c}=e,d=(0,a.Z)();return(0,i.jsx)(s.Z,{className:t,icon:(0,i.jsx)(r.CalendarIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:l.Z.unsafe_rawColors.BRAND_500.css,title:o.intl.string(o.t["60lJ0N"]),description:o.intl.string(o.t["EYn7//"]),onClick:function(){(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22347"),n.e("58023"),n.e("5995")]).then(n.bind(n,779250));return t=>(0,i.jsx)(e,{...t,guildId:c})},d)}})}},459502:function(e,t,n){n.d(t,{Z:function(){return g}}),n(724458);var i=n(200651);n(192379);var l=n(442837),r=n(692547),a=n(481060),s=n(357156),o=n(592125),c=n(15274),d=n(924301),u=n(554747),h=n(854698),p=n(688641),m=n(388032),f=n(622246);function g(e){let{channelId:t}=e,g=(0,l.e7)([o.Z],()=>o.Z.getChannel(t),[t]),C=(0,u.sz)(t),x=null!=(0,u.qY)(t),{canManageGuildEvent:v}=(0,s.XJ)(g),_=(0,l.cj)([d.ZP],()=>C.reduce((e,t)=>(e[t.id]=d.ZP.getUserCount(t.id,(0,h.DK)(t)),e),{}));return C.length<1||x?null:(0,i.jsx)(i.Fragment,{children:C.map(e=>(0,i.jsx)(p.Z,{icon:(0,i.jsx)(a.CalendarIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:r.Z.unsafe_rawColors.GREEN_360.css,title:m.intl.formatToPlainString(v(e)?m.t["1vGXqK"]:m.t.xMJylZ,{eventName:e.name}),description:m.intl.formatToPlainString(m.t.PTebCQ,{startTime:(0,h.ub)(e.scheduled_start_time).startDateTimeString}),onClick:()=>{var t;v(t=e)?(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22347"),n.e("84722"),n.e("21775")]).then(n.bind(n,296864));return n=>(0,i.jsx)(e,{...n,event:t})}):(0,c.bO)({eventId:t.id,parentGuildId:t.guild_id})},userCount:_[e.id],className:f.eventPrompt},e.id))})}},856691:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(692547),r=n(481060),a=n(40851),s=n(881824),o=n(688641),c=n(388032);function d(e){let{className:t,channel:n,highlight:d}=e,u=(0,a.bp)();return(0,i.jsx)(o.Z,{highlight:null!=d&&d,className:t,icon:(0,i.jsx)(r.StageIcon,{size:"custom",color:"currentColor",height:20,width:20}),color:l.Z.unsafe_rawColors.GREEN_360.css,title:c.intl.string(c.t.OYbHfn),description:c.intl.string(c.t.yXwLMT),onClick:function(){(0,s.T)(n,u)}})}},576749:function(e,t,n){var i=n(481060),l=n(40851),r=n(334877),a=n(981631);let s="guild-event-modal";t.Z=()=>{let e=(0,l.bp)()===a.IlC.POPOUT?i.POPOUT_MODAL_CONTEXT:i.DEFAULT_MODAL_CONTEXT;return{modalKey:s,contextKey:e,onCloseRequest:()=>{r.l.getState().canCloseModal&&(0,i.closeModal)(s,e)}}}},262317:function(e,t,n){n.d(t,{XX:function(){return D},ul:function(){return w}}),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(149765),c=n(846519),d=n(481060),u=n(475179),h=n(239091),p=n(287734),m=n(872810),f=n(888651),g=n(100527),C=n(258609),x=n(257115),v=n(569545),_=n(102172),I=n(525925),E=n(701362),b=n(224184),Z=n(184301),N=n(347475),S=n(597998),T=n(314897),j=n(430824),A=n(496675),y=n(979651),P=n(981631),M=n(927923),R=n(70722),L=n(388032),k=n(946688);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){let{numUsers:t}=e;return(0,l.jsx)("div",{className:k.moreContainer,children:(0,l.jsxs)(d.Text,{color:"text-muted",variant:"text-sm/medium",children:["+",t]})})}function w(e){let{numAudience:t,collapsed:n}=e,i=n?t:L.intl.formatToPlainString(L.t["+v2pNz"],{count:t});return(0,l.jsxs)("div",{className:s()(k.audienceContainer,{[k.audienceContainerCollapsed]:n}),children:[(0,l.jsx)("div",{className:k.audienceIconContainer,children:(0,l.jsx)(d.HeadphonesIcon,{size:"md",color:"currentColor",className:k.audienceIcon})}),(0,l.jsx)(d.Text,{color:"text-muted",variant:"text-sm/medium",children:i})]})}class B extends(i=r.PureComponent){get canWatchStream(){let{channel:e,isStreaming:t}=this.props;return t&&(0,_.p9)(e,y.Z,j.Z,A.Z,C.Z)[0]}render(){let{userPopoutOpen:e}=this.state,{connectUserDragSource:t,canDrag:n,isSelfOnOtherClient:i,user:r,channel:a}=this.props,s=(0,l.jsx)("div",{className:k.draggable,"data-dnd-name":a.name,onMouseEnter:i?void 0:this.handleMouseEnter,onMouseLeave:i?void 0:this.handleHidePreview,children:(0,l.jsx)(d.Popout,{preload:()=>(0,Z.Z)(r.id,r.getAvatarURL(a.guild_id,80),{guildId:a.guild_id,channelId:a.id}),position:"right",renderPopout:this.renderUserPopout,shouldShow:e,onRequestClose:this.handleCloseUserPopout,children:e=>this.renderUser(e)})});return n?t(s):s}constructor(...e){super(...e),O(this,"domElementRef",r.createRef()),O(this,"state",{userPopoutOpen:!1,isHoveringHangStatus:!1}),O(this,"setIsHoveringHangStatusDelayed",new c.sW(500,()=>{this.setState({isHoveringHangStatus:!0})})),O(this,"handleClickUser",()=>{this.setState({userPopoutOpen:!this.state.userPopoutOpen})}),O(this,"handleCloseUserPopout",()=>{this.setState({userPopoutOpen:!1})}),O(this,"handleHidePreview",()=>{let{hidePreview:e,isStreaming:t,user:n,showHangStatus:i}=this.props;(t||i)&&(null==e||e(n.id)),this.setState({isHoveringHangStatus:!1})}),O(this,"handleMouseEnter",()=>{let{user:e,showPreview:t,isStreaming:n,showHangStatus:i}=this.props;(n||i)&&!this.state.userPopoutOpen&&(null==t||t(e.id))}),O(this,"handleHoverHangStatus",e=>{let{previewIsOpen:t}=this.props;e&&t?this.setIsHoveringHangStatusDelayed.delay():!e&&this.setIsHoveringHangStatusDelayed.isDelayed()&&this.setIsHoveringHangStatusDelayed.cancel()}),O(this,"handleHoverIcons",e=>{e&&(this.setIsHoveringHangStatusDelayed.cancel(),this.setState({isHoveringHangStatus:!1}))}),O(this,"handleWatchStream",()=>{let{user:e,channel:t,isWatching:n,hidePreview:i}=this.props;if(!this.canWatchStream)return;let l={streamType:R.lo.GUILD,ownerId:e.id,channelId:t.id,guildId:t.guild_id};T.default.getId()!==e.id&&p.default.selectVoiceChannel(t.id),n?((0,I.Z)(l),u.Z.selectParticipant(l.channelId,(0,v.V9)(l))):(0,m.iV)(l),null==i||i(e.id)}),O(this,"handleJoinVoice",()=>{let{user:e,channel:t,hidePreview:n}=this.props;A.Z.can(o.$e(P.Plq.CONNECT,P.Plq.VIEW_CHANNEL),t)&&(p.default.selectVoiceChannel(t.id),null==n||n(e.id))}),O(this,"handleUserContextMenu",e=>{let{channel:t,user:i}=this.props;(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return n=>(0,l.jsx)(e,{...n,user:i,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:t.isGuildStageVoice()})})}),O(this,"renderUserPopout",e=>{let{channel:t,user:n}=this.props,i=t.getGuildId();return(0,l.jsx)(N.Z,{userId:n.id,guildId:null!=i?i:void 0,channelId:t.id,newAnalyticsLocations:[g.Z.VOICE_USER],...e})}),O(this,"renderStreamPopout",()=>{let{user:e,channel:t,previewIsOpen:n,location:i}=this.props;return(0,l.jsx)(E.Z,{user:e,channel:t,onWatch:this.handleWatchStream,previewIsOpen:n,location:i})}),O(this,"renderHangStatusPopout",()=>{let{hangStatusActivity:e,previewIsOpen:t,user:n,channel:i}=this.props;return(0,l.jsx)(b.Z,{userId:n.id,channel:i,hangStatusActivity:e,previewIsOpen:t})}),O(this,"renderUser",e=>{let{isSelfOnOtherClient:t,otherClientSessionType:n,voicePlatform:i,shouldShowPreview:r,mute:a,localMute:o,localVideoDisabled:c,speaking:u,disconnected:h,user:p,deaf:m,priority:f,collapsed:g,isStreaming:C,isGuest:v,nick:_,video:I,serverMute:E,serverDeaf:b,tabIndex:Z,embeddedApplication:N,channel:T,hangStatusActivity:j,showHangStatus:A,isSelf:y,application:P}=this.props,{userPopoutOpen:R,isHoveringHangStatus:O}=this.state,D=M.al.has(null!=n?n:""),w={user:p,speaking:u,disconnected:h,mute:a,localMute:o,localVideoDisabled:c,isStreaming:C,isGuest:v,video:I,priority:f,deaf:m,nick:_,collapsed:g,overlap:g,serverMute:E,serverDeaf:b,tabIndex:Z,otherClientSessionType:n,voicePlatform:i,embeddedApplication:N,avatarContainerClass:s()({[k.userAvatar]:!0}),disabled:t&&!D,selected:R,onClick:D?void 0:this.handleClickUser,onDoubleClick:this.handleWatchStream,onContextMenu:this.handleUserContextMenu,guildId:T.guild_id,hangStatusActivity:j,showHangStatus:A,isSelf:y,application:P,channelId:T.id};if(t){var B;return(0,l.jsx)(d.Tooltip,{text:null!==(B=(0,x.Z)(n))&&void 0!==B?B:L.intl.string(L.t.IyYqqa),children:e=>{let{onClick:t,onContextMenu:n,...i}=e;return(0,l.jsx)(S.ZP,{...w,...i})}})}return(0,l.jsx)(d.Popout,{position:"right",renderPopout:A&&O||!C?this.renderHangStatusPopout:this.renderStreamPopout,shouldShow:r&&!R,onRequestClose:this.handleHidePreview,spacing:0,children:()=>(0,l.jsx)(S.ZP,{...w,onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,handleHoverHangStatus:this.handleHoverHangStatus,handleHoverIcons:this.handleHoverIcons})})})}}O(B,"defaultProps",{isSelfOnOtherClient:!1}),t.ZP=(0,f.$)(B)},207055:function(e,t,n){n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(846519),c=n(586902),d=n(317381),u=n(812206),h=n(835473),p=n(362721),m=n(574176),f=n(106301),g=n(512384),C=n(470956),x=n(597998),v=n(199902),_=n(314897),I=n(271383),E=n(131951),b=n(496675),Z=n(158776),N=n(885110),S=n(797258),T=n(606304),j=n(979651),A=n(51144),y=n(649739),P=n(262317),M=n(981631),R=n(524484),L=n(377109);let k=l.memo(e=>{var t;let{mute:n,deaf:l,user:r,channel:a,sessionId:o,nick:x}=e,b=r.id,L=(0,s.e7)([_.default],()=>_.default.getId()===b,[b]),[k,O,D]=(0,s.Wu)([E.Z],()=>L?[!E.Z.isSupported()||E.Z.isSelfMute()||E.Z.isSelfMutedTemporarily(),E.Z.isSelfDeaf(),!1]:[!E.Z.isSupported()||E.Z.isLocalMute(b),!1,E.Z.isLocalVideoDisabled(b)],[L,b]),w=(0,s.e7)([T.Z],()=>T.Z.isPrioritySpeaker(b)),B=(0,c.Z)({userId:b,checkSoundSharing:!0}),U=(0,s.e7)([I.ZP],()=>I.ZP.isGuestOrLurker(a.guild_id,b)),H=(0,s.e7)([d.ZP],()=>d.ZP.getEmbeddedActivitiesForChannel(a.id).find(e=>{let{userIds:t}=e;return t.has(b)}),[b,a.id]),G=(0,h.Z)(null!=H?[H.applicationId]:[]),F=(0,y.Hr)("voice_users_eligibility_check",!1),V=(0,s.e7)([Z.Z,N.Z],()=>L?N.Z.getActivities():Z.Z.getActivities(b,a.guild_id)).find(e=>null!=e.application_id&&e.type===M.IIU.PLAYING),z=(0,s.e7)([u.Z],()=>(null==V?void 0:V.application_id)!=null?u.Z.getApplication(null==V?void 0:V.application_id):void 0);null!=z&&y.ZP.trackExposure({location:"voice_users"});let[W,K]=(0,s.Wu)([v.Z],()=>[v.Z.getStreamForUser(b,a.getGuildId()),v.Z.getActiveStreamForUser(b,a.getGuildId())],[a,b]),Y=(0,s.e7)([S.Z],()=>S.Z.getSessionById(o)),q=A.ZP.useName(r),X=(0,s.e7)([j.Z],()=>j.Z.getVoicePlatformForChannel(a.id,b),[a.id,b]),{enableHangStatus:J}=m.n.useExperiment({guildId:a.guild_id,location:"VoiceUsers"}),Q=(0,p.ZP)(a,!0,r),$=(0,s.e7)([f.Z],()=>L?f.Z.getHangStatusActivity():null,[L]),ee=(0,s.e7)([Z.Z],()=>Z.Z.findActivity(b,e=>e.type===M.IIU.HANG_STATUS),[b]),et=(0,C.Eu)(a.id,b);return(0,i.jsx)(g.Z,{shakeLocation:R.oZ.VOICE_USER,isShaking:B,children:(0,i.jsx)(P.ZP,{...e,nick:null!=x?x:q,canDrag:e.canDrag&&!U,otherClientSessionType:null==Y?void 0:null===(t=Y.clientInfo)||void 0===t?void 0:t.os,voicePlatform:X,localMute:k&&!L,localVideoDisabled:D,mute:n||k,deaf:l||O,speaking:B,disconnected:et,priority:w,embeddedApplication:G[0],isStreaming:null!=W&&W.channelId===a.id,isWatching:null!=K&&K.state!==M.jm8.ENDED,isGuest:U,showHangStatus:Q&&J&&(_.default.getId()===r.id||null!=ee),hangStatusActivity:L?$:ee,isSelf:_.default.getId()===r.id,application:J||F?z:void 0})})});k.displayName="ConnectedVoiceUser";let O=[];t.Z=function(e){let{allowPreviews:t=!0,allowDragging:n=!0,channel:r,voiceStates:c,collapsed:d,collapsedMax:u=6,tabIndex:p,location:m,numAudience:f,withGuildIcon:g=!1,className:v,children:I}=e,[E,N]=l.useState(null),[S,T]=l.useState(!1),j=l.useRef(null),A=(0,C.Es)(r.id,null!=c?c:O),y=l.useRef(new o.sW(50,()=>{N(j.current),j.current=null})),R=l.useRef(new o.sW(175,()=>{N(null)})),D=l.useCallback(e=>{t&&(T(!0),R.current.cancel(),j.current=e,y.current.delay())},[t]),w=l.useCallback(e=>{t&&(y.current.cancel(),E===e&&(T(!1),R.current.delay()))},[t,E]),B=(0,s.Wu)([Z.Z],()=>{if(d)return[];let e=new Set;return null==A||A.forEach(t=>{let{user:n}=t;Z.Z.getActivities(n.id,r.guild_id).forEach(t=>{null!=t.application_id&&e.add(t.application_id)})}),Array.from(e)});(0,h.Z)(B);let U=(()=>{if(null==A||0===A.length)return null;let e=(d&&A.length>u+1?A.slice(0,u):A).map(e=>{var t;let{user:l,nick:a,voiceState:s}=e;return(0,i.jsx)(k,{user:l,nick:a,isSelfOnOtherClient:_.default.getId()===l.id&&s.sessionId!==_.default.getSessionId(),mute:s.isVoiceMuted(),deaf:s.isVoiceDeafened(),video:s.selfVideo,serverMute:s.mute,serverDeaf:s.deaf,sessionId:null!==(t=s.sessionId)&&void 0!==t?t:"",channel:r,collapsed:d,canDrag:n&&b.Z.can(M.Plq.MOVE_MEMBERS,r),showPreview:D,hidePreview:w,previewIsOpen:S,shouldShowPreview:E===l.id,tabIndex:p,location:m},l.id)});return null!=f&&f>0?e.push((0,i.jsx)(P.ul,{collapsed:d,numAudience:f})):d&&A.length>u+1&&e.push((0,i.jsx)(P.XX,{numUsers:A.length-u})),e})();return null==U&&null==I?null:(0,i.jsxs)(x.eJ,{className:a()(v,L.list,{[L.collapsed]:d,[L.withGuildIcon]:g}),collapsed:d,children:[U,I]})}},51486:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(399606),a=n(704215),s=n(952265),o=n(481060),c=n(243778),d=n(38618),u=n(914010),h=n(921944);function p(e){return"dismissible_content_".concat(h.R.GUILD_TAKEOVER_MODAL,"-").concat(e)}t.Z=l.memo(function(){return!function(){let e=(0,r.e7)([d.Z],()=>d.Z.isConnected())?[]:[],[t,m]=(0,c.US)(e,h.R.GUILD_TAKEOVER_MODAL),f=(0,s.f9)(),g=l.useRef(null);l.useEffect(()=>{if(null==t){g.current=null;return}if(!f&&g.current!==t)!function(e){let{dismissibleContent:t,markAsDismissed:l}=e,r={onCloseCallback:e=>l(null!=e?e:h.L.UNKNOWN),modalKey:p(t)},s=u.Z.getGuildId();if(t===a.z.SERVER_SHOP_UPSELL)null!=s&&(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("7302").then(n.bind(n,756779));return t=>(0,i.jsx)(e,{...t,guildId:s,markAsDismissed:l})},r)}({dismissibleContent:t,markAsDismissed:m}),g.current=t},[t,f,m]),l.useEffect(()=>()=>{null!=t&&(0,s.Mr)(p(t))},[t])}(),null})},224184:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(399606),o=n(481060),c=n(287734),d=n(654904),u=n(314897),h=n(271383),p=n(496675),m=n(19780),f=n(594174),g=n(626135),C=n(906605),x=n(574176),v=n(833858),_=n(866071),I=n(223135),E=n(625938),b=n(981631),Z=n(388032),N=n(239856);t.Z=e=>{let{hangStatusActivity:t,userId:r,channel:S,previewIsOpen:T}=e,{enableHangStatus:j}=x.n.useExperiment({guildId:S.guild_id,location:"HangStatusPopout"}),A=(0,s.e7)([u.default],()=>u.default.getId()),y=(0,s.e7)([f.default],()=>f.default.getUser(r)),P=(0,s.e7)([m.Z],()=>m.Z.getChannelId()===S.id),M=(0,s.e7)([p.Z],()=>p.Z.can(b.Plq.CONNECT,S)),R=(null==t?void 0:t.emoji)==null||(0,_.K)(t.emoji,S),L=(0,s.e7)([h.ZP],()=>null!=S.guild_id&&null!=y?h.ZP.getMember(S.guild_id,r):null),k=l.useMemo(()=>null!=y?(0,d.SG)(void 0,L,y,{size:40}):void 0,[L,y]);return(l.useEffect(()=>{(0,C.UP)()},[]),l.useEffect(()=>{j&&null!=t&&T&&null!=y&&A!==r&&g.default.track(b.rMx.VIEW_HANG_STATUS,{source:"HangStatusPopout",guild_id:S.guild_id,channel_id:S.id})},[j,t,T,y,A,r,S]),j&&null!=y)?A===r?(0,i.jsx)("div",{className:a()(N.popoutWrapper,{[N.mounted]:T}),children:(0,i.jsx)(E.y,{currentStatus:t,channel:S})}):null==t?null:(0,i.jsx)("div",{className:a()(N.popoutWrapper,{[N.mounted]:T}),children:(0,i.jsxs)("div",{className:N.popout,children:[(0,i.jsxs)("div",{className:N.contentContainer,children:[(0,i.jsxs)("div",{className:N.statusGroup,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"text-muted",children:Z.intl.string(Z.t["74vS//"])}),(0,i.jsx)(o.Text,{variant:"text-sm/semibold",color:"text-normal",className:N.statusText,children:(0,v.O8)(t)})]}),(0,i.jsxs)("div",{className:N.iconGroup,children:[(0,i.jsx)(I.Z,{className:N.statusIcon,hangStatusActivity:t}),(0,i.jsxs)("div",{className:N.avatarWrapper,children:[(0,i.jsx)(o.Avatar,{className:N.avatar,size:o.AvatarSizes.SIZE_40,src:k,"aria-hidden":!0}),(0,i.jsx)("div",{className:N.outline})]})]})]}),!P&&M?(0,i.jsx)(o.Button,{className:N.cta,size:o.Button.Sizes.SMALL,onClick:()=>{!P&&M&&(c.default.selectVoiceChannel(S.id),g.default.track(b.rMx.HANG_STATUS_CTA_CLICKED,{source:"HangStatusPopout",guild_id:S.guild_id,channel_id:S.id}))},children:Z.intl.string(Z.t["B/dHXF"])}):null,P&&R?(0,i.jsx)(o.Button,{className:N.cta,size:o.Button.Sizes.SMALL,onClick:()=>{let e=t.state;e===b.tNA.CUSTOM?(0,o.openModalLazy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return n=>(0,i.jsx)(e,{...n,startingText:t.details,startingEmoji:t.emoji})}):(0,C.Zx)(e,!0),g.default.track(b.rMx.SWIPE_HANG_STATUS,{guild_id:S.guild_id,channel_id:S.id,media_session_id:m.Z.getMediaSessionId()})},children:Z.intl.string(Z.t.xcVcFR)}):null]})}):null}},625938:function(e,t,n){n.d(t,{y:function(){return S}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(442837),d=n(704215),u=n(481060),h=n(788307),p=n(605236),m=n(594174),f=n(768581),g=n(906605),C=n(106301),x=n(833858),v=n(866071),_=n(223135),I=n(981631),E=n(231338),b=n(388032),Z=n(304066);let N=e=>{let{style:t,className:n,name:l,icon:r}=e;return(0,i.jsx)(u.Tooltip,{text:l,children:e=>(0,i.jsx)("div",{className:a()(n,Z.iconWidget),style:t,...e,children:null!=r&&r})})},S=e=>{let{currentStatus:t,channel:r}=e,s=l.useRef(C.Z.getRecentCustomStatuses()),S=l.useRef((0,p.un)(d.z.HANG_STATUS_NEW_BADGE)).current,T=(0,x.V)(),[j,A]=l.useState(null!=t?t:null),y=(0,c.e7)([m.default],()=>m.default.getCurrentUser()),P=()=>{!S&&(0,p.EW)(d.z.HANG_STATUS_NEW_BADGE)},M=(e,t)=>{e.stopPropagation(),(0,g.Zx)(t,!0),P()},R=(e,t)=>{e.stopPropagation(),(0,g._s)(t.status,t.emoji,!0),P()},L=l.useCallback(e=>{e.stopPropagation(),(0,g.Sc)(!0)},[]),k=e=>{e.stopPropagation(),(0,u.openModalLazy)(async()=>{let{default:e}=await n.e("1631").then(n.bind(n,333541));return t=>(0,i.jsx)(e,{...t})}),P()},O=l.useCallback(e=>{A({type:I.IIU.HANG_STATUS,name:"Hang Status",state:e})},[]),D=l.useCallback(e=>{A({type:I.IIU.HANG_STATUS,name:"Hang Status",state:E.tN.CUSTOM,details:e.status,emoji:e.emoji})},[]);return(0,i.jsxs)("div",{className:Z.popout,children:[!S&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:Z.popoutBackground}),(0,i.jsxs)("div",{className:Z.onboarding,children:[(0,i.jsxs)("div",{className:Z.title,children:[(0,i.jsx)(u.Text,{variant:"text-md/semibold",color:"header-primary",children:b.intl.string(b.t["8ka8lp"])}),(0,i.jsx)(u.TextBadge,{text:b.intl.string(b.t.oW0eUV),disableColor:!0,className:Z.newBadge})]}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"text-muted",className:Z.helpText,children:b.intl.string(b.t.GFo2Gh)}),(0,i.jsxs)("div",{className:Z.iconGroup,children:[null!=y&&(0,i.jsxs)("div",{className:Z.avatarWrapper,children:[(0,i.jsx)(u.Avatar,{className:Z.avatar,size:u.AvatarSizes.SIZE_40,src:(0,f.ov)(y),"aria-hidden":!0}),(0,i.jsx)("div",{className:Z.outline})]}),(0,i.jsx)(_.Z,{className:Z.statusIcon,hangStatusActivity:j})]})]})]}),(0,i.jsxs)("div",{className:Z.options,children:[(0,i.jsxs)("div",{className:Z.iconsContainer,children:[Object.entries(T).map(e=>{let[n,l]=e;return(0,i.jsx)(u.Clickable,{"aria-label":l.title,onMouseEnter:()=>O(n),onClick:e=>M(e,n),children:(0,i.jsx)(N,{className:a()(Z.iconWidget,{[Z.selectedWidget]:n===(null==t?void 0:t.state)}),name:l.title,icon:(0,i.jsx)("img",{src:l.icon,alt:"",className:Z.icon}),style:n===(null==t?void 0:t.state)?{backgroundColor:null!=l.color?l.color:void 0}:{}})},n)}),(0,i.jsx)(u.Clickable,{"aria-label":b.intl.string(b.t.S90Fub),onClick:L,onMouseEnter:()=>A(null),children:(0,i.jsx)(N,{className:Z.optionButton,name:b.intl.string(b.t.S90Fub),icon:(0,i.jsx)(u.DenyIcon,{size:"md",color:"currentColor",className:Z.editIcon,colorClass:Z.editIconColor})})})]}),(0,i.jsx)("div",{className:Z.divider}),(0,i.jsxs)("div",{className:Z.iconsContainer,children:[s.current.map((e,n)=>{let l=e.status===(null==t?void 0:t.details)&&o().isEqual(e.emoji,null==t?void 0:t.emoji),s=null!=e.emoji&&!(0,v.K)(e.emoji,r);return(0,i.jsxs)(u.Clickable,{"aria-label":e.status,onMouseEnter:()=>D(e),onClick:s?void 0:t=>R(t,e),className:Z.statusOptionContainer,children:[(0,i.jsx)(N,{className:a()(Z.iconWidget,{[Z.selectedWidget]:l}),name:e.status,icon:null!=e.emoji?(0,i.jsx)(h.Iv,{className:Z.customIcon,emoji:e.emoji,hideTooltip:!0}):null,style:l?{backgroundColor:"#7174B7B3"}:{backgroundColor:"#6466914D"}}),s?(0,i.jsx)("div",{className:Z.emojiLockIconContainer,children:(0,i.jsx)(u.LockIcon,{size:"xs",color:"currentColor",className:Z.emojiLockIcon})}):null]},"custom-status-".concat(n))}),s.current.length>0?(0,i.jsx)(u.Clickable,{"aria-label":null!=t?b.intl.string(b.t.IN2LTk):b.intl.string(b.t.UDg0qK),onClick:k,children:(0,i.jsx)(N,{className:Z.optionButton,name:null!=t?b.intl.string(b.t.IN2LTk):b.intl.string(b.t.UDg0qK),icon:(0,i.jsx)(u.PencilIcon,{size:"custom",color:"currentColor",width:20,height:20,colorClass:Z.editIconColor})})},"custom-status-edit"):(0,i.jsxs)(u.Clickable,{"aria-label":b.intl.string(b.t.UDg0qK),onClick:k,className:Z.setCustomButton,children:[(0,i.jsx)(u.PencilIcon,{size:"xs",color:"currentColor",className:Z.editIcon,colorClass:Z.editIconColor}),(0,i.jsx)(u.Text,{variant:"text-xs/medium",color:"interactive-active",children:b.intl.string(b.t.UDg0qK)})]},"custom-status-edit-full")]})]})]})}},73752:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2021-04_longer_group_dm_invites",label:"Longer Group DM Invites",defaultConfig:{inviteMaxAgeSeconds:86400},treatments:[{id:1,label:"Makes group DM invites expire after 1 week.",config:{inviteMaxAgeSeconds:604800}}]});t.Z=i},946734:function(e,t,n){n.d(t,{Z:function(){return T}}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),c=n(884338),d=n(100527),u=n(906732),h=n(111028),p=n(150039),m=n(171368),f=n(271383),g=n(430824),C=n(594174),x=n(251625),v=n(823379),_=n(665149),I=n(981631),E=n(228168),b=n(388032),Z=n(25161);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{updateData(e){let{userId:t,user:n,channelId:i,analyticsLocations:l}=e;this.userId=t,this.user=n,this.channelId=i,this.analyticsLocations=l}getNicknameGuildPairs(){return this.generateNicknameGuildPairs(this.user)}renderNicknamePairs(){return this.getNicknameGuildPairs().map((e,t)=>{let[n,r]=e,a=(0,i.jsx)(o.Clickable,{tag:"span",onClick:this.handleClick,children:n});return r.length>0&&(a=(0,i.jsx)(o.TooltipContainer,{className:Z.tooltip,text:r.join(", "),position:"bottom",children:a})),(0,i.jsxs)(l.Fragment,{children:[0!==t?", ":null,a]},t)})}constructor({userId:e,user:t,channelId:n,analyticsLocations:l}){N(this,"userId",void 0),N(this,"user",void 0),N(this,"channelId",void 0),N(this,"analyticsLocations",void 0),N(this,"generateNicknameGuildPairs",(0,x.oH)(e=>{var t;return a()(f.ZP.getNicknameGuildsMapping(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:this.userId)).toPairs().map(e=>{let[t,n]=e;return[t,n.map(e=>{var t;return null===(t=g.Z.getGuild(e))||void 0===t?void 0:t.name}).filter(v.lm)]}).value()})),N(this,"renderMoreAvatars",()=>(0,i.jsx)(o.TooltipContainer,{text:b.intl.string(b.t.UTjREx),position:"bottom",children:(0,i.jsx)(o.Clickable,{className:Z.moreAvatars,onClick:this.handleClick,children:(0,i.jsx)(o.CirclePlusIcon,{size:"xs",color:"currentColor",className:Z.plusIcon})})},"more-avatars")),N(this,"handleClick",()=>{(0,m.openUserProfileModal)({userId:this.userId,channelId:this.channelId,sourceAnalyticsLocations:this.analyticsLocations,section:E.oh.MUTUAL_GUILDS,analyticsLocation:{section:I.jXE.CHANNEL_HEADER}})}),this.userId=e,this.user=t,this.channelId=n,this.analyticsLocations=l}}function T(e){let{channel:t}=e,n=t.getRecipientId(),r=(0,p.gc)(n),a=Array(r.length).fill(null),{analyticsLocations:m}=(0,u.ZP)(d.Z.AKA),f=function(e){let{userId:t,channelId:n,analyticsLocations:i}=e,r=(0,s.e7)([C.default],()=>C.default.getUser(t),[t]),[a]=l.useState(()=>new S({user:r,userId:t,channelId:n,analyticsLocations:i}));return a.updateData({userId:t,user:r,channelId:n,analyticsLocations:i}),a}({userId:n,analyticsLocations:m,channelId:t.id});return 0===f.getNicknameGuildPairs().length&&0===r.length?(0,i.jsx)("div",{className:Z.spacer}):(0,i.jsxs)(u.Gt,{value:m,children:[(0,i.jsx)(_.iz,{className:Z.divider}),(0,i.jsx)(o.TextBadge,{text:b.intl.string(b.t.l1QVfn),disableColor:!0,className:Z.akaBadge}),r.length>0?(0,i.jsx)(c.Z,{size:16,users:a,showUserPopout:!1,renderUser:(e,t,n)=>{var l;let a=f.user,s=r[n];return null==s||null==a?null:(0,i.jsx)(o.TooltipContainer,{text:null===(l=g.Z.getGuild(s))||void 0===l?void 0:l.name,position:"bottom",children:(0,i.jsx)("img",{alt:"",className:Z.avatar,onClick:f.handleClick,src:a.getAvatarURL(s,16),"aria-hidden":!0})},s[1])},renderMoreUsers:f.renderMoreAvatars,guildId:void 0,max:3,className:Z.avatars}):null,f.getNicknameGuildPairs().length>0?(0,i.jsx)(h.Z,{position:"bottom",className:Z.nicknames,children:f.renderNicknamePairs()}):null]})}},168843:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(816782),s=n(367907),o=n(433355),c=n(914010),d=n(665149),u=n(981631),h=n(388032);function p(e){let{channelId:t}=e,n=(0,l.e7)([o.ZP],()=>o.ZP.getSection(t)),p=(0,l.e7)([c.Z],()=>c.Z.getGuildId()),m=n===u.ULH.MEMBERS;return(0,i.jsx)(d.JO,{tooltip:m?h.intl.string(h.t.Axvx8f):h.intl.string(h.t.gxChDw),icon:r.GroupIcon,onClick:()=>{s.ZP.trackWithMetadata(u.rMx.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:p,member_list_open:!m}),a.Z.toggleMembersSection()},selected:m})}},99843:function(e,t,n){var i=n(200651);n(192379);var l=n(481060),r=n(493683),a=n(599059),s=n(933557),o=n(210975),c=n(981631),d=n(388032),u=n(189145);t.Z=e=>{let{channel:t}=e,n=(0,s.ZP)(t),h=(0,o.m$)({channelId:t.id,location:"ChannelName"});return(0,i.jsxs)("div",{className:u.container,onDoubleClick:e=>e.stopPropagation(),children:[(0,i.jsx)(a.Z,{minLen:1,maxLen:c.HN8,className:u.channelName,name:"channel_name",autoComplete:"off",value:null!=n?n:"",onBlur:e=>{n!==e.currentTarget.value&&r.Z.setName(t.id,e.currentTarget.value)}}),h&&(0,i.jsx)(l.Tooltip,{text:d.intl.string(d.t.QyZ4TU),children:e=>(0,i.jsx)(l.ShieldLockIcon,{...e,size:"xs","aria-label":d.intl.string(d.t.VHXh8f),color:l.tokens.colors.INTERACTIVE_NORMAL})})]})}},442336:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(87051),o=n(9156),c=n(585483),d=n(621600),u=n(665149),h=n(110255),p=n(981631),m=n(388032),f=n(107711);function g(e){let{channel:t}=e,n=(0,a.useRedesignIconContext)().enabled,[g,C]=(0,r.Wu)([o.ZP],()=>[o.ZP.isChannelMuted(t.getGuildId(),t.id),o.ZP.resolvedMessageNotifications(t)],[t]),[x,v]=l.useState(!1);l.useEffect(()=>{let e=()=>v(!0);return c.S.subscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{c.S.unsubscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let _=e=>{e.shiftKey?s.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!g},d.UE.muted(!g)):v(e=>!e)},I=m.intl.string(m.t.h850Sk);return(0,i.jsx)(a.Popout,{shouldShow:x,animation:a.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>v(!1),renderPopout:e=>(0,i.jsx)(h.Z,{...e,channel:t,navId:"channel-context",label:m.intl.string(m.t.Xm41aW)}),children:(e,t)=>{let{isShown:l}=t;return(0,i.jsx)(u.ZP.Icon,{...e,onClick:_,tooltip:l?null:I,icon:g||C!==p.bL.ALL_MESSAGES?a.BellSlashIcon:a.BellIcon,foreground:g&&!n?f.strikethrough:null,"aria-label":I,selected:l})}})}},57304:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(23536),o=n(40851),c=n(540059),d=n(731290),u=n(306680),h=n(594174),p=n(585483),m=n(665149),f=n(981631),g=n(388032);t.Z=function(e){let{channel:t}=e,n=(0,c.Q3)("ChannelPinsButton"),C=(0,r.e7)([d.Z,h.default],()=>{let e=h.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!d.Z.didAgree(t.getGuildId()))},[t]),[x,v]=l.useState(!1),_=(0,r.e7)([u.ZP],()=>u.ZP.hasUnreadPins(t.id),[t]),I=(0,o.Aq)(),E=l.useCallback(()=>{!C&&v(e=>!e)},[C]);function b(e){!(null==e?void 0:e.shiftKey)&&I.dispatch(f.CkL.POPOUT_CLOSE)}return l.useEffect(()=>(p.S.subscribe(f.CkL.TOGGLE_CHANNEL_PINS,E),()=>{p.S.unsubscribe(f.CkL.TOGGLE_CHANNEL_PINS,E)}),[E]),(0,i.jsx)(a.Popout,{shouldShow:x,animation:a.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,ignoreModalClicks:!0,onRequestClose:()=>v(!1),renderPopout:function(e){return(0,i.jsx)(s.Z,{...e,onJump:b,channel:t})},children:(e,t)=>{let{isShown:l}=t;return(0,i.jsx)(m.JO,{...e,onClick:E,tooltip:l?null:g.intl.string(g.t["mp1N//"]),icon:a.PinIcon,iconSize:n?20:void 0,"aria-label":g.intl.string(g.t["mp1N//"]),disabled:C,showBadge:_,selected:l})}})}},605953:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(479313),s=n(765104),o=n(626135),c=n(665149),d=n(981631),u=n(814249),h=n(388032);function p(e){let{channel:t}=e,n=(0,l.e7)([s.Z],()=>s.Z.shouldShowTopicsBar());return(0,i.jsx)(c.ZP.Icon,{icon:r.TopicsIcon,onClick:()=>{o.default.track(d.rMx.SUMMARIES_SIDEBAR_TOGGLED,{summaries_sidebar_open:!n,source:u.Dc.TOOLBAR_BUTTON,guild_id:t.guild_id,channel_id:t.id,channel_type:t.type}),(0,a.e7)()},tooltip:n?h.intl.string(h.t.nGs3kJ):h.intl.string(h.t.bIm2sL),selected:n,"aria-expanded":n})}},372564:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(374470),o=n(481060),c=n(239091),d=n(822951),u=n(835473),h=n(933557),p=n(471445),m=n(454585),f=n(63063),g=n(984370),C=n(981631),x=n(388032),v=n(797323);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t;let{channel:n,onClose:l,guild:r,transitionState:a}=e,s=(0,p.KS)(n,r),c=(0,h.ZP)(n,!1),g=(0,u.q)(null===(t=n.linkedLobby)||void 0===t?void 0:t.application_id);return(0,i.jsx)(o.ModalRoot,{transitionState:a,"aria-label":x.intl.string(x.t.X8jMDg),children:(0,i.jsx)(o.ModalContent,{children:(0,i.jsxs)(d.Z,{selectable:!0,onClose:l,renderHeader:()=>(0,i.jsxs)("div",{className:v.header,children:[null!=s&&(0,i.jsx)(s,{size:"md",color:"currentColor",className:v.channelIcon}),(0,i.jsx)(o.Text,{variant:"text-md/semibold",color:"header-primary",children:c})]}),children:[(0,i.jsx)(o.Text,{selectable:!0,variant:"text-md/normal",className:v.content,children:m.Z.parseTopic(n.topic,!0,{channelId:n.id})}),null!=g?(0,i.jsxs)("div",{className:v.linkedLobbyNotice,children:[(0,i.jsx)(o.RefreshIcon,{className:v.linkedLobbyApplicationIcon}),(0,i.jsx)(o.Text,{variant:"text-sm/normal",color:"header-secondary",children:x.intl.format(x.t.Ud5rys,{applicationName:g.name,helpdeskArticle:f.Z.getArticleURL(C.BhN.CHANNEL_LINKED_LOBBIES),separatorHook:(e,t)=>(0,i.jsx)("span",{className:v.linkedLobbyNoticeSeparator,children:e},t)})})]}):null]})})})}function E(e){return e.matches("a")||"highlight"===e.className||e.className.includes("mention")}class b extends l.Component{render(){let{channel:e}=this.props;return e.isMultiUserDM()||null==e.topic||0===e.topic.length?null:(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(g.Z.Divider,{}),(0,i.jsxs)("div",{className:a()(v.topic,v.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu,onClick:this.handleClick,children:[(0,i.jsx)(o.Clickable,{onClick:this.handleClick,"aria-label":x.intl.string(x.t.mKwsSk),className:v.topicClickTarget}),m.Z.parseTopic(e.topic,!0,{channelId:e.id,allowLinks:!0})]})]})}constructor(...e){super(...e),_(this,"_mouseDown",!1),_(this,"_mouseUp",!1),_(this,"handleOpenTopic",e=>{let t=e.target;if((0,s.k)(t)){if(E(t))return;let e=t.parentNode;if((0,s.k)(e)&&E(e))return}(0,o.openModal)(e=>(0,i.jsx)(I,{...e,...this.props}))}),_(this,"onMouseDown",()=>{this._mouseDown=!0}),_(this,"onMouseMove",()=>{this._mouseDown&&(this._mouseDown=!1)}),_(this,"onMouseUp",e=>{this._mouseDown&&e.button!==C.AeJ.SECONDARY&&this.handleOpenTopic(e),this._mouseUp=!0,this._mouseDown=!1}),_(this,"handleContextMenu",e=>{let{channel:t,guild:l}=this.props;(0,c.jW)(e,async()=>{let{default:e}=await n.e("24783").then(n.bind(n,439635));return n=>(0,i.jsx)(e,{...n,channel:t,guild:l,includeTopic:!0})})}),_(this,"handleClick",e=>{if(this._mouseUp){this._mouseUp=!1;return}this.handleOpenTopic(e)})}}t.Z=b},374306:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(961675),s=n(883429),o=n(238349),c=n(109434),d=n(456269),u=n(432771),h=n(920303),p=n(665149),m=n(388032);function f(e){var t,n;let{channel:f}=e,g=(0,d.r_)(f),C=(0,l.e7)([a.Z],()=>a.Z.hasHidden(f.id)),x=(0,u.c)(f.id),{sortOrder:v,tagFilter:_}=(0,c.H)(f.id),I=(0,l.e7)([o.Z,h.Z],()=>!!(o.Z.getThreadIds(f.id,v,_).length>0)||!!(h.Z.getThreads(f.id,v,_).length>0)||!1,[f.id,v,_]),E=f.isMediaChannel();if(!g||x||E&&I)return null;let b=(t=C,n=E,t?n?m.intl.string(m.t["WP/IEx"]):m.intl.string(m.t.zfq9V1):n?m.intl.string(m.t.p60yFx):m.intl.string(m.t.SNOqYG));return(0,i.jsx)(p.JO,{tooltip:b,icon:r.CircleInformationIcon,onClick:()=>s.Z.hideAdminOnboarding(f.id,!C),selected:!C})}},217314:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(210975),s=n(158776),o=n(699516),c=n(594174),d=n(51144),u=n(984370),h=n(388032),p=n(247627);function m(e){let t=e.channel.getRecipientId(),n=e.channel.isSystemDM(),m=(0,l.e7)([c.default],()=>c.default.getUser(t)),f=(0,l.e7)([s.Z],()=>s.Z.getStatus(t)),g=(0,l.e7)([s.Z],()=>s.Z.isMobileOnline(t)),C=(0,l.e7)([o.Z],()=>o.Z.getNickname(t)),x=d.ZP.useUserTag(m),v=(0,a.m$)({channelId:e.channel.id,location:"HeaderBarDirectMessageV2"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.HiddenVisually,{children:h.intl.string(h.t.EJRzg4)}),null!=m&&!n&&(0,i.jsx)("div",{children:(0,i.jsx)(r.Avatar,{status:f,isMobile:g,className:p.avatar,size:r.AvatarSizes.SIZE_24,"aria-label":d.ZP.getName(m),src:m.getAvatarURL(void 0,24)})}),(0,i.jsx)(u.Z.Title,{level:e.level,onClick:e.handleClick,onContextMenu:e.handleContextMenu,className:null!=e.handleClick?p.cursorPointer:null,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.TooltipContainer,{text:x,position:"bottom",children:null!=C?C:d.ZP.getName(m)}),v&&(0,i.jsx)(r.Tooltip,{text:h.intl.string(h.t.QyZ4TU),children:e=>(0,i.jsx)(r.ShieldLockIcon,{...e,size:"xs","aria-label":h.intl.string(h.t.VHXh8f),color:r.tokens.colors.INTERACTIVE_NORMAL,className:p.secureFramesIcon})})]})})]})}},910611:function(e,t,n){n.d(t,{TS:function(){return D},ud:function(){return R},v0:function(){return k}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(704215),c=n(481060),d=n(835473),u=n(385499),h=n(933557),p=n(471445),m=n(243778),f=n(266076),g=n(565138),C=n(703656),x=n(699516),v=n(914010),_=n(594174),I=n(768581),E=n(63063),b=n(946734),Z=n(99843),N=n(372564),S=n(984370),T=n(217314),j=n(981631),A=n(921944),y=n(388032),P=n(247627);function M(e){var t;let{channel:n}=e,l=(0,d.q)(null===(t=n.linkedLobby)||void 0===t?void 0:t.application_id),[r,a]=(0,m.US)([o.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP],void 0,!0);if(null==l)return null;let s=I.ZP.getApplicationIconURL({id:l.id,icon:l.icon,size:14}),[u,h]=r!==o.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP?[y.intl.string(y.t.XJVlf3),void 0]:[(0,i.jsxs)("div",{className:P.linkedLobbyEducationTooltip,children:[(0,i.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:y.intl.string(y.t.YIVr4O)}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",color:"header-secondary",children:y.intl.format(y.t["16agur"],{helpdeskArticle:E.Z.getArticleURL(j.BhN.CHANNEL_LINKED_LOBBIES)})}),(0,i.jsx)(c.Clickable,{className:P.linkedLobbyEducationTooltipCloseClickContainer,onClick:()=>a(A.L.USER_DISMISS),children:(0,i.jsx)(c.XSmallIcon,{className:P.linkedLobbyEducationTooltipCloseIcon,color:"currentColor"})})]},0),y.intl.string(y.t.YIVr4O)];return(0,i.jsx)(c.Tooltip,{tooltipClassName:P.linkedLobbyEducationTooltipWrapper,text:u,"aria-label":h,forceOpen:r===o.z.CHANNEL_LINKED_LOBBY_EDUCATION_TOOLTIP||void 0,children:e=>(0,i.jsxs)(c.Text,{...e,className:P.linkedLobby,variant:"text-sm/medium",color:"header-primary",children:["•",(0,i.jsx)("img",{alt:"",src:s,className:P.linkedLobbyApplicationIcon}),l.name]})},r)}function R(e){let{channel:t,channelName:n,parentChannel:r,guild:s,inSidebar:o=!1,handleClick:d,handleContextMenu:u,handleParentClick:m,handleParentContextMenu:g,renderFollowButton:C}=e,v=(0,p.KS)(t,s),{prefix:I,level:E}=function(e,t){var n,i;switch(e){case j.d4z.DM:return{prefix:y.intl.string(y.t.EJRzg4),level:1};case j.d4z.GROUP_DM:return{prefix:y.intl.string(y.t["e5y+go"]),level:1};case j.d4z.GUILD_DIRECTORY:return{prefix:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",level:1};case j.d4z.GUILD_ANNOUNCEMENT:case j.d4z.GUILD_TEXT:case j.d4z.GUILD_FORUM:case j.d4z.GUILD_MEDIA:case j.d4z.GUILD_STAGE_VOICE:case j.d4z.GUILD_VOICE:return{prefix:null!==(i=null==t?void 0:t.name)&&void 0!==i?i:"",level:1};case j.d4z.ANNOUNCEMENT_THREAD:case j.d4z.PUBLIC_THREAD:case j.d4z.PRIVATE_THREAD:return{prefix:y.intl.string(y.t["7Xm5QE"]),level:2};default:return{prefix:null,level:1}}}(t.type,s),b=(0,i.jsxs)(i.Fragment,{children:[null!=I?(0,i.jsxs)(c.HiddenVisually,{children:[I,":"]}):null," ",n]});switch(t.type){case j.d4z.DM:return(0,i.jsx)(T.Z,{level:E,channel:t,handleClick:d,handleContextMenu:u});case j.d4z.GROUP_DM:if(t.isManaged())return b;return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(c.HiddenVisually,{children:y.intl.string(y.t["e5y+go"])}),(0,i.jsx)("div",{children:(0,i.jsx)(f.Z,{"aria-hidden":!0,channel:t,size:c.AvatarSizes.SIZE_24,facepileSizeOverride:c.AvatarSizes.SIZE_32,experimentLocation:"header_bar",className:P.avatar})}),(0,i.jsx)(Z.Z,{channel:t},"channel-".concat(t.id))]});case j.d4z.GUILD_ANNOUNCEMENT:case j.d4z.GUILD_TEXT:case j.d4z.GUILD_FORUM:case j.d4z.GUILD_MEDIA:return(0,i.jsxs)(l.Fragment,{children:[O(v,t.type===j.d4z.GUILD_ANNOUNCEMENT?y.intl.string(y.t.l1dkSE):y.intl.string(y.t.Pnajj4)),(0,i.jsx)(S.Z.Title,{level:E,onContextMenu:u,onClick:d,children:b}),null!=t.linkedLobby?(0,i.jsx)(M,{channel:t}):null,null!=C?C():null]});case j.d4z.GUILD_VOICE:return(0,i.jsxs)(l.Fragment,{children:[O(v,y.intl.string(y.t.BVZqJi)),(0,i.jsx)(S.Z.Title,{level:E,onContextMenu:u,onClick:d,children:b})]});case j.d4z.GUILD_STAGE_VOICE:return(0,i.jsxs)(l.Fragment,{children:[O(v,y.intl.string(y.t.EErMzM)),(0,i.jsx)(S.Z.Title,{level:E,onContextMenu:u,onClick:d,children:b})]});case j.d4z.ANNOUNCEMENT_THREAD:case j.d4z.PUBLIC_THREAD:case j.d4z.PRIVATE_THREAD:let N=null;if(!o&&null!=r){let e=(0,p.KS)(r,s);N=(0,i.jsxs)(l.Fragment,{children:[O(e,y.intl.string(y.t.Pnajj4)),(0,i.jsx)(S.Z.Title,{level:E,onContextMenu:g,onClick:m,className:a()(P.parentChannelName,P.cursorPointer),children:(0,h.F6)(r,_.default,x.Z)}),(0,i.jsx)(S.Z.Caret,{})]})}let A=(null==r?void 0:r.type)!=null&&j.TPd.GUILD_THREADS_ONLY.has(r.type);return(0,i.jsxs)(l.Fragment,{children:[N,O(A?null:v,y.intl.string(y.t["7Xm5QE"])),(0,i.jsx)(S.Z.Title,{level:E,onContextMenu:u,onClick:d,className:a()({[P.cursorPointer]:o,[P.forumPostTitle]:A}),children:b})]});case j.d4z.GUILD_DIRECTORY:let R=(null==s?void 0:s.hasFeature(j.oNc.HUB))?y.intl.formatToPlainString(y.t.Dy2aho,{guildName:n}):n;return(0,i.jsxs)(l.Fragment,{children:[null!==v?(0,i.jsx)(S.Z.Icon,{iconClassName:P.__invalid_icon,icon:v,"aria-hidden":!0}):null,(0,i.jsxs)(S.Z.Title,{level:E,onContextMenu:u,onClick:d,children:[null!=I?(0,i.jsxs)(c.HiddenVisually,{children:[I,":"]}):null," ",R]})]});default:return null}}let L=e=>{let{channel:t}=e,n=(0,s.e7)([_.default],()=>_.default.getCurrentUser()),l=(0,s.e7)([_.default],()=>_.default.getUser(t.getRecipientId()));return t.isDM()&&(null==n?void 0:n.isStaff())&&(null==l?void 0:l.isStaff())?(0,i.jsx)(u.Z,{type:u.Z.Types.STAFF_ONLY_DM}):null};function k(e,t){switch(e.type){case j.d4z.DM:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{channel:e}),(0,i.jsx)(b.Z,{channel:e},e.id)]});case j.d4z.GUILD_ANNOUNCEMENT:case j.d4z.GUILD_TEXT:case j.d4z.GUILD_VOICE:case j.d4z.GUILD_STAGE_VOICE:case j.d4z.GROUP_DM:return null!=t?(0,i.jsx)(N.Z,{channel:e,guild:t},e.id):null;default:return null}}function O(e,t){return(0,i.jsxs)(i.Fragment,{children:[null!==e&&(0,i.jsx)(S.Z.Icon,{iconClassName:P.__invalid_icon,icon:e,"aria-hidden":!0}),(0,i.jsx)(c.HiddenVisually,{children:t})]})}function D(e){let{guild:t,channel:n,caretPosition:l="left"}=e;return(0,s.e7)([v.Z],()=>v.Z.getGuildId())!==j.I_8||null==t?null:(0,i.jsxs)("div",{className:P.guildBreadcrumbContainer,children:["left"===l&&(0,i.jsx)(S.Z.Caret,{direction:"left"}),(0,i.jsx)(g.Z,{guild:t,size:g.Z.Sizes.SMALLER,className:P.guildBreadcrumbIcon,active:!0}),(0,i.jsx)(S.Z.Title,{onClick:()=>{(0,C.XU)(t.id,n.id)},className:a()(P.parentChannelName,P.cursorPointer),children:t.name}),"right"===l&&(0,i.jsx)(S.Z.Caret,{direction:"right"})]})}},575464:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(91192),s=n(442837),o=n(481060),c=n(129861),d=n(700582),u=n(600164),h=n(158776),p=n(51144),m=n(22078);function f(e){let{user:t,row:n,hideDiscriminator:l,comparator:f,selected:g,checked:C,onClick:x,onMouseEnter:v,"aria-setsize":_,"aria-posinset":I}=e,E=(0,s.e7)([h.Z],()=>h.Z.getStatus(t.id)),b=(0,a.JA)(String(t.id));return(0,i.jsx)(o.Clickable,{id:"user-row-".concat(n),className:m.friendWrapper,onClick:()=>{null!=x&&x(t.id)},onMouseEnter:()=>{null!=v&&v(n)},...b,role:"option","aria-selected":C,"aria-setsize":_,"aria-posinset":I,children:(0,i.jsxs)(u.Z,{align:u.Z.Align.CENTER,className:r()(m.friend,{[m.friendSelected]:g}),children:[(0,i.jsx)(d.Z,{user:t,status:E,className:m.avatar}),(0,i.jsxs)(u.Z,{className:m.match,align:u.Z.Align.BASELINE,children:[(0,i.jsx)(o.Text,{tag:"strong",className:m.nickname,"aria-hidden":!0,variant:"text-md/medium",children:null!=f&&f===t.tag?p.ZP.getName(t):null!=f&&""!==f?f:p.ZP.getName(t)}),(0,i.jsx)(c.Z,{user:t,hideDiscriminator:l,className:m.discordTag,usernameClass:m.__invalid_weightMedium,discriminatorClass:m.__invalid_weightMedium,forceUsername:!0})]}),(0,i.jsx)(o.Checkbox,{displayOnly:!0,size:22,value:C,className:m.checkbox})]})})}},915718:function(e,t,n){n.d(t,{Z:function(){return O}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(481060),o=n(26151),c=n(287734),d=n(40851),u=n(607070),h=n(451576),p=n(358221),m=n(605236),f=n(243778),g=n(590293),C=n(970731),x=n(560688),v=n(173507),_=n(523746),I=n(819640),E=n(131951),b=n(699516),Z=n(594174),N=n(979651),S=n(585483),T=n(63063),j=n(665149),A=n(981631),y=n(921944),P=n(65154),M=n(388032),R=n(93677);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends l.PureComponent{componentDidMount(){S.S.subscribe(A.CkL.CALL_START,this.handleVoiceClick)}componentWillUnmount(){S.S.unsubscribe(A.CkL.CALL_START,this.handleVoiceClick)}renderVideoCallButton(){let e,t;let{inCall:n,callActive:l,callUnavailable:r,isBlocked:a,channel:o,mode:c,isProvisional:d}=this.props;if(n||l&&c===A.WtW.VOICE)return null;let u=o.isManaged(),h=null,p=!1;return d?(p=!0,h=M.intl.string(M.t.MfZlcX),e=s.Tooltip.Colors.RED):E.Z.supports(P.AN.VIDEO)?a?(h=M.intl.string(M.t.PHzjvb),e=s.Tooltip.Colors.RED,p=!0):l&&c===A.WtW.VIDEO?(t=this.handleJoinVideoCall,h=u?M.intl.string(M.t.S0W8Z2):M.intl.string(M.t.W68MhI)):(t=this.handleStartVideoCall,h=u?M.intl.string(M.t.S0W8Z2):M.intl.string(M.t.oCqlGB)):(p=!0,t=this.handleBrowserNotSupported,h=M.intl.string(M.t.UVpg3d)),(0,i.jsx)(j.ZP.Icon,{icon:s.VideoIcon,onClick:t,disabled:p||r,tooltip:h,tooltipColor:e})}renderVoiceCallButton(){let e,t;let{inCall:n,canShowTooltip:l,callActive:r,callUnavailable:o,isBlocked:c,channel:d,canShowActivityGdmTooltip:u,dismissibleContentTypes:h,isProvisional:p}=this.props;if(n)return null;let m=d.isManaged(),g=!1;p?(g=!0,e=M.intl.string(M.t.MfZlcX),t=s.Tooltip.Colors.RED):o?(e=m?M.intl.string(M.t.LW2Gho):M.intl.string(M.t.rF7lNz),t=s.Tooltip.Colors.RED,g=!0):c?(e=M.intl.string(M.t.PHzjvb),t=s.Tooltip.Colors.RED,g=!0):e=r?m?M.intl.string(M.t.S0W8Z2):M.intl.string(M.t.fdEeb2):m?M.intl.string(M.t.S0W8Z2):M.intl.string(M.t.focH1t);let x=(0,i.jsx)(j.ZP.Icon,{icon:s.PhoneCallIcon,onClick:this.handleVoiceClick,disabled:g,tooltip:e,tooltipColor:t});return(0,i.jsx)(f.ZP,{contentTypes:h,children:e=>{let{visibleContent:t,markAsDismissed:r}=e;if(t===a.z.ACTIVITY_GDM_CALL_TOOLTIP)return(0,i.jsx)(s.Popout,{position:"bottom",align:"center",animation:s.Popout.Animation.TRANSLATE,shouldShow:l&&u&&!n,renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(C.ZP,{header:(0,i.jsx)(s.Heading,{variant:"heading-md/bold",color:"always-white",children:M.intl.string(M.t.HOPqzc)}),content:(0,i.jsxs)("div",{children:[(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"always-white",children:M.intl.string(M.t.xAW71d)}),(0,i.jsx)(s.Anchor,{href:T.Z.getArticleURL(A.BhN.ACTIVITIES),children:M.intl.string(M.t.hvVgAQ)})]}),buttonCTA:M.intl.string(M.t["NX+WJC"]),onClick:()=>{t(),r(y.L.UNKNOWN)},className:R.tooltip})},children:()=>x});return x}})}render(){return(0,i.jsxs)(l.Fragment,{children:[this.renderVoiceCallButton(),this.renderVideoCallButton()]})}constructor(...e){super(...e),L(this,"handleStartCall",(e,t)=>{let{channel:n,notFriend:i,appContext:l}=this.props,r=i?n.getRecipientId():null,a=()=>o.Z.call(n.id,t,!i&&!n.isManaged()&&!(null==e?void 0:e.shiftKey),r);t?(0,v.Z)(a,l):a()}),L(this,"handleJoinCall",e=>{c.default.selectVoiceChannel(this.props.channel.id,e)}),L(this,"handleVoiceClick",e=>{let{callUnavailable:t,callActive:n,canShowActivityGdmTooltip:i}=this.props;if(i&&(0,m.EW)(a.z.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:y.L.AUTO}),t);else if(n)return this.handleJoinCall(!1);else return this.handleStartCall(e,!1)}),L(this,"handleStartVideoCall",e=>{this.handleStartCall(e,!0)}),L(this,"handleJoinVideoCall",()=>{let{appContext:e}=this.props;(0,v.Z)(()=>this.handleJoinCall(!0),e)}),L(this,"handleBrowserNotSupported",()=>{(0,x.Z)()})}}function O(e){var t;let{channel:n}=e,s=(0,g.Z)(),o=(0,r.e7)([p.Z],()=>p.Z.getMode(n.id)),c=(0,r.e7)([N.Z],()=>N.Z.isInChannel(n.id)),m=(0,r.e7)([u.Z],()=>u.Z.useReducedMotion),{callActive:f,callUnavailable:C}=(0,r.cj)([_.Z],()=>({callActive:_.Z.isCallActive(n.id),callUnavailable:_.Z.isCallUnavailable(n.id)})),x=n.getRecipientId(),{notFriend:v,isBlocked:E}=(0,r.cj)([b.Z],()=>({notFriend:n.type===A.d4z.DM&&null!=x&&!b.Z.isFriend(x),isBlocked:n.type===A.d4z.DM&&null!=x&&b.Z.isBlocked(x)})),S=(0,r.e7)([Z.default],()=>Z.default.getUser(x)),T=(0,d.bp)(),j=[],y=(0,h.Z)(n.id),P=(0,r.e7)([I.Z],()=>I.Z.hasLayers());y&&!P&&j.push(a.z.ACTIVITY_GDM_CALL_TOOLTIP);let[M,R]=l.useState(!1);return(l.useEffect(()=>{let e=setTimeout(()=>{R(!0)},250);return()=>clearTimeout(e)},[]),s||(null==S?void 0:S.bot))?null:(0,i.jsx)(k,{channel:n,mode:o,inCall:c,callActive:f,isProvisional:null!==(t=null==S?void 0:S.isProvisional)&&void 0!==t&&t,callUnavailable:C,notFriend:v,isBlocked:E,appContext:T,canShowTooltip:M,canShowActivityGdmTooltip:y,dismissibleContentTypes:j,useReducedMotion:m})}},518311:function(e,t,n){n.d(t,{Z:function(){return ed}}),n(411104),n(653041),n(47120);var i,l=n(200651),r=n(192379),a=n(120356),s=n.n(a),o=n(392711),c=n.n(o),d=n(913527),u=n.n(d),h=n(873546),p=n(442837),m=n(481060),f=n(570140),g=n(26151),C=n(493683),x=n(529103),v=n(447543),_=n(708690),I=n(194359),E=n(425493),b=n(461745),Z=n(40851),N=n(367907),S=n(43267),T=n(933557),j=n(600164),A=n(313201),y=n(366980),P=n(703656),M=n(93127),R=n(428598),L=n(131704),k=n(592125),O=n(341165),D=n(544610),w=n(19780),B=n(306680),U=n(699516),H=n(246946),G=n(594174),F=n(626135),V=n(572004),z=n(585483),W=n(823379),K=n(709054),Y=n(51144),q=n(73752),X=n(665149),J=n(575464),Q=n(981631),$=n(388032),ee=n(269343),et=n(232186);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ei=(0,A.hQ)(),el=(0,A.hQ)();function er(e){let{className:t,children:n}=e;return(0,l.jsxs)(j.Z,{align:j.Z.Align.CENTER,justify:j.Z.Justify.CENTER,direction:j.Z.Direction.VERTICAL,className:s()(ee.errorState,t),children:[(0,l.jsx)("div",{className:s()(ee.errorStateIcon,et.marginBottom20)}),n]})}let ea=e=>{var t;let{channel:n,onClose:i}=e,r=null!==(t=(0,T.ZP)(n))&&void 0!==t?t:"",a=(0,p.e7)([B.ZP],()=>{var e;return null!==(e=B.ZP.lastMessageId(n.id))&&void 0!==e?e:n.id});return(0,l.jsx)(m.Clickable,{onClick:()=>{(0,P.XU)(Q.ME,n.id),i()},children:(0,l.jsxs)("div",{className:ee.confirmChannelItemContainer,children:[(0,l.jsx)(m.Avatar,{src:(0,S.x)(n),size:m.AvatarSizes.SIZE_24,"aria-label":r}),(0,l.jsx)("span",{className:ee.confirmChannelName,children:r}),(0,l.jsx)("span",{className:ee.lastActiveTimestamp,children:u()(K.default.extractTimestamp(a)).fromNow()})]})})},es=e=>{let{onConfirm:t,channelIds:n,...i}=e,r=(0,p.Wu)([k.Z],()=>Array.from(n).map(k.Z.getChannel),[n]);return(0,l.jsxs)(m.ConfirmModal,{header:$.intl.string($.t.uFHxNT),confirmText:$.intl.string($.t.KCNNJi),cancelText:$.intl.string($.t["ETE/oK"]),onConfirm:t,confirmButtonColor:m.Button.Colors.BRAND,...i,children:[(0,l.jsx)(m.Text,{variant:"text-md/normal",children:$.intl.string($.t.rIsSqK)}),(0,l.jsx)(m.FormTitle,{className:ee.selectExistingFormHeader,children:$.intl.string($.t.cjE7wM)}),(0,l.jsx)(m.Scroller,{className:ee.confirmInviteScroller,children:r.filter(W.lm).sort((e,t)=>{var n,i;let l=null!==(n=e.lastMessageId)&&void 0!==n?n:e.id,r=null!==(i=t.lastMessageId)&&void 0!==i?i:t.id;return K.default.compare(r,l)}).map(e=>(0,l.jsx)(ea,{onClose:i.onClose,channel:e},e.id))})]})};class eo extends(i=r.PureComponent){_getAnalyticsEntryPoint(){let{channel:e}=this.props,t="",n="";return null!=e?e.isDM()?(t="Add Friends to DM",n="DM"):(t="Add Friends to DM",n="Group DM"):(t="New Group DM",n="Friends List"),{entryPointType:t,entryPointSource:n}}componentDidMount(){let{channel:e}=this.props;f.Z.wait(()=>_.Z.open(null==e?void 0:e.id));let t=(0,N.v_)(e);F.default.track(Q.rMx.OPEN_POPOUT,{...t,type:this._getAnalyticsEntryPoint().entryPointType,source:this._getAnalyticsEntryPoint().entryPointSource,is_friend:!this.isNotFriends()}),z.S.subscribe(Q.CkL.SCROLL_PAGE_UP,this.scrollPageUp),z.S.subscribe(Q.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)}componentWillUnmount(){z.S.unsubscribe(Q.CkL.SCROLL_PAGE_UP,this.scrollPageUp),z.S.unsubscribe(Q.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),f.Z.wait(()=>_.Z.close())}isNotFriends(){let{channel:e}=this.props;if(null==e||!e.isDM())return!1;let t=e.getRecipientId();if(null==t)throw Error("no recipient in DM");return!U.Z.isFriend(t)}createInvite(){let{channel:e}=this.props;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return;let{inviteMaxAgeSeconds:t}=q.Z.getCurrentConfig({location:"5326c5_1"},{autoTrackExposure:!1});v.Z.createInvite(e.id,{max_age:t},Q.t4x.GROUP_DM)}isPartyFull(){let{channel:e}=this.props;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()}getMaxParticipants(){let{channel:e}=this.props,t=G.default.getCurrentUser();return null!=t&&t.isStaff()?Q.p3w:null!=e&&e.userLimit>0?e.userLimit:Q.pAY}getRemaining(){let{channel:e,selectedUsers:t}=this.props,n=(null==e?0:e.recipients.length)+1;return this.getMaxParticipants()-t.size-n}renderCreateGroupButton(){let{channel:e,selectedUsers:t}=this.props,n=this.getRemaining(),i=null!=e&&0===t.size||n<0,r=t.size>1?$.intl.string($.t.ZGMNAw):$.intl.string($.t["6Urw1t"]);return(0,l.jsx)(m.Button,{fullWidth:!0,disabled:i,onClick:this.handleInviteUsers,children:r})}renderAddUsersButton(){let{channel:e,selectedUsers:t}=this.props;if(null==e||e.isDM())return;let n=this.getRemaining(),i=0===t.size||n<0;return(0,l.jsx)("div",{className:ee.addButton,children:(0,l.jsx)(m.Button,{size:m.Button.Sizes.SMALL,disabled:i,onClick:this.handleInviteUsers,children:$.intl.string($.t.OYkgVl)})})}renderSubtitle(){if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;let e=this.getRemaining(),t=e<=0?$.intl.formatToPlainString($.t.xYr009,{number:this.getMaxParticipants()}):$.intl.formatToPlainString($.t.HrSDPD,{number:e});return(0,l.jsx)(m.Text,{variant:"text-xs/normal",className:s()(ee.subtitle,{[ee.subtitleWarning]:e<0},et.marginTop4),children:t})}renderSearchBar(){var e;let{query:t,hasFriends:n,results:i,selectedRow:r,selectedUsers:a}=this.props;if(!n||this.isNotFriends())return null;let o=[];return a.forEach(e=>{let t=G.default.getUser(e);null!=t&&o.push(Y.ZP.getName(t))}),(0,l.jsxs)(j.Z,{className:s()(ee.searchBar),children:[(0,l.jsx)(b.ZP,{ref:this.searchBarRef,className:ee.searchBarComponent,autoFocus:!0,placeholder:0===a.size?$.intl.string($.t.Wxnb6u):void 0,disabled:this.isPartyFull(),size:b.ZP.Sizes.MEDIUM,query:t,selectedRow:r,sections:[null!==(e=null==i?void 0:i.length)&&void 0!==e?e:0],tags:o,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,inputProps:{"aria-labelledby":ei,"aria-controls":el,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(r),autoComplete:"off"}}),this.renderAddUsersButton()]})}renderHeader(){let e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?$.intl.string($.t.Xjlbvr):$.intl.string($.t.CdNhGR);return(0,l.jsxs)(m.ModalHeader,{direction:j.Z.Direction.VERTICAL,align:j.Z.Align.STRETCH,className:ee.header,separator:e,children:[h.tq?this.renderMobileCloseButton():null,(0,l.jsx)(m.Heading,{id:ei,variant:"heading-lg/semibold",children:t}),this.renderSubtitle()]})}renderBody(){let{channel:e,hasFriends:t,results:n}=this.props;if(this.isNotFriends()){let t=null!=e?e.getRecipientId():null;if(null==t)throw Error("no recipient in DM");let n=G.default.getUser(t),i=null!=n?n.username:"",r=null!=n&&U.Z.getRelationshipType(n.id)===Q.OGo.PENDING_OUTGOING;return(0,l.jsxs)(er,{className:ee.notFriends,children:[(0,l.jsx)(m.Text,{variant:"text-sm/medium",color:"text-secondary",children:$.intl.format($.t["eg+R9/"],{username:i})}),(0,l.jsx)(m.Button,{disabled:r,size:m.Button.Sizes.SMALL,onClick:()=>null!=n?this.handleAddFriend(n):null,className:et.marginTop20,children:r?$.intl.string($.t.xMH6vL):$.intl.string($.t["PMsq/f"])})]})}return t?this.isPartyFull()?(0,l.jsxs)(er,{className:ee.partyFull,children:[(0,l.jsx)("div",{children:$.intl.string($.t.OtTQDw)}),(0,l.jsx)("div",{children:$.intl.format($.t.xYr009,{number:this.getMaxParticipants()})})]}):0===n.length?(0,l.jsx)(er,{className:s()(ee.noResults,et.marginBottom20),children:(0,l.jsx)("div",{children:$.intl.string($.t.SV4DJy)})}):(0,l.jsx)(m.List,{ref:this.scrollerRef,sections:[n.length],className:ee.scroller,renderRow:this.renderRow,rowHeight:this.getRowHeight,renderSection:this.renderSection,sectionHeight:0,onScroll:this.handleScroll,paddingTop:0,paddingBottom:14,fade:!0,role:void 0,innerRole:"listbox",innerId:el,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,l.jsxs)(er,{className:ee.noFriends,children:[(0,l.jsx)("div",{children:$.intl.string($.t["7orY6O"])}),(0,l.jsx)(m.Button,{autoFocus:!0,color:m.Button.Colors.GREEN,fullWidth:!0,size:m.Button.Sizes.SMALL,onClick:this.handleAddFriendNavigation,className:et.marginTop20,children:$.intl.string($.t.w5uwoK)})]})}renderSection(){return null}renderInviteLink(){let{channel:e,invite:t,hideInstantInvites:n}=this.props,{copied:i}=this.state;if(null==e||!e.isMultiUserDM()||this.isPartyFull())return null;let a=null!=t?(0,y.Z)(t.code):"",o=a.length>0;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(m.FormTitle,{tag:"h5",className:et.marginBottom8,children:$.intl.string($.t.t3O2BQ)}),(0,l.jsx)(m.CopyInput,{supportsCopy:V.wS,placeholder:(0,y.Z)($.intl.string($.t.lPVBqK)),value:o?n?$.intl.string($.t["6HzNgY"]):a:"",buttonColor:m.Button.Colors.BRAND,text:o?i?$.intl.string($.t.q30c5u):$.intl.string($.t.OpuAlJ):$.intl.string($.t.qzxqUV),mode:i?m.CopyInputModes.SUCCESS:m.CopyInputModes.DEFAULT,onCopy:()=>{o?this.handleCopyInvite(a):this.createInvite()}}),a.length>0?(0,l.jsx)(m.Text,{variant:"text-xs/normal",className:s()(et.marginTop8,ee.footerText),children:$.intl.format($.t.ZVdJMz,{numHours:"".concat(24)})}):null]})}renderFooter(){let{hasFriends:e,channel:t}=this.props;if(this.isNotFriends()||!e||this.isPartyFull())return null;let n=null==t||t.isDM()?this.renderCreateGroupButton():this.renderInviteLink();if(null!=n)return(0,l.jsx)(m.ModalFooter,{className:ee.footer,children:n})}render(){let{transitionState:e}=this.props;return(0,l.jsxs)(m.ModalRoot,{transitionState:null!=e?e:m.ModalTransitionState.ENTERED,className:ee.popout,children:[this.renderHeader(),(0,l.jsxs)(m.ModalContent,{children:[this.renderSearchBar(),this.renderBody()]}),this.renderFooter()]})}handleAddFriend(e){this.props.onClose(),I.Z.sendRequest({discordTag:Y.ZP.getUserTag(e,{identifiable:"always"}),context:{location:"Group DM"}})}_getUserAffinities(e){return{affinities:e.map(e=>{var t;let n=R.Z.getUserAffinity(e);return null!==(t=null==n?void 0:n.communicationProbability)&&void 0!==t?t:-1})}}constructor(...e){super(...e),en(this,"state",{separator:!1,copied:!1}),en(this,"copyTimeout",void 0),en(this,"scrollerRef",r.createRef()),en(this,"searchBarRef",r.createRef()),en(this,"_mobileCloseRef",r.createRef()),en(this,"_searchCounter",0),en(this,"_existingTimeout",null),en(this,"scrollPageUp",()=>{var e;null===(e=this.scrollerRef.current)||void 0===e||e.scrollPageUp({animate:!0})}),en(this,"scrollPageDown",()=>{var e;null===(e=this.scrollerRef.current)||void 0===e||e.scrollPageDown({animate:!0})}),en(this,"renderMobileCloseButton",()=>(0,l.jsx)("div",{className:s()(ee.mobileToolsContainer),ref:this._mobileCloseRef,children:(0,l.jsx)(m.FocusRingScope,{containerRef:this._mobileCloseRef,children:(0,l.jsx)("div",{children:(0,l.jsx)(E.Z,{className:ee.mobileToolsCloseIcon,closeAction:this.props.onClose,keybind:"ESC"})})})})),en(this,"getRowHeight",(e,t)=>{if(e>0)return 0;let{results:n}=this.props;return null!=n[t]?42:0}),en(this,"renderRow",e=>{let{section:t,row:n}=e;if(t>0)return null;let{results:i,selectedUsers:r,selectedRow:a,hideDiscriminator:s}=this.props,o=i[n];if(null==o)return null;let{user:c,comparator:d}=o,u=r.has(c.id);return(0,l.jsx)(J.Z,{row:n,user:c,hideDiscriminator:s,comparator:d,checked:u,selected:n===a,onClick:this.handleClick,onMouseEnter:this.focusResult,"aria-posinset":n+1,"aria-setsize":i.length},c.id)}),en(this,"forceFocus",()=>{let e=this.searchBarRef.current;null==e||e.focus()}),en(this,"focusResult",e=>{_.Z.select(e)}),en(this,"handleSelect",(e,t)=>{let{results:n,channel:i}=this.props;null==t?_.Z.clear(null==i?void 0:i.id):null!=n&&this.handleClick(n[t].user.id)}),en(this,"handleSelectionChange",(e,t)=>{_.Z.select(t);let n=this.scrollerRef.current;null!=n&&n.scrollToIndex({section:e,row:t,padding:8})}),en(this,"handleQueryChange",e=>{let{channel:t}=this.props,n=(0,N.v_)(t);_.Z.search(e,null==t?void 0:t.id),null!=this._existingTimeout&&clearTimeout(this._existingTimeout),this._existingTimeout=setTimeout(()=>{F.default.track(Q.rMx.SEARCH_USER_LIST_STARTED,{...n,entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,search_query_length:e.length}),this._searchCounter++},500)}),en(this,"handleRemoveUser",e=>{let t=Array.from(this.props.selectedUsers);_.Z.removeUser(t[e]),this.forceFocus()}),en(this,"handleClick",e=>{let{selectedUsers:t,query:n,channel:i}=this.props;t.has(e)?_.Z.removeUser(e):(_.Z.addUser(e),n.length>0&&_.Z.clear(null==i?void 0:i.id)),this.forceFocus()}),en(this,"handleAddFriendNavigation",()=>{(0,P.uL)(Q.Z5c.FRIENDS),x.Z.setSection(Q.pJs.ADD_FRIEND),this.props.onClose()}),en(this,"handleScroll",()=>{let e=this.scrollerRef.current;null!=e&&this.setState({separator:!e.isScrolledToTop()})}),en(this,"createNewDM",e=>{let t=this._searchCounter,{channel:n}=this.props,i=(0,N.v_)(n),l=!0;1===e.length&&(l=null==C.Z._openCachedDMChannel(e[0])),F.default.track(Q.rMx.CREATE_DM_USER_LIST_CLICKED,{...i,is_new_dm:l,entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,recipient_ids:e,num_searches:t,affinity_score:this._getUserAffinities(e).affinities}),C.Z.openPrivateChannel(e,!1,!1,"New Group DM")}),en(this,"pushToExistingDM",(e,t)=>{let n=this._searchCounter,i=(0,N.v_)(e),l=w.Z.getChannelId()===e.id;C.Z.addRecipients(e.id,t,Q.Sbl.ADD_FRIENDS_TO_DM).then(n=>{if(!!l){if(e.isDM()&&n!==e.id){g.Z.call(n,!1,!0);return}g.Z.ring(n,t)}}),F.default.track(Q.rMx.CREATE_DM_USER_LIST_CLICKED,{...i,is_new_dm:!0,entry_point_type:this._getAnalyticsEntryPoint().entryPointType,entry_point_source:this._getAnalyticsEntryPoint().entryPointSource,recipient_ids:t,num_searches:n,affinity_score:this._getUserAffinities(t).affinities})}),en(this,"handleInviteUsers",()=>{let{channel:e,selectedUsers:t,onClose:n}=this.props,i=Array.from(t);if(null!=e){let t=eu(Array.from(new Set([...e.recipients,...i])));t.size>0?(0,m.openModal)(n=>(0,l.jsx)(es,{...n,onConfirm:()=>this.pushToExistingDM(e,i),channelIds:t}),{},(0,m.modalContextFromAppContext)(this.context.appContext)):this.pushToExistingDM(e,i)}else{let e=eu(i);i.length>1&&e.size>0?(0,m.openModal)(t=>(0,l.jsx)(es,{...t,onConfirm:()=>this.createNewDM(i),channelIds:e}),{},(0,m.modalContextFromAppContext)(this.context.appContext)):this.createNewDM(i)}n()}),en(this,"handleCopyInvite",e=>{let{channel:t,invite:n}=this.props;null!=n&&(0,V.JG)(e),null!=this.copyTimeout&&clearTimeout(this.copyTimeout),this.setState({copied:!0}),this.copyTimeout=setTimeout(()=>{this.setState({copied:!1})},1e3),F.default.track(Q.rMx.COPY_INSTANT_INVITE,{server:null,channel:null!=t?t.id:null,channel_type:null!=t?t.type:null,location:Q.Sbl.ADD_FRIENDS_TO_DM,code:null!=n?n.code:null})})}}function ec(e){let{channel:t,...n}=e,i=(0,p.cj)([D.Z,O.Z,H.Z],()=>{let e;return null!=t&&null!=(e=O.Z.getInvite(t.id))&&e.isExpired()&&(e=null),{...D.Z.getState(),invite:e,hideDiscriminator:H.Z.hidePersonalInformation,hideInstantInvites:H.Z.hideInstantInvites}});return(0,l.jsx)(eo,{channel:t,...n,...i})}function ed(e){var t,n;let{channel:i,iconClassName:a,icon:s,tooltip:o,tooltipPosition:c="bottom",popoutPosition:d="bottom",popoutAlign:u="right",subscribeToGlobalHotkey:h=!1}=e,[f,g]=r.useState(null!=i&&i.isGroupDM()&&0===i.recipients.length),C=r.useCallback(()=>g(e=>!e),[]);r.useEffect(()=>(h&&z.S.subscribe(Q.CkL.TOGGLE_DM_CREATE,C),()=>{z.S.unsubscribe(Q.CkL.TOGGLE_DM_CREATE,C)}),[h,C]);let x=(0,p.e7)([G.default],()=>G.default.getUser(null==i?void 0:i.getRecipientId()));return(r.useEffect(()=>{(0,M._)()},[]),null!==(t=null==x?void 0:x.bot)&&void 0!==t&&t||null!==(n=null==x?void 0:x.isProvisional)&&void 0!==n&&n)?null:(0,l.jsx)(m.Popout,{renderPopout:e=>(0,l.jsx)(ec,{...e,onClose:e.closePopout,channel:i}),position:d,shouldShow:f,align:u,onRequestClose:()=>g(!1),animation:m.Popout.Animation.NONE,children:e=>(0,l.jsx)(X.ZP.Icon,{...e,onClick:C,icon:null!=s?s:null==i?m.ChatPlusIcon:m.GroupPlusIcon,className:a,iconClassName:a,tooltip:o,tooltipPosition:c})})}function eu(e){let t=eh(e);return new Set(c()(k.Z.getMutablePrivateChannels()).values().filter(e=>(0,L.bc)(e.type)).filter(e=>eh(e.recipients)===t).map(e=>e.id).value())}function eh(e){return JSON.stringify(e.sort())}en(eo,"contextType",Z.ZP)},180539:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(816782),s=n(221292),o=n(687158),c=n(646915),d=n(433355),u=n(665149),h=n(981631),p=n(388032);function m(e){let{channel:t,showCallOrActivityPanel:n}=e,m=(0,l.e7)([d.ZP],()=>d.ZP.getSection(t.id,null==t?void 0:t.isDM())),f=(0,o.ZP)(t.getRecipientId()),g=(0,c.Z)(),C=m===h.ULH.PROFILE&&!g;return(0,i.jsx)(u.JO,{disabled:g||n,tooltip:g||n?p.intl.string(p.t.YneDgI):C?p.intl.string(p.t.niD64e):p.intl.string(p.t["+FAsHh"]),icon:r.UserCircleStatusIcon,onClick:()=>{(0,s.TY)({displayProfile:f,isProfileOpen:!C}),a.Z.toggleProfilePanelSection()},selected:C&&!g&&!n})}},882378:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(952265),s=n(481060),o=n(378298),c=n(444957),d=n(276618),u=n(367408),h=n(473092),p=n(819640),m=n(665149),f=n(134612),g=n(388032),C=n(629435);t.Z=l.memo(function(e){let{channel:t}=e,x=(0,c.h)(t.id),v=(0,d.o)(t.id),_=(0,u.M)(t.id),I=(0,a.f9)(),E=(0,r.e7)([p.Z],()=>p.Z.hasLayers()),b=l.useCallback(()=>v?g.intl.string(g.t["16QyDg"]):null!=_?g.intl.string(g.t.kCN9i4):null,[v,_]),Z=l.useMemo(()=>(v||null!=_)&&!I&&!E,[v,_,I,E]),[N,S]=l.useState(b());l.useEffect(()=>{null!=_&&null!=x&&(s.AccessibilityAnnouncer.announce(g.intl.string(g.t.acsXuL)),setTimeout(()=>{(0,o.T)(t.id,[_.id])},5e3),(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:_.id,warningType:_.type,isNudgeWarning:null!=_,viewName:h.pb.SAFETY_TOOLS_NUDGE_TOOLTIP})),v&&(s.AccessibilityAnnouncer.announce(g.intl.string(g.t["1dxCqK"])),setTimeout(()=>{(0,o.Ot)(t.id)},5e3))},[t,_,x,v]),l.useEffect(()=>{null!=x&&(0,h.KQ)({channelId:t.id,senderId:t.getRecipientId(),warningId:x.id,warningType:x.type,isNudgeWarning:null!=_,viewName:h.pb.SAFETY_TOOLS_BUTTON})},[]),l.useEffect(()=>{let e=b();null!=e&&S(e)},[v,_,b]);let T=l.useCallback(()=>{if(null!=_&&(0,o.T)(t.id,[_.id]),null!=x)(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("37229"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{onClose:l,transitionState:r}=n;return(0,i.jsx)(e,{otherUserId:t.getRecipientId(),channelId:t.id,warningId:x.id,warningType:x.type,onClose:l,transitionState:r})}},{modalKey:f.X_}),(0,h.qc)({channelId:t.id,senderId:t.getRecipientId(),warningId:x.id,warningType:x.type,cta:h.NM.USER_SAFETY_TOOLS_BUTTON_CLICK,isNudgeWarning:null!=_})},[_,x,t]);return null==x?null:(0,i.jsx)(s.Tooltip,{forceOpen:Z,text:N,color:s.TooltipColors.BRAND,position:"bottom",tooltipClassName:C.tooltip,tooltipContentClassName:C.tooltipContent,children:()=>(0,i.jsx)(m.ZP.Icon,{icon:s.ShieldIcon,onClick:T,tooltip:g.intl.string(g.t.rpc2qq),tooltipDisabled:null!=_})})})},207868:function(e,t,n){var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),c=n(557135),d=n(590293),u=n(66999),h=n(665906),p=n(496675),m=n(979651),f=n(585483),g=n(665149),C=n(981631),x=n(388032);t.Z=l.memo(function(e){let{channel:t}=e,n=(0,d.Z)(),r=(0,s.e7)([m.Z],()=>m.Z.isInChannel(t.id)),v=(0,s.e7)([m.Z],()=>!a().isEmpty(m.Z.getVoiceStatesForChannel(t.id))),_=(0,s.e7)([p.Z],()=>p.Z.can(C.Plq.CONNECT,t)),{needSubscriptionToAccess:I}=(0,u.Z)(t.id),E=(0,h.$R)(t),b=l.useCallback(()=>{c.Z.handleVoiceConnect({channel:t,connected:r,needSubscriptionToAccess:I,locked:!1})},[t,r,I]);return(l.useEffect(()=>(f.S.subscribe(C.CkL.CALL_START,b),()=>{f.S.unsubscribe(C.CkL.CALL_START,b)}),[b]),h.tM.useExperiment({guildId:t.guild_id,location:"63250c_1"},{autoTrackExposure:!1}).enabled&&!n&&!r&&_&&E&&t.isVocalThread())?(0,i.jsx)(g.ZP.Icon,{icon:o.PhoneCallIcon,onClick:b,tooltip:v?x.intl.string(x.t.fdEeb2):x.intl.string(x.t.focH1t)}):null})},147754:function(e,t,n){var i=n(818083);t.Z=(0,i.B)({kind:"guild",id:"2021-11_hub_events",label:"Hub Events",defaultConfig:{showHubEventsList:!1},treatments:[{id:1,label:"Show Hub Events List",config:{showHubEventsList:!0}}]})},246919:function(e,t,n){var i=n(192379),l=n(442837),r=n(445384),a=n(420438),s=n(271383),o=n(594174),c=n(981631),d=n(440493);t.Z=e=>{let t=(0,l.e7)([a.Z],()=>(null==e?void 0:e.hasFeature(c.oNc.HUB))?a.Z.hasViewedPrompt(d.r.REAL_NAME_PROMPT,e.id):null),n=(0,l.e7)([o.default],()=>o.default.getCurrentUser()),u=(0,l.e7)([s.ZP],()=>(null==e?void 0:e.id)!=null&&null!=n?s.ZP.getMember(null==e?void 0:e.id,n.id):null),h=(null==u?void 0:u.nick)!=null;return i.useEffect(()=>{h&&null!=e&&!1===t&&r.Z.viewPrompt(d.r.REAL_NAME_PROMPT,e.id)},[h,e,t]),!1===t&&!h}},676316:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(192379),l=n(661869),r=n(876215),a=n(442837),s=n(592125),o=n(994752),c=n(463031);let d="1221458499993600000",u={content_type:r.s.LEADERBOARD,extra:{type:"leaderboard_extra",leaderboard_id:c.z},id:d,author_id:d,author_type:l.i.USER,participants:[],traits:[]};function h(e){let{entries:t,channelId:n}=e,l=(0,a.e7)([s.Z],()=>s.Z.getChannel(n)),r=null==l?void 0:l.guild_id,c=(0,a.e7)([o.Z],()=>null!=r&&null!=o.Z.getLeaderboards(r),[r]);return{entriesWithLeaderboard:i.useMemo(()=>c?[u,...null!=t?t:[]]:t,[c,t]),hasLeaderboardEntry:c}}},570096:function(e,t,n){n.d(t,{N:function(){return v}}),n(47120);var i=n(200651),l=n(442837),r=n(704215),a=n(481060),s=n(782568),o=n(243778),c=n(970731),d=n(594174),u=n(63063),h=n(69589),p=n(981631),m=n(921944),f=n(388032),g=n(725640);let C=e=>{let{user:t,markAsDismissed:n}=e;return(0,i.jsxs)("div",{className:g.assetContainer,children:[(0,i.jsx)(h.Z,{user:t,rank:1,avatarSize:a.AvatarSizes.SIZE_56}),(0,i.jsx)(a.Clickable,{className:g.closeIcon,onClick:()=>{n(m.L.USER_DISMISS)},children:(0,i.jsx)(a.XSmallIcon,{color:"currentColor",size:"sm"})})]})},x=e=>{let{user:t,markAsDismissed:n}=e;return(0,i.jsx)(c.ZP,{asset:(0,i.jsx)(C,{user:t,markAsDismissed:n}),header:f.intl.string(f.t.wAtFS0),content:f.intl.string(f.t.qIZICA),buttonCTA:f.intl.string(f.t.hvVgAQ),onClick:()=>{(0,s.Z)(u.Z.getArticleURL(p.BhN.GUILD_LEADERBOARD)),n(m.L.USER_DISMISS)},markAsDismissed:n,caretPosition:c.DF.RIGHT_TOP,buttonProps:{color:a.Button.Colors.WHITE,look:a.Button.Looks.LINK,size:a.Button.Sizes.MIN}})};function v(e){let{children:t}=e,n=[r.z.LEADERBOARD_NUX_COACHMARK],[s,c]=(0,o.US)(n,void 0),u=(0,l.e7)([d.default],()=>d.default.getCurrentUser());return s!==r.z.LEADERBOARD_NUX_COACHMARK||null==u?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(a.Popout,{renderPopout:()=>x({user:u,markAsDismissed:c}),position:"left",animation:a.Popout.Animation.TRANSLATE,shouldShow:!0,children:()=>t})}},652730:function(e,t,n){var i,l,r,a,s=n(442837),o=n(570140),c=n(41776);let d=null,u=null;function h(){let e=c.Z.mostRecentLurkedGuildId();null!=e?(d=e,u=null):(null!=d?u=d:u=null,d=null)}class p extends(a=s.ZP.Store){initialize(){this.syncWith([c.Z],h)}shouldShowPopout(e){return u===e}}r="LurkerModePopoutStore",(l="displayName")in(i=p)?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,t.Z=new p(o.Z)},657352:function(e,t,n){var i=n(200651);n(192379);var l=n(481060),r=n(388032),a=n(904424);t.Z=e=>{let{guild:t,onClose:s}=e;return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsx)("img",{alt:"",className:a.image,src:n(238980)}),(0,i.jsxs)("div",{className:a.content,children:[(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",children:r.intl.format(r.t.THgVCA,{guild:t.name})}),(0,i.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:r.intl.string(r.t["1yq3nJ"])}),(0,i.jsx)("div",{className:a.buttonContainer,children:(0,i.jsx)(l.Button,{onClick:s,children:r.intl.string(r.t.hLw0wc)})})]})]})}},800329:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(218867),o=n(82936);let c=16/9;function d(e,t){return Math.max(1,Math.floor((t-e)/(8+e))+1)}function u(e,t,n){let i=t-e;for(;i>0;){let t=e,l=Math.floor(i/2);n(t+=l)?(e=t+1,i-=l+1):i=l}return e}function h(e){var t;let{className:n,children:r,keyExtractor:h,paddingTop:p=0,paddingBottom:m=0}=e,[f,g]=l.useState({width:0,height:0}),{width:C,height:x}=f,v=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,_=C-16,I=x-(p+m),{tileStyle:E,tileWidth:b,rows:Z,columns:N}=l.useMemo(()=>(function(e,t,n){let{rows:i,columns:l,tileWidth:r}=function(e,t,n){let i;let l=Math.floor(t/25);i=e>25?u(l,t,e=>{let i=d(e,t),l=function(e,t){let n=e/c;return Math.ceil((t-n)/(8+n))+1}(e,n);return i*l>25}):u(l,t,i=>{let l=d(i,t),r=function(e,t){let n=e/c;return Math.floor((t-n)/(8+n))+1}(i,n);return l*r>=e})-1;let r=d(i,t),a=Math.ceil(e/r);return{tileWidth:i,columns:Math.max(1,r),rows:a}}(e,t,n);return{tileStyle:{width:r},tileWidth:r,rows:i,columns:l}})(v,_,I),[v,_,I]),S=N+1,T=S*b+(S-1)*8<=C,j=Math.floor(b/c)+8,A=Math.max(0,I-j*Z)/2;return(0,i.jsx)(s.Z,{fade:!0,className:n,listPadding:[p+A,0,m+A-8,8],renderRow:function(e){var t;let n=e*N;return(0,i.jsx)("div",{className:o.row,children:null==r?void 0:null===(t=r.slice(n,n+N))||void 0===t?void 0:t.map((e,t)=>{var l;let r=n+t;return(0,i.jsx)("div",{style:E,className:a()(o.tile,{[o.padColumn]:T,[o.noVerticalMargin]:r>=(Z-1)*N,[o.noHorizontalMargin]:(r+1)%N==0||r===v-1}),children:(0,i.jsx)("div",{className:o.tileSizer,children:e(b)})},null!==(l=null==h?void 0:h(r))&&void 0!==l?l:r)})},e)},rowCount:Z,rowCountBySection:[Z],rowHeight:j,onResize:g})}},48929:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(570140),c=n(430198),d=n(314897),u=n(592125),h=n(709054),p=n(522579);let m=new Set;class f extends(i=s.ZP.Store){shouldDisplayPrompt(e){return m.has(e)}}a="MediaPostSharePromptStore",(r="displayName")in(l=f)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new f(o.Z,{CONNECTION_OPEN:function(){m=new Set},MESSAGE_CREATE:function(e){var t;if(e.isPushNotification)return;let n=e.message;if(d.default.getId()!==(null===(t=n.author)||void 0===t?void 0:t.id)||!(0,p.z9)(n.id,n.channel_id))return;let i=u.Z.getChannel(n.channel_id);if(null!=i&&null!=i.parent_id)c.Z.isChannelGated(i.guild_id,i.parent_id)&&m.add(h.default.castMessageIdAsChannelId(e.message.id))},DISMISS_MEDIA_POST_SHARE_PROMPT:function(e){let{threadId:t}=e;m.delete(t)},LOGOUT:function(e){m.clear()}})},522579:function(e,t,n){n.d(t,{z9:function(){return r}}),n(399606);var i=n(592125),l=n(709054);function r(e,t){if(e!==l.default.castChannelIdAsMessageId(t))return!1;let n=i.Z.getChannel(t);if(null==n||!n.isForumPost())return!1;let r=i.Z.getChannel(n.parent_id);return(null==r?void 0:r.isMediaChannel())===!0}},333535:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(200651),l=n(192379),r=n(852229),a=n(399606),s=n(481060),o=n(367907),c=n(592125),d=n(934415),u=n(63063),h=n(158222),p=n(410992),m=n(981631),f=n(388032),g=n(431794);function C(e){let{threadId:t}=e,n=(0,a.e7)([c.Z],()=>c.Z.getChannel(t)),C=(0,a.e7)([c.Z],()=>c.Z.getChannel(null==n?void 0:n.parent_id)),x=l.useCallback(()=>{null!=n&&null!=C&&((0,o.yw)(m.rMx.MEDIA_POST_SHARE_PROMPT_CLICKED,{media_post_id:n.id}),(0,r.J)((0,d.EO)(n,C)))},[n,C]);return(0,i.jsxs)("div",{className:g.sharePromptContainer,children:[(0,i.jsx)(p.Z,{}),(0,i.jsxs)("div",{className:g.sharePromptContent,children:[(0,i.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:f.intl.string(f.t["5uAO7e"])}),(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"text-normal",children:f.intl.format(f.t.WnfPV1,{helpArticleUrl:u.Z.getCreatorSupportArticleURL(m.BhN.MEDIA_CHANNEL)})}),(0,i.jsx)(s.Spacer,{size:4}),(0,i.jsxs)(s.Button,{className:g.sharePromptCta,innerClassName:g.ctaContent,onClick:x,children:[(0,i.jsx)(s.LinkIcon,{color:"currentColor",size:"xs"}),(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"always-white",children:f.intl.string(f.t.C5UQCw)})]})]}),(0,i.jsx)(s.Clickable,{className:g.closeButton,onClick:()=>{(0,h.fn)(t)},"aria-label":f.intl.string(f.t["0+xZHx"]),children:(0,i.jsx)(s.XSmallIcon,{color:"currentColor",size:"xs"})})]})}},410992:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=45,height:n=46,...r}=e;return(0,i.jsxs)("svg",{...(0,l.Z)(r),width:t,height:n,viewBox:"0 0 49 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M29.424 22.375L30.9908 17.9974C31.6183 16.242 32.8917 14.792 34.5514 13.943L46.105 8.03515C47.7328 7.19988 49.3851 9.15697 48.2694 10.6141C47.1536 12.0713 45.1905 13.7662 42.0689 15.0465L45.5563 15.0222C46.9464 15.01 47.4829 16.8268 46.3123 17.5767C44.3247 18.8632 41.3372 19.924 37.4962 18.8144L38.9229 20.1557C39.6728 20.863 39.1119 22.1128 38.0815 22.0397C36.6183 21.9238 34.8746 21.4909 33.6857 20.2106C33.6857 20.2106 32.8992 22.375 30.8201 23.5639C30.0397 24.0089 29.1252 23.2224 29.424 22.375Z",fill:"white"}),(0,i.jsx)("path",{d:"M19.5767 46.8513C20.112 45.2515 18.84 43.3838 16.7357 42.6798C14.6314 41.9757 12.4916 42.7018 11.9563 44.3016C11.421 45.9014 12.6929 47.769 14.7973 48.4731C16.9016 49.1772 19.0414 48.4511 19.5767 46.8513Z",fill:"#66B9FF"}),(0,i.jsx)("path",{d:"M25.2658 39.551C25.0403 40.2339 24.4915 40.7521 23.7172 41.0996C23.9001 41.6423 23.9184 42.1788 23.7477 42.6848C23.577 43.1909 23.1685 43.6847 22.6198 44.0261C22.7379 44.4329 22.7336 44.8655 22.6076 45.2699C21.9918 47.0929 18.791 47.666 15.456 46.5441C12.121 45.4223 9.90783 43.0384 10.5175 41.2155C10.6648 40.8046 10.9325 40.4476 11.2857 40.1912C11.0662 39.6059 11.0236 39.0206 11.2065 38.478C11.3894 37.9354 11.7186 37.5574 12.1881 37.2342C11.7796 36.4904 11.6576 35.7405 11.8832 35.0637C12.56 33.0457 16.1083 32.4116 19.803 33.6493C23.4978 34.8869 25.9426 37.533 25.2658 39.551Z",fill:"#89D6FF"}),(0,i.jsx)("path",{d:"M9.76155 19.8454C11.6089 14.3277 19.0166 11.8341 26.2963 14.279C33.5759 16.7238 37.984 23.1743 36.1366 28.692C34.9294 32.2891 31.3628 34.5998 27.0096 35.0998C26.5376 35.1499 26.0849 35.3144 25.6908 35.5789C25.2966 35.8435 24.9729 36.2001 24.7477 36.6179L23.9855 38.0506C23.1686 39.3737 20.6079 39.7517 17.9557 38.8615C15.1146 37.9104 13.2368 35.868 13.694 34.2584L13.9318 33.0207C14.0215 32.5411 13.9898 32.0467 13.8397 31.5824C13.6895 31.1181 13.4257 30.6988 13.0722 30.3625C9.97494 27.3506 8.56657 23.406 9.76155 19.8454Z",fill:"#FFEFA3"}),(0,i.jsx)("path",{d:"M21.0407 42.2577C19.8335 42.2577 18.5166 42.0321 17.2119 41.5932C15.1755 40.9164 13.4013 39.7763 12.3344 38.4716C12.2837 38.4193 12.2444 38.3572 12.2191 38.289C12.1938 38.2207 12.1829 38.148 12.1872 38.0754C12.1915 38.0027 12.2109 37.9318 12.2441 37.8671C12.2773 37.8023 12.3236 37.7452 12.3801 37.6993C12.4366 37.6535 12.502 37.6199 12.5722 37.6006C12.6423 37.5814 12.7158 37.577 12.7877 37.5877C12.8597 37.5984 12.9287 37.624 12.9902 37.6628C13.0518 37.7016 13.1046 37.7528 13.1453 37.8131C14.0903 38.9654 15.6938 39.9836 17.5411 40.6055C19.2848 41.1908 21.0895 41.3615 22.504 41.0749C22.5736 41.0547 22.6467 41.0491 22.7186 41.0586C22.7905 41.068 22.8597 41.0923 22.9217 41.1298C22.9838 41.1674 23.0374 41.2174 23.0791 41.2767C23.1208 41.336 23.1498 41.4033 23.1642 41.4744C23.1786 41.5455 23.1781 41.6188 23.1627 41.6897C23.1473 41.7605 23.1174 41.8275 23.0748 41.8862C23.0322 41.9449 22.9779 41.9941 22.9154 42.0308C22.8528 42.0675 22.7833 42.0908 22.7113 42.0992C22.1613 42.2092 21.6015 42.2623 21.0407 42.2577V42.2577ZM20.8761 45.0745C21.0147 45.062 21.1429 44.9956 21.233 44.8896C21.3231 44.7835 21.3679 44.6463 21.3577 44.5075C21.3453 44.3693 21.2787 44.2417 21.1725 44.1526C21.0662 44.0635 20.9289 44.0201 20.7907 44.0319C19.5043 44.1416 17.9862 43.9283 16.5229 43.4344C14.9377 42.904 13.5233 42.0931 12.5478 41.1481C12.4458 41.0675 12.3175 41.0276 12.1878 41.0362C12.058 41.0448 11.9361 41.1014 11.8457 41.1948C11.7553 41.2882 11.7029 41.4119 11.6985 41.5419C11.6942 41.6718 11.7383 41.7987 11.8222 41.898C12.9075 42.9528 14.4622 43.849 16.1876 44.4282C17.5228 44.8733 18.858 45.105 20.0957 45.105C20.364 45.105 20.62 45.0928 20.8761 45.0745V45.0745Z",fill:"#3F96EF"}),(0,i.jsx)("path",{d:"M11.6396 20.8698C13.2065 16.1813 19.4924 14.0657 25.6746 16.1386C31.8568 18.2116 35.5942 23.6865 34.0212 28.375C32.9969 31.4296 29.9729 33.3867 26.2782 33.8074C25.8773 33.851 25.493 33.9914 25.1584 34.2166C24.8238 34.4418 24.549 34.7449 24.3577 35.0999L23.7114 36.3193C23.0163 37.4411 20.8459 37.7642 18.59 37.0082C16.1817 36.1973 14.5844 34.4658 14.9746 33.1001L15.1819 32.0454C15.2562 31.6382 15.2283 31.2189 15.1006 30.8252C14.9729 30.4314 14.7494 30.0756 14.4502 29.7895C11.8164 27.2349 10.6275 23.8877 11.6396 20.8698Z",fill:"url(#paint0_linear_859_60333)"}),(0,i.jsx)("path",{d:"M18.8521 39.1186C19.1939 39.1973 19.54 39.2563 19.8886 39.2954C21.5042 33.412 23.2053 28.7905 24.7234 26.0652C28.1254 27.1627 29.3875 26.6993 29.8387 26.1018C30.2898 25.5043 30.1374 24.6691 29.3875 23.5838C28.6376 22.4986 27.9121 22.151 27.0341 22.3096C26.1562 22.4681 25.2111 23.2851 24.2539 24.8032C23.3483 24.4754 22.4627 24.0947 21.6018 23.6631C21.7908 21.6572 21.553 20.3098 20.9007 19.5965C20.5105 19.1697 19.7666 18.749 18.468 19.1575C17.1694 19.566 16.9316 20.2305 16.9255 20.7183C16.9072 21.9072 18.5351 23.1997 20.48 24.2545C19.9617 28.0589 18.1571 33.6985 16.4377 38.2041C16.7412 38.3718 17.0547 38.5205 17.3767 38.6492C18.0412 36.8933 18.9801 34.3021 19.8032 31.6073C20.6263 28.9125 21.1994 26.5896 21.4677 24.7605C22.2298 25.1263 22.998 25.4495 23.7174 25.7177C22.9187 27.1688 22.0895 29.0954 21.2421 31.4549C20.6507 33.0949 19.7971 35.6556 18.8521 39.1186ZM27.217 23.3399C27.3816 23.3095 27.8694 23.2241 28.5278 24.1752C29.0766 24.9739 29.0887 25.3641 29.0095 25.4677C28.8022 25.7421 27.6133 25.8579 25.2782 25.1446C25.9854 24.0655 26.6439 23.4375 27.217 23.3399ZM20.6019 23.1204C18.9862 22.1876 17.962 21.2548 17.9681 20.7366C17.9742 20.4439 18.5412 20.2366 18.785 20.1574C19.0013 20.0837 19.2273 20.0426 19.4557 20.0354C19.8825 20.0354 20.0593 20.2244 20.1263 20.3037C20.5653 20.7793 20.6995 21.7791 20.6019 23.1204Z",fill:"#FFC31A"}),(0,i.jsx)("path",{d:"M32.5883 3.43255C32.9256 3.21613 33.2127 2.93007 33.4304 2.59358C33.648 2.25708 33.7912 1.87793 33.8503 1.48156L34.0515 0.115857C34.0573 0.0830328 34.0746 0.0533456 34.1003 0.0321176C34.126 0.0108896 34.1584 -0.000490999 34.1918 1.62532e-05C34.2244 -0.000288277 34.256 0.0113057 34.2807 0.032628C34.3054 0.0539503 34.3215 0.0835394 34.3259 0.115857L34.5271 1.48156C34.5862 1.87793 34.7294 2.25708 34.9471 2.59358C35.1647 2.93007 35.4519 3.21613 35.7892 3.43255L35.966 3.54839C35.9867 3.55964 36.004 3.57641 36.0158 3.59685C36.0277 3.6173 36.0336 3.64062 36.033 3.66423C36.0336 3.68785 36.0277 3.71117 36.0158 3.73162C36.004 3.75206 35.9867 3.76883 35.966 3.78007L35.7892 3.90201C35.4524 4.11903 35.1657 4.40525 34.9481 4.74163C34.7305 5.07802 34.587 5.45688 34.5271 5.85301L34.3259 7.21871C34.3216 7.25162 34.3057 7.28194 34.2812 7.30426C34.2566 7.32659 34.2249 7.33948 34.1918 7.34065V7.34065C34.1579 7.33971 34.1254 7.32703 34.0998 7.30479C34.0742 7.28256 34.0572 7.25213 34.0515 7.21871L33.8503 5.85301C33.7905 5.45688 33.647 5.07802 33.4294 4.74163C33.2118 4.40525 32.9251 4.11903 32.5883 3.90201L32.4115 3.78617C32.3918 3.77413 32.3758 3.75702 32.3651 3.73663C32.3543 3.71624 32.3493 3.69334 32.3505 3.67033V3.67033C32.3493 3.64732 32.3543 3.62442 32.3651 3.60403C32.3758 3.58364 32.3918 3.56653 32.4115 3.55449L32.5883 3.43255Z",fill:"#55EF84"}),(0,i.jsx)("path",{d:"M39.3804 39.3185C39.7181 39.1011 40.0054 38.8141 40.2231 38.4765C40.4408 38.139 40.5837 37.7588 40.6424 37.3614L40.8497 35.9957C40.8541 35.9634 40.8702 35.9338 40.8949 35.9125C40.9196 35.8912 40.9512 35.8796 40.9838 35.8799V35.8799C41.0165 35.8796 41.0481 35.8912 41.0728 35.9125C41.0974 35.9338 41.1135 35.9634 41.118 35.9957L41.3253 37.3614C41.3851 37.7584 41.5285 38.1382 41.7461 38.4755C41.9636 38.8129 42.2504 39.1003 42.5873 39.3185L42.7641 39.4283C42.7826 39.4415 42.7977 39.4589 42.8083 39.479C42.8189 39.4991 42.8246 39.5214 42.8251 39.5441V39.5563C42.8246 39.5782 42.8189 39.5996 42.8082 39.6187C42.7976 39.6379 42.7825 39.6541 42.7641 39.666L42.5873 39.7819C42.2498 39.9996 41.9627 40.2867 41.7451 40.6242C41.5274 40.9617 41.3843 41.3418 41.3253 41.739L41.118 43.0986C41.1137 43.1315 41.0978 43.1618 41.0733 43.1841C41.0487 43.2065 41.017 43.2194 40.9838 43.2205V43.2205C40.9507 43.2194 40.919 43.2065 40.8944 43.1841C40.8699 43.1618 40.854 43.1315 40.8497 43.0986L40.6424 41.739C40.5845 41.3414 40.4419 40.9609 40.2241 40.6233C40.0064 40.2856 39.7186 39.9987 39.3804 39.7819L39.2035 39.666C39.1852 39.6541 39.1701 39.6379 39.1594 39.6187C39.1488 39.5996 39.143 39.5782 39.1426 39.5563V39.5441C39.143 39.5214 39.1488 39.4991 39.1594 39.479C39.17 39.4589 39.1851 39.4415 39.2035 39.4283L39.3804 39.3185Z",fill:"#FF78B5"}),(0,i.jsx)("path",{d:"M26.5035 8.52263C26.7308 8.37742 26.9245 8.18538 27.0717 7.95934C27.2189 7.73329 27.3162 7.47844 27.3571 7.2118L27.4912 6.29118C27.4953 6.2696 27.5065 6.25004 27.5231 6.23565C27.5397 6.22127 27.5607 6.21291 27.5826 6.21192V6.21192C27.6049 6.21172 27.6265 6.21966 27.6433 6.23426C27.6602 6.24885 27.6711 6.26909 27.6741 6.29118L27.8143 7.2118C27.8541 7.47805 27.9503 7.73273 28.0964 7.95879C28.2426 8.18486 28.4353 8.37709 28.6618 8.52263L28.7776 8.60189C28.7914 8.60981 28.8027 8.62143 28.8103 8.63544C28.8178 8.64944 28.8213 8.66527 28.8203 8.68115C28.8208 8.69613 28.8171 8.71096 28.8096 8.72391C28.802 8.73686 28.7909 8.7474 28.7776 8.75431L28.6618 8.83357C28.4353 8.97911 28.2426 9.17135 28.0964 9.39741C27.9503 9.62348 27.8541 9.87815 27.8143 10.1444L27.6741 11.065C27.6711 11.0871 27.6602 11.1074 27.6433 11.1219C27.6265 11.1365 27.6049 11.1445 27.5826 11.1443V11.1443C27.5607 11.1433 27.5397 11.1349 27.5231 11.1206C27.5065 11.1062 27.4953 11.0866 27.4912 11.065L27.3571 10.1444C27.3162 9.87776 27.2189 9.62291 27.0717 9.39686C26.9245 9.17082 26.7308 8.97878 26.5035 8.83357L26.3876 8.75431C26.3752 8.74646 26.3648 8.73571 26.3573 8.72297C26.3499 8.71023 26.3457 8.69588 26.345 8.68115V8.68115C26.3452 8.66548 26.3492 8.6501 26.3566 8.6363C26.364 8.62251 26.3747 8.6107 26.3876 8.60189L26.5035 8.52263Z",fill:"#89D6FF"}),(0,i.jsx)("path",{d:"M0.524839 29.6125C0.752168 29.4673 0.945898 29.2752 1.09309 29.0492C1.24028 28.8231 1.33755 28.5683 1.3784 28.3016L1.51253 27.381C1.51663 27.3594 1.52789 27.3399 1.54448 27.3255C1.56108 27.3111 1.58204 27.3027 1.60399 27.3018V27.3018C1.62627 27.3016 1.64786 27.3095 1.6647 27.3241C1.68154 27.3387 1.69247 27.3589 1.69544 27.381L1.83567 28.3016C1.87543 28.5679 1.9716 28.8226 2.11776 29.0486C2.26391 29.2747 2.45667 29.4669 2.68313 29.6125L2.79897 29.6917C2.81276 29.6997 2.82407 29.7113 2.83161 29.7253C2.83915 29.7393 2.84263 29.7551 2.84165 29.771V29.771C2.84218 29.786 2.83846 29.8008 2.8309 29.8138C2.82335 29.8267 2.81228 29.8372 2.79897 29.8442L2.68313 29.9295C2.45667 30.0751 2.26391 30.2673 2.11776 30.4934C1.9716 30.7194 1.87543 30.9741 1.83567 31.2403L1.69544 32.161C1.69247 32.1831 1.68154 32.2033 1.6647 32.2179C1.64786 32.2325 1.62627 32.2404 1.60399 32.2402C1.58204 32.2392 1.56108 32.2309 1.54448 32.2165C1.52789 32.2021 1.51663 32.1825 1.51253 32.161L1.3784 31.2403C1.33755 30.9737 1.24028 30.7189 1.09309 30.4928C0.945898 30.2668 0.752168 30.0747 0.524839 29.9295L0.408999 29.8503C0.396513 29.8424 0.386111 29.8317 0.378679 29.8189C0.371248 29.8062 0.367008 29.7918 0.366321 29.7771V29.7771C0.365528 29.7604 0.369036 29.7438 0.37651 29.7288C0.383983 29.7139 0.39517 29.7011 0.408999 29.6917L0.524839 29.6125Z",fill:"#3541D6"}),(0,i.jsx)("path",{d:"M14.5781 21.0834L14.8647 16.6449C14.9792 14.8659 14.41 13.1103 13.2734 11.7369L5.37186 2.17094C4.25003 0.823536 2.06735 1.91488 2.49413 3.6159C2.92091 5.31693 3.99396 7.55448 6.2559 9.8591L3.20137 8.51778C1.98809 7.98126 0.829688 9.37135 1.57351 10.4749C2.83556 12.3527 5.05482 14.4135 8.84707 14.8951L7.08508 15.5353C6.15835 15.8706 6.17664 17.1814 7.10946 17.5046C8.43858 17.9618 10.1335 18.2423 11.6638 17.5655C11.6638 17.5655 11.5297 19.7604 12.9076 21.5956C13.4258 22.2845 14.5233 21.9431 14.5781 21.0834Z",fill:"white"}),(0,i.jsx)("path",{d:"M32.7407 25.4545C32.9236 27.1067 32.9663 28.3992 33.6369 28.3261C34.3076 28.2529 35.3441 26.8384 35.1611 25.1862C34.9782 23.5339 33.643 22.2658 32.9724 22.339C32.3017 22.4121 32.5578 23.8022 32.7407 25.4545Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_859_60333",x1:"34.2419",y1:"5.70262",x2:"5.61649",y2:"53.1558",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{offset:"0.14","stop-color":"#FFE45C"}),(0,i.jsx)("stop",{offset:"0.83","stop-color":"#FFC31A"})]})})]})}},687683:function(e,t,n){var i,l,r,a;n.d(t,{WN:function(){return o},cl:function(){return i},oi:function(){return c},pS:function(){return l},t$:function(){return d},t9:function(){return s}});let s="Message Request Accept Confirmation";(r=i||(i={}))[r.ACCEPT=0]="ACCEPT",r[r.REJECT=1]="REJECT",r[r.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT",r[r.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT",r[r.ACCEPT_HAM_CONFIRMATION_PROMPT=4]="ACCEPT_HAM_CONFIRMATION_PROMPT",r[r.DISMISS_HAM_CONFIRMATION_PROMPT=5]="DISMISS_HAM_CONFIRMATION_PROMPT";let o=73,c=26,d=100;(a=l||(l={})).REQUESTS="REQUESTS",a.SPAM="SPAM"},268699:function(e,t,n){n.d(t,{H:function(){return o},V:function(){return c}});var i=n(200651);n(192379);var l=n(481060),r=n(626135),a=n(687683),s=n(981631);function o(e){let{channelId:t,onConfirm:o,onCancel:c}=e;r.default.track(s.rMx.OPEN_MODAL,{type:a.t9,channel_id:t}),(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("4117").then(n.bind(n,217723));return t=>(0,i.jsx)(e,{onConfirm:o,onDismiss:c,...t})})}function c(e){let{onConfirm:t,onCancel:r}=e;(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("7649").then(n.bind(n,797464));return n=>(0,i.jsx)(e,{onConfirm:t,onDismiss:r,...n})})}},748902:function(e,t,n){n(47120);var i,l,r,a,s=n(442837),o=n(570140),c=n(786761),d=n(594174),u=n(355298),h=n(333984);let p={},m=new Set;function f(e){return u.Z.isMessageRequest(e)||h.Z.isSpam(e)}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!f(e)||null!=t&&e!==(null==t?void 0:t.channel_id))return;let i=null==t?null:(0,c.e5)(t);p[e]={loaded:!0,error:n,message:i}}class C extends(i=s.ZP.Store){initialize(){this.waitFor(u.Z,h.Z,d.default)}shouldLoadMessageRequestPreview(e){return!m.has(e)}getMessageRequestPreview(e){return!(e in p)&&(p[e]={loaded:!1,error:!1,message:null}),p[e]}}a="MessageRequestPreviewStore",(r="displayName")in(l=C)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new C(o.Z,{CONNECTION_OPEN:function(){p={},m.clear()},CHANNEL_CREATE:function(e){let{channel:t}=e;f(t.id)&&m.add(t.id)},CHANNEL_UPDATES:function(e){let{channels:t}=e;for(let e of t)!f(e.id)&&(m.delete(e.id),delete p[e.id])},CHANNEL_DELETE:function(e){let{channel:t}=e;m.delete(t.id),delete p[t.id]},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;g(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){let t=e.message.channel_id;if(null==t)return!1;let n=p[t];if(null==n||null==n.message)return!1;p[t]={...n,message:(0,c.wi)(n.message,e.message)}},MESSAGE_DELETE:function(e){if(!f(e.channelId))return!1;p[e.channelId]={loaded:!0,error:!1,message:null}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS:function(e){let{requestedChannelIds:t,supplementalData:n}=e,i=new Set([...t]);for(let e of(n.forEach(e=>{g(e.channel_id,e.message_preview),i.delete(e.channel_id)}),Array.from(i)))g(e,null)},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR:function(e){let{requestedChannelIds:t}=e;t.forEach(e=>{g(e,null,!0)})}})},385956:function(e,t,n){n.d(t,{T:function(){return s},v:function(){return a}});var i=n(442837),l=n(355298),r=n(333984);function a(e){return(0,i.e7)([l.Z],()=>l.Z.isMessageRequest(e),[e])}function s(e){return(0,i.e7)([l.Z,r.Z],()=>null!=e&&(l.Z.isMessageRequest(e)||r.Z.isSpam(e)))}},15701:function(e,t,n){n.d(t,{G:function(){return r}});var i=n(442837),l=n(333984);function r(e){return(0,i.e7)([l.Z],()=>l.Z.isSpam(e),[e])}},486622:function(e,t,n){n.d(t,{m:function(){return C}}),n(47120);var i=n(192379),l=n(707019),r=n.n(l),a=n(881052),s=n(726521),o=n(621853),c=n(484459),d=n(695346),u=n(626135),h=n(823162),p=n(268699),m=n(9389),f=n(687683),g=n(981631);function C(e){let{user:t,onAcceptSuccess:n,onRejectSuccess:l,onError:C}=e,x=(0,m.Z)(),[v,_]=i.useState(!1),[I,E]=i.useState(!1),[b,Z]=i.useState(!1),[N,S]=i.useState(!1),[T,j]=i.useState(!1),A=v||I||b,y=i.useCallback(async e=>{if(!A){_(!0);try{await (0,h.e4)(e),S(!0),null==n||n()}catch(t){let e=new a.Hx(t);null==C||C(e)}finally{_(!1)}}},[A,n,C]),P=i.useCallback(async e=>{if(!A){E(!0);try{await (0,h.gN)(e),j(!0),null==l||l()}catch(t){let e=new a.Hx(t);null==C||C(e)}finally{E(!1)}}},[A,l,C]),M=i.useCallback(async e=>{if(A)return;E(!0);let t=r()(e,f.t$);try{for(let e of t)await (0,h.r_)(e);j(!0),null==l||l()}catch(t){let e=new a.Hx(t);null==C||C(e)}finally{E(!1)}},[A,l,C]),R=i.useCallback(async e=>{if(A)return;if(null!=t&&null==o.Z.getMutualGuilds(t.id)){Z(!0);try{await (0,c.Z)(t.id,t.getAvatarURL(void 0,80),{withMutualGuilds:!0,withMutualFriendsCount:!0})}catch(e){}finally{Z(!1)}}let n=async()=>{var n;let i=null!=t?null===(n=o.Z.getMutualGuilds(t.id))||void 0===n?void 0:n.map(e=>e.guild.id):[];u.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:f.cl.ACCEPT_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=i?i:[],other_user_id:null==t?void 0:t.id}),await y(e)};(0,p.H)({channelId:e,onConfirm:n,onCancel:()=>{var n;let i=null!=t?null===(n=o.Z.getMutualGuilds(t.id))||void 0===n?void 0:n.map(e=>e.guild.id):[];u.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:f.cl.DISMISS_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=i?i:[],other_user_id:null==t?void 0:t.id})}})},[y,A,t]),L=i.useCallback((e,t,n)=>{let i=(i,l)=>{l&&d.kJ.updateSetting(i),i&&null!=t&&(0,s.zd)(t),y(e.id),u.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:f.cl.ACCEPT_HAM_CONFIRMATION_PROMPT,channel_id:e.id,is_dont_show_again_checked:l,non_spam_retraining_opt_in:i}),null!=n&&n()},l=d.kJ.getSetting();null==l?(0,p.V)({channel:e,onConfirm:i,onCancel:()=>{u.default.track(g.rMx.MESSAGE_REQUEST_ACTION,{action:f.cl.DISMISS_HAM_CONFIRMATION_PROMPT,channel_id:e.id})}}):i(l)},[y]);return{acceptMessageRequest:x?R:y,rejectMessageRequest:P,rejectAll:M,markAsNotSpam:L,isAcceptLoading:v,isRejectLoading:I,isUserProfileLoading:b,isOptimisticAccepted:N,isOptimisticRejected:T}}},868807:function(e,t,n){n.d(t,{a:function(){return m}}),n(47120);var i=n(392711),l=n.n(i),r=n(442837),a=n(544891),s=n(570140),o=n(375954),c=n(306680),d=n(748902),u=n(981631);let h=new Set,p=null;function m(e){let{id:t}=e,{loaded:n,message:i,error:l}=(0,r.cj)([d.Z,o.Z,c.ZP],()=>{let e=c.ZP.lastMessageId(t),n=d.Z.getMessageRequestPreview(t);if(null==n.message&&null!=e){let n=o.Z.getMessage(t,e);if(null!=n)return{loaded:!0,error:!1,message:n}}return n},[t]),a=(0,r.e7)([d.Z],()=>d.Z.shouldLoadMessageRequestPreview(t),[t]);return!n&&null==i&&a&&function(e){h.add(e),null==p&&(p=setTimeout(f,0))}(t),{loaded:n,error:l,message:i}}async function f(){try{for(;!l().isEmpty(h);)await g()}finally{p=null}}async function g(){let e=Array.from(h).slice(0,25);try{let t=await a.tn.get({url:u.ANM.MESSAGE_REQUESTS_SUPPLEMENTAL_DATA,query:{channel_ids:e},rejectWithError:!0});s.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS",requestedChannelIds:e,supplementalData:t.body})}catch(t){s.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR",requestedChannelIds:e})}finally{for(let t of e)h.delete(t)}}},922409:function(e,t,n){n.d(t,{_:function(){return a}});var i=n(442837),l=n(897473),r=n(433355);function a(){let e=(0,i.e7)([r.ZP],()=>r.ZP.getSidebarState(r.uZ)),t=(null==e?void 0:e.type)===l.tI.VIEW_MESSAGE_REQUEST?e:null,n=null==t?void 0:t.channelId;return{channelId:n,hasSingleMessageRequest:(null==t?void 0:t.details)!=null&&t.details.type===l.Ff.MESSAGE_REQUEST&&t.details.hasSingleMessageRequest}}},9389:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(610697);function l(){return(0,i.Z)()}},86203:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(481060),r=n(493683),a=n(726521),s=n(718538),o=n(868807),c=n(388032);function d(e){let{channel:t,buttonSize:n=l.ButtonSizes.TINY,color:d=l.Button.Colors.RED,className:u,onReportClick:h,onReportSubmit:p,onMouseEnter:m,onMouseLeave:f}=e,{error:g,loaded:C}=(0,o.a)(t),x=t.isDM()?t.getRecipientId():null,v=(0,s.V)(t.id,x);if(null==v&&(C||g))return null;let _=()=>{null==p||p(),r.Z.closePrivateChannel(t.id)};return(0,i.jsx)(l.Button,{className:u,size:n,color:d,disabled:null==v,onClick:e=>{e.stopPropagation(),null==h||h(),null!=v&&(0,a.WL)(v,_)},onMouseEnter:m,onMouseLeave:f,children:c.intl.string(c.t["+78Pfn"])})}},226027:function(e,t,n){var i,l;n.d(t,{E:function(){return i}}),(l=i||(i={})).NEW_MESSAGES="new_messages",l.OPT_IN_CHANNEL="opt_in_channel",l.SUMMARIES="summaries"},925975:function(e,t,n){n.d(t,{g:function(){return C}}),n(47120),n(757143),n(627494);var i=n(477660),l=n.n(i),r=n(969812),a=n(904245),s=n(367907),o=n(339085),c=n(222677),d=n(995774),u=n(695346),h=n(375954),p=n(981631);let m=/\\([*?+/])/g,f={tts:{action:()=>({tts:u.OW.getSetting()})},me:{action:e=>({content:"_".concat(e,"_")})},tableflip:{action:e=>({content:"".concat(e," (╯\xb0□\xb0)╯︵ ┻━┻").trim()})},unflip:{action:e=>({content:"".concat(e," ┬─┬ノ( \xba _ \xbaノ)").trim()})},shrug:{action:e=>({content:"".concat(e," \xaf\\_(ツ)_/\xaf").trim()})},nick:{action(e,t){let{channel:n}=t;if(null!=n.guild_id)return r.Z.changeNickname(n.guild_id,n.id,p.ME,e),{content:""}}},reaction:{match:l().anyScopeRegex(/^\+:(.+?): *$/),action(e,t){let{isEdit:n,channel:i}=t;if(n||!h.Z.hasPresent(i.id))return;let l=h.Z.getMessages(i.id).last();if(null==l||null==l.id)return;let r=o.ZP.getDisambiguatedEmojiContext(i.guild_id).getByName(e.trim().slice(2,-1));if(null!=r)return(0,c.rU)(i.id,l.id,(0,d.g1)(r)),{content:""}}},searchReplace:{match:l().anyScopeRegex(/^s\/((?:.+?)[^\\]|.)\/(.*)/),action(e,t){var n;let{isEdit:i,channel:l}=t;if(i)return;let r=h.Z.getLastEditableMessage(l.id);if(null==r||null==r.id)return{content:""};let[,s,o]=Array.from(null!==(n=e.match(this.match.regex))&&void 0!==n?n:[]);s=s.replace(m,(e,t)=>t),o=o.replace(m,(e,t)=>t);let c=!1;o.endsWith("/g")&&(o=o.slice(0,-2),c=!0);let d=c?r.content.replaceAll(s,o):r.content.replace(s,o);return(null==d||""===d)&&0===r.attachments.length?a.Z.deleteMessage(l.id,r.id):e!==r.content&&a.Z.editMessage(l.id,r.id,{content:d}),{content:""}}},spoiler:{action:e=>({content:(0,p.XmY)(e).trim()})}};function g(e,t,n,i){return s.ZP.trackWithMetadata(p.rMx.SLASH_COMMAND_USED,{command:e}),t.action(n,i)}function C(e,t){for(let i in f){let l=f[i];if(null!=l.match){var n;if(null===(n=l.match.regex)||void 0===n?void 0:n.test(e))return g(i,l,e,t);continue}if(u.dN.getSetting()&&"/"===e[0]){let n=e.split(" ");if(i===n[0].slice(1)&&null!=l.action)return g(i,l,n.slice(1).join(" "),t)}}}Object.setPrototypeOf(f,null)},47481:function(e,t,n){n.d(t,{Z:function(){return u}}),n(653041),n(47120);var i=n(275726),l=n(135938),r=n(55935),a=n(709054),s=n(554838),o=n(493892),c=n(356647),d=n(981631);function u(e){let t,n,u,{channel:h,messages:p,oldestUnreadMessageId:m,treatSpam:f,summaries:g,selectedSummary:C}=e,x=[],v=!1,_=null!=m?a.default.extractTimestamp(m):null,I=null;return p.forEach(e=>{var l,E,b,Z,N,S,T,j;if(null!=g&&g.length>0){;let t=a.default.extractTimestamp(e.id);for(let e=0;l=e<(null==g?void 0:g.length),l;e++){if(null==g[e])continue;let n=a.default.extractTimestamp(g[e].startId),i=a.default.extractTimestamp(g[e].endId);if(t>=n&&t<=i){if(I===g[e].id)break;x.push({type:d.ys_.DIVIDER,content:g[e].topic,contentKey:g[e].id}),I=g[e].id;break}}}let A=(0,r.vc)(e.timestamp,"LL");A!==t&&null==I&&(x.push({type:d.ys_.DIVIDER,content:A,contentKey:A}),t=A);let y=x[x.length-1],P=null,M=(0,o.DQ)(e);v=v||M;let R=function(e,t,n){if(i.V.NON_COLLAPSIBLE.has(t.type));else if(t.blocked)return d.ys_.MESSAGE_GROUP_BLOCKED;else if(t.ignored)return d.ys_.MESSAGE_GROUP_IGNORED;else if((0,o.P1)(e)&&n)return d.ys_.MESSAGE_GROUP_SPAMMER;return null}(h,e,M&&f);if(null!==R){;let t,n;[P,y]=(E=x,b=e,Z=R,n=N=y,null==N||N.type!==Z?(t={type:Z,content:[],key:b.id},E.push(t)):n=(t=N).content[t.content.length-1],[t,n])}if(m===e.id&&null!=_){if(null!=y&&y.type===d.ys_.DIVIDER)y.unreadId=e.id,_=null;else if(null!==P){;S=P,T=h,(j=e).isFirstMessageInForumPost(T)||S.content.push({type:d.ys_.DIVIDER,unreadId:j.id}),S.hasUnread=!0,_=null}else!e.isFirstMessageInForumPost(h)&&x.push({type:d.ys_.DIVIDER,unreadId:e.id}),_=null}else null!=_&&a.default.extractTimestamp(e.id)>_&&(!e.isFirstMessageInForumPost(h)&&x.push({type:d.ys_.DIVIDER,unreadId:e.id}),_=null);let L=(0,c.f)(e,h);null!=L&&x.push({type:d.ys_.MESSAGE,content:L,groupId:L.id});let k=(null==y?void 0:y.type)===d.ys_.MESSAGE?u:y;(0,s.J)(h,k,e)&&(n=e.id);let O={type:e.type===d.uaV.THREAD_STARTER_MESSAGE?d.ys_.THREAD_STARTER_MESSAGE:d.ys_.MESSAGE,content:e,groupId:n};n===e.id&&(u=O);let{jumpSequenceId:D,jumpFlash:w,jumpTargetId:B}=p;w&&e.id===B&&null!=D&&(O.flashKey=D),p.jumpTargetId===e.id&&(O.jumpTarget=!0),null!=C&&e.id===C.startId&&C.count>1&&x.push({type:d.ys_.DIVIDER,content:C.topic,contentKey:C.startId,isSummaryDivider:!0}),null!==P?(P.content.push(O),O.jumpTarget&&(P.hasJumpTarget=!0)):x.push(O),e.isFirstMessageInForumPost(h)&&x.push({type:d.ys_.FORUM_POST_ACTION_BAR}),null!=C&&e.id===C.endId&&C.count>1&&x.push({type:d.ys_.DIVIDER,contentKey:C.endId,isSummaryDivider:!0})}),v&&(0,o.P1)(h)&&l.Z.trackExposure({location:"416cc9_1"}),x}},534091:function(e,t,n){n.d(t,{W:function(){return i},p:function(){return l}});let i="chat-messages";function l(e,t){return"".concat(i,"-").concat(e,"-").concat(t)}},356647:function(e,t,n){n.d(t,{f:function(){return p}}),n(47120),n(789020);var i=n(602715),l=n(812206),r=n(258732),a=n(314897),s=n(630388),o=n(786761),c=n(3148),d=n(981631);let u=new Map;function h(e,t){let n=(0,c.ZP)({channelId:t,type:d.uaV.IN_GAME_MESSAGE_NUX,content:"",author:e.author,flags:d.iLy.EPHEMERAL,state:d.yb.SENT}),i=(0,o.e5)(n);return i.applicationId=e.applicationId,i.timestamp=e.timestamp,i}function p(e,t){let n=function(e,t){var n,o;if(u.get(t.id)===e.id)return h(e,t.id);if(null==e.applicationId||!t.isDM()||e.author.id===a.default.getId()||(0,s.yE)(null!==(n=t.recipientFlags)&&void 0!==n?n:0,i.V.DISMISSED_IN_GAME_MESSAGE_NUX)||u.has(t.id))return null;let c=l.Z.getApplication(e.applicationId);if(null==c||!(0,s.yE)(c.flags,d.udG.SOCIAL_LAYER_INTEGRATION))return null;let p=h(e,t.id);u.set(t.id,e.id);let m=(0,s.mB)(null!==(o=t.recipientFlags)&&void 0!==o?o:0,i.V.DISMISSED_IN_GAME_MESSAGE_NUX,!0);return r.Z.updatePrivateChannelRecipientFlags(t.id,m),p}(e,t);return null!=n?n:null}},481369:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(399606),l=n(317381),r=n(16609),a=n(917107),s=n(592125),o=n(226027),c=n(918559);let d="no_text_activity",u={[d]:[o.E.NEW_MESSAGES,o.E.OPT_IN_CHANNEL,o.E.SUMMARIES],[c.Ez.DISCONNECTED]:[o.E.NEW_MESSAGES,o.E.OPT_IN_CHANNEL,o.E.SUMMARIES],[c.Ez.LAUNCHING_WITH_ORIENTATION_CHANGE]:[o.E.NEW_MESSAGES,o.E.OPT_IN_CHANNEL,o.E.SUMMARIES],[c.Ez.PANEL]:[],[c.Ez.PIP]:[o.E.NEW_MESSAGES,o.E.OPT_IN_CHANNEL,o.E.SUMMARIES],[c.Ez.ACTIVITY_POPOUT_WINDOW]:[o.E.NEW_MESSAGES,o.E.OPT_IN_CHANNEL,o.E.SUMMARIES]};function h(){let e=(0,i.e7)([l.ZP],()=>l.ZP.getCurrentEmbeddedActivity()),t=(0,i.e7)([l.ZP],()=>l.ZP.getActivityPanelMode()),n=(0,r.p)(null==e?void 0:e.location);return void 0===e||(0,a.Z)(n,s.Z)?u[d]:u[t]}},213010:function(e,t,n){n.d(t,{Q:function(){return a}});var i=n(442837),l=n(699516),r=n(981631);function a(e){let t=(0,i.e7)([l.Z],()=>l.Z.getRelationshipType(e),[e]);return t===r.OGo.NONE||t===r.OGo.BLOCKED||t===r.OGo.PENDING_INCOMING}},718538:function(e,t,n){n.d(t,{V:function(){return r}}),n(47120);var i=n(442837),l=n(375954);function r(e,t){return(0,i.e7)([l.Z],()=>{if(null==t)return;let n=l.Z.getMessages(e),i=n.findOldest(e=>e.author.id===t);if(null!=i){for(let e of n.toArray()){if(e.author.id!==t)break;e.content.length>(null==i?void 0:i.content.length)&&(i=e)}return i}},[e,t])}},186877:function(e,t,n){n.d(t,{$:function(){return d}});var i=n(442837),l=n(355298),r=n(88101),a=n(375954),s=n(699516),o=n(594174),c=n(981631);function d(e){let t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some(e=>e.bot),n=t?e.getRecipientId():null,d=(0,r.P)(e.id);return(0,i.e7)([a.Z,l.Z,s.Z,o.default],()=>{if(null!=d||!t||l.Z.isMessageRequest(e.id)||null!=n&&s.Z.getRelationshipType(n)===c.OGo.BLOCKED)return!1;if(null!=n){let e=o.default.getUser(n);if(null!=e&&e.hasFlag(c.xW$.PROVISIONAL_ACCOUNT))return!1}let i=a.Z.getMessages(e.id);return i.ready&&!i.hasMoreBefore&&!i.hasMoreAfter&&i.length<25&&!a.Z.hasCurrentUserSentMessage(e.id)},[d,t,e.id,n])}},158969:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(653603),o=n.n(s),c=n(442837),d=n(481060),u=n(904245),h=n(232961),p=n(223606),m=n(63063),f=n(530472),g=n(453687),C=n(930282),x=n(318713),v=n(981631),_=n(388032),I=n(73368),E=n(507304),b=n(665162);let Z=l.memo(function(e){let{message:t,notice:n,compact:l=!1,onDismiss:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:a()(I.blockedNoticeContainer,{[I.compact]:l}),children:[(0,i.jsx)("div",{className:I.blockedNoticeIcon,children:(0,i.jsx)(d.ShieldIcon,{size:"xs",color:"currentColor",className:I.shieldIcon})}),(0,i.jsx)("div",{className:I.blockedNotice,children:(0,i.jsx)(d.Text,{variant:"text-sm/normal",color:"interactive-normal",children:n})})]}),(0,i.jsx)("div",{className:a()(I.ephemeralAccessories,{[I.compact]:l}),children:(0,i.jsx)(f.Z,{message:t,onDeleteMessage:r,children:(0,i.jsx)(d.Text,{variant:"text-xs/normal",color:"interactive-normal",tag:"span",className:I.learnMore,children:_.intl.format(_.t.Nd3Gh4,{helpUrl:m.Z.getArticleURL(v.BhN.GUILD_AUTOMOD_BLOCKED_MESSAGE)})})})})]})});t.Z=l.memo(function(e){var t,n;let{className:r,compact:s,message:d,children:m,content:f,onUpdate:v}=e,N=null===(t=d.editedTimestamp)||void 0===t?void 0:t.toString(),S=l.useRef(!1),T=(0,c.e7)([p.Z],()=>p.Z.getMessage(d.id),[d.id]),j=l.useCallback(()=>{(null==T?void 0:T.isBlockedEdit)?(0,h.I)(d.id):u.Z.deleteMessage(d.channel_id,d.id,!0)},[d,T]);return l.useLayoutEffect(()=>{S.current?null!=v&&v():S.current=!0},[v,d.content,f,N,m]),(0,i.jsxs)("div",{id:(0,g.ut)(d),className:a()(r,b.markup,{[E.messageContent]:!0,[E.markupRtl]:"rtl"===o()(d.content),[I.blockedEdit]:null==T?void 0:T.isBlockedEdit,[I.blockedSend]:!(null==T?void 0:T.isBlockedEdit)}),children:[null!=m?m:(0,C.L5)(d,f),(null==T?void 0:T.isBlockedEdit)&&null!=d.timestamp&&(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(x.Z,{timestamp:d.timestamp,isEdited:!0,isInline:!1,children:(0,i.jsxs)("span",{className:E.edited,children:["(",_.intl.string(_.t.Z7eEx8),")"]})})]}),(0,i.jsx)(Z,{notice:null!==(n=null==T?void 0:T.errorMessage)&&void 0!==n?n:_.intl.string(_.t.zQ69pq),message:d,compact:s,onDismiss:j})]})},C.HR)},233715:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(329683);function o(e){let{children:t,className:n,flashKey:r}=e,[o,c]=l.useState(!1),d=l.useRef(null);return l.useEffect(()=>(c(!0),d.current=window.setTimeout(()=>{c(!1)},2e3),()=>{null!=d.current&&clearTimeout(d.current)}),[r]),(0,i.jsx)("div",{"data-flash":o,className:a()(s.flash,n),children:t})}},534469:function(e,t,n){n.d(t,{AP:function(){return Y},Ru:function(){return q}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(91192),d=n(442837),u=n(481060),h=n(607070),p=n(223606),m=n(518738),f=n(628238),g=n(807092),C=n(869765),x=n(703656),v=n(695346),_=n(592125),I=n(906467),E=n(323873),b=n(709054),Z=n(786761),N=n(534091),S=n(901461),T=n(739566),j=n(233715),A=n(492593),y=n(453687),P=n(348238),M=n(62072),R=n(38267),L=n(25015),k=n(689674),O=n(438075),D=n(764893),w=n(481363),B=n(900902),U=n(252032),H=n(737243),G=n(614584),F=n(295790),V=n(959517),z=n(981631),W=n(388032),K=n(46124);function Y(e,t,n){return e.getElementById((0,N.p)(t,n))}function q(e){var t;let{id:n,message:l,message:{messageReference:r},compact:s=!1,className:u}=e;o()(l.type===z.uaV.THREAD_STARTER_MESSAGE,"Message must be a thread starter message");let{...h}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),p=(0,d.e7)([C.Z],()=>C.Z.getMessageByReference(r)),{popouts:m,setPopout:f}=(0,R.Z)(l.id,V.d$),g=(0,T.ZP)(l),x=(0,y.iG)(l),v=(0,y.Gx)(l);return l.type===z.uaV.THREAD_STARTER_MESSAGE&&null!=p&&p.state===C.Y.LOADED?(0,i.jsx)(X,{...e,viewingChannelId:l.channel_id,message:p.message,groupId:p.message.id}):(0,i.jsx)(A.Z,{...h,id:n,compact:s,className:a()(u,{[K.message]:!0,[K.cozyMessage]:!s,[K.systemMessage]:!0,[K.groupStart]:!0}),childrenHeader:(0,B.Z)({messageProps:e,setPopout:f,messagePopouts:m,replyReference:r,author:g}),childrenSystemMessage:(0,F.Z)(e),childrenMessageContent:null,"aria-labelledby":x,"aria-describedby":v,hasThread:!1})}function X(e){var t,n;let{id:r,message:s,message:{id:o,channel_id:p},channel:{guild_id:g},compact:_=!1,className:I,groupId:E,viewingChannelId:b}=e,N=s.type===z.uaV.REPLY?s.messageReference:void 0,{onFocus:j,...k}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),{isFocused:D,handleFocus:w,handleBlur:H}=(0,P.bb)(j),{popouts:Y,selected:q,setPopout:X}=(0,R.Z)(s.id,V.d$),J=v.RS.useSetting(),Q=v.NA.useSetting(),$=(0,d.e7)([C.Z],()=>C.Z.getMessageByReference(N)),ee=(0,f.A)((null!==(n=s.editedTimestamp)&&void 0!==n?n:s.timestamp).valueOf()),{handleMouseEnter:et,handleMouseLeave:en,isHovered:ei}=(0,P.tn)(E,s.author.id,q),el=(0,d.e7)([h.Z],()=>h.Z.keyboardModeEnabled),er=q||el&&D,ea=er||ei,{content:es,hasSpoilerEmbeds:eo}=(0,L.Z)(s,{hideSimpleEmbedContent:J&&Q,isInteracting:ea,formatInline:!1,allowList:ee,allowHeading:ee,allowLinks:!0,previewLinkTarget:!0,viewingChannelId:b}),ec=(0,M.Z)(o,p,el),ed=(0,T.ZP)(s),eu=(0,y.iG)(s,E),eh=(0,y.Gx)(s),ep=(0,U.Z)(e,es,!1),em=l.useCallback(()=>(0,x.XU)(g,p,o),[g,p,o]),ef=(0,m.p9)({guildId:g,roleId:ed.iconRoleId});return(0,i.jsxs)("div",{className:K.quotedChatMessage,children:[(0,i.jsx)(u.Clickable,{className:K.jump,onClick:em,"aria-label":W.intl.string(W.t.k5WiPT),children:W.intl.string(W.t.k5WiPT)}),(0,i.jsx)(A.Z,{...k,id:r,compact:_,className:a()(I,{[K.message]:!0,[K.cozyMessage]:!_,[K.mentioned]:s.mentioned,[K.ephemeral]:(0,Z.Pv)(s),[K.systemMessage]:(0,S.Z)(s),[K.groupStart]:s.id===E||s.type===z.uaV.REPLY,[K.selected]:er}),zalgo:!0,onKeyDown:ec,onFocus:w,onBlur:H,childrenRepliedMessage:s.type===z.uaV.REPLY&&(0,G.Z)({...e,setPopout:X,referencedUsernameProfile:Y.referencedUsernameProfile,referencedAvatarProfile:Y.referencedAvatarProfile,replyReference:N,replyMessage:$,isReplySpineClickable:!0}),childrenHeader:(0,B.Z)({messageProps:e,setPopout:X,messagePopouts:Y,replyReference:N,author:ed,repliedMessage:$,roleIcon:ef}),childrenAccessories:(0,O.Z)({channelMessageProps:e,hasSpoilerEmbeds:eo,isInteracting:ea,renderThreadAccessory:!1,renderComponentAccessory:!1,renderSuppressEmbeds:!1,renderReactions:!1}),childrenSystemMessage:(0,F.Z)(e),childrenMessageContent:ep,onMouseMove:et,onMouseLeave:en,"aria-labelledby":eu,"aria-describedby":eh,hasThread:!1})]})}t.ZP=l.memo(function(e){var t,n;let r;let{id:s,message:x,message:{id:N},channel:Y,channel:{id:q},compact:X=!1,className:J,flashKey:Q,groupId:$,renderContentOnly:ee}=e;o()(x.type!==z.uaV.THREAD_STARTER_MESSAGE,"Message must not be a thread starter message");let et=z.OBS.has(x.type)?x.messageReference:void 0,{onFocus:en,...ei}=(0,c.JA)(null!==(t=e.id)&&void 0!==t?t:""),el=v.RS.useSetting(),er=v.NA.useSetting(),ea=(0,d.e7)([C.Z],()=>C.Z.getMessageByReference(et)),{popouts:es,selected:eo,setPopout:ec}=(0,R.Z)(x.id,V.d$),ed=(0,P.qo)(x,Y,ec),eu=(0,P.Go)(x,Y),{handleMouseEnter:eh,handleMouseLeave:ep,hasHovered:em,isHovered:ef}=(0,P.tn)($,x.author.id,eo),{isFocused:eg,hasFocused:eC,handleFocus:ex,handleBlur:ev}=(0,P.bb)(en),e_=(0,d.e7)([E.Z],()=>E.Z.isEditing(q,N),[q,N]),eI=(0,d.e7)([h.Z],()=>h.Z.keyboardModeEnabled),eE=eo||e_||eI&&eg,eb=eE||ef,eZ=(0,d.e7)([_.Z],()=>x.hasFlag(z.iLy.HAS_THREAD)&&_.Z.getChannel(b.default.castMessageIdAsChannelId(x.id))),eN=x.isFirstMessageInForumPost(Y),eS=(0,f.A)((null!==(n=x.editedTimestamp)&&void 0!==n?n:x.timestamp).valueOf()),eT=(0,d.e7)([I.Z],()=>I.Z.isDeveloper),{content:ej,hasSpoilerEmbeds:eA}=(0,L.Z)(x,{hideSimpleEmbedContent:el&&er,isInteracting:eb,formatInline:!1,allowList:eN||eS,allowHeading:eN||eS,allowLinks:!0,allowDevLinks:eT,previewLinkTarget:!0}),ey=(0,M.Z)(N,q,eI),eP=(0,T.ZP)(x),eM=(0,d.e7)([g.Z],()=>g.Z.getPendingReply(q)),eR=function(e){let t=l.useRef(e);return l.useEffect(()=>void(t.current=null!=e?e:t.current)),null!=e?e:t.current}(Q),eL=(0,m.p9)({guildId:Y.guild_id,roleId:eP.iconRoleId}),ek=(0,y.iG)(x,$),eO=(0,y.Gx)(x),eD=(0,d.e7)([p.Z],()=>p.Z.getMessage(N),[N]),ew=(0,k.Z)({message:x,channel:Y}),eB=null!=eD;r=x.type===z.uaV.CUSTOM_GIFT?"":!e_&&eB?(0,D.Z)(e,ej):(0,U.Z)(e,ej,e_);let eU=x.id===$,eH=(0,i.jsx)(u.FocusRing,{offset:{left:4,right:4},children:(0,i.jsx)("li",{id:s,className:K.messageListItem,"aria-setsize":-1,children:(0,i.jsx)(A.Z,{...ei,"aria-setsize":-1,"aria-roledescription":W.intl.string(W.t.BAB0yM),"aria-labelledby":ek,"aria-describedby":eO,onFocus:ex,onBlur:ev,onContextMenu:ed,onKeyDown:ey,onClick:eu,compact:X,contentOnly:ee,className:a()(J,{[K.message]:!0,[K.cozyMessage]:!X,[K.mentioned]:x.mentioned,[K.ephemeral]:(0,Z.Pv)(x),[K.nitroMessage]:x.type===z.uaV.NITRO_NOTIFICATION,[K.systemMessage]:(0,S.Z)(x),[K.groupStart]:!ee&&(eU||x.type===z.uaV.REPLY),[K.selected]:eE,[K.replying]:(null==eM?void 0:eM.message.id)===x.id,[K.interactionSending]:x.isCommandType()&&x.state===z.yb.SENDING,[K.automodMessage]:eB}),zalgo:!e_,childrenRepliedMessage:ee||x.type!==z.uaV.REPLY?void 0:(0,G.Z)({...e,setPopout:ec,referencedUsernameProfile:es.referencedUsernameProfile,referencedAvatarProfile:es.referencedAvatarProfile,replyReference:et,replyMessage:ea,isReplySpineClickable:!0}),childrenExecutedCommand:(0,H.Z)(e,ec,es),childrenHeader:ee?void 0:(0,B.Z)({messageProps:e,setPopout:ec,messagePopouts:es,replyReference:et,author:eP,repliedMessage:ea,roleIcon:eL}),childrenAccessories:(0,O.Z)({channelMessageProps:e,hasSpoilerEmbeds:eA,handleContextMenu:ed,isInteracting:eb,isAutomodBlockedMessage:eB}),childrenButtons:em||eC?(0,w.Z)({buttonProps:e,setPopout:ec,messagePopouts:es,isFocused:ef||eg}):void 0,childrenSystemMessage:(0,F.Z)(e),childrenMessageContent:r,onMouseMove:eh,onMouseLeave:ep,hasThread:!ee&&x.hasFlag(z.iLy.HAS_THREAD)&&null!=eZ,isSystemMessage:(0,S.Z)(x),hasReply:x.type===z.uaV.REPLY,messageRef:ew})})});return null!=eR?(0,i.jsx)(j.Z,{flashKey:eR,className:a()({[K.backgroundFlash]:!0,[K.groupStart]:!X&&x.id===$}),children:eH},"bg-flash-".concat(s)):eH})},993397:function(e,t,n){n(627341),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(278074),o=n(481060),c=n(922611),d=n(492593),u=n(534469),h=n(511010),p=n(834129),m=n(981631),f=n(388032),g=n(447817),C=n(46124);function x(e){let{expanded:t,onClick:n,count:l,compact:r,collapsedReason:a}=e,u=(0,c.Do)({location:"CollapsedItemMessage"}),h=(0,s.EQ)({stealthRemediationEnabled:u,expanded:t}).returnType().with({stealthRemediationEnabled:!0,expanded:!0},()=>f.intl.string(f.t.fgq1go)).with({stealthRemediationEnabled:!0,expanded:!1},()=>f.intl.string(f.t.XJuakJ)).with({stealthRemediationEnabled:!1,expanded:!1},()=>f.intl.formatToPlainString(f.t.wUJXIi,{count:l})).with({stealthRemediationEnabled:!1,expanded:!0},()=>f.intl.formatToPlainString(f.t["5XFZjY"],{count:l})).exhaustive(),m=(0,s.EQ)({stealthRemediationEnabled:u,collapsedReason:a}).with({stealthRemediationEnabled:!0,collapsedReason:f.t.VFWjc3},()=>(0,i.jsx)(o.EyeSlashIcon,{size:"md",color:"currentColor",className:g.blockedIcon})).with({stealthRemediationEnabled:!0,collapsedReason:f.t["+FcYMz"]},()=>(0,i.jsx)(o.DenyIcon,{size:"md",color:"currentColor",className:g.blockedIcon})).otherwise(()=>(0,i.jsx)(o.XSmallIcon,{size:"md",color:"currentColor",className:g.blockedIcon}));return(0,i.jsx)(d.Z,{compact:r,role:"group",childrenMessageContent:(0,i.jsx)(p.Z,{compact:r,className:g.blockedSystemMessage,iconNode:m,children:(0,i.jsxs)("div",{className:g.blockedMessageText,children:[f.intl.format(a,{count:l})," —"," ",(0,i.jsx)(o.Clickable,{tag:"span",onClick:n,className:g.blockedAction,children:h})]})})})}t.Z=l.memo(function(e){var t;let{messages:n,channel:r,compact:s=!1,unreadId:o,collapsedReason:c}=e,{hasJumpTarget:d=!1}=n,[p,f]=l.useState(d),v=l.useCallback(()=>f(e=>!e),[]),_=n.hasUnread?n.content.length-1:n.content.length;return(0,i.jsxs)("div",{className:a()({[C.groupStart]:!0,[g.expanded]:p}),children:[n.hasUnread&&(!p||(null===(t=n.content[0])||void 0===t?void 0:t.type)===m.ys_.DIVIDER)?(0,i.jsx)(h.Z,{isUnread:!0,id:o},"divider"):null,(0,i.jsx)(x,{count:_,compact:s,expanded:p,onClick:v,collapsedReason:c},"collapsed-message-item"),p?n.content.map((e,t)=>{if(e.type===m.ys_.DIVIDER&&t>0){var l,a;let e=null!==(a=null===(l=n.content[t+1])||void 0===l?void 0:l.isGroupStart)&&void 0!==a&&a;return(0,i.jsx)(h.Z,{isUnread:!0,isBeforeGroup:e,id:o},"divider")}if(e.type===m.ys_.MESSAGE||e.type===m.ys_.THREAD_STARTER_MESSAGE){let t=e.type===m.ys_.THREAD_STARTER_MESSAGE?u.Ru:u.ZP;return(0,i.jsx)(t,{className:g.__invalid_blocked,compact:s,channel:r,message:e.content,groupId:e.groupId,flashKey:e.flashKey,isLastItem:!1,renderContentOnly:!1},e.content.id)}}):null]})})},216337:function(e,t,n){var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(607070),o=n(665906),c=n(314897),d=n(496675),u=n(981631),h=n(388032),p=n(276204);let m=()=>n.e("26176").then(n.t.bind(n,737848,19)).then(e=>{let{default:t}=e;return t});t.Z=l.memo(function(e){let{channel:t,isLastItem:n}=e,l=(0,r.e7)([s.Z],()=>s.Z.useReducedMotion),f=(0,r.e7)([d.Z],()=>d.Z.can(u.Plq.SEND_MESSAGES_IN_THREADS,t)),g=(0,o.Gu)(t),C=(0,r.e7)([c.default],()=>c.default.getId());return n?f&&!g&&t.ownerId!==C?(0,i.jsxs)("div",{className:p.box,children:[(0,i.jsx)(a.LottieAnimation,{importData:m,shouldAnimate:!l,className:p.animation}),(0,i.jsxs)("div",{className:p.textContainer,children:[(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",children:h.intl.string(h.t.OmBThI)}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:h.intl.string(h.t.zcs5kp)})]})]}):null:(0,i.jsx)("div",{className:p.divider})})},955384:function(e,t,n){n.d(t,{Z:function(){return h}}),n(47120);var i=n(200651),l=n(192379),r=n(925975),a=n(957730),s=n(981631),o=n(388032),c=n(946712);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){e.stopPropagation()}class h extends l.PureComponent{render(){let{className:e,textValue:t,richValue:n,message:l,channel:r,onCancel:a,children:s,isRefreshEnabled:d}=this.props,h=(0,i.jsx)("div",{className:c.operations,children:o.intl.format(o.t.wDsPXl,{onCancel:()=>a(r.id),onSave:this.onClickSave})});return(0,i.jsxs)("div",{className:e,ref:this.node,onContextMenu:u,children:[s({textValue:t,richValue:n,message:l,channel:r,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,renderLeftAccessories:()=>h}),d?null:h]})}constructor(...e){super(...e),d(this,"node",l.createRef()),d(this,"onClickSave",()=>{let{textValue:e}=this.props;this.onSubmit(e)}),d(this,"onSubmit",e=>{let{message:t,channel:n,onConfirmDelete:i,onCancel:l,saveMessage:s,validateEdit:o}=this.props;return 0===e.length?(i(n,t),l(n.id),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):o({value:e,channel:n}).then(t=>{let{valid:i}=t;if(!i)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});let o=(0,r.g)(e,{channel:n,isEdit:!0});(null==o?void 0:o.content)!=null&&(e=o.content);let c=a.ZP.parse(this.props.channel,e);return c.content!==this.props.message.content&&s(this.props.channel.id,this.props.message.id,c),l(n.id),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})}),d(this,"onChange",(e,t,n)=>{let{channel:i,onChange:l}=this.props;l(i.id,t,n)}),d(this,"onKeyDown",e=>{if(e.keyCode===s.yXg.ESCAPE&&!e.shiftKey){let{channel:t,onCancel:n}=this.props;e.preventDefault(),e.stopPropagation(),n(t.id)}})}}},545594:function(e,t,n){n.d(t,{i:function(){return s}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(14945);function s(e){let{bannerIcon:t,bannerHeader:n,bannerSubtext:l,containerStyles:s,headerStyles:o,children:c}=e;return(0,i.jsxs)("div",{className:a.spamBanner,children:[(0,i.jsxs)("div",{className:r()(a.bannerTextContainer,s),children:["string"==typeof t?(0,i.jsx)("img",{src:t,alt:"",className:a.bannerIcon}):t,(0,i.jsxs)("div",{className:a.bannerText,children:[(0,i.jsx)("div",{className:r()(a.bannerHeader,o),children:n}),(0,i.jsx)("div",{className:a.bannerSubtext,children:l})]})]}),(0,i.jsx)("div",{className:a.actionButtons,children:c})]})}},566898:function(e,t,n){n.d(t,{M9:function(){return x},Pb:function(){return C},XX:function(){return f},ZP:function(){return v},ZT:function(){return h},iv:function(){return g},pk:function(){return m}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(392711),s=n.n(a),o=n(481060),c=n(610654);function d(e){return"".concat(e/16,"rem")}function u(){return(0,i.jsx)("div",{className:c.avatar,style:{opacity:.08}})}function h(e){let{width:t,opacity:n,className:l}=e;return(0,i.jsx)("div",{className:r()(l,{[c.blob]:!0}),style:{width:d(t),opacity:null!=n?n:s().random(.02,.08)}})}function p(e){let t,{groupStart:n=!1,compact:l=!1,attachmentSpecs:a,usernameWidth:d,usernameOpacity:p,className:m,style:f}=e,g=l?50:s().random(40,50);return!l&&n?t=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u,{}),(0,i.jsx)(o.H,{className:c.header,children:(0,i.jsx)(h,{width:d,opacity:p,className:c.__invalid_username})})]}):l&&(t=(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(h,{width:g,className:r()({[c.compactTimestamp]:!0,[c.hidden]:!n})}),(0,i.jsx)(o.H,{className:c.header,children:(0,i.jsx)(h,{width:d,opacity:p})})]})),(0,i.jsxs)("div",{"aria-hidden":!0,className:r()(m,{[c.wrapper]:!0,[c.compact]:l,[c.cozy]:!l}),style:f,children:[(0,i.jsxs)("div",{className:c.contents,children:[t,(0,i.jsx)("div",{className:c.content,children:Array(s().random(3,8)).fill(null).map(()=>s().random(30,80)).map((e,t)=>(0,i.jsx)(h,{width:e,opacity:.06},t))})]}),null!=a&&(0,i.jsx)("div",{className:c.attachmentContainer,children:(0,i.jsx)("div",{className:c.attachment,style:{opacity:.03,...a}})})]})}let m=44,f=22,g=26,C=26,x=6;function v(e){let{messages:t,groupSpacing:n=0,compact:l=!1,attachmentSpecs:r,className:a}=e,o=null!=r?r.last?t-1:s().random(0,t-1):-1,c=s().random(80,120),u=s().random(.1,.2);return(0,i.jsx)(i.Fragment,{children:Array(t).fill(null).map((e,t)=>(0,i.jsx)(p,{compact:l,className:a,usernameWidth:c,usernameOpacity:u,groupStart:0===t,attachmentSpecs:t===o?r:void 0,style:0===t?{marginTop:d(n)}:void 0},t))})}},977391:function(e,t,n){n.d(t,{ZP:function(){return u},aJ:function(){return d}}),n(411104),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(566898),o=n(981631),c=n(679905);function d(e){let{compact:t,messageGroups:n,groupRange:i,attachments:l,fontSize:r,groupSpacing:c}=e;if(l>n)throw Error("generateMessageSpecs: too many attachments relative to messageGroups: ".concat(n,", ").concat(l));let d=r/o.yqN.FONT_SIZE_DEFAULT,u=t?s.iv:s.pk,h=t?s.Pb:s.XX,p=0,m=Array(n).fill(null).map(()=>{let e=a().random(1,i);return p+=c*d+u*d+(e-1)*h*d,e}),f=m.map((e,t)=>t),g=[];for(;g.length<l;){let e={width:a().random(140,400),height:a().random(100,320)};g.push([f.splice(a().random(0,f.length-1),1)[0],e]),p+=e.height+s.M9*d}return{messages:m,attachmentSpecs:g,totalHeight:p,groupSpacing:c}}function u(e){let{compact:t,messages:n,attachmentSpecs:r,totalHeight:a,groupSpacing:o}=e;return l.useMemo(()=>{let e=Array(n.length).fill(void 0);for(let[t,n]of r)e[t]=n;return(0,i.jsx)("div",{className:c.wrapper,style:{height:a},children:n.map((n,l)=>(0,i.jsx)(s.ZP,{groupSpacing:o,compact:t,messages:n,attachmentSpecs:e[l]},l))})},[t,n,r,a,o])}},921235:function(e,t,n){n.d(t,{Z:function(){return b}}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),c=n(904245),d=n(268350),u=n(926491),h=n(419922),p=n(314897),m=n(375954),f=n(594174),g=n(626135),C=n(51144),x=n(901461),v=n(981631),_=n(388032),I=n(207349);let E="749054660769218631";function b(e){var t;let{channel:n}=e,[r,b]=l.useState("");l.useEffect(()=>{(0,d.FQ)("847199849233514549",!0)},[]);let Z=(0,s.e7)([m.Z,p.default],()=>!!a()(m.Z.getMessages(n.id).toArray()).reverse().find(e=>e.author.id!==p.default.getId()&&e.state===v.yb.SENT&&!(0,x.Z)(e))),N=(0,s.e7)([f.default],()=>f.default.getUser(n.isPrivate()?n.getRecipientId():null)),S=null!==(t=C.ZP.useName(N))&&void 0!==t?t:_.intl.string(_.t.y1Wu2d),T=(0,s.e7)([u.Z],()=>u.Z.getStickerById(E)),j=l.useCallback(async()=>{if(null==r||""===r)try{await c.Z.sendGreetMessage(n.id,E),g.default.track(v.rMx.DM_EMPTY_ACTION,{channel_id:n.id,channel_type:n.type,source:"Wave",type:"Send wave"})}catch(e){!e.ok&&429===e.status&&b(_.intl.string(_.t["Whhv4+"]))}},[n.id,n.type,r]),A=_.intl.formatToPlainString(_.t.m0zYbW,{username:S}),y=null!=r&&""!==r?(0,i.jsx)(o.Text,{className:I.error,color:"text-danger",variant:"text-sm/normal",children:r}):null;return Z?(0,i.jsxs)("div",{className:I.containerCompact,children:[(0,i.jsxs)(o.Clickable,{className:null!=r&&""!==r?I.compactButtonDisabled:I.compactButton,"aria-label":_.intl.string(_.t.pJObYG),onClick:j,children:[(0,i.jsx)(h.ZP,{sticker:T,size:24}),(0,i.jsx)(o.Text,{className:I.text,variant:"text-md/medium",children:A})]}),y]}):(0,i.jsxs)("div",{className:I.containerExpanded,children:[(0,i.jsx)(h.ZP,{sticker:T,size:160}),(0,i.jsx)(o.Button,{className:I.button,onClick:j,disabled:!!r,children:A}),y]})}},773176:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(954955),o=n.n(s),c=n(442837),d=n(704215),u=n(481060),h=n(596454),p=n(607070),m=n(110630),f=n(706140),g=n(543241),C=n(407477),x=n(633302),v=n(856985),_=n(346610),I=n(868643),E=n(245216),b=n(223606),Z=n(188597),N=n(41776),S=n(222677),T=n(995774),j=n(931651),A=n(280845),y=n(2818),P=n(768943),M=n(665906),R=n(695346),L=n(314897),k=n(323873),O=n(271383),D=n(430824),w=n(607744),B=n(496675),U=n(626135),H=n(572004),G=n(176354),F=n(823379),V=n(970257),z=n(418476),W=n(151007),K=n(432376),Y=n(373662),q=n(996861),X=n(603490),J=n(225138),Q=n(717680),$=n(981631),ee=n(921944),et=n(185923),en=n(388032),ei=n(522613);let el=[x.ZP.getByName("100"),x.ZP.getByName("laughing"),x.ZP.getByName("sparkling_heart")].filter(F.lm);function er(e){e.stopPropagation()}function ea(e){let{message:t,channel:n,canReport:i,onClose:l,updatePosition:r}=e;return(0,J.useMessageMenu)({message:t,channel:n,textSelection:"",favoriteableType:null,favoriteableId:null,favoriteableName:null,itemHref:void 0,itemSrc:void 0,itemSafeSrc:void 0,itemTextContent:void 0,canReport:i,onHeightUpdate:r,onClose:l,navId:"message-actions",ariaLabel:en.intl.string(en.t.Lv7LxM)})}let es=l.memo(function(e){let{channel:t,message:n}=e,l=(0,g.q5)(t.guild_id).filter(e=>!G.ZP.isEmojiFilteredOrLocked({emoji:e,channel:t,intention:et.Hz.REACTION,guildId:t.guild_id})),r=(l.length>=3?l:[...(0,v.Z)(l.concat(el)).values()]).slice(0,3),a=n.reactions.filter(e=>e.me);return(0,i.jsx)(i.Fragment,{children:r.map(e=>{var l;let r=a.find(t=>(0,T.ir)(t.emoji,(0,T.g1)(e))),s=null!=r?en.intl.string(en.t.wunKKC):en.intl.string(en.t.XVx5BA),o=null==e.id?e.uniqueName:e.name,c=null!=r?en.intl.formatToPlainString(en.t.vjeruL,{emojiName:o}):en.intl.formatToPlainString(en.t.L1JQwM,{emojiName:o});return(0,i.jsx)(Y.sF,{tooltipText:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{variant:"text-sm/medium",color:"header-primary",className:ei.emojiTooltipText,children:":".concat(e.name,":")}),(0,i.jsx)(u.Text,{variant:"text-xs/normal",color:"header-secondary",className:ei.emojiTooltipText,children:s})]}),label:c,onClick:()=>ed({type:null!=r?"remove":"add",emoji:e,channel:t,message:n,location:S.TW.MESSAGE_HOVER_BAR}),children:(0,i.jsx)(h.Z,{emojiId:e.id,emojiName:null==e.id?e.surrogates:e.name,animated:e.animated,size:"reaction",alt:"",className:ei.emoji,canSelect:!1})},"".concat(null!==(l=e.id)&&void 0!==l?l:0,":").concat(e.name))})})});function eo(e){let{channel:t,message:n,canCopy:r,canPin:a,canDelete:s,canReport:o,canEdit:h,canPublish:g,canReact:x,canConfigureJoin:v,canReply:b,canStartThread:Z,canViewThread:S,canForward:T,isExpanded:j,showMoreUtilities:k,showEmojiPicker:G,showMessageBookmarksActions:F,isMessageBookmark:J,setPopout:et,hasDeveloperMode:ei,isGuildInviteReminder:el,isFocused:er}=function(e){let{channel:t,message:n,showEmojiPicker:i,showEmojiBurstPicker:l,showMoreUtilities:r,setPopout:a,isFocused:s}=e,{author:o}=n,d=(0,c.e7)([D.Z],()=>D.Z.getGuild(t.guild_id),[t.guild_id]),u=(0,c.e7)([L.default],()=>L.default.getId()),h=(0,M.$R)(t),f=(0,M.Gu)(t),g=R.nc.useSetting(),C=R.Sb.useSetting(),x=(0,c.e7)([w.Z],()=>null==t.guild_id||w.Z.canChatInGuild(t.guild_id),[t]),{canManageMessages:v,canAddNewReactions:E}=(0,c.cj)([B.Z],()=>({canAddNewReactions:x&&B.Z.can($.Plq.ADD_REACTIONS,t),canManageMessages:B.Z.can($.Plq.MANAGE_MESSAGES,t)}),[t,x]),b=(0,A.U)(t,n),Z=(0,M.NE)(t,n),S=(0,M.Ek)(n),T=(0,c.e7)([N.Z],()=>null!=t.guild_id&&N.Z.isLurking(t.guild_id),[t]),j=(0,c.e7)([O.ZP],()=>null!=t.guild_id&&O.ZP.isCurrentUserGuest(t.guild_id),[t]),k=o.id===u,U=(v||n.canDeleteOwnMessage(u))&&h&&!$.V$x.UNDELETABLE.has(n.type);n.type===$.uaV.AUTO_MODERATION_ACTION&&(U=U&&v);let G=(0,V.a4)(n),F=(0,W.Z)(n,t,v),Y=!t.isSystemDM()&&(0,z.Z)(n,u)&&h&&!f,{disableReactionCreates:q}=(0,K.Z)({channel:t,canChat:x,renderReactions:g,canAddNewReactions:E,isLurking:T,isGuest:j,isActiveChannelOrUnarchivableThread:h}),X=t.type===$.d4z.GUILD_ANNOUNCEMENT&&null!=d&&d.hasFeature($.oNc.NEWS)&&(k||v)&&(0,m.Z)(n),J=t.getGuildId(),ee=null!=J&&(n.type===$.uaV.USER_JOIN||n.type===$.uaV.GUILD_INVITE_REMINDER)&&B.Z.canWithPartialContext($.Plq.MANAGE_GUILD,{guildId:J}),{canForwardMessages:et}=(0,_.yk)({location:"useMessageUtilitiesProps"},{autoTrackExposure:!1}),en=(0,I.a)(n),{enabled:ei}=y.Z.useExperiment({location:"message_utilities"}),el=(0,c.e7)([P.Z],()=>null!=P.Z.getSavedMessage(t.id,n.id)),er=(0,Q.Z)(),ea=(0,c.e7)([p.Z],()=>p.Z.keyboardModeEnabled);return{channel:t,message:n,canPin:F,canEdit:Y,canDelete:U,canReport:G,canReply:b,canStartThread:Z,canViewThread:S,canForward:et&&en,canCopy:H.wS,hasDeveloperMode:C,canReact:!q&&g,canPublish:X,canConfigureJoin:ee,isExpanded:er&&!ea&&!i&&!l&&!r,showEmojiPicker:i,showEmojiBurstPicker:l,showMoreUtilities:r,showMessageBookmarksActions:ei,isMessageBookmark:el,setPopout:a,isFocused:s,isGuildInviteReminder:n.type===$.uaV.GUILD_INVITE_REMINDER}}(e),eo=l.useCallback(()=>{!k&&U.default.track($.rMx.MESSAGE_POPOUT_MENU_OPENED_DESKTOP,{message_id:n.id,channel:n.channel_id}),et({moreUtilities:!k})},[k,et,n]),ec=l.useCallback(()=>{et({emojiPicker:!G})},[G,et]),ed=(0,M.$R)(t),eh=n.hasFlag($.iLy.CROSSPOSTED),[ep,em]=(0,f.cv)(T?[d.z.MESSAGE_FORWARDING_DESKTOP_UTILITIES_NEW_BADGE]:[]),ef=ep===d.z.MESSAGE_FORWARDING_DESKTOP_UTILITIES_NEW_BADGE,[eg,eC]=l.useState(!1),ex=l.useCallback(()=>{eC(!0)},[]),ev=l.useCallback(()=>{eC(!1)},[]),e_=l.useCallback((e,t)=>{em(ee.L.TAKE_ACTION),(0,q.ts)(e,t)},[em]),{canShowReactionsOnMessageHover:eI}=C.ZP.useExperiment({location:"ExpandingButtons"},{autoTrackExposure:!0});return C.Xb.useExperiment({location:"ExpandingButtons"},{autoTrackExposure:!0}),(0,i.jsxs)(i.Fragment,{children:[j?(0,i.jsxs)(i.Fragment,{children:[r&&ei?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.zBoHlZ),icon:u.IdIcon,onClick:e=>(0,q.F4)(t,n,e)},"copy-id"):null,r&&!el?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.WqhZsr),icon:u.LinkIcon,onClick:()=>(0,q.fB)(t,n)},"copy-link"):null,v?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.NpHUi4),icon:u.CircleQuestionIcon,onClick:()=>(0,q.zW)(t)},"configure"):null,ed?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.RpE9k5),icon:u.ChatMarkUnreadIcon,onClick:()=>(0,q.B8)(t,n)},"mark-unread"):null,F?(0,i.jsx)(Y.sF,{label:J?en.intl.string(en.t.LHUP9P):en.intl.string(en.t["9p3D9v"]),icon:J?u.BookmarkIcon:u.BookmarkOutlineIcon,onClick:()=>J?(0,q.eM)(t,n):(0,q.dF)(t,n)},"bookmark"):null,a?(0,i.jsx)(Y.sF,{label:n.pinned?en.intl.string(en.t["Bse+Fx"]):en.intl.string(en.t["CvQ18/"]),icon:u.PinIcon,onClick:e=>(0,q.rY)(t,n,e)},"pin"):null,Z&&T?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.rBIGBA),icon:u.ThreadIcon,onClick:()=>(0,q.gK)(t,n)},"thread"):null,b&&h?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t["5IEsGx"]),icon:u.ArrowAngleLeftUpIcon,onClick:e=>(0,q.HH)(t,n,e)},"reply-self"):null]}):null,x&&!el?(0,i.jsxs)(i.Fragment,{children:[eI&&!j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(es,{channel:t,message:n}),(0,i.jsx)(Y.fO,{})]}):null,(0,i.jsx)(X.Z,{togglePopout:ec,renderEmojiPicker:eu,shouldShow:G,isFocused:er,channel:t,message:n})]}):null,b&&!h?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t["5IEsGx"]),icon:u.ArrowAngleLeftUpIcon,onClick:e=>(0,q.HH)(t,n,e)},"reply-other"):null,h?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.bt75u7),icon:u.PencilIcon,onClick:()=>(0,q.Hd)(t,n)},"edit"):null,T?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.I3ltXF),icon:E.Z,onClick:()=>e_(t,n),onTooltipShow:ex,onTooltipHide:ev,showNewBadge:!eg&&ef},"forward"):null,Z&&!T?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.rBIGBA),icon:u.ThreadIcon,onClick:()=>(0,q.gK)(t,n)},"thread"):null,!Z&&S?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t["39d0Wl"]),icon:u.ThreadIcon,onClick:()=>(0,q.qe)(t,n)},"view-thread"):null,g?(0,i.jsx)(Y.sF,{label:eh?en.intl.string(en.t["1kWJAg"]):en.intl.string(en.t["MFGE5+"]),icon:u.AnnouncementsIcon,onClick:()=>(0,q.Xl)(t,n),disabled:eh},"publish"):null,s&&(el||j)?(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.oyYWHB),icon:u.TrashIcon,onClick:e=>(0,q.$Z)(t,n,e),dangerous:!0,separator:!j},"delete"):null,j&&s?null:(0,i.jsx)(u.Popout,{renderPopout:e=>{let{updatePosition:l,closePopout:r}=e;return(0,i.jsx)(ea,{channel:t,message:n,canReport:o,onClose:r,updatePosition:l})},shouldShow:k,onRequestClose:eo,position:"left",align:"top",animation:u.Popout.Animation.NONE,children:(e,t)=>{let{onClick:n,...l}=e,{isShown:r}=t;return(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.UKOtz8),icon:u.MoreHorizontalIcon,selected:r,onClick:eo,...l},"more")}})]})}function ec(e){let{channel:t,message:n}=e,l=(0,c.e7)([b.Z],()=>null!=b.Z.getMessage(n.id),[n.id]),r=null==n.interaction||null!=n.interactionData&&(0,Z.$s)(n.interactionData);return(0,i.jsxs)(i.Fragment,{children:[!l&&r&&(0,i.jsx)(Y.sF,{label:en.intl.string(en.t["5911LS"]),icon:u.RetryIcon,onClick:()=>(0,q.mG)(t,n)},"retry"),(0,i.jsx)(Y.sF,{label:en.intl.string(en.t.oyYWHB),icon:u.TrashIcon,onClick:e=>(0,q.$Z)(t,n,e)},"delete-usent")]})}function ed(e){let{type:t,emoji:n,channel:i,message:l,location:r,isBurst:a=!1}=e;if(null==n)return;let s=(0,T.g1)(n);"add"===t?(0,S.rU)(i.id,l.id,s,r,{burst:a}):(0,S.WO)({channelId:i.id,messageId:l.id,emoji:s,location:r,options:{burst:a}})}function eu(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={openPopoutType:"message_reaction_emoji_picker",...l&&{openPopoutType:"message_super_reaction_emoji_picker",page:null!=e.getGuildId()?$.ZY5.GUILD_CHANNEL:$.ZY5.DM_CHANNEL,section:(0,T.s4)(e),object:$.qAy.EMOJI_REACTION_PICKER_POPOUT}};return(0,i.jsx)(j.$,{channel:e,closePopout:n,onSelectEmoji:(i,l,r)=>{ed({type:"add",emoji:i,channel:e,message:t,location:S.TW.MESSAGE_REACTION_PICKER,isBurst:r}),l&&(r?o()(n,150)():n())},analyticsOverride:r,messageId:t.id})}t.Z=l.memo(function(e){let{channel:t,message:n,isHeader:l,isReply:r}=e,s=(0,c.e7)([k.Z],()=>k.Z.isEditing(t.id,n.id),[t.id,n.id]),o=function(e){let{channel:t,message:n}=e;return n.state===$.yb.SEND_FAILED?(0,i.jsx)(ec,{channel:t,message:n}):null}(e),d=function(e){let{message:t}=e;return t.state!==$.yb.SEND_FAILED?(0,i.jsx)(eo,{...e}):null}(e);return s||null==o&&null==d?null:(0,i.jsx)("div",{className:a()(e.className,{[ei.container]:!0,[ei.isHeader]:l,[ei.isReply]:r}),onClick:er,onContextMenu:er,role:"group","aria-label":en.intl.string(en.t.Lv7LxM),children:(0,i.jsxs)(Y.ZP,{className:e.innerClassName,children:[o,d]})})})},400023:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(91192),o=n(442837),c=n(481060),d=n(904245),u=n(902840),h=n(607070),p=n(835473),m=n(95398),f=n(580747),g=n(135938),C=n(160404),x=n(765104),v=n(695346),_=n(314897),I=n(323873),E=n(607744),b=n(375954),Z=n(496675),N=n(306680),S=n(62817),T=n(594174),j=n(459273),A=n(255269),y=n(47481),P=n(977391),M=n(959258),R=n(73274),L=n(419388),k=n(406534),O=n(981631),D=n(388032),w=n(991823);let B=l.memo(function(e){var t,n;let{className:r,messageGroupSpacing:u,scrollerClassName:p,channel:m,messages:f,unreadCount:g,showNewMessagesBar:x,messageDisplayCompact:v,channelStream:_,uploads:I,hasUnreads:E,editingMessageId:b,fontSize:N,keyboardModeEnabled:S,filterAfterTimestamp:T,showingQuarantineBanner:A,hideSummaries:y=!1,jumpBarClassName:M}=e,[B,U]=l.useState(!1),H=l.useMemo(()=>v?(0,P.aJ)({compact:!0,messageGroups:30,groupRange:4,attachments:8,fontSize:N,groupSpacing:u}):(0,P.aJ)({compact:!1,messageGroups:26,groupRange:4,attachments:8,fontSize:N,groupSpacing:u}),[v,N,u]),G=(0,L.ZP)({messages:f,channel:m,compact:v,hasUnreads:E,focusId:b,placeholderHeight:H.totalHeight,canLoadMore:null==T,handleScrollToBottom:l.useCallback(()=>U(!0),[U]),handleScrollFromBottom:l.useCallback(()=>U(!1),[U])}),F=(0,R.Z)({scrollerRef:G.ref,isEditing:null!=b,keyboardModeEnabled:S,hasMoreAfter:f.hasMoreAfter});let V=(n=m,(0,o.e7)([C.Z],()=>Z.Z.can(O.Plq.READ_MESSAGE_HISTORY,n)?null:C.Z.getViewingRolesTimestamp(n.getGuildId()))),{channelStreamMarkup:z,newMessagesBar:W,jumpToPresentBar:K,forumPostActionBar:Y,safetyWarningBanner:q}=(0,k.Z)({channel:m,messages:f,unreadCount:g,showNewMessagesBar:x,messageDisplayCompact:v,channelStream:_,uploads:I,loadMore:G.loadMore,scrollManager:G,specs:H,filterAfterTimestamp:null!=T?T:V,showingQuarantineBanner:A,hideSummaries:y,isAtBottom:B,jumpToPresent:()=>{if(f.hasPresent()){var e;null===(e=G.ref.current)||void 0===e||e.scrollToBottom({animate:!h.Z.useReducedMotion})}else d.Z.jumpToPresent(m.id,O.AQB)},jumpBarClassName:M});!function(e){let t=l.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollToBottom()},[e]),n=l.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageUp({animate:!h.Z.useReducedMotion})},[e]),i=l.useCallback(()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageDown({animate:!h.Z.useReducedMotion})},[e]);(0,j.yp)({event:O.CkL.SCROLLTO_PRESENT,handler:t}),(0,j.yp)({event:O.CkL.SCROLL_PAGE_UP,handler:n}),(0,j.yp)({event:O.CkL.SCROLL_PAGE_DOWN,handler:i})}(G.ref);let X=(0,c.useFocusJumpSection)(),{ref:J,...Q}=(0,s.l2)(F),$=l.useCallback(e=>{var t;G.ref.current=e,J.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},[]);return(0,i.jsxs)(s.bG,{navigator:F,children:[null!=q&&q,(0,i.jsxs)("div",{className:a()(w.messagesWrapper,r,"group-spacing-".concat(u)),children:[null==q&&W,(0,i.jsxs)(c.PinToBottomScrollerAuto,{ref:$,customTheme:!0,className:a()(p,w.scroller),contentClassName:w.scrollerContent,onResize:G.handleResize,onScroll:G.handleScroll,onMouseDown:G.handleMouseDown,onMouseUp:G.handleMouseUp,...X,tabIndex:-1,role:"group",children:[Y,(0,i.jsxs)("ol",{className:w.scrollerInner,"aria-label":D.intl.formatToPlainString(D.t.XarRiI,{channelName:m.name}),...Q,children:[(0,i.jsx)("span",{className:w.navigationDescription,id:"messagesNavigationDescription","aria-hidden":!0,children:D.intl.string(D.t.Spb3s7)}),z,(0,i.jsx)("div",{className:a()({[w.scrollerSpacer]:!A,[w.empty]:0===f.length&&!f.loadingMore,[w.emptyForum]:1===f.length&&!f.loadingMore&&m.isForumPost()&&(null===(t=f.first())||void 0===t?void 0:t.isFirstMessageInForumPost(m))})})]})]}),K]})]})},(e,t)=>null!=e.isHidden&&null!=t.isHidden&&e.isHidden&&t.isHidden);t.Z=l.memo(function(e){let{channel:t,showingQuarantineBanner:n,hideSummaries:r=!1,forceCompact:a=!1,forceCozy:s=!1,...c}=e,{canManageMessages:d,permissionVersion:C,canChat:j}=function(e){let t=e.getGuildId(),n=(0,o.e7)([E.Z],()=>null==t||E.Z.canChatInGuild(t),[t]),{canManageMessages:i,permissionVersion:l}=(0,o.cj)([Z.Z],()=>({canManageMessages:Z.Z.can(O.Plq.MANAGE_MESSAGES,e),permissionVersion:null!=t?Z.Z.getGuildVersion(t):null}),[e,t]);return{canChat:n,permissionVersion:l,canManageMessages:i}}(t),{messageGroupSpacing:P,fontSize:R,messageDisplayCompact:L,renderSpoilers:k,keyboardModeEnabled:D}=function(){let e=v.jU.useSetting(),t=v.cC.useSetting(),{messageGroupSpacing:n,fontSize:i,keyboardModeEnabled:l}=(0,o.cj)([h.Z],()=>{let{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}=h.Z;return{messageGroupSpacing:e,fontSize:t,keyboardModeEnabled:n}});return{messageGroupSpacing:n,messageDisplayCompact:e,renderSpoilers:t,fontSize:i,keyboardModeEnabled:l}}(),{messages:w,channelStream:U,oldestUnreadMessageId:H,editingMessageId:G}=function(e){var t,n;let i=(0,o.e7)([b.Z],()=>b.Z.getMessages(e.id),[e.id]),r=(0,o.e7)([N.ZP],()=>{var t;return null!==(t=N.ZP.getOldestUnreadMessageId(e.id))&&void 0!==t?t:null},[e.id]),{enabled:a}=g.Z.useExperiment({location:"41de6d_1"},{autoTrackExposure:!1}),s=null!==(n=null===(t=T.default.getUser(_.default.getId()))||void 0===t?void 0:t.hasFlag(O.xW$.SPAMMER))&&void 0!==n&&n,c=(0,u.ts)(e),d=(0,f.Z)("use_topic_dividers_in_chat"),h=(0,o.Wu)([x.Z],()=>{var t;return c&&d&&null!==(t=x.Z.summaries(e.id))&&void 0!==t?t:[]},[c,e.id,d]),m=(0,o.e7)([x.Z],()=>c?x.Z.selectedSummary(e.id):null,[c,e.id]),C=function(e){let t=l.useMemo(()=>{let t=new Set;return e.forEach(e=>{null!=e.applicationId&&null==e.application&&t.add(e.applicationId)}),Array.from(t)},[e]);return(0,p.Z)(t)}(i),v=l.useMemo(()=>(0,y.Z)({channel:e,messages:i,oldestUnreadMessageId:r,treatSpam:a&&!s,summaries:h,selectedSummary:m}),[i,e,r,a,h,m,C]);return{messages:i,channelStream:v,oldestUnreadMessageId:r,editingMessageId:(0,o.e7)([I.Z],()=>{var t;return null===(t=I.Z.getEditingMessage(e.id))||void 0===t?void 0:t.id})}}(t);return(0,i.jsx)(m.a.Provider,{value:(0,A.Z)(k,d),children:(0,i.jsx)(M.v,{children:(0,i.jsx)(B,{...c,messageGroupSpacing:P,showNewMessagesBar:!0,channel:t,messageDisplayCompact:!s&&(a||L),messages:w,channelStream:U,permissionVersion:C,uploads:(0,o.e7)([S.Z],()=>S.Z.getFiles(t.id),[t]),unreadCount:(0,o.e7)([N.ZP],()=>N.ZP.getUnreadCount(t.id),[t]),hasUnreads:null!=H,canChat:j,editingMessageId:G,fontSize:R,keyboardModeEnabled:D,showingQuarantineBanner:n,hideSummaries:r})})})})},603490:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(873546),r=n(481060),a=n(373662),s=n(388032);function o(e){let{channel:t,message:n,togglePopout:o,renderEmojiPicker:c,shouldShow:d}=e;return(0,i.jsx)(r.Popout,{animation:r.Popout.Animation.FADE,renderPopout:e=>{let{closePopout:i}=e;return c(t,n,i,!1)},shouldShow:d,onRequestClose:o,position:l.tq?"top":"left",align:l.tq?"center":"top",children:()=>(0,i.jsx)(a.sF,{label:s.intl.string(s.t.lfIHs7),icon:r.ReactionIcon,onClick:o},"add-reaction")})}},173033:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(374470);function l(e,t){let n=e.offsetTop,l=e.offsetParent;for(;null!=l;){var r;if(l===t||!(0,i.k)(l,HTMLElement))break;n+=null!==(r=l.offsetTop)&&void 0!==r?r:0,l=l.offsetParent}return n}},73274:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(192379),l=n(924826),r=n(459273),a=n(585483),s=n(534091),o=n(959517),c=n(981631);function d(e){let{scrollerRef:t,...n}=e,d=i.useCallback(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToBottom({callback:()=>requestAnimationFrame(t)})})},[]),u=i.useCallback(()=>{let e=t.current;return null==e?Promise.resolve():new Promise(t=>{e.scrollToTop({callback:()=>requestAnimationFrame(t)})})},[]),h=i.useCallback(e=>{var i,l,r;if(!n.keyboardModeEnabled)return;let a=null===(l=t.current)||void 0===l?void 0:null===(i=l.getScrollerNode())||void 0===i?void 0:i.ownerDocument,s=null==a?void 0:a.querySelector(e);null!=s&&(null===(r=t.current)||void 0===r||r.scrollIntoViewNode({node:s,padding:4*o.kQ,callback:()=>null==s?void 0:s.focus()}))},[n.keyboardModeEnabled]),p=i.useCallback(()=>{!n.hasMoreAfter&&a.S.dispatchToLastSubscribed(c.CkL.TEXTAREA_FOCUS)},[n.hasMoreAfter]),m=(0,l.ZP)({id:s.W,preserveFocusPosition:!1,setFocus:h,isEnabled:n.keyboardModeEnabled&&!n.isEditing,scrollToStart:u,scrollToEnd:d,onNavigateNextAtEnd:p}),f=i.useCallback(e=>{let{atEnd:t=!1}=e;t?m.focusLastVisibleItem():m.focusFirstVisibleItem()},[m]);return(0,r.yp)({event:c.CkL.FOCUS_MESSAGES,handler:f}),m}},97352:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(192379),l=n(399606),r=n(570140),a=n(607070),s=n(222677),o=n(695346),c=n(960020),d=n(566006);function u(){let e=o.Yk.useSetting(),t=(0,l.e7)([a.Z],()=>a.Z.useReducedMotion);i.useEffect(()=>{function n(n){let{messageId:i,channelId:l,emoji:r,optimistic:a,reactionType:o}=n;if(!a&&o===d.O.BURST&&!!e&&!t)(0,s.T6)({channelId:l,messageId:i,emoji:r,key:c.I.EXTERNAL})}return r.Z.subscribe("MESSAGE_REACTION_ADD",n),()=>{r.Z.unsubscribe("MESSAGE_REACTION_ADD",n)}},[e,t])}},62072:function(e,t,n){var i=n(192379),l=n(904245),r=n(346610),a=n(868643),s=n(912332),o=n(41776),c=n(280845),d=n(665906),u=n(488131),h=n(695346),p=n(314897),m=n(592125),f=n(323873),g=n(271383),C=n(607744),x=n(375954),v=n(496675),_=n(572004),I=n(585483),E=n(358085),b=n(709054),Z=n(418476),N=n(901461),S=n(432376),T=n(996861),j=n(981631);function A(e){return v.Z.can(j.Plq.MANAGE_MESSAGES,e)}t.Z=function(e,t,n){let y=i.useRef(n);return y.current=n,i.useCallback(n=>{var i,P,M,R,L;if(!y.current||n.target!==n.currentTarget)return;let k=!n.altKey&&!n.ctrlKey&&!n.metaKey&&!n.shiftKey,O=n.altKey&&!(n.ctrlKey||n.metaKey||n.shiftKey),D=n.ctrlKey&&!(n.altKey||n.metaKey||n.shiftKey),w=n.metaKey&&!(n.altKey||n.ctrlKey||n.shiftKey),B=n.shiftKey&&!(n.altKey||n.ctrlKey||n.metaKey),U=x.Z.getMessage(t,e),H=m.Z.getChannel(t);if(null==U||null==H)return;let G=p.default.getId();switch(n.key.toLowerCase()){case"backspace":k&&(A(H)||U.canDeleteOwnMessage(G))&&(n.preventDefault(),(0,T.$Z)(H,U,n));break;case"c":((0,E.isMac)()?w:D)&&_.wS&&(n.preventDefault(),(0,_.JG)(U.content));break;case"e":if(k){;if(i=G,P=H,M=U,!P.isSystemDM()&&(0,Z.Z)(M,i))n.preventDefault(),(0,T.Hd)(H,U)}break;case"p":if(k||B){;if(R=H,L=U,!R.isSystemDM()&&!(0,N.Z)(L)&&(A(R)||R.isPrivate()))n.preventDefault(),(0,T.rY)(H,U,n)}break;case"+":(k||B)&&function(e){let t=null==e.guild_id||C.Z.canChatInGuild(e.guild_id),n=h.nc.getSetting(),{disableReactionCreates:i}=(0,S.Z)({channel:e,canChat:t,renderReactions:n,canAddNewReactions:t&&v.Z.can(j.Plq.ADD_REACTIONS,e),isLurking:null!=e.guild_id&&o.Z.isLurking(e.guild_id),isGuest:null!=e.guild_id&&g.ZP.isCurrentUserGuest(e.guild_id),isActiveChannelOrUnarchivableThread:(0,d.RG)(e)});return!i&&n}(H)&&(n.preventDefault(),I.S.dispatchKeyed(j.LPv.TOGGLE_REACTION_POPOUT,U.id,{emojiPicker:!0}));break;case"r":(k||B)&&(0,c.o)(H,U)&&(n.preventDefault(),(0,T.HH)(H,U,n));break;case"f":(k||B)&&(0,r.WT)({location:"keyboard-shortcut"},{autoTrackExposure:!1}).canForwardMessages&&(0,a.h)(U)&&(n.preventDefault(),(0,s.l8)({messageId:U.id,channelId:H.id,source:"keyboard-shortcut"}));break;case"t":if(k&&(0,d.ki)(H,U))n.preventDefault(),(0,u.R6)(H,U,"Message Shortcut");else if(U.hasFlag(j.iLy.HAS_THREAD)){let e=m.Z.getChannel(b.default.castMessageIdAsChannelId(U.id));null!=e&&(k||B)&&(n.preventDefault(),(0,u.ok)(e,B))}break;case"enter":O&&(n.preventDefault(),(0,T.B8)(H,U));break;case"escape":f.Z.isEditing(H.id,U.id)?l.Z.endEditMessage(H.id):I.S.dispatch(j.CkL.TEXTAREA_FOCUS)}},[e,t])}},419388:function(e,t,n){n.d(t,{ZP:function(){return Z}}),n(47120),n(653041);var i=n(192379),l=n(392711),r=n.n(l),a=n(374470),s=n(925549),o=n(904245),c=n(45114),d=n(40851),u=n(607070),h=n(703656),p=n(479313),m=n(796974),f=n(709054),g=n(534469),C=n(173033),x=n(959517),v=n(981631);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t,n;if(null==e.jumpTargetId||!e.ready)return null;let{jumpTargetId:i,jumpTargetOffset:l}=e;if(e.has(i)||!e.hasMoreBefore&&i===f.default.castChannelIdAsMessageId(e.channelId)){if(0===l)return i;let n=e.getByIndex(e.indexOf(i)+l);return null!==(t=null==n?void 0:n.id)&&void 0!==t?t:i}let r=[i,...e.map(e=>{let{id:t}=e;return t})].sort(f.default.compare),a=r.indexOf(i),s=null!==(n=r[a+(Math.abs(l)>0?l:1)])&&void 0!==n?n:r[a-1];return null!=s?s:null}let E={scrollTop:0,scrollHeight:0,offsetHeight:0};class b{isReady(){return this.props.messages.ready}isLoading(){return this.loading||this.props.messages.loadingMore}isPinned(){return this.pinned}isJumping(){return this.jumping}isDragging(){return this.dragging}isInitialized(){return void 0===this.initialScrollTop}isScrollLoadingDisabled(){return this.isLoading()||!this.isInitialized()||this.isJumping()||this.isDragging()||!this.props.canLoadMore}isActivelyScrolling(){return this.scrollCounter>=5}getDocument(){var e,t;return null===(t=this.ref.current)||void 0===t?void 0:null===(e=t.getScrollerNode())||void 0===e?void 0:e.ownerDocument}getElementFromMessageId(e){let t=this.getDocument(),{channel:{id:n}}=this.props;return null==t?null:(0,g.AP)(t,n,e)}isScrolledToBottom(){let{scrollTop:e,scrollHeight:t,offsetHeight:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollerState();return e>=t-n-x.kQ&&!this.props.messages.hasMoreAfter}mergePropsAndUpdate(e){this.mergePropsAndUpdate_(e),this.props.messages.ready&&this.enableAutomaticAck()}mergePropsAndUpdate_(e){let t=this.props.messages,n=this.props.focusId;this.props={...e};let{offsetHeight:i,scrollHeight:l}=this.getScrollerState(),r=this.isHeightChange(i,l);if(this.offsetHeightCache=i,this.scrollHeightCache=l,this.loading=e.messages.loadingMore,this.isInitialized()||this.isReady()){if(!this.isInitialized()){this.restoreScroll();return}}else{null==e.messages.jumpTargetId&&this.scrollTo(Number.MAX_SAFE_INTEGER);return}if(null!=e.messages.jumpTargetId){if(this.isLoading())return;let n=I(e.messages);if(null==n||this.isJumping()||e.messages.jumpSequenceId===t.jumpSequenceId){if(this.isJumping()){null!=n?this.scrollToMessage(n,!0):this.jumping=!1;return}}else{let i;let l=t.first();null!=l&&e.messages.last()!==t.last()&&e.messages.first()!==t.first()&&(i=f.default.extractTimestamp(l.id)),this.scrollToMessage(n,!0,i);return}}if(e.messages.jumpedToPresent&&t.jumpSequenceId!==e.messages.jumpSequenceId){this.jumping=!0,this.scrollTo(0),this.setScrollToBottom(!0);return}let a=e.messages.last(),s=t.last();if(null!=a&&a.state===v.yb.SENDING&&(null==s?void 0:s.id)!==a.id){this.setScrollToBottom();return}let{focusId:o}=this.props;if(null!=o&&n!==o){let e=this.getElementFromMessageId(o);if(null!=e){var c;null===(c=this.ref.current)||void 0===c||c.scrollIntoViewNode({node:e,padding:x.kQ,callback:this.handleScroll});return}}r&&this.fixScrollPosition(i,l)}getAnchorData(e,t,n){var i;let l=this.getElementFromMessageId(e),r=null===(i=this.ref.current)||void 0===i?void 0:i.getScrollerNode();if(!(0,a.k)(l)||null==r)return null;let{offsetHeight:s}=l,o=(0,C.Z)(l,r),c=o-t;return null!=n&&(c=Math.max(-s,Math.min(n,c))),{id:e,offsetFromTop:c,offsetTop:o,offsetHeight:s,clamped:null!=c}}cleanAutomaticAnchor(){this.setAutomaticAnchor(null)}newMessageBarBuffer(){return this.props.channel.isForumPost()?x.R4:x.Eo}findAnchor(){let{messages:e,hasUnreads:t,channel:n}=this.props,i=this.getScrollerState(),{scrollTop:l}=i,r=t&&l>=this.newMessageBarBuffer()?this.newMessageBarBuffer():0,a=null,s=t=>{var i;return -1===t?f.default.castChannelIdAsMessageId(n.id):null===(i=e._array[t])||void 0===i?void 0:i.id},o=-1,c=!1;for(;;){let t=s(o);if(null==t)break;let n=this.getAnchorData(t,l);if(this._bottomAnchor=n,c&&null!=n&&n.offsetTop>l+r+i.offsetHeight)break;if(c){o++;continue}null!=n&&(n.offsetTop>=l+r||o===e.length-1)&&(a=n,c=!0),o++}return a}findFetchAnchor(e){let{messages:t}=this.props,{scrollTop:n}=this.getScrollerState(),i=e?-1:1,l=null,r=t._array.length-1;for(let a=e?r:0;null!=t._array[a];a+=i){let e=t._array[a],i=this.getAnchorData(e.id,n);if(null!=i){l=i;break}}return l}getAnchorFixData(){for(let e of[this.focusAnchor,this.isLoading()?null:this.messageFetchAnchor,this.automaticAnchor]){if(null==e)continue;let t=this.getElementFromMessageId(e.id);if(!(0,a.k)(t))continue;let n=e===this.messageFetchAnchor?e.offsetHeight-t.offsetHeight:0;return{node:t,fixedScrollTop:t.offsetTop-(e.offsetFromTop+n)}}return null}fixAnchorScrollPosition(){let e=this.getAnchorFixData();if(null==e){this.handleScroll();return}let{node:t,fixedScrollTop:n}=e;if(null!=this.focusAnchor){var i;this.isPinned()?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.mergeTo(n,this.handleScroll),null===(i=this.ref.current)||void 0===i||i.scrollIntoViewNode({node:t,padding:x.kQ,callback:this.handleScroll})}else this.mergeTo(n,this.handleScroll);this.isActivelyScrolling()?this.setAutomaticAnchor(null):this.setAutomaticAnchor(this.findAnchor()),!this.isLoading()&&(this.messageFetchAnchor=null)}hasAnchor(){return null!=this.focusAnchor||null!=this.messageFetchAnchor||null!=this.automaticAnchor}updateFocusAnchor(e,t,n){let i=this.focusAnchor=null!=e?this.getAnchorData(e,t):null;null!=i&&(i.offsetFromTop>=n||t>i.offsetTop+i.offsetHeight)&&(this.focusAnchor=null)}handleFocusAnchorScroll(e,t){var n;this.updateFocusAnchor(null===(n=this.focusAnchor)||void 0===n?void 0:n.id,e,t)}updateFetchAnchor(e,t,n){var i;let l=null===(i=this.ref.current)||void 0===i?void 0:i.getScrollerNode();null!=this.messageFetchAnchor&&null!=l&&(this.messageFetchAnchor=this.getAnchorData(this.messageFetchAnchor.id,e,this.isInPlaceholderRegion({scrollTop:e,offsetHeight:t,scrollHeight:n})>0?t:void 0))}updateAutomaticAnchor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode();if(null==this.automaticAnchor||null==i)return;let l=this.getAnchorData(this.automaticAnchor.id,e);n&&null!=l&&null!=this.automaticAnchor&&(l.offsetFromTop=this.automaticAnchor.offsetFromTop),this.setAutomaticAnchor(l)}setAutomaticAnchor(e){var t,n;this.automaticAnchor=e,null===(t=this._automaticAnchorCallbacks)||void 0===t||t.forEach(e=>e(this.automaticAnchor,this._bottomAnchor)),this.updateVisibleMessagesDebounced(null==e?void 0:e.id,null===(n=this._bottomAnchor)||void 0===n?void 0:n.id)}getScrollerState(){var e,t;return null!==(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:E}isHeightChange(e,t){return e!==this.offsetHeightCache||t!==this.scrollHeightCache}isInPlaceholderRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{messages:l,placeholderHeight:r}=this.props;return l.hasMoreBefore&&t<r&&i>n?1:l.hasMoreAfter&&t>=i-n-r?2:0}isInScrollTriggerLoadingRegion(e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{messages:l}=this.props;return l.hasMoreBefore&&t<=this.getOffsetToTriggerLoading("top",e)&&i>n?1:l.hasMoreAfter&&t>=this.getOffsetToTriggerLoading("bottom",e)?2:0}handleScrollSpeed(e){if(this.isJumping()||this.isDragging()||!this.props.canLoadMore)return;let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,{prevScrollTop:l,props:{placeholderHeight:r}}=this;if(this.prevScrollTop=t,null==l)return;let a=this.isInPlaceholderRegion(e),s=t-l;0!==a&&0!==s&&(1===a&&t+s<=0?(this.mergeTo(r-n),this.prevScrollTop=r-n):2===a&&t+s>=i-n&&(this.mergeTo(i-r),this.prevScrollTop=i-r))}enableAutomaticAck(){this.isInitialized()&&!this.acking&&(this.acking=!0,this.updateStoreDimensions(()=>{(0,c.CZ)(this.props.channel.id,this.props.windowId)}))}fixScrollPosition(e,t){this.offsetHeightCache=e,this.scrollHeightCache=t,this.fixJumpTarget(),this.isPinned()&&null==this.messageFetchAnchor&&null==this.focusAnchor?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.fixAnchorScrollPosition()}fixJumpTarget(){if(!this.isJumping())return;let{messages:e,hasUnreads:t}=this.props;if(null!=e.jumpTargetId){let n=I(e);if(null==n)return;let i=this.getElementFromMessageId(n);(0,a.k)(i)?this.scrollTo(this.getOffsetOrientationFromNode(i,"middle",t?this.newMessageBarBuffer():x.kQ),!0):this.scrollToNewMessages(!0,"middle")}else this.scrollTo(Number.MAX_SAFE_INTEGER,!0)}scrollToNewMessages(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i=arguments.length>2?arguments[2]:void 0,l=null===(e=this.getDocument())||void 0===e?void 0:e.getElementById(x.j1),r=()=>{this.jumping=!1,this.setAutomaticAnchor(this.findAnchor()),null!=i&&i(),this.handleScroll()};this.pinned=!1,this.jumping=t,null!=l?this.scrollTo(this.getOffsetOrientationFromNode(l,n,this.newMessageBarBuffer()),t,r):this.scrollTo(this.getOffsetToPreventLoading("top"),t,r)}getOffsetOrientationFromNode(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=null===(n=this.ref.current)||void 0===n?void 0:n.getScrollerNode();if(null==l)return 0;let r=this.getScrollerState(),a=(0,C.Z)(e,l);return"middle"===t?Math.min(a-.5*r.offsetHeight+.5*e.offsetHeight+-8,a-i):a-i}restoreScroll(){if(this.isInitialized())return;let{initialScrollTop:e}=this;this.initialScrollTop=void 0;let t=I(this.props.messages);null!=t?this.scrollToMessage(t,!1):this.props.hasUnreads&&this.props.channel.type!==v.d4z.GUILD_VOICE&&this.props.channel.type!==v.d4z.GUILD_STAGE_VOICE?this.scrollToNewMessages():null!=e?this.scrollTo(e+this.props.placeholderHeight,!1,this.handleScroll):this.setScrollToBottom()}scrollTo(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;null===(t=this.ref.current)||void 0===t||t.scrollTo({to:e,animate:!u.Z.useReducedMotion&&n,callback:i}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}mergeTo(e,t){var n;null===(n=this.ref.current)||void 0===n||n.mergeTo({to:e,callback:t}),this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()}setScrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:t,channel:n}=this.props;if(t.hasMoreAfter){var i,l;i=n,o.Z.jumpToPresent(i.id,v.AQB),(0,h.XU)(null!==(l=i.getGuildId())&&void 0!==l?l:v.ME,i.id)}else this.scrollTo(Number.MAX_SAFE_INTEGER,e,()=>{this.jumping=!1,this.handleScroll()})}updateStoreDimensions(e){if(this.isJumping()||!this.isInitialized())return;let{channel:t}=this.props;if(this.isPinned())s.Z.updateChannelDimensions(t.id,1,1,0,e);else{let{placeholderHeight:n}=this.props,{scrollTop:i,scrollHeight:l,offsetHeight:r}=this.getScrollerState();s.Z.updateChannelDimensions(t.id,i-n,l-n,r,e)}}scrollIntoViewRect(){}scrollPageUp(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageUp({animate:t})}scrollPageDown(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageDown({animate:t})}scrollToMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if(null==this.ref.current)return;if(e===this.props.channel.id){this.scrollTo(0);return}let i=this.getElementFromMessageId(e);!this.isJumping()&&t&&null!=n&&!u.Z.useReducedMotion&&(f.default.extractTimestamp(e)>n?this.scrollTo(0):this.scrollTo(Number.MAX_SAFE_INTEGER)),this.pinned=!1,this.jumping=!0;let l=()=>{this.jumping=!1,(0,a.k)(i)&&u.Z.keyboardModeEnabled&&i.focus({preventScroll:!0}),this.scrollCounter=0,this.handleScroll(),this._scrollCompleteCallbacks.forEach(e=>e())};(0,a.k)(i)?this.scrollTo(this.getOffsetOrientationFromNode(i,"middle",this.props.hasUnreads?this.newMessageBarBuffer():x.kQ),t,l):this.scrollToNewMessages(t,"middle",l)}getOffsetToTriggerLoading(e,t){let{scrollHeight:n,offsetHeight:i}=t,{messages:l,hasUnreads:r,placeholderHeight:a}=this.props;if("top"===e)return l.hasMoreBefore?r?a-x.D4-2:a+500:0;return l.hasMoreAfter?n-i-a-500:n-i}getOffsetToPreventLoading(e){let{messages:t}=this.props,n=0;return"top"===e&&t.hasMoreBefore?n=2:"bottom"===e&&t.hasMoreAfter&&(n=-2),this.getOffsetToTriggerLoading(e,this.getScrollerState())+n}getSnapshotBeforeUpdate(e){if(this.hasAnchor()||null!=e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=this.getScrollerState();this.updateFocusAnchor(e,t,n),this.updateFetchAnchor(t,n,i),this.updateAutomaticAnchor(t)}}addAutomaticAnchorCallback(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this._automaticAnchorCallbacks.push(e),this._automaticAnchorCallbacks=r().uniq(this._automaticAnchorCallbacks),!0===t&&this.setAutomaticAnchor(this.findAnchor())}removeAutomaticAnchorCallback(e){this._automaticAnchorCallbacks=r().without(this._automaticAnchorCallbacks,e)}addScrollCompleteCallback(e){this._scrollCompleteCallbacks.push(e),this._scrollCompleteCallbacks=r().uniq(this._scrollCompleteCallbacks)}removeScrollCompleteCallback(e){this._scrollCompleteCallbacks=r().without(this._scrollCompleteCallbacks,e)}cleanup(){this.acking=!1,this.updateStoreDimensionsDebounced.cancel(),this._automaticAnchorCallbacks.forEach(e=>this.removeAutomaticAnchorCallback(e)),(0,c.jT)(this.props.channel.id,this.props.windowId)}constructor(e){var t,n,l=this;if(_(this,"props",void 0),_(this,"ref",i.createRef()),_(this,"automaticAnchor",null),_(this,"messageFetchAnchor",null),_(this,"focusAnchor",null),_(this,"loading",void 0),_(this,"jumping",!1),_(this,"pinned",void 0),_(this,"dragging",!1),_(this,"isAtBottom",!1),_(this,"prevScrollTop",null),_(this,"anchorTimeout",null),_(this,"initialScrollTop",null),_(this,"acking",!1),_(this,"scrollCounter",0),_(this,"offsetHeightCache",0),_(this,"scrollHeightCache",0),_(this,"scrollTopCache",-1),_(this,"_bottomAnchor",null),_(this,"_automaticAnchorCallbacks",[]),_(this,"_scrollCompleteCallbacks",[]),_(this,"updateVisibleMessagesDebounced",r().debounce(p.JR,300)),_(this,"handleScroll",e=>{var t;if(!this.isInitialized())return;let n=this.getScrollerState(),i=this.isScrolledToBottom(n);if(i!==this.isAtBottom&&(i?(this.isAtBottom=!0,this.props.handleScrollToBottom()):(this.isAtBottom=!1,this.props.handleScrollFromBottom())),n.offsetHeight!==this.offsetHeightCache||n.scrollHeight!==this.scrollHeightCache)this.scrollCounter=0,clearTimeout(this.anchorTimeout),!this.isPinned()&&(null==this.automaticAnchor?this.setAutomaticAnchor(this.findAnchor()):this.updateAutomaticAnchor(n.scrollTop,!0)),clearTimeout(this.anchorTimeout),this.fixScrollPosition(n.offsetHeight,n.scrollHeight),this.scrollTopCache=n.scrollTop;else{if(null!=e&&e.target!==(null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode()))return;this.scrollTopCache!==n.scrollTop&&(this.pinned=i,this.scrollCounter=Math.min(this.scrollCounter+1,5),this.pinned?this.cleanAutomaticAnchor():null!=this.automaticAnchor?this.updateAutomaticAnchor(n.scrollTop,!0):this.setAutomaticAnchor(this.findAnchor()),this.scrollTopCache=n.scrollTop,clearTimeout(this.anchorTimeout),this.anchorTimeout=setTimeout(()=>{this.scrollCounter=0,this.anchorTimeout=null,this.prevScrollTop=null;let{scrollHeight:e,offsetHeight:t}=this.getScrollerState();this.isHeightChange(t,e)?this.handleScroll():(this.cleanAutomaticAnchor(),!this.isPinned()&&this.setAutomaticAnchor(this.findAnchor()))},35))}if(this.handleFocusAnchorScroll(n.scrollTop,n.offsetHeight),this.updateStoreDimensionsDebounced(),this.isScrollLoadingDisabled())return!this.props.canLoadMore&&this.enableAutomaticAck(),this.handleScrollSpeed(n);let l=this.isInScrollTriggerLoadingRegion(n);1===l?this.loadMore():2===l?this.loadMore(!0):this.enableAutomaticAck(),this.handleScrollSpeed(n)}),_(this,"handleResize",(e,t)=>{let{offsetHeightCache:n,scrollHeightCache:i}=this;"container"===t?n=e.contentRect.height:"content"===t&&(i=e.contentRect.height),this.isHeightChange(n,i)&&this.fixScrollPosition(n,i)}),_(this,"handleMouseDown",e=>{e.target===e.currentTarget&&(this.dragging=!0)}),_(this,"handleMouseUp",()=>{this.dragging=!1,this.handleScroll()}),_(this,"loadMore",function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{messages:i}=l.props;if(n){let e=i.last();null!=e&&(t=e.id)}else{let t=i.first();null!=t&&(e=t.id)}l.messageFetchAnchor=l.findFetchAnchor(n),l.loading=!0,o.Z.fetchMessages({channelId:l.props.channel.id,before:e,after:t,limit:v.AQB,truncate:!0})}),_(this,"updateStoreDimensionsDebounced",r().debounce(this.updateStoreDimensions,200)),this.props=e,this.loading=e.messages.loadingMore,null!=e.messages.jumpTargetId)this.pinned=!1;else{let i=m.Z.isAtBottom(e.channel.id);this.pinned=null==i||i,this.initialScrollTop=i?null:null!==(n=null===(t=m.Z.getChannelDimensions(e.channel.id))||void 0===t?void 0:t.scrollTop)&&void 0!==n?n:null}}}function Z(e){let{messages:t,channel:n,compact:l,hasUnreads:r,focusId:a,placeholderHeight:s,canLoadMore:o=!0,handleScrollToBottom:c,handleScrollFromBottom:u}=e,{windowId:h}=i.useContext(d.ZP),[p]=i.useState(()=>new b({messages:t,channel:n,compact:l,hasUnreads:r,focusId:a,placeholderHeight:s,canLoadMore:o,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:u}));return p.getSnapshotBeforeUpdate(a),i.useLayoutEffect(()=>p.mergePropsAndUpdate({messages:t,channel:n,compact:l,hasUnreads:r,focusId:a,placeholderHeight:s,canLoadMore:o,windowId:h,handleScrollToBottom:c,handleScrollFromBottom:u})),i.useLayoutEffect(()=>()=>p.cleanup(),[p]),p}},406534:function(e,t,n){n.d(t,{Z:function(){return et}}),n(653041),n(47120),n(733860);var i=n(200651),l=n(192379),r=n(442837),a=n(904245),s=n(966390),o=n(902840),c=n(607070),d=n(367907),u=n(605984),h=n(453470),p=n(40330),m=n(600084),f=n(62764),g=n(79712),C=n(736052),x=n(359110),v=n(359119),_=n(13279),I=n(248789),E=n(88101),b=n(576954),Z=n(765104),N=n(122707),S=n(779836),T=n(23750),j=n(496675),A=n(306680),y=n(944486),P=n(594174),M=n(55935),R=n(70956),L=n(709054),k=n(534091),O=n(900164),D=n(554838),w=n(481369),B=n(186877),U=n(294218),H=n(534469),G=n(993397),F=n(511010),V=n(524444),z=n(977391),W=n(921235),K=n(97352),Y=n(226027),q=n(959517),X=n(981631),J=n(134612),Q=n(388032);function $(e){return null!=e&&e.type===X.ys_.MESSAGE&&e.content.id===e.groupId}let ee=l.memo(function(e){let{file:t,channel:n,user:l,isGroupStart:r,compact:a}=e;return(0,i.jsx)(U.Z,{compact:a,isGroupStart:r,channel:n,message:new T.ZP({id:t.id,key:"pending-upload-".concat(t.id),type:X.uaV.DEFAULT,author:l,channel_id:n.id,customRenderedContent:{hasSpoilerEmbeds:!1,content:(0,i.jsx)(p.p,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.currentSize,onCancelUpload:()=>{s.Z.cancel(t)}})}})})});function et(e){var t,n;let l,s,{channel:p,messages:U,unreadCount:et,showNewMessagesBar:en,messageDisplayCompact:ei,channelStream:el,uploads:er,scrollManager:ea,specs:es,filterAfterTimestamp:eo,showingQuarantineBanner:ec,hideSummaries:ed,jumpBarClassName:eu}=e,eh=P.default.getCurrentUser(),ep=()=>ea.isInitialized()||U.ready,em=(0,B.$)(p),ef=U.length>0&&(null===(t=U.first())||void 0===t?void 0:t.isFirstMessageInForumPost(p)),eg=(0,o.ts)(p),eC=(0,r.e7)([Z.Z],()=>Z.Z.shouldShowTopicsBar()&&!ed),ex=(0,E.P)(p.id),ev=(0,_.z)(p.id,J.zr),e_=(0,u.k)(p.id),eI=(0,w.Z)(),eE=function(e,t){if(e.isDM()&&null!=t)return t.type===v.pj.STRANGER_DANGER?(0,i.jsx)(b.M,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()}):t.type===v.pj.LIKELY_ATO?(0,i.jsx)(h.M,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()}):(0,i.jsx)(I.Y,{channelId:e.id,warningId:t.id,senderId:e.getRecipientId()});return null}(p,null!==(n=null!=ex?ex:ev)&&void 0!==n?n:e_),eb=p.isForumPost()&&!ef?(0,i.jsx)(f.Z,{postId:p.id}):null,eZ=(0,C.Z)(p.id);(0,K.Z)();let eN=null,eS=[],eT=el.map((e,t)=>{if(e.type===X.ys_.DIVIDER){var n,l;let r=null!=e.unreadId;return null!=eo?null:e.isSummaryDivider?(0,i.jsx)(S.Z,{index:t,item:e,channel:p,isBeforeGroup:null==e.content&&$(el[t+1])}):(0,i.jsx)(F.Z,{isUnread:r,isBeforeGroup:null==e.content&&$(el[t+1]),id:r?q.j1:void 0,children:e.content},"divider-".concat(null!==(l=null!==(n=e.contentKey)&&void 0!==n?n:e.unreadId)&&void 0!==l?l:t))}if(e.type===X.ys_.FORUM_POST_ACTION_BAR)return(0,i.jsx)(f.Z,{parentChannelId:p.parent_id,postId:p.id,isLastItem:t+1===el.length,isFirstMessage:!0},"forum-post-action-bar-".concat(p.id));if(e.type===X.ys_.MESSAGE_GROUP_BLOCKED||e.type===X.ys_.MESSAGE_GROUP_IGNORED||e.type===X.ys_.MESSAGE_GROUP_SPAMMER){let t;return t=e.type===X.ys_.MESSAGE_GROUP_BLOCKED?Q.t["+FcYMz"]:e.type===X.ys_.MESSAGE_GROUP_IGNORED?Q.t.VFWjc3:Q.t.xfkfTE,(0,i.jsx)(G.Z,{unreadId:q.j1,messages:e,channel:p,compact:ei,collapsedReason:t},e.key)}if(null!=eo&&eo>e.content.timestamp.getTime()*R.Z.Millis.SECOND)return;let r=j.Z.can(X.Plq.CREATE_INSTANT_INVITE,p);if((0,O.Z)(e.content,r))return;e.type===X.ys_.MESSAGE&&null==eN&&(eN=e);let a=e.groupId===(null==eN?void 0:eN.groupId)?eN.content.id:e.groupId,s=e.type===X.ys_.THREAD_STARTER_MESSAGE?H.Ru:H.ZP;return(0,i.jsx)(s,{compact:ei,channel:p,message:e.content,groupId:a,flashKey:e.flashKey,id:(0,k.p)(p.id,e.content.id),isLastItem:t>=el.length-1,renderContentOnly:eZ},e.content.id)});eS.push(...eT);let ej=el[el.length-1];if(null!=eh&&er.forEach((e,t)=>{let n=0===t&&(0,D.J)(p,ej,new T.ZP({type:X.uaV.DEFAULT,author:eh}));eS.push((0,i.jsx)(ee,{file:e,channel:p,user:eh,isGroupStart:n,compact:ei},"upload-".concat(e.id)))}),U.hasMoreBefore&&null==eo){U.length>0&&eS.unshift((0,i.jsx)("div",{style:{height:q.D4,flex:"0 0 auto"}},"buffer"));let{useReducedMotion:e}=c.Z;(e&&ep()||!e)&&eS.unshift((0,i.jsx)(z.ZP,{compact:ei,...es},"has-more"))}if((!U.hasMoreBefore||null!=eo)&&eS.unshift((0,i.jsx)(m.Z,{channel:p,showingBanner:ec},"empty-message")),U.hasMoreAfter&&eS.push((0,i.jsx)(z.ZP,{compact:ei,...es},"has-more-after")),!ec&&em&&ep()&&eS.push((0,i.jsx)(W.Z,{channel:p})),et>0&&en&&ep()){let e,t;let n=A.ZP.getOldestUnreadTimestamp(p.id),r=0!==n?n:L.default.extractTimestamp(p.id),a=(0,M.KC)(new Date,new Date(r));if(A.ZP.isEstimated(p.id)?(e=a?Q.t.wvtbbG:Q.t.tHqbtr,t=Q.t.vaPWFR):(e=a?Q.t.BctFHx:Q.t["3wXb9P"],t=Q.t["4H8ldH"]),eg&&(0,o.tW)(p)&&eI.includes(Y.E.SUMMARIES)){let n=A.ZP.ackMessageId(p.id),a=(0,N.q)(p.id,A.ZP.getOldestUnreadMessageId(p.id));if((0,d.yw)(X.rMx.SUMMARIES_UNREAD_BAR_VIEWED,{num_unread_summaries:a,num_unread_messages:et,last_ack_message_id:n,summaries_enabled_by_user:eC,summaries_enabled_for_channel:(0,o.Lp)(p)}),(0,o.Lp)(p)){let n=eC?Q.intl.format(t,{count:et}):Q.intl.format(e,{count:et,timestamp:r});if(eC){let e=a>0?(0,i.jsxs)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"40%"},children:[Q.intl.format(t,{count:et}),(0,i.jsx)(g.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),Q.intl.format(Q.t.CBftDQ,{count:a})]}):(0,i.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"45%"},children:n});l=(0,i.jsx)(V.G5,{scrollManager:ea,content:e,channel:p})}else{let e=(0,i.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center"},children:a>0?(0,i.jsxs)(i.Fragment,{children:[Q.intl.format(t,{count:et}),(0,i.jsx)(g.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),Q.intl.format(Q.t.CBftDQ,{count:a})]}):(0,i.jsx)(i.Fragment,{children:n})});l=(0,i.jsx)(V.LE,{content:e,channelId:p.id})}}}else eI.includes(Y.E.NEW_MESSAGES)&&(l=(0,i.jsx)(V.LE,{content:Q.intl.format(e,{count:et,timestamp:r}),channelId:p.id}))}if(null==l&&(0,o.Lp)(p)&&eC&&eI.includes(Y.E.SUMMARIES)&&(l=(0,i.jsx)(V.BO,{channel:p,scrollManager:ea})),U.error)s=(0,i.jsx)(V.Rp,{loading:U.loadingMore,onClick:()=>{var e;return e=p.id,void a.Z.fetchMessages({channelId:e,limit:X.AQB,truncate:!0})},className:eu});else if(U.hasMoreAfter&&ep()){let{jumpReturnTargetId:e}=U;s=U.loadingMore&&U.jumpedToPresent?(0,i.jsx)(V.DR,{className:eu}):null!=e?(0,i.jsx)(V.DR,{type:V.A7.REPLY,onClick:()=>{var t,n;return t=p,n=e,void a.Z.jumpToMessage({channelId:t.id,messageId:n,flash:!0})},className:eu}):(0,i.jsx)(V.DR,{onClick:()=>(function(e){a.Z.jumpToPresent(e.id,X.AQB);let t=y.Z.getChannelId();e.id===t&&(0,x.Kh)(e.id)})(p),className:eu})}return{channelStreamMarkup:eS,newMessagesBar:l,jumpToPresentBar:s,forumPostActionBar:eb,safetyWarningBanner:eE}}},764893:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(200651);n(192379);var l=n(158969);function r(e,t){let{message:n,compact:r}=e;return(0,i.jsx)(l.Z,{message:n,content:t,compact:r})}},481363:function(e,t,n){n.d(t,{Z:function(){return c}}),n(789020);var i=n(200651);n(192379);var l=n(630388),r=n(901461),a=n(773176),s=n(981631),o=n(46124);function c(e){let{setPopout:t,messagePopouts:{emojiPicker:n,emojiBurstPicker:c,moreUtilities:d},isFocused:u,buttonProps:{message:h,channel:p,groupId:m,compact:f=!1}}=e,g=h.state===s.yb.SENDING,C=h.id===m,x=(0,l.yE)(h.flags,s.iLy.EPHEMERAL),v=h.state===s.yb.SEND_FAILED;return g||x&&!v?null:(0,i.jsx)(a.Z,{className:o.buttons,innerClassName:o.buttonsInner,isHeader:!f&&C&&!(0,r.Z)(h),isReply:!f&&h.type===s.uaV.REPLY&&null!=h.messageReference,channel:p,message:h,setPopout:t,showEmojiPicker:n,showEmojiBurstPicker:c,showMoreUtilities:d,isFocused:u})}},900902:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),l=n(192379),r=n(901461),a=n(453687),s=n(464891),o=n(318713),c=n(507418),d=n(348238),u=n(981631);let h=l.memo(function(e){let{message:t,channel:n,compact:r=!1,groupId:a,isGroupStart:o,usernameProfile:h,avatarProfile:p,setPopout:m,author:f,repliedMessage:g,roleIcon:C}=e,x=(0,d.wq)(t.author.id,n.id),v=(0,d.XO)(t,n,h,m),_=(0,d.R9)(p,m),I=l.useCallback(()=>m({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1}),[m]);return(0,i.jsx)(s.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:g,author:f,compact:r,subscribeToGroupId:a,showTimestampOnHover:!o&&r&&t.type!==u.uaV.REPLY,renderPopout:c.Z,showAvatarPopout:p,showUsernamePopout:h,onClickAvatar:_,onClickUsername:v,onContextMenu:x,onPopoutRequestClose:I,roleIcon:C})}),p=l.memo(o.Z);function m(e){let{messageProps:t,setPopout:n,messagePopouts:l,replyReference:s,author:o,repliedMessage:c,roleIcon:d}=e,{message:u,compact:m,channel:f,groupId:g}=t,{usernameProfile:C,avatarProfile:x}=l;if((0,r.Z)(u))return null;let v=u.id===g;return v||m||null!=s?(0,i.jsx)(h,{message:u,channel:f,compact:m,subscribeToGroupId:g,isGroupStart:v,groupId:g,setPopout:n,usernameProfile:C,avatarProfile:x,author:o,repliedMessage:c,roleIcon:d}):(0,i.jsx)(p,{compact:!0,timestamp:u.timestamp,isInline:!1,id:(0,a.Dv)(u),isVisibleOnlyOnHover:!0,cozyAlt:!0})}},252032:function(e,t,n){n.d(t,{Z:function(){return N}}),n(789020),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(904245),s=n(257559),o=n(541716),c=n(893718),d=n(540059),u=n(314897),h=n(323873),p=n(430824),m=n(496675),f=n(585483),g=n(630388),C=n(838440),x=n(930282),v=n(955384),_=n(981631),I=n(46124);function E(e){let{value:t,channel:n}=e;return(0,C.v)({type:o.Ie.EDIT,content:t,channel:n,restrictMentions:!1,respectCooldown:!1})}function b(e){let{channel:t,message:n}=e,{id:o}=t,{id:c}=n,f=t.getGuildId(),C=(0,r.e7)([p.Z],()=>p.Z.getGuild(f),[f]),x=t.type===_.d4z.GUILD_ANNOUNCEMENT,b=null!=C&&C.hasFeature(_.oNc.NEWS),N=x&&b,{editingMessage:S,editingTextValue:T,editingRichValue:j}=(0,r.cj)([h.Z],()=>({editingMessage:h.Z.getEditingMessage(o),editingTextValue:h.Z.getEditingTextValue(o),editingRichValue:h.Z.getEditingRichValue(o)}),[o]),A=(0,r.e7)([u.default],()=>u.default.getId()),y=l.useCallback((e,n,i)=>{let{content:l}=i,r=m.Z.can(_.Plq.MANAGE_MESSAGES,t),o=null!=S&&null!=S.author?S.author.id:null;return N&&(o===A||r)&&null!=S&&(0,g.yE)(S.flags,_.iLy.CROSSPOSTED)?s.Z.confirmEdit(e,n,l):a.Z.editMessage(e,n,{content:l}),Promise.resolve()},[S,N,A,t]),P=l.useCallback(e=>(0,l.createElement)(Z,{...e,className:I.channelTextArea,key:c}),[c]),M=(0,d.Q3)("EditorWrapper");return null!=T&&null!=j?(0,i.jsx)(v.Z,{ref:void 0,channel:t,message:n,textValue:T,richValue:j,onCancel:a.Z.endEditMessage,onChange:a.Z.updateEditMessage,onConfirmDelete:s.Z.confirmDelete,saveMessage:y,validateEdit:E,isRefreshEnabled:M,children:P}):null}function Z(e){let{textValue:t,richValue:n,message:r,channel:a,onChange:s,onSubmit:d,onKeyDown:u,renderLeftAccessories:h}=e,[p,m]=l.useState(!0),g=l.useCallback(()=>m(!0),[]),C=l.useCallback(()=>m(!1),[]);return l.useEffect(()=>(f.S.subscribe(_.CkL.TEXTAREA_FOCUS,g),f.S.subscribe(_.CkL.TEXTAREA_BLUR,C),()=>{f.S.unsubscribe(_.CkL.TEXTAREA_FOCUS,g),f.S.unsubscribe(_.CkL.TEXTAREA_BLUR,C)}),[g,C]),(0,i.jsx)(c.Z,{className:I.channelTextArea,textValue:t,richValue:n,channel:a,type:o.Ie.EDIT,onChange:s,onSubmit:e=>{let{value:t}=e;return d(t)},onKeyDown:u,focused:p,onFocus:g,onBlur:C,renderLeftAccessories:h},r.id)}function N(e,t,n){let{message:l,channel:r}=e;return n?(0,i.jsx)(b,{channel:r,message:l}):(0,i.jsx)(x.ZP,{message:l,content:t})}},737243:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),l=n(192379),r=n(442837),a=n(911969),s=n(581364),o=n(869765),c=n(699516),d=n(697451),u=n(348238),h=n(614584);let p=l.memo(function(e){var t,n;let{message:p,channel:m,compact:f=!1,interactionUsernameProfile:g,interactionAvatarProfile:C,interactionData:x,referencedUsernameProfile:v,referencedAvatarProfile:_,setPopout:I}=e,{isInteractionUserBlocked:E,isInteractionUserIgnored:b}=(0,r.cj)([c.Z],()=>({isInteractionUserBlocked:c.Z.isBlockedForMessage(p),isInteractionUserIgnored:c.Z.isIgnoredForMessage(p)}),[p]),Z=(0,r.e7)([o.Z],()=>o.Z.getMessageByReference(null==p?void 0:p.messageReference)),N=(0,u.wq)(null===(t=p.interaction)||void 0===t?void 0:t.user.id,m.id),S=(0,u.Nk)(p.interaction,m,g,I),T=(0,u.NU)(C,I),j=(0,s.t0)(p),A=(null==j?void 0:j.type)===a.B8.APPLICATION_COMMAND?null===(n=j.target_user)||void 0===n?void 0:n.id:void 0,y=(0,u.wq)(A,m.id),P=(0,u.JC)(A,m,v,I),M=(0,u.rY)(_,I),R=(0,u.Xn)(x,I),L=l.useCallback(()=>I({interactionUsernameProfile:!1,interactionAvatarProfile:!1,interactionData:!1,referencedUsernameProfile:!1,referencedAvatarProfile:!1}),[I]),k=l.useCallback(()=>(0,h.Z)({message:p,channel:m,compact:f,setPopout:I,referencedAvatarProfile:_,referencedUsernameProfile:v,replyReference:p.messageReference,replyMessage:Z,isReplySpineClickable:!1,showReplySpine:!1}),[m,f,p,_,Z,v,I]);return(0,i.jsx)(d.Z,{message:p,channel:m,compact:f,isInteractionUserBlocked:E,isInteractionUserIgnored:b,showAvatarPopout:C,showUsernamePopout:g,showDataPopout:x,showTargetAvatarPopout:_,showTargetUsernamePopout:v,onClickAvatar:T,onClickUsername:S,onClickCommand:R,onUserContextMenu:N,onClickTargetAvatar:M,onClickTargetUsername:P,onTargetUserContextMenu:y,onPopoutRequestClose:L,renderTargetMessage:k})});function m(e,t,n){let{message:l,channel:r,compact:a}=e;return null!=l.interaction&&""!==l.interaction.displayName?(0,i.jsx)(p,{message:l,channel:r,compact:a,setPopout:t,...n}):null}},614584:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=n(200651),l=n(192379),r=n(442837),a=n(25209),s=n(39154),o=n(35125),c=n(905405),d=n(628238),u=n(499401),h=n(693912),p=n(869765),m=n(699516),f=n(352736),g=n(937889),C=n(739566),x=n(267128),v=n(507418),_=n(348238),I=n(981631),E=n(388032);let b=l.memo(function(e){var t;let{baseMessage:n,referencedMessage:b,channel:Z,compact:N=!1,referencedUsernameProfile:S,referencedAvatarProfile:T,setPopout:j,isReplySpineClickable:A,showReplySpine:y}=e,P=b.state===p.Y.LOADED?b.message:void 0,M=(0,C.Uj)(P),R=(0,c.p)(),L=(0,d.A)((null!==(t=n.editedTimestamp)&&void 0!==t?t:n.timestamp).valueOf()),k=l.useMemo(()=>{if(null==P)return null;let e=(0,s.Z)(P);if(e.type===I.uaV.USER_JOIN){let t=f.Z.getWelcomeMessageKind(Z.guild_id);return(0,a.Rp)(E.intl.formatToParts(f.Z.getSystemMessageUserJoin(e.id,t),{username:null!=M?M.nick:e.author.username,usernameHook:e=>e}))}if(e.type===I.uaV.ROLE_SUBSCRIPTION_PURCHASE)return(0,a.Rp)((0,o.PA)({username:null!=M?M.nick:e.author.username,guildId:null==Z?void 0:Z.guild_id,roleSubscriptionData:e.roleSubscriptionData}));if(e.type===I.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION)return(0,a.Rp)((0,u.Y)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));else if(e.type===I.uaV.PRIVATE_CHANNEL_INTEGRATION_ADDED)return(0,a.Rp)((0,h.B2)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));else if(e.type===I.uaV.PRIVATE_CHANNEL_INTEGRATION_REMOVED)return(0,a.Rp)((0,h.hj)({application:null==e?void 0:e.application,username:null==M?void 0:M.nick}));else if(e.type===I.uaV.GUILD_DEADCHAT_REVIVE_PROMPT)return""!==e.content?e.content:E.intl.string(E.t.wnn1DQ);if(null!=e.content&&""!==e.content){let t={formatInline:!0,allowLinks:!0,shouldFilterKeywords:R},n=e.isFirstMessageInForumPost(Z)?{...t,noStyleAndInteraction:!0,allowHeading:!0,allowList:!0}:{...t,formatInline:!0,allowHeading:L,allowList:L};return(0,g.ZP)(e,n).content}return null},[P,M,Z,L,R]),{isReplyAuthorBlocked:O,isReplyAuthorIgnored:D}=(0,r.cj)([m.Z],()=>({isReplyAuthorBlocked:null!=P&&m.Z.isBlockedForMessage(P),isReplyAuthorIgnored:null!=P&&m.Z.isIgnoredForMessage(P)}),[P]),w=(0,_.wq)(null==P?void 0:P.author.id,Z.id),B=(0,_.$3)(n,P,O,D),U=(0,_.Wl)(P,Z,S,j),H=(0,_.rY)(T,j),G=l.useCallback(()=>j({referencedUsernameProfile:!1,referencedAvatarProfile:!1}),[j]),F=(0,C.Uj)(n);return(0,i.jsx)(x.Z,{repliedAuthor:M,baseMessage:n,channel:Z,baseAuthor:F,referencedMessage:b,content:k,compact:N,isReplyAuthorBlocked:O,isReplyAuthorIgnored:D,showAvatarPopout:T,showUsernamePopout:S,renderPopout:v.Z,onClickAvatar:H,onClickUsername:U,onClickReply:B,onContextMenu:w,onPopoutRequestClose:G,isReplySpineClickable:A,showReplySpine:y})});function Z(e){let{message:t,channel:n,compact:l,setPopout:r,referencedUsernameProfile:a,referencedAvatarProfile:s,replyReference:o,replyMessage:c,isReplySpineClickable:d,showReplySpine:u=!0}=e,h=null!=o&&(0,i.jsx)(b,{baseMessage:t,replyReference:o,referencedMessage:c,channel:n,compact:l,setPopout:r,referencedUsernameProfile:a,referencedAvatarProfile:s,isReplySpineClickable:d,showReplySpine:u});return(0,i.jsx)(i.Fragment,{children:h})}},670044:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(990547),l=n(213609);function r(e){return(0,l.Z)({type:i.ImpressionTypes.VIEW,name:i.ImpressionNames.NOTIFICATION_SETTING_UNREAD_NUDGE},void 0,[e.id]),null}},390289:function(e,t,n){n(47120),n(789020);var i,l=n(442837),r=n(570140),a=n(314897),s=n(592125),o=n(430824),c=n(944486),d=n(9156),u=n(70956),h=n(630388),p=n(709054),m=n(221259),f=n(981631),g=n(490897),C=n(526761);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let v=[{timeSinceJoin:1*u.Z.Millis.HOUR,sends:1,viewTime:1*u.Z.Millis.MINUTE},{timeSinceJoin:1*u.Z.Millis.DAY,sends:2,viewTime:2*u.Z.Millis.MINUTE},{timeSinceJoin:1*u.Z.Millis.WEEK,sends:5,viewTime:5*u.Z.Millis.MINUTE},{timeSinceJoin:1*u.Z.Millis.DAYS_30,sends:10,viewTime:30*u.Z.Millis.MINUTE}],_=5*v[v.length-1].viewTime,I=u.Z.Millis.WEEK,E={channels:{}},b=new Set,Z=null,N=0,S=0;function T(){if(null==Z||!y(Z))return!1;let e=A(Z);if(e.lastActionTime>Date.now()-u.Z.Millis.DAY&&e.viewDuration>_)return!1;let t=Date.now();e.lastActionTime=t,e.viewDuration+=t-N,N=t}function j(){return 0!==S&&(clearInterval(S),S=0),d.ZP.useNewNotifications&&(S=setInterval(()=>{T()&&R.emitChange()},15*u.Z.Millis.SECOND)),!1}function A(e){return e in E.channels?E.channels[e]:(E.channels[e]={lastActionTime:0,viewDuration:0,numSends:0},E.channels[e])}function y(e){if(!d.ZP.useNewNotifications||b.has(e))return!1;let t=s.Z.getBasicChannel(e);if(null==t||null==t.guild_id||d.ZP.isGuildOrCategoryOrChannelMuted(t.guild_id,t.id)||P(t.guild_id,t.id)||P(t.guild_id,t.parent_id))return!1;let n=d.ZP.resolveUnreadSetting(t);return d.ZP.getChannelUnreadSetting(t.guild_id,t.id)===g.i.UNSET&&n!==g.i.ALL_MESSAGES}function P(e,t){if(null==t)return!1;let n=d.ZP.getChannelOverrides(e)[t];return null!=n&&(!!(null!=n.message_notifications&&n.message_notifications!==f.bL.NULL||null!=n.flags&&(0,h.EB)(n.flags,C.ic.UNREADS_ALL_MESSAGES|C.ic.UNREADS_ONLY_MENTIONS))||!1)}class M extends(i=l.ZP.PersistedStore){initialize(e){null!=e&&(E.channels=e.channels),this.syncWith([d.ZP],j),this.waitFor(d.ZP,c.Z,s.Z)}getState(){return E}getLastActionTime(e){var t,n;return null!==(n=null===(t=E.channels[e])||void 0===t?void 0:t.lastActionTime)&&void 0!==n?n:0}maybeAutoUpgradeChannel(e){if(!y(e))return!1;let t=s.Z.getBasicChannel(e);return null!=t&&null!=t.guild_id&&!!function(e){var t;let n=o.Z.getGuild(e.guild_id),i=null!==(t=null==n?void 0:n.joinedAt)&&void 0!==t?t:new Date,l=p.default.age(e.id),r=Math.min(l,Date.now()-i.getTime()),a=E.channels[e.id];if(null==a||a.lastActionTime<Date.now()-I)return!1;for(let e of v)if(r<e.timeSinceJoin&&(a.numSends>=e.sends||a.viewDuration>=e.viewTime))return!0;return!1}(t)&&(delete E.channels[e],b.add(e),(0,m.IG)(t.guild_id,t.id,g.i.ALL_MESSAGES),!0)}}x(M,"displayName","UnreadSettingNoticeStore2"),x(M,"persistKey","UnreadSettingNoticeStore2");let R=new M(r.Z,{CHANNEL_SELECT:function(){let e=T();return Z=c.Z.getChannelId(),N=Date.now(),e},CONNECTION_OPEN:function(){Z=c.Z.getChannelId(),N=Date.now(),j();let e=Date.now()-I;p.default.forEach(E.channels,(t,n)=>{let{lastActionTime:i}=t;i<e&&delete E.channels[n]})},MESSAGE_CREATE:function(e){var t;if(e.optimistic||e.isPushNotification||(null===(t=e.message.author)||void 0===t?void 0:t.id)!==a.default.getId()||!y(e.channelId))return!1;let n=A(e.channelId);n.lastActionTime=Date.now(),n.numSends++}});t.Z=R},28391:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(87051),l=n(9156),r=n(621600),a=n(113449),s=n(981631),o=n(490897),c=n(526761);function d(e,t,n){i.Z.updateChannelOverrideSettings(e,t,{flags:(0,a.pq)(l.ZP.getChannelIdFlags(e,t),n)},r.UE.unreads(n===c.ic.UNREADS_ALL_MESSAGES?o.i.ALL_MESSAGES:o.i.ONLY_MENTIONS),{object:s.qAy.NOTIFICATION_SETTING_UNREAD_NOTICE})}},944103:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(192379),l=n(442837),r=n(131704),a=n(423589),s=n(390289);function o(e){let t=(0,a.Mn)("useShouldRenderBanner"),[n,o]=i.useState("");i.useEffect(()=>{o("")},[e.id]);let c=(0,l.e7)([s.Z],()=>s.Z.getLastActionTime(e.id));i.useEffect(()=>{if(!!r.$N.has(e.type)&&n!==e.id)t&&s.Z.maybeAutoUpgradeChannel(e.id)&&o(e.id)},[n,t,c,e]);let d=i.useCallback(()=>o(""),[]);return{showUnreadsNotice:n===e.id,clearUnreadsNotice:d}}},946050:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(481060),r=n(670044),a=n(28391),s=n(526761),o=n(388032),c=n(544725);function d(e){let{channel:t,clearUnreadsNotice:n}=e;return(0,i.jsxs)("div",{className:c.notice,children:[(0,i.jsx)(r.Z,{id:t.id}),(0,i.jsx)("div",{className:c.info,children:(0,i.jsx)(l.Text,{variant:"text-sm/medium",children:o.intl.format(o.t.P6Y2Nz,{})})}),(0,i.jsx)("div",{className:c.buttons,children:(0,i.jsxs)(l.Button,{size:l.Button.Sizes.TINY,look:l.Button.Looks.FILLED,color:l.Button.Colors.PRIMARY,className:c.button,innerClassName:c.buttonInner,onClick:()=>{(0,a.Z)(t.guild_id,t.id,s.ic.UNREADS_ONLY_MENTIONS),n()},children:[o.intl.string(o.t.KyUKhY),(0,i.jsx)(l.UndoIcon,{size:"xs",color:"currentColor",style:{marginLeft:4}})]})})]})}},256413:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),l=n(931261),r=n(9156),a=n(398758),s=n(981631),o=n(176505);function c(e){var t;let n=(0,a.DM)((null==e?void 0:e.getGuildId())!=null?e.guild_id:s.kod),c=(0,i.e7)([r.ZP],()=>null!=e&&r.ZP.isChannelRecordOrParentOptedIn(e)),d=(0,l.g)(null!==(t=null==e?void 0:e.guild_id)&&void 0!==t?t:s.kod);if(null==e)return!1;let u=d&&e.hasFlag(o.zZ.IS_GUILD_RESOURCE_CHANNEL);return n&&!u&&!c&&!e.isThread()}},292853:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(367907),c=n(626135),d=n(152376),u=n(981631),h=n(388032),p=n(14161);function m(e){let{channel:t,narrow:n}=e;return l.useEffect(()=>{c.default.track(u.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"channel_opt_in"})},[t]),(0,i.jsxs)("div",{className:a()(p.chatHeaderBar,{[p.narrow]:n}),children:[(0,i.jsx)(s.Text,{className:p.chatHeaderBarText,variant:"text-sm/normal",color:"text-normal",children:h.intl.string(h.t.iOWmmJ)}),(0,i.jsxs)(s.Button,{size:s.Button.Sizes.TINY,className:p.chatHeaderBarButton,innerClassName:p.chatHeaderBarButtonInner,color:s.Button.Colors.BRAND,onClick:()=>{c.default.track(u.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"channel_opt_in",cta_type:"add channel"}),(0,d.XQ)(t.guild_id,t.id,!0,{section:u.jXE.CHANNEL})},children:[(0,i.jsx)(s.PlusSmallIcon,{size:"custom",color:"currentColor",width:14,height:14}),h.intl.string(h.t.ZtIlQk)]})]})}},986035:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(600164),c=n(276326),d=n(232186);class u extends l.PureComponent{render(){let{title:e,description:t,agreement:n,disagreement:l,onAgree:r,onDisagree:u,imageClassName:h}=this.props;return(0,i.jsxs)(o.Z,{className:c.gatedContent,justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,direction:o.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:a()(c.image,h)}),(0,i.jsx)("div",{className:a()(c.title,d.marginBottom8),children:e}),(0,i.jsx)("div",{className:a()(c.description,d.marginBottom20),children:t}),(0,i.jsxs)(o.Z,{justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,grow:0,children:[null!=l?(0,i.jsx)(s.Button,{className:c.action,size:s.ButtonSizes.LARGE,color:s.ButtonColors.PRIMARY,onClick:u,children:l}):null,null!=n?(0,i.jsx)(s.Button,{className:c.action,color:s.Button.Colors.RED,size:s.ButtonSizes.LARGE,onClick:r,children:n}):null]})]})}}t.Z=u},217871:function(e,t,n){n(47120),n(177593);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(752877),o=n(442837),c=n(481060),d=n(393238),u=n(607070),h=n(44315),p=n(314897),m=n(111583),f=n(889901),g=n(64078),C=n(351780),x=n(843693),v=n(641033),_=n(989830),I=n(388032),E=n(242803);let b=l.memo(function(e){let{channelId:t,width:n}=e,r=(0,o.e7)([u.Z],()=>u.Z.useReducedMotion),a=(0,o.e7)([x.ZP],()=>x.ZP.getMostRecentMessageCombo(t),[t]),[d,h]=l.useState(!1);l.useEffect(()=>{if(null==a?void 0:a.displayed)return;h(!1),setImmediate(()=>{h((null!=a?(0,v.Eo)(a.combo):0)>0)});let e=setTimeout(()=>{h(!1),null!=a&&(0,g.ew)(a)},2e3);return()=>clearTimeout(e)},[a]);let p=null!=a?"100%":"200%",m=(0,c.useSpring)({opacity:d?1:0,translateY:d?"0":p,pointerEvents:"none",width:n,config:r?s.config.stiff:s.config.slow},"animate-always");return(0,i.jsx)(i.Fragment,{children:null!=a&&(0,i.jsx)(s.animated.div,{className:E.messageComboScore,style:m,children:(0,i.jsx)(c.Text,{className:E.comboScore,variant:"text-sm/bold",children:(0,v.Eo)(a.combo)})})})}),Z=l.memo(function(e){let{value:t,multiplier:n}=e,{color:r,square:s,flair:o}=l.useMemo(()=>(0,v.yz)(n),[n]),d=(0,h.Lq)(r);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:E.comboValue,variant:"text-sm/bold",children:t}),(0,i.jsxs)("div",{className:E.comboNameplate,style:{color:d},children:[(0,i.jsx)(c.Text,{className:E.comboMultiplier,style:{color:d},variant:"text-sm/bold",children:I.intl.format(I.t["6bgVlp"],{multiplier:n})}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:a()(E.comboSquare,E.left),style:{backgroundColor:d}}),(0,i.jsx)("div",{className:a()(E.comboSquare,E.right),style:{backgroundColor:d}})]}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:a()(E.confettiIcon,E.left),children:(0,i.jsx)(f.Z,{width:24,height:24})}),(0,i.jsx)("div",{className:a()(E.confettiIcon,E.right),children:(0,i.jsx)(f.Z,{width:24,height:24})})]}),1===n&&(0,i.jsx)(c.Text,{className:E.tip,variant:"text-sm/bold",children:I.intl.string(I.t.b5Cpoa)})]})]})});t.Z=l.memo(function(e){let{channelId:t}=e,n=(0,o.e7)([p.default],()=>p.default.getId()),r=(0,o.e7)([m.Z],()=>m.Z.isTyping(t,n),[t,n]),a=(0,o.e7)([C.Z],()=>C.Z.isEnabled()),u=(0,o.e7)([x.ZP],()=>x.ZP.isComboing(n,t),[t,n]),{ref:h,width:f=0}=(0,d.Z)(),[g,v]=l.useState(!1),I=(0,_.Z)(t),N=a&&u&&r;l.useEffect(()=>{N&&v(!0);let e=setTimeout(()=>v(N),1e3);return()=>clearTimeout(e)},[N]);let S=(0,c.useSpring)({opacity:g?1:0,transform:g?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:s.config.stiff}),T=l.useMemo(()=>null!=I?I:{value:0,multiplier:1},[I]),j=l.useRef(T);l.useEffect(()=>{(T.multiplier>1||T.value>0)&&(j.current=T)},[T]);let{multiplier:A,value:y}=l.useMemo(()=>({value:N?T.value:j.current.value,multiplier:N?T.multiplier:j.current.multiplier}),[N,T,j]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{channelId:t,width:f}),(0,i.jsx)(s.animated.div,{ref:h,className:E.combo,style:S,children:(0,i.jsx)(Z,{value:y,multiplier:A})})]})})},139577:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(442837),l=n(314897),r=n(111583),a=n(351780),s=n(843693),o=n(170248),c=n(524484);function d(e){let t=(0,o.Z)(c.oZ.CHAT_INPUT),n=(0,i.e7)([a.Z],()=>a.Z.isEnabled({shakeLocation:c.oZ.CHAT_INPUT}));return(0,i.e7)([r.Z,s.ZP,l.default],()=>n&&r.Z.isTyping(e,l.default.getId())?s.ZP.getUserComboShakeIntensity(l.default.getId(),e,t):0)}},579185:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);var i=n(192379),l=n(846519);function r(e,t){let[n,r]=i.useState(!1),a=i.useRef(new l.sW(t,()=>r(!1))),s=i.useRef(new l.sW(e,()=>r(!0))),o=i.useCallback(()=>{a.current.cancel(),s.current.cancel()},[]);i.useEffect(()=>o,[o]);let c=i.useCallback(()=>{o(),a.current.delay()},[o]);return{isHovered:n,setIsHovered:r,onMouseEnter:i.useCallback(()=>{o(),s.current.delay()},[o]),onMouseLeave:c,cancelTimers:o}}},738672:function(e,t,n){n.d(t,{h:function(){return u}}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(909820),o=n(740492),c=n(937995),d=n(618158);function u(e){let{buttonRef:t,dismissed:n,onDismiss:u,renderComponent:h,nudgeAlignIntoViewport:p=!1,skipForceHide:m=!1}=e,f=l.useContext(c.h9),[g,C]=l.useState(""),[x,v]=l.useState(!1),_=(0,r.e7)([o.ZP],()=>o.ZP.callHeaderHeight),I=l.createRef(),E=l.useRef(0);l.useEffect(()=>{let e=t.current;if(null!=e)return e.addEventListener("click",u),()=>e.removeEventListener("click",u)}),l.useEffect(()=>{if(!m){var e,t;C(String(E.current)),v(void 0!==_&&_<(null!==(t=null===(e=I.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:300)+24),E.current+=1}},[_,I,m]);let{preventIdle:b,allowIdle:Z}=(0,d.Y)("popup");return(null==t?void 0:t.current)==null?null:(0,i.jsx)(s.ZP,{children:(0,i.jsx)(a.ReferencePositionLayer,{targetRef:t,position:"top",align:"center",spacing:0,positionKey:g,nudgeAlignIntoViewport:p,children:()=>(0,i.jsx)("div",{ref:I,onMouseOver:b,onFocus:b,onBlur:Z,onMouseLeave:Z,children:h({hidden:x||f||n,onDismiss:u})})})})}},455961:function(e,t,n){n.d(t,{b:function(){return M}}),n(47120),n(773603);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(848246),o=n(793030),c=n(442837),d=n(46973),u=n(481060),h=n(846027),p=n(607070),m=n(361291),f=n(131951),g=n(626135),C=n(120522),x=n(386542),v=n(933843),_=n(746599),I=n(1163),E=n(738672),b=n(981631),Z=n(37113),N=n(388032),S=n(235726);function T(e){let{className:t,onDismiss:n}=e;return(0,i.jsx)(u.Button,{className:t,"aria-label":N.intl.string(N.t.cpT0Cg),look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,onClick:n,children:(0,i.jsx)(u.XSmallIcon,{size:"xs",className:S.closeIcon,color:"white"})})}let j=Z.LY.RESOLUTION_1440,A=Z.ws.FPS_60;function y(e){let{channel:t}=e,n=(0,c.e7)([p.Z],()=>p.Z.useReducedMotion),[r,a]=l.useState(!1),{preset:o}=(0,c.cj)([m.Z],()=>m.Z.getState()),x=(0,c.e7)([f.Z],()=>f.Z.getGoLiveSource()),I=l.useCallback(()=>{a(!0),(0,C.S)(s.q.STREAM_HIGH_QUALITY).then(e=>{if(e){if((0,_.J1)(!(0,v.mc)(j,A)),g.default.track(b.rMx.PERK_DEMO_OFFER_ACCEPTED,{guild_id:t.guild_id,channel_id:t.id,perk_type:s.q.STREAM_HIGH_QUALITY,resolution:j,max_fps:A}),(0,_.cD)(!1),null==x)return;let e={qualityOptions:{preset:o,resolution:j,frameRate:A},context:d.Yn.STREAM};null!=x.desktopSource?e.desktopSettings={sourceId:x.desktopSource.id,sound:!0}:null!=x.cameraSource&&(e.cameraSettings={videoDeviceGuid:x.cameraSource.videoDeviceGuid,audioDeviceGuid:x.cameraSource.audioDeviceGuid}),h.Z.setGoLiveSource(e)}}).catch(()=>{}).finally(()=>{a(!1)})},[o,t,x]);return(0,i.jsx)(u.ShinyButton,{fullWidth:!0,pauseAnimation:n,color:u.Button.Colors.GREEN,size:u.Button.Sizes.SMALL,className:S.optInButton,onClick:I,submitting:r,children:N.intl.string(N.t["Rpn/09"])})}function P(e){let{channel:t,hidden:n,onDismiss:l}=e,r=I.Z.useExperiment({location:"StreamButtonDemoOptInPopoutContent"},{autoTrackExposure:!1}).extendedDemoDuration;return(0,i.jsxs)("div",{className:a()(S.optInPopout,S.variant2OptInPopout,{[S.hidden]:n}),children:[(0,i.jsx)("img",{className:S.image,src:"https://cdn.discordapp.com/assets/premium/roadblocks/hd_streaming.png",alt:"HD Streaming Nitro Perk"}),(0,i.jsx)(T,{className:S.variant2CloseButton,onDismiss:l}),(0,i.jsx)("div",{className:S.variant2InfoContainerParent,children:(0,i.jsxs)("div",{className:S.variant2InfoContainer,children:[(0,i.jsx)(o.xv,{className:S.variant2Text,variant:"text-sm/medium",children:r?N.intl.string(N.t.ZYQ2zc):N.intl.string(N.t.kr8AEx)}),(0,i.jsx)(y,{channel:t})]})})]})}function M(e){let{channel:t,...n}=e,{shouldShowOptInPopout:r}=(0,x.k)(s.q.STREAM_HIGH_QUALITY),{enabled:a}=I.Z.useExperiment({location:"StreamButtonDemoOptInPopout"},{autoTrackExposure:!1,disable:!r}),o=l.useRef(!1);return(l.useEffect(()=>{r&&a&&!o.current&&(o.current=!0,g.default.track(b.rMx.PERK_DEMO_OFFER_VIEWED,{guild_id:t.guild_id,channel_id:t.id,perk_type:s.q.STREAM_HIGH_QUALITY}))},[r,a,t]),r&&a)?(0,i.jsx)(E.h,{...n,renderComponent:e=>(0,i.jsx)(P,{...e,channel:t})}):null}},611845:function(e,t,n){n.d(t,{$:function(){return p}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(170671),o=n(738672),c=n(388032),d=n(31497),u=n(946790);function h(e){let{hidden:t,onDismiss:n}=e;return(0,i.jsxs)("div",{className:r()(d.demoCta,{[d.hidden]:t}),children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:d.wumpusContainer,children:(0,i.jsx)(a.Image,{src:u,width:72,height:52,zoomable:!1})}),(0,i.jsx)(a.Button,{"aria-label":c.intl.string(c.t.cpT0Cg),look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,onClick:()=>n(),className:d.closeButton,children:(0,i.jsx)(a.XSmallIcon,{size:"md",className:d.closeIcon,color:"white"})})]}),(0,i.jsx)("div",{className:d.textContainer,children:(0,i.jsx)(a.Text,{variant:"text-md/semibold",color:"always-white",children:c.intl.string(c.t.TguaU1)})}),(0,i.jsxs)("div",{className:d.nitroTextAndBadge,children:[(0,i.jsx)(s.Z,{isSelected:!0}),(0,i.jsx)(a.Text,{variant:"text-xs/medium",color:"always-white",children:c.intl.string(c.t["BMw+7O"])})]})]})}function p(e){return(0,i.jsx)(o.h,{...e,renderComponent:e=>(0,i.jsx)(h,{...e})})}},800966:function(e,t,n){n.d(t,{h:function(){return f}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(990547),s=n(481060),o=n(213609),c=n(626135),d=n(738672),u=n(981631),h=n(388032),p=n(790582);function m(e){let{hidden:t,onDismiss:n}=e;return(0,o.Z)({type:a.ImpressionTypes.VIEW,name:a.ImpressionNames.HD_STREAMING_POPOUT},{disableTrack:t},[t]),(0,i.jsxs)("div",{className:r()(p.popoutContainer,{[p.hidden]:t}),children:[(0,i.jsx)("img",{className:p.image,src:"https://cdn.discordapp.com/assets/premium/roadblocks/hd_streaming.png",alt:"HD Streaming Nitro Perk"}),(0,i.jsx)(s.Button,{className:p.closeButton,"aria-label":h.intl.string(h.t.cpT0Cg),look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onClick:()=>{n(),c.default.track(u.rMx.HD_STREAMING_POPOUT_DISMISSED)},children:(0,i.jsx)(s.XSmallIcon,{size:"xs",className:p.closeIcon,color:"white"})}),(0,i.jsx)("div",{className:p.infoContainerParent,children:(0,i.jsxs)("div",{className:p.infoContainer,children:[(0,i.jsx)(s.Text,{className:p.infoText,variant:"text-sm/medium",children:h.intl.format(h.t.ruvD7u,{})}),(0,i.jsxs)("div",{className:p.poweredByNitroContainer,children:[(0,i.jsx)(s.NitroWheelIcon,{size:"xs"}),(0,i.jsx)(s.Text,{className:p.infoText,variant:"text-sm/medium",children:h.intl.string(h.t["BMw+7O"])})]})]})})]})}function f(e){let{...t}=e;return(0,i.jsx)(d.h,{...t,renderComponent:e=>(0,i.jsx)(m,{...e})})}},258732:function(e,t,n){var i=n(544891),l=n(981631);t.Z={updatePrivateChannelRecipientFlags:(e,t)=>i.tn.patch({url:l.ANM.CHANNEL_RECIPIENT_ME(e),body:{flags:t},rejectWithError:!1})}},904847:function(e,t,n){var i=n(442837),l=n(186877),r=n(375954),a=n(981631);t.Z=(e,t)=>{let n=(0,l.$)(t),s=(0,i.e7)([r.Z],()=>r.Z.getMessages(t.id).length>0,[t]);return null!=e&&e.hasFlag(a.xW$.QUARANTINED)&&n&&!s}},247944:function(e,t,n){n.d(t,{S:function(){return r.Z}});var i=n(200651);n(192379);var l=n(545594),r=n(904847),a=n(610674),s=n(388032);let o=n(848304);t.Z=()=>(0,i.jsx)(l.i,{bannerIcon:o,bannerHeader:s.intl.string(s.t.EouHws),bannerSubtext:s.intl.format(s.t.PThBen,{appealLink:a.Z})})},596739:function(e,t,n){n.d(t,{W:function(){return c}});var i=n(200651),l=n(192379),r=n(481060),a=n(388032),s=n(985838),o=n(560580);function c(e){let{header:t,description:n,onDismiss:c,buttons:d,dismissible:u=!0}=e,h=l.useCallback(()=>{null==c||c()},[c]);return(0,i.jsxs)("div",{className:s.safetyBanner,children:[(0,i.jsxs)("div",{className:s.shieldAndHeading,children:[(0,i.jsx)("img",{className:s.safetyShieldIcon,src:o,alt:""}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Heading,{variant:"heading-md/semibold",color:"text-primary",children:t}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",color:"text-primary",children:n})]})]}),(0,i.jsx)("div",{className:s.buttons,children:null==d?void 0:d.map((e,t)=>{var n;return(0,i.jsx)(r.Button,{size:null!==(n=e.size)&&void 0!==n?n:r.Button.Sizes.SMALL,color:e.color,"aria-label":e.text,onClick:e.onclick,className:s.ctaButton,children:e.text},t)})}),u?(0,i.jsx)(r.Clickable,{className:s.closeButton,onClick:h,role:"button","aria-label":a.intl.string(a.t.WAI6xs),children:(0,i.jsx)(r.XSmallIcon,{size:"md",color:"currentColor",className:s.closeButton})}):null]})}},251285:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(442837),l=n(963374),r=n(735020),a=n(905405),s=n(786761),o=n(937889),c=n(699516),d=n(768119);function u(e){let t=(0,a.p)(),n=(0,i.e7)([d.Z,r.Z],()=>{var n;let i=d.Z.getQuery(e),a=d.Z.getRawResults(e);if(null==i||null==a)return[];let c=(0,l.nC)(null!==(n=i.content)&&void 0!==n?n:"");return a.map(e=>e.map(e=>{let n=r.Z.getMessage(e.id,e.channel_id),i=(0,s.e5)(e);return null!=n&&(i=i.merge({attachments:n.attachments,embeds:n.embeds})),i.isSearchHit?i.set("customRenderedContent",(0,o.ZP)(i,{postProcessor:c,allowHeading:!0,allowList:!0,shouldFilterKeywords:t})):i}))},[e,t],i.pF),[u,h,p]=(0,i.e7)([c.Z],()=>{let e=0,t=0;return[n.map(n=>n.filter(n=>{let i=c.Z.isBlockedForMessage(n),l=c.Z.isIgnoredForMessage(n);return i&&n.isSearchHit?e++:l&&n.isSearchHit&&t++,!i&&!l||n.isSearchHit})),e,t]},[n],i.pF);return{searchResults:u,blockCount:h,ignoreCount:p}}},406326:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(481060),r=n(540059),a=n(63063),s=n(981631),o=n(388032),c=n(842194);function d(e){let{searchMode:t,searchByMode:n}=e;return(0,i.jsxs)("header",{className:c.searchHeader,children:[(0,i.jsx)(u,{...e}),(0,i.jsxs)(l.TabBar,{orientation:"horizontal",className:c.searchHeaderTabList,selectedItem:t,onItemSelect:n,children:[(0,i.jsx)(l.TabBar.Item,{id:s.QIO.NEWEST,children:o.intl.string(o.t.rLjqbW)}),(0,i.jsx)(l.TabBar.Item,{id:s.QIO.OLDEST,children:o.intl.string(o.t.a1BaUl)}),(0,i.jsx)(l.TabBar.Item,{id:s.QIO.MOST_RELEVANT,children:o.intl.string(o.t.FtR97u)})]})]})}function u(e){let t;let{isSearching:n,isIndexing:r,documentsIndexed:a}=e;(r||n)&&(t=(0,i.jsx)("div",{className:c.spinnerWrapper,children:(0,i.jsx)(l.Spinner,{type:l.Spinner.Type.SPINNING_CIRCLE,className:c.spinner,itemClassName:c.spinnerPath})}));let s=r&&!n;return(0,i.jsxs)("div",{className:c.totalResults,role:"status",children:[s?(0,i.jsx)(l.Tooltip,{text:o.intl.formatToPlainString(o.t["4Y3O+P"],{count:a}),children:n=>(0,i.jsxs)("div",{className:c.totalResultsWrapper,...n,children:[(0,i.jsx)(h,{...e}),t]})}):(0,i.jsx)(h,{...e}),s?null:t]})}function h(e){let{isSearching:t,isIndexing:n,totalResults:d}=e,u=(0,r.Q3)("TotalResultsText")?"text-md/medium":"text-md/normal";if(t)return(0,i.jsx)(l.Text,{variant:u,color:"header-secondary",children:o.intl.string(o.t.uixzLS)});if(n)return(0,i.jsx)(l.Text,{variant:u,color:"text-muted",children:(0,i.jsx)(l.Anchor,{className:c.helpdeskLink,href:a.Z.getArticleURL(s.BhN.SEARCH_INDEXING),children:o.intl.string(o.t["G3EA+/"])})});{let e=d.toLocaleString();return(0,i.jsx)(l.Text,{variant:u,color:"header-primary",children:o.intl.format(o.t.ZGVL3t,{count:e})})}}},101695:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(200651);n(192379);var l=n(481060),r=n(11886);function a(e){let{changePage:t,offset:n,totalResults:a,pageLength:s}=e,o=Math.floor(n/s)+1;return(0,i.jsx)("div",{className:r.container,children:(0,i.jsx)(l.Paginator,{currentPage:o,totalCount:a,pageSize:s,onPageChange:t,maxVisiblePages:5})})}},683101:function(e,t,n){n.d(t,{Z:function(){return f}}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(374470),o=n(481060),c=n(239091),d=n(294218),u=n(592125),h=n(388032),p=n(839420);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends l.PureComponent{render(){let{result:e,listItemProps:t,searchOffset:n,index:l,totalResults:r}=this.props,s=a().find(e,e=>e.isSearchHit);if(null==s)return null;let c=u.Z.getChannel(s.channel_id);if(null==c)return null;let m="search-result-".concat(s.id);return(0,i.jsx)(o.FocusRing,{ringTarget:this.hitRef,ringClassName:p.__invalid_searchResultFocusRing,offset:4,children:(0,i.jsxs)("li",{className:p.container,...t,"aria-posinset":1+n+l,"aria-setsize":r,"aria-labelledby":m,children:[(0,i.jsx)(o.Clickable,{tabIndex:-1,onClick:this.handleMessageClick,innerRef:this.containerRef,className:p.searchResult,focusProps:{enabled:!1},children:(0,i.jsx)("div",{ref:this.hitRef,className:p.message,children:(0,i.jsx)(d.Z,{id:m,message:s,channel:c,onContextMenu:e=>this.handleContextMenu(e,s),animateAvatar:!1,subscribeToComponentDispatch:!1,trackAnnouncementViews:!0,isSearchResult:!0})},s.id)}),(0,i.jsx)("div",{className:p.buttonsContainer,"aria-hidden":!0,children:(0,i.jsx)(o.Clickable,{className:p.button,onClick:this.jumpTo,children:h.intl.string(h.t.k5WiPT)})})]})})}constructor(...e){super(...e),m(this,"containerRef",l.createRef()),m(this,"hitRef",l.createRef()),m(this,"handleContextMenu",(e,t)=>{let l=u.Z.getChannel(t.channel_id);if(null!=l)e.stopPropagation(),(0,c.jW)(e,async()=>{let{default:e}=await n.e("53809").then(n.bind(n,858341));return n=>(0,i.jsx)(e,{...n,message:t,channel:l})})}),m(this,"jumpTo",e=>{null!=e&&(e.preventDefault(),e.stopPropagation());let{onJump:t,result:n}=this.props,i=n.find(e=>e.isSearchHit);null!=i&&t(i)}),m(this,"handleMessageClick",e=>{if(function(e,t){var n;let i=null===(n=window)||void 0===n?void 0:n.getSelection();if(null!=i&&!i.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,s.k)(e)&&e!==t;){;let{tagName:t}=e;if("A"===t||"IMG"===t||"BUTTON"===t)return!0;e=e.parentNode}return!1}(e.target,this.containerRef.current)){e.stopPropagation();return}this.jumpTo(e)})}}},619753:function(e,t,n){n.d(t,{Z:function(){return O}}),n(724458),n(653041),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(837969),o=n(481060),c=n(668781),d=n(904245),u=n(603263),h=n(963374),p=n(607070),m=n(933557),f=n(471445),g=n(95398),C=n(905405),x=n(255269),v=n(937889),_=n(703656),I=n(359110),E=n(695346),b=n(131704),Z=n(592125),N=n(430824),S=n(496675),T=n(699516),j=n(768119),A=n(944486),y=n(594174),P=n(101695),M=n(683101),R=n(981631),L=n(388032),k=n(370167);function O(e){var t;let{search:n,searchId:r,renderEmbeds:a,scrollTo:m,searchResults:f,blockCount:g,ignoreCount:C,onChangePage:x}=e,{offset:v,totalResults:I,isSearching:E,showBlockedResults:b}=n,N=l.useCallback(e=>{if(E)return;let t=e-1;null==x||x(t),u.oO(r,t)},[r,E,x]),S=l.useCallback(e=>{if(e.blocked)c.Z.show({title:L.intl.string(L.t["j7eA/v"]),body:L.intl.formatToPlainString(L.t.dTNNgo,{name:e.author.username}),confirmText:L.intl.string(L.t.BddRzc)});else if(e.ignored)c.Z.show({title:L.intl.string(L.t.XyWoKS),body:L.intl.formatToPlainString(L.t["8t8doK"],{name:e.author.username}),confirmText:L.intl.string(L.t.BddRzc)});else{let t=Z.Z.getChannel(e.channel_id),n=null!=t?t.getGuildId():null;d.Z.trackJump(e.channel_id,e.id,"Search Results",{search_id:j.Z.getAnalyticsId(r)}),(0,_.uL)(R.Z5c.CHANNEL(n,e.channel_id,e.id))}},[r]),A=l.useMemo(()=>{let e;if(null==f)return[];let t=0;return f.reduce((n,i)=>{let l=i.find(e=>e.isSearchHit);if(!b&&null!=l&&(T.Z.isBlockedForMessage(l)||T.Z.isIgnoredForMessage(l)))return n;let r=Z.Z.getChannel(i[0].channel_id);return null==r?n:((null==e||e!==r.id)&&n.push({channel:r,results:[],startIndex:t}),t+=1,n[n.length-1].results.push(i),e=null==r?void 0:r.id,n)},[])},[f,b]),y=l.useRef([]),M=A.reduce((e,t)=>e+1+t.results.length,0),O=l.useCallback((e,t)=>{if(!p.Z.keyboardModeEnabled)return;let n=y.current,i=null!=t?n[t]:void 0;if(null==i||null==i.hitRef.current)return;let l=i.hitRef.current.getClientRects()[0];m(l.top-.5*l.height,!1,()=>{var t;null===(t=document.getElementById(e))||void 0===t||t.focus()})},[m]),D=l.useCallback(e=>{let t=y.current[e];null==t||t.jumpTo()},[]),B=(0,s.ZP)({navId:"search-results",itemCount:M,focusedIndex:0,setFocus:O,onSelect:D}),U=j.Z.getQuery(r),H=j.Z.getSearchType(r)===R.aib.FAVORITES,G=(0,h.nC)(null!==(t=null==U?void 0:U.content)&&void 0!==t?t:""),F=A.map(e=>{let{channel:t,results:n,startIndex:l}=e;return(0,i.jsx)(w,{channel:t,results:n,highlighter:G,startIndex:l,resultRefs:y,totalResults:I,scrollTo:m,searchId:r,renderEmbeds:a,offset:v,jumpToMessage:S,listNavigator:B,favoriteSearch:H},"".concat(t.id,"-").concat(l))});F.push();let V=l.useRef(null);l.useLayoutEffect(()=>{var e;null===(e=V.current)||void 0===e||e.focus()},[f]);let z=(0,o.useFocusJumpSection)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:V,...B.getContainerProps(),...z,"aria-busy":E,children:F}),g>0||C>0?(0,i.jsxs)(o.Clickable,{tag:"div",className:k.resultsBlocked,onClick:()=>u.QY(r,!b),children:[(0,i.jsx)("div",{className:k.resultsBlockedImage}),(0,i.jsx)("div",{className:k.__invalid_resultsBlockedText,children:b?g>0&&C>0?L.intl.formatToPlainString(L.t["OvJs9/"],{count:g+C}):g>0?L.intl.formatToPlainString(L.t["n/1QFR"],{count:g}):L.intl.formatToPlainString(L.t.ypezTE,{count:C}):g>0&&C>0?L.intl.formatToPlainString(L.t.EJHRcX,{count:g+C}):g>0?L.intl.formatToPlainString(L.t.HTE8JC,{count:g}):L.intl.formatToPlainString(L.t.e7f8r6,{count:C})})]}):null,!E&&!H&&(0,i.jsx)(P.Z,{changePage:N,offset:v,totalResults:I,pageLength:R.vpv})]})}function D(e){let{parentChannel:t,onSelectChannel:n}=e;if((null==t?void 0:t.name)==null)return null;let l=null!=t?(0,f.KS)(t):null;if(null==l)return null;let r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{className:k.parentChannelNameIcon,size:"xxs",color:"currentColor"}),(0,i.jsx)(o.Text,{className:k.parentChannelNameText,variant:"text-xs/medium",color:"header-secondary",children:t.name})]});return(0,b.Em)(t.type)?(0,i.jsx)(o.Clickable,{className:a()(k.parentChannelName,k.parentChannelNameClickable),onClick:e=>{e.stopPropagation(),n(t.id)},children:r}):(0,i.jsx)("div",{className:k.parentChannelName,children:r})}function w(e){var t,n,r;let{channel:a,results:s,highlighter:c,startIndex:d,resultRefs:u,totalResults:h,scrollTo:p,searchId:_,renderEmbeds:b,offset:j,jumpToMessage:P,listNavigator:L,favoriteSearch:O}=e,w=E.cC.useSetting(),B=(0,C.p)(),U=l.useCallback(e=>{if(e===A.Z.getChannelId())return;let t=Z.Z.getChannel(e);if(null!=t&&!!S.Z.can(R.Plq.VIEW_CHANNEL,t))(0,I.Kh)(t.id)},[]),H=null!=a?(0,m.F6)(a,y.default,T.Z,!1):"???",G=O&&null!=a.guild_id?null===(t=N.Z.getGuild(a.guild_id))||void 0===t?void 0:t.name:null,F=(null==a?void 0:a.parent_id)!=null?Z.Z.getChannel(a.parent_id):null,V=null!==(n=null==F?void 0:F.name)&&void 0!==n?n:null,z=null!==(r=(0,f.KS)(a))&&void 0!==r?r:o.TextIcon,W=S.Z.can(R.Plq.MANAGE_MESSAGES,a),{content:K}=(0,v.ZP)({content:H,embeds:[]},{postProcessor:c,shouldFilterKeywords:B}),Y=l.useRef(null),[q,X]=l.useState(!1);l.useEffect(()=>{let e=Y.current;null!=e&&null!=e.offsetWidth&&null!=e.scrollWidth&&X(e.offsetWidth<e.scrollWidth)},[]);let J=[H,V,G].filter(e=>null!=e).join(", ");return(0,i.jsx)(g.a.Provider,{value:(0,x.Z)(w,W),children:(0,i.jsxs)("ul",{role:"group",className:k.searchResultGroup,"aria-label":J,children:[(0,i.jsx)(o.Clickable,{onClick:()=>U(a.id),children:(0,i.jsxs)("div",{className:k.channelNameContainer,children:[(0,i.jsx)(z,{className:k.channelNameIcon,size:"xs",color:"currentColor"}),(0,i.jsx)(o.Tooltip,{text:H,shouldShow:q,children:e=>(0,i.jsxs)("span",{...e,ref:Y,className:k.channelNameText,children:[O&&null!==G&&"".concat(G," : "),K]})}),(0,i.jsx)(D,{parentChannel:F,onSelectChannel:U})]})}),s.map((e,t)=>{let n=d+t;return(0,i.jsx)(M.Z,{ref:e=>u.current[n]=e,totalResults:h,scrollTo:p,searchId:_,renderEmbeds:b,searchOffset:j,pageResultsLength:s.length,result:e,index:n,onJump:P,listItemProps:L.getItemProps({index:n})},"search-result-".concat(n))})]})})}},14091:function(e,t,n){n.d(t,{Z:function(){return y}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n.n(s),c=n(442837),d=n(481060),u=n(447543),h=n(603263),p=n(367907),m=n(210887),f=n(695346),g=n(768119),C=n(944486),x=n(585483),v=n(251285),_=n(406326),I=n(994463),E=n(619753),b=n(981631),Z=n(388032),N=n(893665);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends l.Component{componentDidMount(){this.autoAnalytics()}componentDidUpdate(e){(this.props.searchAnalyticsId!==e.searchAnalyticsId||this.props.searchOffset!==e.searchOffset)&&this.autoAnalytics(e.searchAnalyticsId)}render(){return null}constructor(...e){var t;super(...e),t=this,S(this,"autoAnalytics",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==t.props.searchAnalyticsId)return;let n=0,i=0,l=0,r=0;null!=t.props.searchResults&&o()(t.props.searchResults).flatten().filter(e=>e.isSearchHit).forEach(e=>{null!=e.content&&""!==e.content&&(n++,/https?:\/\/[^\s]+/.test(e.content)&&r++),null!=e.embeds&&e.embeds.length>0&&l++,null!=e.attachments&&e.attachments.length>0&&i++}),p.ZP.trackWithMetadata(b.rMx.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:null!=t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:r,page_num_embeds:l,page_num_attach:i})})}}let j=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:N.emptyResultsWrap,children:(0,i.jsx)("div",{className:N.emptyResultsContent,children:t})})};class A extends l.PureComponent{componentDidMount(){x.S.subscribe(b.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}componentWillUnmount(){x.S.unsubscribe(b.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)}componentDidUpdate(e){let{search:t}=e;if(this.props.search.showBlockedResults!==t.showBlockedResults){let e=this.scrollerRef.current;if(null==e)return;e.scrollToBottom()}let n=g.Z.getQuery(this.props.searchId);JSON.stringify(n)!==JSON.stringify(this.state.searchQuery)&&this.setState({searchQuery:n,searchMode:(null==n?void 0:n.sort_by)!=null&&null!=n.sort_order?h.Vj({sort_by:n.sort_by,sort_order:n.sort_order}):b.QIO.NEWEST})}render(){let{searchAnalyticsId:e,searchType:t,searchResults:n}=this.props,{offset:l,hasError:r,totalResults:a,isHistoricalIndexing:s}=this.props.search;return(0,i.jsxs)("section",{className:N.searchResultsWrap,"aria-label":Z.intl.string(Z.t.zkoeq6),children:[this.renderHeader(),(0,i.jsx)(d.AdvancedScroller,{ref:this.scrollerRef,className:N.scroller,children:this.renderContent()}),(0,i.jsx)(T,{searchType:t,searchAnalyticsId:e,searchResults:n,searchOffset:l,searchLimit:b.vpv,searchHasError:r,searchTotalResults:a,searchIsIndexing:s})]})}constructor(...e){super(...e),S(this,"state",{searchMode:b.QIO.NEWEST,searchQuery:null}),S(this,"scrollerRef",l.createRef()),S(this,"scrollTo",(e,t,n)=>{let i=this.scrollerRef.current;if(null==i)return;let l=i.getScrollerState().scrollTop-e;i.scrollTo({to:l,animate:t,callback:n})}),S(this,"selectChannel",e=>{e!==C.Z.getChannelId()&&u.Z.transitionToInviteChannelSync(e)}),S(this,"searchPrevious",()=>{let{searchId:e,search:{isSearching:t}}=this.props;!t&&h.jn(e)}),S(this,"searchNext",()=>{let{searchId:e,search:{isSearching:t}}=this.props;!t&&h.m$(e)}),S(this,"handleSearchResultsClose",()=>{let{searchId:e}=this.props;h.qt(e)}),S(this,"searchByMode",e=>{let{searchId:t,search:{isSearching:n}}=this.props,{searchMode:i}=this.state;e!==i&&!n&&(p.ZP.trackWithMetadata(b.rMx.SEARCH_RESULT_SORT_CHANGED,{search_id:g.Z.getAnalyticsId(t),new_sort_type:e}),h.Nz(t,e),this.setState({searchMode:e}))}),S(this,"toggleShowBlockedMessages",()=>{let{searchId:e,search:{showBlockedResults:t}}=this.props;h.QY(e,!t)}),S(this,"renderHeader",()=>{let{searchMode:e}=this.state,{totalResults:t,isSearching:n,isHistoricalIndexing:l,documentsIndexed:r}=this.props.search;return(0,i.jsx)(_.Z,{searchMode:e,searchByMode:this.searchByMode,totalResults:t,isSearching:n,isIndexing:l,documentsIndexed:r})}),S(this,"renderIndexing",()=>{let e=g.Z.getSearchType(this.props.searchId)===b.aib.GUILD?Z.intl.string(Z.t.AXPbZm):Z.intl.string(Z.t.Q0JJjo);return(0,i.jsxs)(j,{children:[(0,i.jsx)(I.Z,{}),(0,i.jsx)("div",{className:(N.emptyResultsText,N.stillIndexing),children:e})]})}),S(this,"renderNoResults",()=>{let{showNoResultsAlt:e}=this.props.search,t=e?Z.intl.string(Z.t["VrK/2d"]):Z.intl.string(Z.t.V6nAfH);return(0,i.jsxs)(j,{children:[(0,i.jsx)("div",{className:a()(N.noResultsImage,{[N.alt]:e})}),(0,i.jsx)("div",{className:a()(N.emptyResultsText,N.noResults,{[N.alt]:e}),children:t})]})}),S(this,"renderError",()=>(0,i.jsxs)(j,{children:[(0,i.jsx)("div",{className:N.errorImage}),(0,i.jsx)("div",{className:a()(N.emptyResultsText,N.errorMessage),children:Z.intl.string(Z.t.uvDZBQ)})]})),S(this,"renderContent",()=>{let{searchResults:e,blockCount:t,ignoreCount:n}=this.props,{totalResults:l,isSearching:r,isIndexing:a,hasError:s}=this.props.search;return s?this.renderError():a?this.renderIndexing():r?null:l>0?(0,i.jsx)(E.Z,{search:this.props.search,searchResults:e,blockCount:t,ignoreCount:n,searchId:this.props.searchId,renderEmbeds:this.props.renderEmbeds,scrollTo:this.scrollTo}):this.renderNoResults()})}}function y(e){let{searchId:t}=e,n=(0,c.cj)([g.Z],()=>g.Z.getResultsState(t),[t]);return(0,i.jsx)(A,{searchId:t,search:n,...(0,c.cj)([g.Z],()=>({searchAnalyticsId:g.Z.getAnalyticsId(t),searchType:g.Z.getSearchType()}),[t]),...(0,v.Z)(t),renderEmbeds:f.NA.useSetting(),developerMode:f.Sb.useSetting(),...(0,c.cj)([m.Z],()=>{let{theme:e}=m.Z;return{theme:e}})})}},897769:function(e,t,n){n.d(t,{S:function(){return r}});var i=n(442837),l=n(359119);function r(e,t){return(0,i.e7)([l.ZP],()=>l.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===t).find(e=>null==e.dismiss_timestamp&&((null==e?void 0:e.expiry)==null||Date.parse(e.expiry)>Date.now()))}},13279:function(e,t,n){n.d(t,{z:function(){return o}});var i=n(359119),l=n(897769),r=n(237292),a=n(403485),s=n(604849);function o(e,t){let n=(0,r.y0)({location:t}),o=(0,s.c)(),c=(0,a.h)(e),d=(0,l.S)(e,i.pj.INAPPROPRIATE_CONVERSATION_TIER_2);if(!(!n||!o||0===c.length||c.some(e=>e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===i.pj.INAPPROPRIATE_CONVERSATION_TIER_2&&null!=e.dismiss_timestamp)))return d}},444957:function(e,t,n){n.d(t,{h:function(){return a}});var i=n(237292),l=n(403485),r=n(604849);function a(e){let t=(0,i.y0)({location:"safety-tools-button"}),n=(0,r.c)(),a=(0,l.h)(e);if(!t||!n)return;let s=a.filter(e=>null!=e.dismiss_timestamp);if(0!==s.length)return s.sort((e,t)=>e.type>t.type?1:e.dismiss_timestamp<t.dismiss_timestamp?1:-1)[0]}},403485:function(e,t,n){n.d(t,{h:function(){return r}});var i=n(442837),l=n(359119);function r(e){return(0,i.e7)([l.ZP],()=>l.ZP.getChannelSafetyWarnings(e),[e]).filter(e=>e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_1||e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},276618:function(e,t,n){n.d(t,{o:function(){return a}});var i=n(442837),l=n(359119),r=n(444957);function a(e){let t=(0,r.h)(e),n=(0,i.e7)([l.ZP],()=>l.ZP.hasShownInitialTooltipForChannel(e));return null!=t&&!n}},367408:function(e,t,n){n.d(t,{M:function(){return u}}),n(852437);var i=n(70956),l=n(359119),r=n(116347),a=n(444957),s=n(403485),o=n(276618);let c=1*i.Z.Millis.HOUR,d=12*i.Z.Millis.HOUR;function u(e){var t;let n=(0,a.h)(e),i=(0,s.h)(e),u=(0,o.o)(e);if(null==n||u||(0,r.tX)(i))return;let h=i.some(e=>e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_1),p=i.filter(e=>null!=e.dismiss_timestamp).sort((e,t)=>t.dismiss_timestamp<e.dismiss_timestamp?-1:1);if(p.length<1||!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return!0;let n=new Date(e).getTime()+(t?c:d);return new Date().getTime()>=n}(p[0].dismiss_timestamp,h))return;let m=i.filter(e=>null==e.dismiss_timestamp);return null!==(t=m.findLast(e=>e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_1))&&void 0!==t?t:m.findLast(e=>e.type===l.pj.INAPPROPRIATE_CONVERSATION_TIER_2)}},248789:function(e,t,n){n.d(t,{Y:function(){return g}}),n(47120);var i=n(200651),l=n(192379),r=n(286379),a=n(442837),s=n(481060),o=n(797614),c=n(699516),d=n(378298),u=n(359119),h=n(473092),p=n(177342),m=n(134612),f=n(388032);function g(e){let{channelId:t,warningId:g,senderId:C}=e,x=l.useCallback(()=>{(0,d.T)(t,[g])},[t,g]),v=(0,a.e7)([c.Z],()=>c.Z.isBlocked(C)),_=l.useMemo(()=>({channelId:t,warningId:g,senderId:C,warningType:u.pj.INAPPROPRIATE_CONVERSATION_TIER_2}),[t,g,C]);l.useEffect(()=>{(0,h.KQ)({..._,viewName:h.pb.SAFETY_WARNING_BANNER}),o.Z.increment({name:r.V.SAFETY_WARNING_VIEW})},[_]);let I=l.useCallback(e=>{(0,h.qc)({..._,cta:e})},[_]),E=l.useCallback(()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("37229"),n.e("89650")]).then(n.bind(n,611446));return n=>{let{transitionState:l,onClose:r}=n;return(0,i.jsx)(e,{otherUserId:C,channelId:t,warningId:g,warningType:u.pj.INAPPROPRIATE_CONVERSATION_TIER_2,transitionState:l,onClose:r})}},{modalKey:m.X_}),I(h.NM.USER_BANNER_OPEN_SAFETY_TOOLS)},[t,C,g,I]),b=l.useCallback(()=>{x(),I(h.NM.USER_BANNER_BLOCK_CONFIRM)},[x,I]),Z=l.useCallback(()=>{x(),I(h.NM.USER_BANNER_BLOCK_AND_REPORT_CONFIRM)},[x,I]),N=l.useCallback(()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("41128").then(n.bind(n,699783));return n=>{let{transitionState:l,onClose:r}=n;return(0,i.jsx)(e,{transitionState:l,onBlock:b,onBlockAndReport:Z,onCancel:()=>{null==r||r(),I(h.NM.USER_BANNER_BLOCK_CANCEL)},onClose:r,userId:C,channelId:t})}})},[b,Z,C,t,I]);return(0,i.jsx)(p.Q,{channelId:t,warningId:g,senderId:C,warningType:u.pj.INAPPROPRIATE_CONVERSATION_TIER_2,header:f.intl.string(f.t.ZzlB5u),description:f.intl.string(f.t["D1aU+v"]),onDismiss:x,buttons:[{text:f.intl.string(f.t.Qyu4UF),color:s.Button.Colors.BRAND,onclick:E},...v?[]:[{text:f.intl.string(f.t["7q0bNT"]),color:s.Button.Colors.PRIMARY,onclick:N}]]})}},177342:function(e,t,n){n.d(t,{Q:function(){return c}});var i=n(200651),l=n(192379),r=n(286379),a=n(797614),s=n(596739),o=n(473092);function c(e){let{channelId:t,warningId:n,senderId:c,warningType:d,header:u,description:h,onDismiss:p,buttons:m}=e;l.useEffect(()=>{a.Z.increment({name:r.V.SAFETY_WARNING_VIEW})},[]);let f=l.useCallback(()=>{null==p||p(),(0,o.qc)({channelId:t,warningId:n,senderId:c,warningType:d,cta:o.NM.USER_BANNER_DISMISS})},[p,t,n,c,d]);return(0,i.jsx)(s.W,{buttons:m,description:h,header:u,onDismiss:f})}},88101:function(e,t,n){n.d(t,{P:function(){return u}});var i=n(442837),l=n(385956),r=n(15701),a=n(594174),s=n(359119),o=n(897769),c=n(981312),d=n(403485);function u(e){let t=(0,i.e7)([a.default],()=>a.default.getCurrentUser()),n=(0,r.G)(e),u=(0,l.v)(e),h=(0,o.S)(e,s.pj.STRANGER_DANGER),p=(0,c.U)(),m=(null==t?void 0:t.isStaff())!==!0,f=(0,d.h)(e).length>0;if((!!p||!m)&&!n&&!u&&!f)return h}},576954:function(e,t,n){n.d(t,{M:function(){return T}}),n(47120);var i=n(200651),l=n(192379),r=n(286379),a=n(442837),s=n(481060),o=n(87051),c=n(194359),d=n(661824),u=n(797614),h=n(922611),p=n(681678),m=n(699516),f=n(9156),g=n(621600),C=n(378298),x=n(359119),v=n(473092),_=n(177342),I=n(134612),E=n(981631),b=n(388032),Z=n(771860);function N(e){let{senderId:t,channelId:n,warningId:r}=e,{isIgnored:d}=(0,a.cj)([m.Z],()=>({isIgnored:m.Z.isIgnored(t)}),[t]),u=(0,h.Do)({location:"web_stranger_danger_more"}),C=(0,a.e7)([f.ZP],()=>f.ZP.isChannelMuted(null,n)),_=l.useCallback(()=>{(0,v.qc)({channelId:n,warningId:r,senderId:t,warningType:x.pj.STRANGER_DANGER,cta:v.NM.USER_MODAL_IGNORE}),c.Z.ignoreUser(t,"web_stranger_danger_more",n)},[n,r,t]),I=l.useCallback(()=>{(0,v.qc)({channelId:n,warningId:r,senderId:t,warningType:x.pj.STRANGER_DANGER,cta:v.NM.USER_MODAL_UNIGNORE}),c.Z.unignoreUser(t,"web_stranger_danger_more",n)},[n,r,t]);return u?(0,i.jsxs)("div",{className:Z.safetyAction,children:[(0,i.jsxs)("div",{className:Z.safetyActionText,children:[(0,i.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:b.intl.string(b.t.avyV7O)}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"header-secondary",children:b.intl.string(b.t.naWE6e)})]}),(0,i.jsx)(s.Button,{size:s.Button.Sizes.SMALL,color:s.Button.Colors.PRIMARY,"aria-label":d?b.intl.string(b.t["3SrzRU"]):b.intl.string(b.t.avyV7O),onClick:d?I:_,children:d?b.intl.string(b.t["3SrzRU"]):b.intl.string(b.t.avyV7O)})]}):(0,i.jsxs)("div",{className:Z.safetyAction,children:[(0,i.jsxs)("div",{className:Z.safetyActionText,children:[(0,i.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:b.intl.string(b.t["UVp+4+"])}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"header-secondary",children:b.intl.string(b.t.VS47BA)})]}),(0,i.jsx)(s.Button,{size:s.Button.Sizes.SMALL,color:s.Button.Colors.PRIMARY,"aria-label":C?b.intl.string(b.t["6QK4Hx"]):b.intl.string(b.t["UVp+4+"]),onClick:C?()=>{o.Z.updateChannelOverrideSettings(null,n,{muted:!1},g.ZB.Unmuted),p.Z.showUnmuteSuccessToast(t,n),(0,v.qc)({channelId:n,warningId:r,senderId:t,warningType:x.pj.STRANGER_DANGER,cta:v.NM.USER_MODAL_UNMUTE})}:()=>{o.Z.updateChannelOverrideSettings(null,n,{muted:!0},g.ZB.Muted),p.Z.showMuteSuccessToast(t,n),(0,v.qc)({channelId:n,warningId:r,senderId:t,warningType:x.pj.STRANGER_DANGER,cta:v.NM.USER_MODAL_MUTE})},children:C?b.intl.string(b.t["6QK4Hx"]):b.intl.string(b.t["UVp+4+"])})]})}function S(e){let{onClick:t}=e;return(0,i.jsxs)("div",{className:Z.safetyAction,children:[(0,i.jsxs)("div",{className:Z.safetyActionText,children:[(0,i.jsx)(s.Text,{variant:"text-md/semibold",color:"header-primary",children:b.intl.string(b.t["5QYPOz"])}),(0,i.jsx)(s.Text,{variant:"text-xs/medium",color:"header-secondary",children:b.intl.string(b.t.G08MKi)})]}),(0,i.jsx)(s.Button,{size:s.Button.Sizes.SMALL,color:s.Button.Colors.RED,"aria-label":b.intl.string(b.t.ie0QdH),onClick:t,children:b.intl.string(b.t.ie0QdH)})]})}function T(e){let{channelId:t,warningId:o,senderId:h}=e,{isBlocked:p}=(0,a.cj)([m.Z],()=>({isBlocked:m.Z.isBlocked(h)}),[h]),f=l.useCallback(()=>{(0,C.T)(t,[o])},[t,o]),g=(0,I.C2)(),Z=l.useCallback(e=>()=>{c.Z.addRelationship({userId:h,context:{location:I.zr},type:E.OGo.BLOCKED}),f(),(0,v.qc)({channelId:t,warningId:o,senderId:h,warningType:x.pj.STRANGER_DANGER,cta:e})},[f,t,o,h]);l.useEffect(()=>{(0,v.MC)(E.rMx.SAFETY_WARNING_VIEWED,{channelId:t,warningId:o,senderId:h,warningType:x.pj.STRANGER_DANGER}),u.Z.increment({name:r.V.SAFETY_WARNING_VIEW})},[t,o,h]);let T=()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("59385").then(n.bind(n,480884));return n=>{let{transitionState:l,onClose:r}=n;return(0,i.jsx)(e,{transitionState:l,onClose:r,channelId:t,warningId:o,senderId:h,description:b.intl.string(b.t.DJMZX1),safetyTips:g.map((e,t)=>(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"header-secondary",children:e},t)),actions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{senderId:h,channelId:t,warningId:o}),(0,i.jsx)(d.Z,{}),(0,i.jsx)(S,{onClick:()=>{r(),j(v.NM.USER_MODAL_BLOCK_CONFIRM,v.NM.USER_MODAL_BLOCK_CANCEL,T)}})]})})}})},j=(e,l,r)=>{(0,s.openModalLazy)(async()=>{let{default:a}=await n.e("68747").then(n.bind(n,744373));return n=>(0,i.jsx)(a,{...n,userId:h,confirmBlock:Z(e),onCancel:()=>{null==r||r(),(0,v.qc)({channelId:t,warningId:o,senderId:h,warningType:x.pj.STRANGER_DANGER,cta:l})}})})};return(0,i.jsx)(_.Q,{channelId:t,warningId:o,senderId:h,warningType:x.pj.STRANGER_DANGER,header:b.intl.string(b.t.iOkDpK),description:b.intl.string(b.t.ISUbcH),onDismiss:f,buttons:[{text:b.intl.string(b.t["Qk/c4+"]),color:s.Button.Colors.BRAND,onclick:()=>{T(),(0,v.qc)({channelId:t,warningId:o,senderId:h,warningType:x.pj.STRANGER_DANGER,cta:v.NM.OPEN_MORE_TIPS})}},...p?[]:[{text:b.intl.string(b.t.ie0QdH),color:s.Button.Colors.RED,onclick:()=>j(v.NM.USER_BANNER_BLOCK_CONFIRM,v.NM.USER_BANNER_BLOCK_CANCEL)}]]})}},145834:function(e,t,n){n.d(t,{$:function(){return s}});var i=n(70956),l=n(51144),r=n(388032);let a=1*i.Z.Millis.DAY;function s(e){var t,n,i;if((0,l.EO)(e.user))return r.intl.string(r.t.VaCdhY);let s=null===(t=e.member)||void 0===t?void 0:t.joinedAt;return null==s?r.intl.string(r.t.CQmziY):null!=e.member&&e.member.roles.length>0?null!==(i=null===(n=e.role)||void 0===n?void 0:n.name)&&void 0!==i?i:r.intl.string(r.t["97/NdH"]):new Date().getTime()-Date.parse(s)<a?r.intl.string(r.t.IKE48v):r.intl.string(r.t.u0gUWl)}},600518:function(e,t,n){n.d(t,{v:function(){return l},z:function(){return r}});var i=n(570140);function l(e){i.Z.dispatch({type:"STAGE_MUSIC_MUTE",muted:e})}function r(e){i.Z.dispatch({type:"STAGE_MUSIC_PLAY",play:e})}},719100:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(314897),l=n(565799),r=n(501655),a=n(88751),s=n(427679);function o(e){if(!e.isGuildStageVoice()||!s.Z.isLive(e.id))return!1;let t=i.default.getId();return!!(a.ZP.isModerator(t,e.id)&&a.ZP.isSpeaker(t,e.id))&&(null==l.Z.getMutableParticipants(e.id).find(n=>n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id))||null==l.Z.getMutableParticipants(e.id,r.pV.SPEAKER).find(n=>n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id)))}},184805:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(442837),l=n(314897),r=n(590415);function a(e){let t=(0,i.e7)([l.default],()=>l.default.getId());return(0,r.ZP)(t,e)===r.xO.ON_STAGE}},614173:function(e,t,n){n.d(t,{h:function(){return c}}),n(47120);var i=n(192379),l=n(442837),r=n(592125),a=n(700785),s=n(471253),o=n(981631);function c(e){let t=(0,l.e7)([r.Z],()=>r.Z.getChannel(e),[e]),n=a.Uu(o.Plq.REQUEST_TO_SPEAK,t),[c,d]=i.useState(n);return i.useEffect(()=>{n!==c&&d(n)},[n]),[c,e=>{null!=t&&(d(e),(0,s.Pq)(t,o.Plq.REQUEST_TO_SPEAK,e))}]}},27931:function(e,t,n){n.d(t,{Dx:function(){return m},aP:function(){return f}}),n(653041),n(47120);var i,l,r=n(192379),a=n(392711),s=n(442837),o=n(638730),c=n(358221),d=n(136015),u=n(565799),h=n(431328),p=n(501655);function m(e){let t=(0,h.Rk)(e,p.pV.AUDIENCE),[n,i]=r.useState(!1);return r.useEffect(()=>{t>100?i(!0):t<75&&i(!1)},[t]),n?5e3:0}function f(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=function(e,t,n){let i=(0,s.e7)([u.Z],()=>[e,u.Z.getParticipantsVersion(e)],[e],d.Q),l=(0,s.e7)([c.Z],()=>c.Z.getSelectedParticipantId(e),[e]);return r.useMemo(()=>{let r=[],s=[],o=-1,c=[];if(n)for(let t of u.Z.getMutableParticipants(e,p.pV.SPEAKER))if(t.type===p.Ui.STREAM)t.id!==l&&c.push(t),o++;else break;let d=(e,t,n)=>{let i=n?e.filter((e,t)=>e.id!==l&&t>o):e,c=(0,a.chunk)(i,t);s.push(c),r.push(c.length)},h=null!=l?u.Z.getParticipant(e,l):null;return(null==h?void 0:h.speaker)?d([h],1,!1):d([],1,!1),[p.pV.SPEAKER,p.pV.AUDIENCE].forEach(e=>{d(u.Z.getMutableParticipants(i[0],e),t[e],e===p.pV.SPEAKER)}),d(c,1,!1),[r,s]},[i,t,l,n,e])}(e,t,i),[h,m]=l,[f,g]=(0,o.T)(l,n,[t[p.pV.AUDIENCE]]),C=[h[i?3:0],h[1],f[2]];return[C,[m[i?3:0],m[1],g[2]]]}(l=i||(i={}))[l.SELECTED=0]="SELECTED",l[l.SPEAKER=1]="SPEAKER",l[l.AUDIENCE=2]="AUDIENCE",l[l.MEDIA=3]="MEDIA"},979339:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120),n(653041);var i=n(442837),l=n(136015),r=n(565799),a=n(501655);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,[n]=(0,i.e7)([r.Z],()=>{let n=r.Z.getMutableParticipants(e).filter(e=>e.type===a.Ui.VOICE),i=[];for(let e of n){if(i.length>=t)break;if(null==i.find(t=>t.id===e.user.id))i.push(e.user)}return[{participants:n,usersInSummary:i},r.Z.getParticipantsVersion(e)]},[e,t],l.Q);return n}},270295:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(192379),l=n(442837),r=n(314897),a=n(471253),s=n(590415);function o(e){let t=(0,l.e7)([r.default],()=>r.default.getId()),n=(0,s.ZP)(t,e.id),o=n===s.xO.REQUESTED_TO_SPEAK||n===s.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,[c,d]=i.useState(o);return i.useEffect(()=>{d(o)},[o]),[c,function(){n===s.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,a.RK)(e,!0):(0,a.Q1)(e,!c),d(!c)}]}},260979:function(e,t,n){n(653041);var i=n(200651),l=n(192379),r=n(965288),a=n(595743);t.Z=l.memo(function(e){let{channel:t,participants:n,maxTiles:l}=e;if(0===n.length)return null;let s=[];for(let e=0;e<l;e++)if(e<n.length){let l=n[e];s.push((0,i.jsx)(r.Z,{channel:t,participant:l},l.id))}else s.push((0,i.jsx)(r.y,{},e));return(0,i.jsx)("div",{className:a.participants,children:s})})},965288:function(e,t,n){n.d(t,{y:function(){return b}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(442837),d=n(692547),u=n(481060),h=n(239091),p=n(40851),m=n(184301),f=n(347475),g=n(271383),C=n(709586),x=n(5192),v=n(590415),_=n(253428);let I=l.memo(function(e){let{guildId:t,channelId:n,user:l,isPremium:r,isBlocked:a,isIgnored:s}=e;return(0,i.jsxs)("div",{className:_.textContainer,children:[a?(0,i.jsx)(u.DenyIcon,{size:"lg",className:_.blockedIcon,color:d.Z.unsafe_rawColors.RED_400.css}):null,s?(0,i.jsx)(u.EyeSlashIcon,{size:"lg",className:_.blockedIcon}):null,(0,i.jsx)(u.Text,{className:_.text,variant:"text-sm/normal",color:"header-primary",children:x.ZP.getName(t,n,l)}),r?(0,i.jsx)(C.Z,{className:_.boost,color:d.Z.unsafe_rawColors.GUILD_BOOSTING_PINK.css}):null]})}),E=l.memo(function(e){var t;let{participant:n,guildId:l,channel:r,isPremium:s}=e,{user:o,blocked:c,ignored:d,rtsState:h}=n,p=h===v.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,m=h===v.xO.REQUESTED_TO_SPEAK||p;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:_.avatarContainer,children:[m&&(0,i.jsx)(u.HandRequestSpeakIcon,{size:"md",color:"currentColor",className:a()(_.icon,{[_.invited]:p})}),(0,i.jsx)("img",{src:null!==(t=o.getAvatarURL(r.guild_id,56,!1))&&void 0!==t?t:void 0,alt:o.username,"aria-label":o.username,className:a()(_.avatar,{[_.faded]:c||d})})]}),(0,i.jsx)(I,{guildId:l,channelId:r.id,user:o,isPremium:s,isBlocked:c,isIgnored:d})]})}),b=()=>(0,i.jsx)("div",{className:_.tileBaseContainer});t.Z=l.memo(function(e){let{participant:t,channel:r}=e,{user:s,blocked:d}=t,C=r.getGuildId(),x=(0,p.bp)(),v=(0,c.e7)([g.ZP],()=>{var e;return null!=C&&(null===(e=g.ZP.getMember(C,s.id))||void 0===e?void 0:e.premiumSince)!=null},[C,s.id]);o()(null!=C,"Channel cannot be guildless");let I=l.useCallback(e=>{(0,h.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:s,guildId:C,channel:r,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:x})},[s,C,r,x]),b=l.useCallback(e=>(0,i.jsx)(f.Z,{...e,guildId:C,channelId:r.id,userId:s.id}),[r.id,C,s.id]);return(0,i.jsx)(u.Popout,{preload:()=>(0,m.Z)(s,{guildId:r.guild_id,channelId:r.id}),renderPopout:b,position:"right",spacing:8,children:e=>(0,i.jsx)(u.Clickable,{className:a()(_.tileContainer,{[_.singleIcon]:v||d,[_.doubleIcon]:v&&d}),onContextMenu:I,...e,children:(0,i.jsx)(E,{participant:t,guildId:C,channel:r,isPremium:v})})})})},252132:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(27457),r=n(131951),a=n(518063);function s(e){let{aspectRatio:t,blocked:n,ignored:s,channel:o,className:c,focused:d,children:u,inCall:h,inPopout:p,noBorder:m,onClick:f,onContextMenu:g,onDoubleClick:C,onVideoResize:x,paused:v,pulseSpeakingIndicator:_,participant:I,width:E,...b}=e,Z=r.Z.getVideoComponent();return(0,i.jsx)("div",{style:{width:E},className:a.spaceBetweenTiles,children:(0,i.jsxs)("div",{className:a.tileSizer,style:{aspectRatio:t},children:[(0,i.jsx)(l.ZP,{blocked:n,ignored:s,channel:o,className:c,focused:d,inCall:h,inPopout:p,noBorder:m,onClick:f,onContextMenu:g,onDoubleClick:C,onVideoResize:x,participant:I,paused:v,pulseSpeakingIndicator:_,videoComponent:Z,width:E,...b}),u]})})}},939863:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(388032),s=n(443644),o=n(296507),c=n(866402);function d(e){let{className:t,children:n}=e;return(0,i.jsxs)("div",{className:r()(s.container,t),children:[(0,i.jsx)("img",{alt:a.intl.string(a.t.VoB8OT),src:c,className:r()(s.sparkleIcon,s.sparkleBottom)}),n,(0,i.jsx)("img",{alt:a.intl.string(a.t.VoB8OT),src:o,className:r()(s.sparkleIcon,s.sparkleTop)})]})}},248400:function(e,t,n){var i=n(200651);n(192379);var l=n(692547),r=n(481060),a=n(311888),s=n(388032),o=n(349824);t.Z=()=>(0,i.jsx)(r.Tooltip,{text:s.intl.string(s.t.GMZqSk),children:e=>(0,i.jsx)("div",{...e,className:o.container,children:(0,i.jsx)(a.Z,{color:l.Z.unsafe_rawColors.WHITE_500.css})})})},618896:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(481060),r=n(939863),a=n(974876);function s(e){let{className:t}=e;return(0,i.jsx)(r.Z,{className:t,children:(0,i.jsx)("div",{className:a.background,children:(0,i.jsx)(l.StageIcon,{size:"custom",color:"currentColor",className:a.foreground,width:32,height:32})})})}},592473:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(772848),o=n(481060),c=n(871499),d=n(388032),u=n(487788);function h(e){let{width:t=24,height:n=24,isBadged:r=!1}=e,[a]=l.useState(()=>(0,s.Z)()),c=(0,o.useRedesignIconContext)().enabled;return(0,i.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("mask",{id:a,children:[(0,i.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),r&&(0,i.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),c?(0,i.jsx)("g",{mask:"url(#".concat(a,")"),children:(0,i.jsx)(o.HandRequestSpeakListIcon,{})}):(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",mask:"url(#".concat(a,")")})]})}function p(e){let{className:t,numRequestToSpeak:n}=e,l=n>0;return(0,i.jsxs)("div",{className:a()(u.raisedHandIcon,t),children:[(0,i.jsx)(h,{isBadged:l}),l?(0,i.jsx)(o.Text,{className:u.raisedHandCount,variant:"text-xs/semibold",children:n>99?"99+":n}):null]})}function m(e){let{toggleRequestToSpeakSidebar:t,showRequestToSpeakSidebar:n,className:r,numRequestToSpeak:a,onClick:s,...o}=e,u=l.useCallback(()=>{null==s||s(),t()},[s,t]);return(0,i.jsx)(c.Z,{onClick:u,label:n?d.intl.string(d.t.gKGz7O):d.intl.string(d.t.ImQ4dX),className:r,iconComponent:()=>(0,i.jsx)(p,{numRequestToSpeak:a,className:r}),...o})}},153349:function(e,t,n){n.d(t,{Z:function(){return k}}),n(47120);var i,l,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),c=n(512722),d=n.n(c),u=n(442837),h=n(481060),p=n(239091),m=n(99690),f=n(616780),g=n(665149),C=n(484459),x=n(347475),v=n(271383),_=n(496675),I=n(158776),E=n(471253),b=n(431328),Z=n(145834),N=n(590415),S=n(614173),T=n(618896),j=n(231338),A=n(388032),y=n(875440);let P=a.memo(function(e){let{toggleRequestToSpeakSidebar:t,chatOpen:n}=e,i=(0,r.jsx)(g.ZP.Icon,{icon:h.XSmallIcon,tooltip:A.intl.string(A.t.cpT0Cg),onClick:t});return(0,r.jsxs)(g.ZP,{toolbar:i,className:o()(y.headerContainer,{[y.chatOpen]:n}),children:[(0,r.jsx)(g.ZP.Icon,{icon:h.HandRequestSpeakIcon,disabled:!0,"aria-label":A.intl.string(A.t.TYZgzc)}),(0,r.jsx)(g.ZP.Title,{children:A.intl.string(A.t.TYZgzc)})]})}),M=a.memo(function(e){let{channel:t,participant:i,tempDisableOnInit:l=!1}=e,[s,c]=a.useState(l);a.useEffect(()=>{if(!s)return;let e=setTimeout(()=>c(!1),1e3);return()=>clearTimeout(e)},[]);let g=t.getGuildId();d()(null!=g,"Channel cannot be guildless");let{isMobile:_,status:b}=(0,u.cj)([I.Z],()=>({isMobile:I.Z.isMobileOnline(i.user.id),status:I.Z.getStatus(i.user.id,g)})),S=(0,u.e7)([v.ZP],()=>v.ZP.getMember(g,i.user.id)),T=a.useMemo(()=>({[g]:[i.user.id]}),[g,i.user.id]);(0,f.$)(T);let j=i.rtsState===N.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;function P(){(0,E.DT)(t,i.user.id,!1)}function M(){(0,E.DT)(t,i.user.id,!0)}let R=e=>{(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return n=>(0,r.jsx)(e,{...n,user:i.user,guildId:g,channel:t,showMediaItems:!0})})};return(0,r.jsxs)("div",{className:y.participantRowContainer,children:[(0,r.jsx)(h.Popout,{preload:()=>(0,C.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,r.jsx)(x.Z,{...e,userId:i.user.id,guildId:g,channelId:t.id}),position:"left",spacing:16,children:e=>{var t;return(0,r.jsxs)(h.Clickable,{className:y.participantMemberContainer,onContextMenu:R,...e,children:[(0,r.jsx)(m.Z,{size:h.AvatarSizes.SIZE_40,className:y.participantAvatar,user:i.user,isMobile:_,status:b}),(0,r.jsxs)("div",{className:y.participantTextContainer,children:[(0,r.jsx)(h.NameWithRole,{name:i.userNick,color:null!==(t=null==S?void 0:S.colorString)&&void 0!==t?t:void 0,className:y.participantName}),(0,r.jsx)(h.Text,{variant:"text-xs/normal",color:"header-secondary",children:(0,Z.$)(i)})]})]})}}),(0,r.jsx)(h.Tooltip,{text:j?A.intl.string(A.t.h9rsTU):A.intl.string(A.t.f0T7hI),children:e=>(0,r.jsx)(h.Button,{...e,innerClassName:y.buttonContainer,look:h.Button.Looks.BLANK,size:h.Button.Sizes.NONE,onClick:P,disabled:j||s,children:(0,r.jsx)(h.MicrophoneArrowRightIcon,{size:"xs",color:"currentColor"})})}),(0,r.jsx)(h.Tooltip,{text:A.intl.string(A.t.moABMz),children:e=>(0,r.jsx)(h.Button,{...e,innerClassName:o()(y.buttonContainer,y.buttonMargin),look:h.Button.Looks.BLANK,size:h.Button.Sizes.NONE,onClick:M,children:(0,r.jsx)(h.XSmallIcon,{size:"xs",color:"currentColor"})})})]})}),R=a.memo(function(e){let{channel:t}=e,[n,i]=(0,S.h)(t.id);return(0,r.jsx)(h.FormSwitch,{className:y.toggle,onChange:i,value:n,children:A.intl.string(A.t.GYCh0d)})}),L=a.memo(function(){return(0,r.jsxs)("div",{className:y.emptyStateContainer,children:[(0,r.jsx)(T.Z,{}),(0,r.jsx)(h.Text,{className:y.emptyStateTitle,variant:"text-lg/semibold",color:"header-primary",children:A.intl.string(A.t["7R24mZ"])}),(0,r.jsx)(h.Text,{className:y.emptyStateBody,variant:"text-sm/normal",color:"header-secondary",children:A.intl.string(A.t.Rpr2s7)})]})});function k(e){let{channel:t,toggleRequestToSpeakSidebar:n,chatOpen:i}=e,l=(0,b.Fd)(t.id),a=[(0,u.e7)([_.Z],()=>_.Z.can(j.Pl.MANAGE_CHANNELS,t)||_.Z.can(j.Pl.MANAGE_ROLES,t))?1:0,Math.max(1,l.length)];return(0,r.jsxs)("div",{className:o()(y.container,{[y.chatOpen]:i}),children:[(0,r.jsx)(P,{toggleRequestToSpeakSidebar:n,chatOpen:i}),(0,r.jsx)(h.List,{className:y.contentContainer,sections:a,sectionHeight:function(e){if(1===e)return 40;return 0},rowHeight:function(e){switch(e){case 0:return 66;case 1:if(0===l.length)return 178;return 48}return 0},renderRow:function(e){let{section:n,row:i}=e;switch(n){case 0:return(0,r.jsx)(R,{channel:t},"rts-toggle");case 1:{if(0===l.length)return(0,r.jsx)(L,{},"participants-empty");let e=l[i];return(0,r.jsx)(M,{channel:t,participant:e,tempDisableOnInit:!0},e.id)}}return null},renderSection:function(e){let{section:t}=e;if(1===t)return(0,r.jsx)(h.Text,{className:y.listTitle,variant:"text-xs/bold",color:"header-secondary",children:l.length>0?A.intl.formatToPlainString(A.t["5z7q5e"],{numHands:l.length}):A.intl.string(A.t.TYZgzc)},"participants-section");return null}})]})}(l=i||(i={}))[l.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK",l[l.PARTICIPANTS=1]="PARTICIPANTS"},504185:function(e,t,n){n.d(t,{Z:function(){return eo}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(442837),c=n(433517),d=n(481060),u=n(570140),h=n(393238),p=n(40851),m=n(100527),f=n(906732),g=n(358221),C=n(414910),x=n(909820),v=n(493010),_=n(71127),I=n(185935),E=n(788983),b=n(928518),Z=n(703656),N=n(493754),S=n(880831),T=n(73563),j=n(800965),A=n(107169),y=n(891551),P=n(314897),M=n(979696),R=n(430824),L=n(496675),k=n(944486),O=n(358085),D=n(998502),w=n(922482),B=n(431328),U=n(501655),H=n(427679),G=n(513449),F=n(153349),V=n(901434),z=n(302270),W=n(308177),K=n(700483),Y=n(686468),q=n(801405),X=n(903108),J=n(981631),Q=n(354459),$=n(388032),ee=n(322455);let et="HasBeenInStageChannel",en=(e,t)=>()=>{let n=e.getGuildId();null!=n&&null!=t&&(0,Z.XU)(n,t),E.hP(e)},ei=()=>{u.Z.wait(()=>E.xv(J.KJ3.CHANNEL_CALL_POPOUT))},el=e=>{E.hY(J.KJ3.CHANNEL_CALL_POPOUT,e)};function er(e){let{channel:t,appContext:n,popoutOpen:r,popoutWindow:a,popoutWindowAlwaysOnTop:s,selectedParticipant:c}=e,d=t.getGuildId(),u=(0,o.e7)([k.Z],()=>k.Z.getMostRecentSelectedTextChannelId(d),[d]),h=P.default.getId(),p=!(0,o.e7)([g.Z],()=>g.Z.isFullscreenInContext(n))&&(!O.isPlatformEmbedded||O.isPlatformEmbedded&&D.ZP.supportsFeature(J.eRX.POPOUT_WINDOWS)),m=null!=c&&c.type!==Q.fO.ACTIVITY&&c.user.id!==h,f=l.useMemo(()=>{var e;return null!==(e=null==a?void 0:a.window)&&void 0!==e?e:window},[a]),x=(0,q.Z)({channel:t,appContext:n,popoutOpen:r,popoutWindow:a,currentWindow:f}),v=n===J.IlC.POPOUT&&O.isPlatformEmbedded&&D.ZP.supportsFeature(J.eRX.POPOUT_WINDOWS);return(0,i.jsxs)(i.Fragment,{children:[m?(0,i.jsx)(y.Z,{context:(0,C.Z)(c.type),userId:c.user.id,currentWindow:f,sliderClassName:ee.volumeSlider}):null,v?(0,i.jsx)(A.Z,{className:ee.rightTrayIcon,popoutWindowAlwaysOnTop:s,onToggleStayOnTop:el}):null,p?(0,i.jsx)(j.Z,{className:ee.rightTrayIcon,popoutOpen:r,onOpenPopout:en(t,u),onClosePopout:ei}):null,x]})}function ea(e){let{channel:t}=e,n=(0,p.bp)(),l=(0,o.e7)([L.Z],()=>L.Z.can(J.Plq.CREATE_INSTANT_INVITE,t)),r=(0,o.e7)([R.Z],()=>R.Z.getGuild(t.guild_id)),a=(0,o.e7)([H.Z],()=>H.Z.getStageInstanceByChannel(t.id)),s=l||(null==a?void 0:a.invite_code)!=null;return null!=r&&s?(0,i.jsx)(N.Z,{channel:t,appContext:n,className:ee.__invalid_leftTrayIcon,analyticsLocation:J.ZY5.GUILD_CHANNEL}):null}function es(e){let t,{channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:c,popoutWindow:d,popoutWindowAlwaysOnTop:u,popoutOpen:h,chatOpen:m}=e,f=(0,p.bp)(),C=(0,o.e7)([k.Z],()=>k.Z.getVoiceChannelId()===n.id,[n.id]),v=(0,o.e7)([L.Z],()=>L.Z.can(J.Plq.CONNECT,n)),_=(0,B.w8)(n.id,U.pV.SPEAKER),I=(0,o.e7)([g.Z],()=>g.Z.getSelectedParticipant(n.id)),E=h&&f!==J.IlC.POPOUT,[b,Z]=l.useState(0),{isOnStartStageScreen:N}=(0,G.ZP)();(0,G.MV)(n);let j=(0,o.e7)([M.Z],()=>M.Z.getToastsEnabled(n.id)),A=(0,X.Z)(n)?null!=I?"84px":"124px":null!=I?"0px":"48px";return t=N?(0,i.jsx)(Y.Z,{channel:n,onContinueClick:()=>{(0,G.Ku)(!1),!C&&(0,w.TM)(n)}}):C?(0,i.jsx)(W.Z,{channel:n,onScroll:e=>{let{scrollTop:t}=e.target;(0,s.debounce)(()=>Z(t),1e3,{leading:!0})()}}):(0,i.jsx)(V.Z,{participants:_,channel:n,hasConnectPermission:v}),(0,i.jsx)(T.Z,{style:{height:"calc(100% - ".concat(A,")"),paddingTop:A},disableGradients:0===b&&T.e.TOP,renderBottomLeft:()=>(0,i.jsx)(ea,{channel:n}),renderBottomCenter:()=>C?(0,i.jsx)(K.Z,{channel:n,isOnStartStageScreen:N}):null,renderBottomRight:()=>C?(0,i.jsx)(er,{channel:n,appContext:f,popoutOpen:h,popoutWindow:d,popoutWindowAlwaysOnTop:u,selectedParticipant:I}):null,renderHeader:()=>(0,i.jsx)(z.Z,{inPopout:f===J.IlC.POPOUT,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:c,channel:n}),renderChatToasts:()=>!j||m||E?null:(0,i.jsx)(x.ZP,{children:(0,i.jsx)(S.Z,{className:a()(ee.chatToasts,{[ee.rtsSidebarOpen]:c}),channelId:n.id})}),onActive:()=>{},onPreventIdle:()=>{},onAllowIdle:()=>{},onForceIdle:()=>{},screenMessage:E?{mainText:$.intl.string($.t.J5bXZW)}:null,idle:!1,children:!E&&t})}function eo(e){let{channel:t}=e,[r,s]=l.useState(!1),u=l.useCallback(()=>{s(!r)},[r,s]),{popoutWindow:C,popoutWindowAlwaysOnTop:E}=(0,o.cj)([b.Z],()=>({popoutWindow:b.Z.getWindow(J.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:b.Z.getIsAlwaysOnTop(J.KJ3.CHANNEL_CALL_POPOUT)})),Z=null!=C&&!C.closed,{analyticsLocations:N}=(0,f.ZP)(m.Z.STAGE_CHANNEL_CALL),S=(0,p.bp)(),{chatOpen:T,participantsListOpen:j}=(0,o.cj)([g.Z],()=>({chatOpen:g.Z.getChatOpen(t.id),participantsListOpen:g.Z.getParticipantsListOpen(t.id)}),[t.id]),A=(0,o.e7)([R.Z],()=>R.Z.getGuild(t.guild_id),[t.guild_id]),{hasParticipantsPanel:y}=(0,I.Z)({location:"StageChannelCall"});l.useEffect(()=>{null==c.K.get(et)&&((0,d.openModalLazy)(async()=>{let{default:e}=await n.e("37194").then(n.bind(n,947422));return t=>(0,i.jsx)(e,{...t})}),c.K.set(et,Date.now()))},[]);let{width:P=0,ref:M}=(0,h.Z)(),L=P-550,k=!Z||Z&&S===J.IlC.POPOUT;return(0,i.jsx)(f.Gt,{value:N,children:(0,i.jsxs)(x.B2,{children:[(0,i.jsxs)("div",{className:ee.container,ref:M,children:[(0,i.jsx)(d.ThemeProvider,{theme:J.BRd.DARK,children:e=>(0,i.jsx)("div",{className:a()(ee.callContainer,e,{[ee.sidebarVisible]:r,[ee.sidebarOrChatVisible]:r||T||j}),children:(0,i.jsx)(es,{channel:t,toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:r,popoutWindow:C,popoutWindowAlwaysOnTop:E,popoutOpen:Z,chatOpen:T})})}),r?(0,i.jsx)(F.Z,{channel:t,toggleRequestToSpeakSidebar:u,chatOpen:T}):null,(0,i.jsxs)("div",{className:ee.channelChatWrapper,children:[T&&k&&(0,i.jsx)(v.Z,{channel:t,guild:A,maxWidth:L}),j&&y&&k&&(0,i.jsx)(_.Z,{channel:t,maxWidth:L})]})]}),(0,i.jsx)(x.H_,{})]})})}},901434:function(e,t,n){var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(287734),o=n(358221),c=n(305325),d=n(281956),u=n(27457),h=n(823379),p=n(5192),m=n(501655),f=n(388032),g=n(723902);let C=(e,t)=>p.ZP.getName(e.getGuildId(),e.id,t.user);t.Z=function(e){var t,n;let{participants:p,channel:x,hasConnectPermission:v}=e,_=(0,d.J)(x.guild_id),I=l.useCallback(()=>{_?(0,c.hk)(x.guild_id,()=>s.default.selectVoiceChannel(x.id)):s.default.selectVoiceChannel(x.id)},[x.id,x.guild_id,_]),E=p.filter(e=>e.type===m.Ui.VOICE),b=4===E.length?2:3,Z=(0,r.Wu)([o.Z],()=>E.map(e=>o.Z.getParticipant(x.id,e.id)).filter(h.lm),[x.id,E]);return(0,i.jsxs)("div",{className:g.container,children:[(0,i.jsx)("div",{className:g.tiles,style:{maxWidth:168*b},children:Z.slice(0,5).map(e=>(0,i.jsx)(u.ZP,{participant:e,channel:x,className:g.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,i.jsx)(a.Heading,{className:g.channelName,variant:"heading-xxl/semibold",children:x.name}),(0,i.jsx)("div",{className:g.participantsRow,children:(0,i.jsx)(a.Text,{color:"header-secondary",variant:"text-sm/normal",children:(t=x,0===(n=E).length?f.intl.string(f.t.FUVhyM):1===n.length?f.intl.formatToPlainString(f.t.EQwZlJ,{a:C(t,n[0])}):2===n.length?f.intl.formatToPlainString(f.t.zBcKoK,{a:C(t,n[0]),b:C(t,n[1])}):n.length>2?f.intl.formatToPlainString(f.t["3AqFaG"],{a:C(t,n[0]),b:C(t,n[1]),n:n.length-2}):void 0)})}),(0,i.jsx)(a.Button,{disabled:!v,className:g.joinButton,color:v?a.Button.Colors.GREEN:a.Button.Colors.PRIMARY,onClick:I,size:a.Button.Sizes.MEDIUM,children:v?f.intl.string(f.t["7vb2cX"]):f.intl.string(f.t.TVBCKS)})]})}},302270:function(e,t,n){n.d(t,{Z:function(){return G}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(692547),c=n(481060),d=n(475179),u=n(40851),h=n(358221),p=n(185935),m=n(933557),f=n(320007),g=n(236091),C=n(623624),x=n(665149),v=n(984370),_=n(141321),I=n(618158),E=n(390322),b=n(616286),Z=n(961048),N=n(975146),S=n(430824),T=n(496675),j=n(626135),A=n(431328),y=n(501655),P=n(200498),M=n(146085),R=n(427679),L=n(592473),k=n(831002),O=n(903108),D=n(981631),w=n(474936),B=n(388032),U=n(487847);function H(e){let{inPopout:t,channel:n,toggleRequestToSpeakSidebar:r,showRequestToSpeakSidebar:o}=e,m=(0,u.bp)(),{chatOpen:C,participantsListOpen:x}=(0,s.cj)([h.Z],()=>({chatOpen:h.Z.getChatOpen(n.id),participantsListOpen:h.Z.getParticipantsListOpen(n.id)}),[n.id]),v=(0,P.B)(n.id),S=(0,A.Rk)(n.id,y.pV.REQUESTED_TO_SPEAK_ONLY),{preventIdle:T,allowIdle:j}=(0,I.Y)("popup"),{hasParticipantsPanel:M}=(0,p.Z)({location:"StageChannelCallHeader"}),R=M&&x;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{channelId:n.id},"clips-enabled-indicator"),(0,i.jsx)(c.Popout,{position:"bottom",animation:c.Popout.Animation.NONE,align:"right",renderPopout:e=>(0,i.jsx)(E.Z,{children:(0,i.jsx)(k.Z,{...e,channelId:n.id,appContext:m})}),autoInvert:!1,children:(e,t)=>{let{isShown:n}=t;return(0,l.createElement)(Z.Z,{...e,key:"more-options",isActive:n,className:U.button,iconClassName:U.buttonIcon})}},"more-options-popout"),!t&&(0,i.jsx)(f.Z,{className:U.button},"clips"),(0,i.jsx)(_.Z,{onOpen:T,onClose:j,className:U.button},"recents"),!o&&v?(0,i.jsx)("div",{className:U.button,children:(0,i.jsx)(L.Z,{toggleRequestToSpeakSidebar:()=>{C&&d.Z.updateChatOpen(n.id,!1),x&&d.Z.toggleParticipantsList(n.id,!1),r()},showRequestToSpeakSidebar:o,numRequestToSpeak:S})}):null,!x&&M&&(0,i.jsx)(N.Z,{className:a()(U.button,{[U.sidebarOpen]:C}),onClick:()=>{o&&r(),d.Z.toggleParticipantsList(n.id,!x)}},"participants-list-button"),!C&&(0,i.jsx)("div",{className:a()(U.button,{[U.sidebarOpen]:R||o}),children:(0,i.jsx)(b.T,{channelId:n.id,showRequestToSpeakSidebar:o,toggleRequestToSpeakSidebar:r,iconClassName:U.buttonIcon})})]})}function G(e){var t;let{inPopout:n,channel:r,toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:h}=e,p=(0,m.ZP)(r),f=(0,s.e7)([R.Z],()=>R.Z.getStageInstanceByChannel(r.id)),g=(0,A.Io)(r.id),_=(0,A.Rk)(r.id,y.pV.AUDIENCE),I=(0,s.e7)([S.Z],()=>S.Z.getGuild(r.guild_id),[r.guild_id]),E=null!==(t=null==I?void 0:I.maxStageVideoChannelUsers)&&void 0!==t?t:0,b=(null==I?void 0:I.isCommunity())?E<D.TU7:(null==I?void 0:I.premiumTier)!==D.Eu4.TIER_3&&E<=D.eez,Z=(0,O.Z)(r),N=(0,s.e7)([T.Z],()=>T.Z.can(M.yP,r)),P=()=>{d.Z.updateStageVideoLimitBoostUpsellDismissed(r.id,!0),j.default.track(D.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:r.guild_id,type:w.cd.VIDEO_STAGE_LIMIT,is_moderator:N,action:w.T7.DISMISS})};l.useEffect(()=>{Z&&j.default.track(D.rMx.BOOSTING_UPSELL_VIEWED,{guild_id:r.guild_id,type:w.cd.VIDEO_STAGE_LIMIT,is_moderator:N,listener_count:g+_})},[Z]);let L=(0,i.jsx)(c.ThemeProvider,{theme:D.BRd.DARK,children:e=>{var t;return(0,i.jsxs)(x.ZP,{toolbar:(0,i.jsx)(H,{inPopout:n,toggleRequestToSpeakSidebar:u,showRequestToSpeakSidebar:h,channel:r}),onDoubleClick:v.O,transparent:!0,className:a()(e,U.participants),children:[(0,i.jsx)(x.ZP.Icon,{icon:c.StageIcon,disabled:!0,"aria-label":B.intl.string(B.t.EErMzM),className:U.icon,color:null!=f?o.Z.unsafe_rawColors.GREEN_360.css:void 0}),(0,i.jsx)(x.ZP.Title,{className:U.channelName,wrapperClassName:U.channelNameWrapper,children:null!==(t=null==f?void 0:f.topic)&&void 0!==t?t:p}),(0,i.jsx)(x.ZP.Divider,{className:U.divider}),(0,i.jsxs)(x.ZP.Title,{children:[(0,i.jsx)(c.MicrophoneIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:U.speakerCount,children:B.intl.format(B.t.chmM9P,{count:g})}),(0,i.jsx)(c.GroupIcon,{size:"xs",color:"currentColor"}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"header-secondary",className:U.speakerCount,children:B.intl.format(B.t["+v2pNz"],{count:_})})]})]})}});return Z?(0,i.jsxs)("div",{children:[L,(0,i.jsxs)("div",{className:U.boostUpsell,children:[(0,i.jsx)(F,{}),(0,i.jsxs)("div",{className:U.text,children:[(0,i.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",children:b?B.intl.string(B.t["T+zF9P"]):B.intl.string(B.t["IZ+SVl"])}),(0,i.jsx)(c.Text,{variant:"text-xs/medium",color:"text-normal",children:b?B.intl.string(B.t.Izgpmp):B.intl.string(B.t["7FHbPD"])})]}),(0,i.jsx)("div",{className:U.buttons,children:b?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{className:U.notNowButton,onClick:P,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,children:B.intl.string(B.t.L5eIZ2)}),(0,i.jsx)(c.ShinyButton,{size:c.Button.Sizes.SMALL,onClick:()=>{(0,C.f)({guildId:r.guild_id,location:{section:D.jXE.STAGE_VIDEO_LIMIT}}),j.default.track(D.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:r.guild_id,type:w.cd.VIDEO_STAGE_LIMIT,is_moderator:N,action:w.T7.BOOST})},className:U.boostButton,children:B.intl.string(B.t.Uj0md3)})]}):(0,i.jsx)(c.Button,{className:U.notNowButton,onClick:P,look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,children:B.intl.string(B.t.WAI6xs)})})]})]}):L}function F(){return(0,i.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_595_59940)",children:[(0,i.jsx)("path",{d:"M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",fill:"url(#paint0_linear_595_59940)"}),(0,i.jsx)("path",{d:"M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",fill:"white"}),(0,i.jsx)("path",{d:"M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",fill:"white"})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_595_59940",x1:"2.4046e-06",y1:"35.2166",x2:"35.7182",y2:"-1.45185",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#3E70DD"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#B377F3"})]}),(0,i.jsx)("clipPath",{id:"clip0_595_59940",children:(0,i.jsx)("rect",{width:"36",height:"36",fill:"white"})})]})]})}},831002:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=n(200651);n(192379);var l=n(512722),r=n.n(l),a=n(442837),s=n(481060),o=n(40851),c=n(358221),d=n(431368),u=n(167675),h=n(418469),p=n(673539),m=n(218035),f=n(775666),g=n(423589),C=n(592125),x=n(496675),v=n(881824),_=n(146085),I=n(427679),E=n(354459),b=n(388032);function Z(e){let{channelId:t,closePopout:n,appContext:l,onSelect:Z}=e,N=(0,a.e7)([c.Z],()=>c.Z.getSelectedParticipant(t)),S=(null==N?void 0:N.type)===E.fO.STREAM?N.stream:null,T=(0,p.Z)(t);return(0,i.jsxs)(s.Menu,{navId:"stage-channel-call-overflow-popout",onClose:n,"aria-label":b.intl.string(b.t.pkYeAw),onSelect:Z,children:[function(e){let t=(0,a.e7)([C.Z],()=>C.Z.getChannel(e),[e]),n=(0,a.e7)([x.Z],()=>x.Z.can(_.yP,t)),l=(0,a.e7)([I.Z],()=>I.Z.getStageInstanceByChannel(e),[e]),r=(0,o.bp)(),c=()=>null!=t&&(0,v.T)(t,r);return(null==t?void 0:t.isGuildStageVoice())&&n?null!=l?(0,i.jsx)(s.MenuItem,{id:"edit-stage",label:b.intl.string(b.t["I+9bLy"]),action:c}):(0,i.jsx)(s.MenuItem,{id:"start-stage",label:b.intl.string(b.t.OYbHfn),action:c}):null}(t),function(e){let t=(0,a.e7)([C.Z],()=>C.Z.getChannel(e),[e]);r()(null!=t,"useNotificationSettingsItem: channel cannot be undefined");let n=(0,g.Mn)("StageChannelCallOverflowMenu"),i=(0,f.ZP)(t),l=(0,m.Z)(t);return n?i:l}(t),(0,u.Z)(),(0,d.Z)(t),T,(0,h.Z)(S,l)]})}},308177:function(e,t,n){n(47120);var i,l,r=n(200651),a=n(192379),s=n(442837),o=n(112724),c=n(358221),d=n(565799),u=n(431328),h=n(501655),p=n(27931),m=n(260979),f=n(766015),g=n(401139),C=n(12779),x=n(450369),v=n(388032),_=n(38524);let I=424,E=624,b=824;(l=i||(i={}))[l.SELECTED=0]="SELECTED",l[l.SPEAKER=1]="SPEAKER",l[l.AUDIENCE=2]="AUDIENCE";let Z=(e,t)=>{let n=Math.floor(e/t-8),i=Math.floor(n/x.Q);return{speakerTileWidth:n,speakerTileHeight:i}},N=(e,t)=>e<I?1:e<E?2:e<b?3:t?3:4,S=e=>Math.floor((e-32)/102);function T(e){return e.type===h.Ui.VOICE}t.Z=(0,o.Z)(e=>{var t,n;let{channel:i,width:l,onScroll:o}=e,{selectedParticipantId:I,largeStream:E,chatOpen:b}=(0,s.cj)([c.Z],()=>({selectedParticipantId:c.Z.getSelectedParticipantId(i.id),largeStream:c.Z.getStageStreamSize(i.id),chatOpen:c.Z.getChatOpen(i.id)}),[i.id]),j=(0,u.Io)(i.id),A=(0,u.Rk)(i.id,h.pV.AUDIENCE),y=(0,s.e7)([d.Z],()=>null!=I?d.Z.getParticipant(i.id,I):null),P=(0,u.w8)(i.id,h.pV.SPEAKER),M=P.filter(T),R=null!=P.find(e=>e.type===h.Ui.STREAM),L=S(l),k=N(l,b),O={[h.pV.SPEAKER]:k,[h.pV.AUDIENCE]:L,[h.pV.SELECTED]:1},D=(0,p.Dx)(i.id),[w,B]=(0,p.aP)(i.id,O,D),U=[Math.max(null!==(t=w[0])&&void 0!==t?t:1,1),Math.max(null!==(n=w[1])&&void 0!==n?n:1,1),w[2]],{speakerTileWidth:H,speakerTileHeight:G}=Z(l,k),F=E?l-32:Math.min(l-64,3*H+8),V=e=>e===w.length-1||0===A&&1===e,[z,W]=a.useState(!1),[K,Y]=a.useState(!1);return(0,r.jsx)(f.Z,{sections:U,renderSection:e=>{let{section:t}=e;if(1===t)return 0===j?null:(0,r.jsx)(C.Z,{participantCount:j,label:v.intl.string(v.t.CduOk5),className:_.header,onClick:()=>W(!z),collapsed:z,speakers:M,channel:i,isStreamLive:R},"speaker-header-".concat(t));if(2===t)return 0===A?null:(0,r.jsx)(C.Z,{participantCount:A,label:v.intl.string(v.t["3foUu7"]),className:_.header,onClick:()=>Y(!K),collapsed:K,channel:i},"audience-header-".concat(t));return null},sectionHeight:e=>48,renderRow:e=>{let{section:t,row:n}=e,l=B[t][n];if((null==l?void 0:l.length)==null)return null;switch(t){case 0:if(0===l.length||null==l[0])return null;return(0,r.jsx)("div",{className:_.focusedRow,children:(0,r.jsx)(x.Z,{channel:i,participant:l[0],width:F})},"selected-participant");case 1:if(z)return null;return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(g.Z,{tileWidth:H,channel:i,participants:l,selectedParticipant:y})},"speakers-".concat(t,"-").concat(n));case 2:if(K)return null;return(0,r.jsx)(m.Z,{channel:i,participants:l,maxTiles:L},"audience-".concat(t,"-").concat(n));default:return null}},rowHeight:e=>null==B[e][0]?0:0===e?F/x.Q+8:1===e?z?0:G:K?0:98,renderFooter:e=>{let{section:t}=e;return V(t)?(0,r.jsx)("div",{className:_.spacer},"bottom-spacer"):null},footerHeight:e=>1===e?8:0===e?12:V(e)?88:0,className:_.scroller,chunkSize:60,onScroll:o})})},700483:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(287734),d=n(40851),u=n(358221),h=n(659580),p=n(793865),m=n(575175),f=n(258609),g=n(74299),C=n(924301),x=n(459502),v=n(856691),_=n(357156),I=n(861254),E=n(923973),b=n(829750),Z=n(189771),N=n(294629),S=n(793319),T=n(560688),j=n(390322),A=n(871499),y=n(88479),P=n(386e3),M=n(25827),R=n(314897),L=n(131951),k=n(496675),O=n(944486),D=n(594174),w=n(881824),B=n(471253),U=n(922482),H=n(200498),G=n(146085),F=n(88751),V=n(427679),z=n(368442),W=n(600518),K=n(485287),Y=n(754277),q=n(719100),X=n(184805),J=n(643632),Q=n(270295),$=n(981631),ee=n(388032),et=n(614826);function en(e){let{channel:t,appContext:n}=e;if((0,q.Z)(t)){(0,w.Us)(t,n);return}c.default.disconnect()}function ei(e){var t,n;let{channel:l}=e,r=(0,X.Z)(l.id),[a,c]=(0,Q.Z)(l),d=(0,s.e7)([k.Z],()=>k.Z.can($.Plq.REQUEST_TO_SPEAK,l)),{groupedButtons:u}=(0,I.ZP)({location:"AudienceRaiseHandButton"});if(r)return null;return(0,i.jsx)(A.d,{isActive:a,label:(t=a,n=d,t?ee.intl.string(ee.t.GCimTk):n?ee.intl.string(ee.t.hLbG5O):ee.intl.string(ee.t.e4WMv7)),iconComponent:o.HandRequestSpeakIcon,onClick:c,className:u?void 0:et.buttonSpacing,disabled:!d&&!a})}let el=l.memo(function(e){let{channel:t}=e,n=(0,s.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]),{groupedButtons:l}=(0,I.ZP)({location:"AudienceControlTray"});return l?(0,i.jsxs)("div",{className:et.container,children:[(0,i.jsxs)("div",{className:et.buttonSection,children:[(0,i.jsx)(eo,{channelId:t.id}),n?(0,i.jsx)(ei,{channel:t}):null]}),(0,i.jsx)(ea,{channel:t})]}):(0,i.jsxs)("div",{className:et.container,children:[(0,i.jsx)(eo,{channelId:t.id}),n?(0,i.jsx)(ei,{channel:t}):null,(0,i.jsx)(ea,{channel:t})]})});function er(e){let{onClick:t}=e,{groupedButtons:n}=(0,I.ZP)({location:"MakeMeASpeakerButton"});return n?(0,i.jsx)(A.d,{onClick:t,iconComponent:o.MicrophoneArrowRightIcon,label:ee.intl.string(ee.t["8Joh+v"])}):(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:et.primaryButtonColor,className:a()(et.buttonSpacing,et.buttonWithTextButton),onClick:t,children:(0,i.jsxs)("div",{className:et.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.MicrophoneArrowRightIcon,{size:"md",color:"currentColor",className:et.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:ee.intl.string(ee.t["8Joh+v"])})]})})}function ea(e){let{channel:t,onSelect:n}=e,l=(0,d.bp)(),{canManageGuildEvent:r}=(0,_.XJ)(t),c=(0,s.e7)([V.Z],()=>V.Z.getStageInstanceByChannel(t.id),[t.id]),u=(0,s.e7)([C.ZP],()=>C.ZP.getGuildScheduledEvent(null==c?void 0:c.guild_scheduled_event_id)),h=(0,s.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]),{suppress:p}=(0,N.Z)(t),m=R.default.getId(),[f]=(0,Q.Z)(t),g=F.ZP.isModerator(m,t.id),x=(0,H.B)(t.id),v=r(u),{groupedButtons:E}=(0,I.ZP)({location:"ExitStageButton"});if(!h)return(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:o.Button.Colors.GREEN,className:a()(et.buttonSpacing,et.buttonWithTextButton),onClick:()=>{var e;return e=t,void(0,U.TM)(e)},children:(0,i.jsxs)("div",{className:et.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.PhoneCallIcon,{size:"md",color:"currentColor",className:et.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:ee.intl.string(ee.t["7vb2cX"])})]})});if((g||v)&&null!=c)return(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:r}=e;return(0,i.jsx)(j.Z,{children:(0,i.jsx)(o.Menu,{navId:"exit-options","aria-label":ee.intl.string(ee.t["3Uj+2t"]),onClose:r,onSelect:n,children:(0,i.jsx)(o.MenuItem,{id:"end-stage",color:"danger",action:()=>(0,w.Ev)(t,l),label:ee.intl.string(ee.t.Fmx5y8),icon:o.CircleXIcon})})})},align:"center",position:"top",spacing:E?16:void 0,animation:o.Popout.Animation.FADE,children:(e,n)=>{let{onClick:r}=e,{isShown:a}=n;return(0,i.jsx)(y.Z,{label:ee.intl.string(ee.t.c6qKws),onClick:()=>en({channel:t,appContext:l}),onPopoutClick:r,popoutOpen:a,className:E?void 0:et.buttonSpacing})}});if((!p||x)&&!f)return(0,i.jsx)(y.Z,{label:ee.intl.string(ee.t.c6qKws),onClick:()=>en({channel:t,appContext:l}),className:E?void 0:et.buttonSpacing});if(E)return(0,i.jsx)(y.Z,{label:ee.intl.string(ee.t.SMKyio),onClick:()=>en({channel:t,appContext:l}),className:et.experimentButtonSpacing});return(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:o.Button.Colors.RED,className:a()(et.buttonSpacing,et.buttonWithTextButton),onClick:()=>en({channel:t,appContext:l}),children:(0,i.jsxs)("div",{className:et.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.PhoneHangUpIcon,{size:"md",color:"currentColor",className:et.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:ee.intl.string(ee.t.SMKyio)})]})})}function es(e){let{onClick:t}=e,{groupedButtons:n}=(0,I.ZP)({location:"MoveToAudienceButton"});return n?(0,i.jsx)(A.d,{iconComponent:o.GroupArrowDownIcon,label:ee.intl.string(ee.t.ezLpY2),onClick:t}):(0,i.jsx)(o.Button,{size:o.Button.Sizes.MEDIUM,color:et.primaryButtonColor,className:a()(et.buttonSpacing,et.buttonWithTextButton),onClick:t,children:(0,i.jsxs)("div",{className:et.buttonWithTextInnerContainer,children:[(0,i.jsx)(o.GroupArrowDownIcon,{size:"md",color:"currentColor",className:et.buttonWithTextIcon}),(0,i.jsx)(o.Text,{color:"none",variant:"text-sm/medium",children:ee.intl.string(ee.t.ezLpY2)})]})})}function eo(e){let{channelId:t}=e,n=(0,s.e7)([Y.Z],()=>Y.Z.isMuted()),l=(0,K.pp)(t),r=(0,s.e7)([Y.Z],()=>Y.Z.shouldPlay());return l?(0,i.jsx)(A.d,{isActive:n,label:n?ee.intl.string(ee.t.ScHlfn):ee.intl.string(ee.t.zqxfra),iconComponent:n?o.MusicSlashIcon:o.MusicIcon,onClick:()=>(0,W.v)(!n)}):(0,i.jsx)(A.d,{isActive:r,label:r?ee.intl.string(ee.t.zqxfra):ee.intl.string(ee.t.ScHlfn),iconComponent:r?o.MusicIcon:o.MusicSlashIcon,onClick:()=>(0,W.z)(!r)})}let ec=l.memo(function(e){let{channel:t}=e,{suppress:n,selfMute:l,mute:r}=(0,N.Z)(t),c=(0,H.B)(t.id),d=(0,s.e7)([f.Z],()=>null!=f.Z.getAwaitingRemoteSessionInfo()),{cameraUnavailable:C,enabled:x}=(0,E.Z)(),v=(0,Z.Z)(t),{limit:_,reachedLimit:A}=(0,b.Z)(t),y=(0,s.e7)([D.default],()=>D.default.getCurrentUser()),R=(0,s.e7)([L.Z],()=>(0,g.Z)(L.Z)),k=(0,s.e7)([O.Z],()=>O.Z.getVoiceChannelId()===t.id,[t.id]),w=(0,s.e7)([u.Z],()=>u.Z.getStreamParticipants(t.id)[0],[t.id]),U=(0,z.PK)(t.id),G=_>0,F=A&&!U||null!=w&&w.user.id!==(null==y?void 0:y.id),{groupedButtons:V}=(0,I.ZP)({location:"SpeakerControlTray"});if(null==y)return null;let W=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(j.Z,{children:(0,i.jsx)(p.Z,{onClose:t})})},position:"top",align:V?"right":"center",spacing:V?16:void 0,animation:o.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:l}=t;return(0,i.jsx)(M.C,{centerButton:!0,hasPermission:v,enabled:x,cameraUnavailable:C,onChange:S.r,onCameraUnavailable:T.Z,channelLimitReached:A,channelLimit:_,popoutOpen:l,onPopoutClick:n})}}),V?null:(0,i.jsx)(S.NZ,{channel:t,currentUser:y,exitFullScreen:()=>null,canGoLive:R,hasPermission:v,disabled:F})]});return V?(0,i.jsxs)("div",{className:et.experimentWrapper,children:[k&&!n?(0,i.jsx)("div",{className:et.buttonSection,children:(0,i.jsxs)("div",{className:a()(et.avControls),children:[(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(j.Z,{children:(0,i.jsx)(h.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0})})},align:"right",position:"top",spacing:16,animation:o.Popout.Animation.FADE,children:(e,t)=>{let{onClick:a}=e,{isShown:s}=t;return(0,i.jsx)(P.Z,{centerButton:!0,onPopoutClick:a,selfMute:l,serverMute:r,suppress:n,popoutOpen:s,onClick:()=>(0,m.Z)(r,n,"Stage Channel Controls"),awaitingRemote:d})}}),G&&(0,i.jsx)("div",{className:et.avSpacing,"aria-hidden":"true",role:"presentation"}),G&&W]})}):null,(0,i.jsxs)("div",{className:et.buttonSection,children:[k&&!n&&G?(0,i.jsx)(S.NZ,{channel:t,currentUser:y,exitFullScreen:()=>null,canGoLive:R,hasPermission:v,disabled:F}):null,(0,i.jsx)(eo,{channelId:t.id}),k&&(0,i.jsx)(ei,{channel:t}),k&&c&&n&&(0,i.jsx)(er,{onClick:()=>(0,B.RK)(t,!1)}),k&&!n&&(0,i.jsx)(es,{onClick:()=>(0,B.yi)(t)})]}),(0,i.jsx)(ea,{channel:t})]}):(0,i.jsxs)("div",{className:et.container,children:[(0,i.jsx)(eo,{channelId:t.id}),k&&(0,i.jsx)(ei,{channel:t}),k&&!n?(0,i.jsxs)("div",{className:a()(et.avControls,et.buttonSpacing),children:[G&&W,(0,i.jsx)(o.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(j.Z,{children:(0,i.jsx)(h.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0})})},align:"center",position:"top",animation:o.Popout.Animation.FADE,children:(e,t)=>{let{onClick:a}=e,{isShown:s}=t;return(0,i.jsx)(P.Z,{centerButton:!0,onPopoutClick:a,selfMute:l,serverMute:r,suppress:n,popoutOpen:s,onClick:()=>(0,m.Z)(r,n,"Stage Channel Controls"),awaitingRemote:d})}})]}):null,k&&c&&n&&(0,i.jsx)(er,{onClick:()=>(0,B.RK)(t,!1)}),k&&!n&&(0,i.jsx)(es,{onClick:()=>(0,B.yi)(t)}),(0,i.jsx)(ea,{channel:t})]})});function ed(e){let{channel:t}=e,{groupedButtons:n}=(0,I.ZP)({location:"StartStageControlTray"});return n?(0,i.jsxs)("div",{className:et.experimentWrapper,children:[(0,i.jsx)("div",{className:n?et.buttonSection:void 0,children:(0,i.jsx)(eo,{channelId:t.id})}),(0,i.jsx)(ea,{channel:t})]}):(0,i.jsxs)("div",{className:et.container,children:[(0,i.jsx)(eo,{channelId:t.id}),(0,i.jsx)(ea,{channel:t})]})}t.Z=l.memo(function(e){let{channel:t,isOnStartStageScreen:n}=e,l=(0,X.Z)(t.id),r=(0,H.B)(t.id),a=(0,s.e7)([k.Z],()=>k.Z.can(G.yP,t),[t]),o=(0,J.Z)(t.id),c=(0,s.e7)([u.Z],()=>null!=t?u.Z.getSelectedParticipant(t.id):null),d=!o&&null==c;return n?(0,i.jsx)(ed,{channel:t}):l||r?(0,i.jsxs)("div",{className:et.containerColumn,children:[(0,i.jsxs)("div",{className:et.eventPrompts,children:[d?(0,i.jsx)(x.Z,{channelId:null==t?void 0:t.id}):null,(0,i.jsx)("div",{className:et.separator}),d&&a?(0,i.jsx)(v.Z,{highlight:!0,channel:t}):null,(0,i.jsx)("div",{className:et.separator})]}),(0,i.jsx)(ec,{channel:t})]}):(0,i.jsx)(el,{channel:t})})},766015:function(e,t,n){var i,l=n(796075),r=n(481060),a=n(763410),s=n(448304);let o=(0,r.createListScroller)(a.auto,a.fade,s.customTheme,null!==(i=window.ResizeObserver)&&void 0!==i?i:l.d);t.Z=o},401139:function(e,t,n){var i=n(200651),l=n(192379),r=n(450369),a=n(500042);t.Z=l.memo(function(e){let{channel:t,participants:n,tileWidth:l,selectedParticipant:s}=e;return(0,i.jsx)("div",{className:a.rowContainer,children:n.map(e=>e.id===(null==s?void 0:s.id)?null:(0,i.jsx)(r.Z,{channel:t,participant:e,width:l},e.id))})})},12779:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(194082),c=n(14338),d=n(476239);t.Z=l.memo(function(e){let{label:t,participantCount:n,onClick:l,className:r,collapsed:u,speakers:h,channel:p,isStreamLive:m}=e;return(0,i.jsxs)(s.Clickable,{onClick:l,className:a()(d.container,r),children:[null==h?(0,i.jsx)(s.GroupIcon,{size:"custom",color:"currentColor",width:20,height:20,className:d.micIcon}):(0,i.jsx)(s.MicrophoneIcon,{size:"custom",color:"currentColor",width:20,height:20,className:d.micIcon}),(0,i.jsxs)(s.Text,{color:"header-primary",variant:"text-md/semibold",className:d.text,children:[t," — ",n]}),u&&null!=p&&null!=h&&h.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{channel:p,speakers:h}),m&&(0,i.jsx)(o.ZP,{})]}),(0,i.jsx)(s.ChevronSmallDownIcon,{size:"custom",color:"currentColor",width:20,height:20,className:a()(d.downIcon,{[d.upIcon]:u})})]})})},14338:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(239091),c=n(586902),d=n(40851),u=n(184301),h=n(347475),p=n(237583),m=n(768581),f=n(22105);function g(e){let{channel:t,speaker:r,className:p}=e,g=(0,d.bp)(),{reducedMotion:C}=l.useContext(s.AccessibilityPreferencesContext),x=(0,c.Z)({userId:r.id}),v=null!=r.member?(0,m.CA)(r.member):null,_=e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return n=>(0,i.jsx)(e,{...n,user:r.user,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:g})};return(0,i.jsx)(s.Popout,{preload:()=>(0,u.Z)(r.user,{guildId:t.guild_id,channelId:t.id}),renderPopout:e=>(0,i.jsx)(h.Z,{...e,guildId:t.guild_id,channelId:t.id,userId:r.id}),position:"right",spacing:8,children:e=>(0,i.jsx)(s.Tooltip,{text:r.userNick,position:"bottom",children:n=>(0,i.jsx)(s.Clickable,{...n,...e,onClick:t=>{t.stopPropagation(),e.onClick(t)},onContextMenu:_,children:(0,i.jsx)(s.Avatar,{src:null!=v?v:r.user.getAvatarURL(t.guild_id,24),size:s.AvatarSizes.SIZE_24,className:a()(f.avatar,p),"aria-label":r.userNick,isSpeaking:x&&!C.enabled})})})})}function C(e){let{speakers:t,channel:n}=e;return(0,i.jsx)(p.Z,{className:f.summary,guildId:n.guild_id,users:t,max:10,renderUser:(e,t,l)=>(0,i.jsx)(g,{channel:n,speaker:e,className:t},l),renderMoreUsers:(e,t,n)=>(0,i.jsx)("div",{className:a()(f.speakers,t),children:e},n)})}},450369:function(e,t,n){n.d(t,{Q:function(){return y}});var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(442837),o=n(481060),c=n(475179),d=n(239091),u=n(872810),h=n(40851),p=n(358221),m=n(258609),f=n(569545),g=n(102172),C=n(352978),x=n(184301),v=n(347475),_=n(199902),I=n(430824),E=n(496675),b=n(979651),Z=n(88751),N=n(252132),S=n(248400),T=n(981631),j=n(354459),A=n(235537);let y=16/9,P=e=>{let{stageParticipant:t,rtcParticipant:n,channel:r,guildId:a,user:s,width:c,isModerator:d,onContextMenu:u,inPopout:h}=e,{reducedMotion:p}=l.useContext(o.AccessibilityPreferencesContext),{blocked:m,ignored:f,id:g}=t;return(0,i.jsx)(o.Popout,{preload:null==n?void 0:()=>(0,x.Z)(n.user,{guildId:r.guild_id,channelId:r.id}),renderPopout:e=>(0,i.jsx)(v.Z,{...e,guildId:a,channelId:r.id,userId:s.id}),position:"right",spacing:8,children:e=>(0,i.jsx)(o.Clickable,{onContextMenu:e=>u(n,e),...e,children:(0,i.jsx)(N.Z,{participant:n,aspectRatio:y,blocked:m,ignored:f,channel:r,className:A.tile,inCall:!0,inPopout:h,paused:!1,pulseSpeakingIndicator:!p.enabled,width:c,children:d&&(0,i.jsx)(S.Z,{})},g)})})},M=e=>{let{stageParticipant:t,rtcParticipant:n,channel:r,width:a,isModerator:d,onContextMenu:h,inPopout:x}=e,{reducedMotion:v}=l.useContext(o.AccessibilityPreferencesContext),{id:Z,blocked:P,ignored:M}=t,R=(0,s.Wu)([_.Z],()=>_.Z.getAllActiveStreams(),[]),{selectedParticipant:L,largeStream:k}=(0,s.cj)([p.Z],()=>({selectedParticipant:null!=r?p.Z.getSelectedParticipant(r.id):null,largeStream:null!=r&&p.Z.getStageStreamSize(r.id)})),O=l.useCallback((e,t)=>{if(e.type===j.fO.STREAM&&0===R.filter(t=>(0,f.V9)(t)===e.id&&t.state!==T.jm8.ENDED).length){if(!(0,g.p9)(r,b.Z,I.Z,E.Z,m.Z)[0])return;(0,u.rn)((0,f.my)(e.id),{forceMultiple:t.shiftKey})}(null==L?void 0:L.id)===e.id?k?(c.Z.selectParticipant(r.id,null),c.Z.updateStageStreamSize(r.id,!1)):c.Z.updateStageStreamSize(r.id,!0):(c.Z.updateStageStreamSize(r.id,!1),c.Z.selectParticipant(r.id,e.id))},[R,r,L,k]);return(0,i.jsx)(N.Z,{participant:n,aspectRatio:y,fit:n.type===j.fO.USER?C.L.COVER:void 0,blocked:P,ignored:M,channel:r,className:A.tile,inCall:!0,inPopout:x,onClick:O,onContextMenu:h,paused:!1,pulseSpeakingIndicator:!v.enabled,width:a,children:d&&n.type===j.fO.USER&&(0,i.jsx)(S.Z,{})},Z)};t.Z=l.memo(function(e){var t;let{participant:l,channel:r,width:o}=e,c=(0,h.bp)(),u=r.getGuildId();a()(null!=u,"Channel cannot be guildless");let{user:m}=l,f=(0,s.e7)([p.Z],()=>p.Z.getParticipant(r.id,l.id),[r.id,l.id]),g=(0,s.e7)([Z.ZP],()=>Z.ZP.isModerator(m.id,r.id),[r.id,m.id]);if(null==f||f.type===j.fO.ACTIVITY)return null;let C=(e,t)=>{switch(e.type){case j.fO.HIDDEN_STREAM:case j.fO.STREAM:(0,d.jW)(t,async()=>{let{default:t}=await n.e("22183").then(n.bind(n,987281));return n=>(0,i.jsx)(t,{...n,stream:e.stream,appContext:c,exitFullscreen:()=>{}})},{context:c});return;case j.fO.USER:default:(0,d.jW)(t,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:m,guildId:u,channel:r,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1})},{context:c})}},x=f.type===j.fO.USER&&!(null===(t=f.voiceState)||void 0===t?void 0:t.selfVideo);return(0,i.jsx)(i.Fragment,{children:x?(0,i.jsx)(P,{stageParticipant:l,rtcParticipant:f,channel:r,guildId:u,user:m,width:o,isModerator:g,onContextMenu:C,inPopout:c===T.IlC.POPOUT}):(0,i.jsx)(M,{stageParticipant:l,rtcParticipant:f,channel:r,guildId:u,user:m,width:o,isModerator:g,onContextMenu:C,inPopout:c===T.IlC.POPOUT})})})},686468:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(200651);n(192379);var l=n(442837),r=n(692547),a=n(481060),s=n(884338),o=n(688641),c=n(596449),d=n(459502),u=n(856691),h=n(357156),p=n(496675),m=n(146085),f=n(979339),g=n(643632),C=n(939863),x=n(388032),v=n(922775);function _(e){let{onClick:t}=e;return(0,i.jsx)(o.Z,{iconContainerClassName:v.continueIconContainer,icon:(0,i.jsx)(a.StageIcon,{size:"custom",color:"currentColor",className:v.continueIcon,height:20,width:20}),color:r.Z.unsafe_rawColors.PRIMARY_700.css,title:x.intl.string(x.t.jMLfp6),description:x.intl.string(x.t["Vd/rER"]),onClick:t})}function I(e){let{channel:t}=e,{participants:n,usersInSummary:l}=(0,f.Z)(t.id);return(0,i.jsxs)("div",{className:v.audienceSummary,children:[(0,i.jsx)(s.Z,{className:v.summaryItem,guildId:t.guild_id,users:l,size:s.u.SIZE_16}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:function(e){if(0===e.length)return"";if(1===e.length)return x.intl.formatToPlainString(x.t["5ULgaW"],{first:e[0].userNick});if(2===e.length)return x.intl.formatToPlainString(x.t.BHK0Oj,{first:e[0].userNick,second:e[1].userNick});let t=e.length-2;return x.intl.formatToPlainString(x.t.T3MT4u,{first:e[0].userNick,second:e[1].userNick,numOthers:t})}(n)})]})}function E(e){let{channel:t,onContinueClick:n}=e,r=(0,l.e7)([p.Z],()=>p.Z.can(m.yP,t),[t]),s=t.guild_id,{canCreateGuildEvent:o}=(0,h.XJ)(t),E=(0,g.Z)(t.id),{usersInSummary:b}=(0,f.Z)(t.id);return(0,i.jsxs)("div",{children:[(0,i.jsx)(C.Z,{children:(0,i.jsx)("div",{className:v.iconBackground,children:(0,i.jsx)(a.StageIcon,{size:"custom",color:"currentColor",width:40,height:40,className:v.icon})})}),(0,i.jsxs)("div",{className:v.headerContainer,children:[(0,i.jsx)(a.Heading,{className:v.__invalid_title,variant:"heading-xl/semibold",children:x.intl.string(x.t.QGnDLi)}),(0,i.jsx)(a.Text,{className:v.subtitle,variant:"text-sm/normal",children:x.intl.string(x.t.djfK39)})]}),E?null:(0,i.jsx)(d.Z,{channelId:t.id}),r?(0,i.jsx)(u.Z,{className:v.eventPrompt,channel:t}):null,o?(0,i.jsx)(c.Z,{className:v.eventPrompt,guildId:s}):null,(r||b.length>0)&&(0,i.jsx)("hr",{className:v.separator}),r?(0,i.jsx)(_,{onClick:n}):null,(0,i.jsx)(I,{channel:t})]})}},801405:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651),l=n(192379),r=n(442837),a=n(570140),s=n(475179),o=n(367907),c=n(358221),d=n(788983),u=n(268353),h=n(944486),p=n(626135),m=n(585483),f=n(358085),g=n(228488),C=n(981631),x=n(322455);let v=()=>{a.Z.wait(()=>d.xv(C.KJ3.CHANNEL_CALL_POPOUT))};function _(e){let{channel:t,appContext:n,popoutOpen:a,popoutWindow:d,currentWindow:_}=e,I=n===C.IlC.POPOUT,E=l.useRef(null),{currentLayout:b,mode:Z}=(0,r.cj)([c.Z],()=>{let e=c.Z.getMode(t.id),i=n===C.IlC.POPOUT;i&&(e=C.WtW.VIDEO);let l=e===C.WtW.VIDEO?c.Z.getLayout(t.id,n):C.AEg.MINIMUM;return i&&l!==C.AEg.FULL_SCREEN&&(l=C.AEg.NO_CHAT),{currentLayout:l,mode:e}},[t,n]),N=(0,r.e7)([h.Z],()=>h.Z.getVoiceChannelId()===t.id,[t.id]);l.useEffect(()=>{E.current=Z});let S=l.useRef(b),{currentDocument:T,rootNode:j}=l.useMemo(()=>{let e=null!=d&&I?d.document:document,t=_.document.getElementById("app-mount");return{currentWindow:_,currentDocument:e,rootNode:t}},[d,I,_]),A=a&&!I,y=Z===C.WtW.VIDEO&&N&&!A,P=l.useCallback((e,i)=>{i!==e&&(s.Z.updateLayout(t.id,i,n),i===C.AEg.FULL_SCREEN&&t.isPrivate()&&m.S.dispatch(C.CkL.TEXTAREA_BLUR))},[n,t]),M=l.useCallback(e=>{if(null!=j)e===C.AEg.FULL_SCREEN&&(P(e,S.current),(0,g.Pr)(e=>{S.current=e},T))},[T,P,j]),R=l.useCallback(e=>()=>{null!=j&&(e!==C.AEg.FULL_SCREEN?(S.current=e,P(e,C.AEg.FULL_SCREEN),(0,g.Dj)(j)):M(e))},[P,M,j]);return(l.useEffect(()=>{let e=()=>{null!=j&&!(0,g.rB)(j,T)&&b===C.AEg.FULL_SCREEN&&R(b)()};return T.addEventListener(g.NO,e),()=>{T.removeEventListener(g.NO,e)}},[T,b,R,j]),l.useEffect(()=>(p.default.track(C.rMx.VIDEO_LAYOUT_TOGGLED,{video_layout:I?"popout":b,...(0,o.AB)(t.id)}),()=>{!(I&&(0,f.isMac)())&&M(b)}),[b,I]),l.useEffect(()=>{null!=j&&E.current===C.WtW.VIDEO&&Z===C.WtW.VOICE&&(0,g.Pr)(j,T)},[T,Z,E,j]),l.useEffect(()=>{!N&&I&&v()},[N,I]),y)?(0,i.jsx)(u.Z,{themeable:!1,node:j,guestWindow:d,className:x.rightTrayIcon,onClick:R(b)}):null}},903108:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(442837),l=n(358221),r=n(430824),a=n(496675),s=n(431328),o=n(501655),c=n(146085),d=n(368442),u=n(981631);function h(e){var t;let n=(0,i.e7)([l.Z],()=>l.Z.getStageVideoLimitBoostUpsellDismissed(e.id),[e.id]),h=(0,s.Io)(e.id),p=(0,s.Rk)(e.id,o.pV.AUDIENCE),m=(0,d.PK)(e.id),f=(0,i.e7)([r.Z],()=>r.Z.getGuild(e.guild_id),[e.guild_id]),g=(0,i.e7)([a.Z],()=>a.Z.can(c.yP,e),[e]),C=null!==(t=null==f?void 0:f.maxStageVideoChannelUsers)&&void 0!==t?t:0,x=!(null==f?void 0:f.isCommunity())&&C>u.RcX;return m&&!n&&g&&!x&&h+p>=C}},122707:function(e,t,n){n.d(t,{q:function(){return r}}),n(47120);var i=n(709054),l=n(765104);function r(e,t){var n;let r=null!==(n=l.Z.summaries(e))&&void 0!==n?n:[],a=0;for(let e of r)i.default.compare(e.endId,t)>0&&(a+=1);return a}},779836:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(752877),s=n(399606),o=n(481060),c=n(511010),d=n(446183),u=n(677281),h=n(765104),p=n(477291),m=n(531578),f=n(959517),g=n(388032),C=n(173324);function x(e){let{summary:t,channel:n}=e,l=(0,s.e7)([h.Z],()=>h.Z.summaryFeedback(t)),r=(e,i)=>{e.stopPropagation(),(0,p.Z)({summary:t,channel:n,rating:i})},c=(0,o.useTransition)(null==l,{enter:{from:{opacity:0},to:{opacity:1}},leave:{opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0}},"animate-always");return(0,i.jsx)(i.Fragment,{children:c((e,t)=>t?(0,i.jsx)("div",{className:C.summaryFeedbackWrapper,children:(0,i.jsxs)(a.animated.div,{style:e,className:C.summaryFeedback,children:[(0,i.jsx)(o.Text,{variant:"text-xs/medium",color:"interactive-normal",children:g.intl.string(g.t["5ZsiEx"])}),(0,i.jsx)(o.Clickable,{onClick:e=>r(e,m.aZ.GOOD),children:(0,i.jsx)(u.Z,{className:C.thumbIcon,width:12,height:12})}),(0,i.jsx)(o.Clickable,{onClick:e=>r(e,m.aZ.BAD),children:(0,i.jsx)(d.Z,{className:C.thumbIcon,width:12,height:12})})]})}):null)})}function v(e){var t,n;let l,{item:a,channel:d,index:u}=e,p=(0,s.e7)([h.Z],()=>h.Z.selectedSummary(d.id));if(null==p)return null;let m=null!=a.unreadId,g=null!=a.content;return l=g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.TopicsIcon,{size:"xs",color:"currentColor",className:C.summaryStartIcon}),a.content]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x,{summary:p,channel:d}),(0,i.jsx)(o.TopicsIcon,{size:"xs",color:"currentColor",className:C.summaryEndIcon})]}),(0,i.jsx)(c.Z,{className:r()(C.summaryDivider,g?C.summaryDividerStart:C.summaryDividerEnd),contentClassName:g?C.summaryStartContent:C.summaryEndContent,isUnread:m,id:m?f.j1:void 0,children:l},"divider-".concat(null!==(n=null!==(t=a.contentKey)&&void 0!==t?t:a.unreadId)&&void 0!==n?n:u))}},878857:function(e,t,n){n.d(t,{Q:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2022-07_system_dm_safety_onboarding",label:"System DM Safety Onboarding",defaultConfig:{systemDMRedesignEnabled:!1},treatments:[{id:1,label:"Enabled, v1 copy",config:{systemDMRedesignEnabled:!0}},{id:2,label:"Enabled, v2 copy",config:{systemDMRedesignEnabled:!0}}]});function l(){return i.getCurrentConfig({location:"0a5674_1"},{autoTrackExposure:!1}).systemDMRedesignEnabled}t.Z=i},241309:function(e,t,n){n.d(t,{Gx:function(){return u},Op:function(){return h},T4:function(){return d},V_:function(){return c}});var i,l,r=n(539573),a=n(388032);function s(e,t){return{type:e,message:null!=t?t:null}}function o(e){return s(0,e)}function c(){return s(0,a.intl.string(a.t["uXA57+"]))}function d(){return s(0,a.intl.string(a.t.kesTVV))}function u(e,t){return s(1,(0,r.$q)(e,null==t?void 0:t.id))}function h(e,t){var n;return null==e||0===e.type&&null!=t.content&&t.content.trim().length>0?null:null!==(n=e.message)&&void 0!==n?n:null}(i=l||(l={}))[i.EmptyContent=0]="EmptyContent",i[i.AutomodViolation=1]="AutomodViolation"},965376:function(e,t,n){n.d(t,{D:function(){return h}}),n(47120),n(653041);var i=n(192379),l=n(392711),r=n.n(l),a=n(442837),s=n(430824),o=n(159299),c=n(231338),d=n(388032);let u=[];function h(e,t){let n=(0,a.e7)([s.Z],()=>null!=t?s.Z.getRoles(t.id):void 0),{version:l,members:h}=(0,a.cj)([o.Z],()=>({version:o.Z.getMemberListVersion(e),members:o.Z.getMemberListSections(e)})),p=i.useMemo(()=>{if(null==t)return u;let e=r()(n).values().filter(e=>e.hoist).sortBy(e=>e.position).reverse().map(e=>e.id).value();return e.push(c.Sk.ONLINE,c.Sk.OFFLINE),e.map(e=>{var t,i,l,r;let a=e===c.Sk.ONLINE?d.intl.string(d.t.WbGtnJ):e===c.Sk.OFFLINE?d.intl.string(d.t.Vv0abG):null!==(l=null==n?void 0:null===(t=n[e])||void 0===t?void 0:t.name)&&void 0!==l?l:"";return{label:a,userIds:null!==(r=null==h?void 0:null===(i=h[e])||void 0===i?void 0:i.userIds)&&void 0!==r?r:[],id:e,roleId:e}})},[n,h,l]);return null!=h?p:u}},159299:function(e,t,n){n(47120),n(653041),n(724458);var i,l=n(392711),r=n.n(l),a=n(442837),s=n(570140),o=n(592125),c=n(271383),d=n(797316),u=n(158776),h=n(885110),p=n(594174),m=n(823379),f=n(700785),g=n(709054),C=n(51144),x=n(981631);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let _={};class I{rebuild(e){this.version++,this.sections={},null!=e&&(this.allUserIds=new Set(e));let t=o.Z.getChannel(this.parentId);r()(Array.from(this.allUserIds)).map(e=>{let[n,i,l]=this.calculateNewState(e,t);return{userId:e,sectionId:n,displayName:i,canViewChannel:l}}).sort((e,t)=>g.default.compare(e.userId,t.userId)).sortBy(e=>e.displayName).forEach(e=>{this.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)})}updateMultipleUserIds(e,t){return(null==t||this.guildId===t)&&0!==(e=e.filter(e=>this.allUserIds.has(e))).length&&(e.length>50?this.rebuild():e.forEach(e=>this.updateUserId(e)),!0)}updateUserId(e){if(!this.allUserIds.has(e))return!1;let[t,n,i]=this.findOldState(e),[l,r,a]=this.calculateNewState(e,o.Z.getChannel(this.parentId));return(t!==l||n!==r||i!==a)&&(this.removeUserId(e,t),this.addUser(e,l,r,a),!0)}addUserId(e){let[t,n,i]=this.calculateNewState(e,o.Z.getChannel(this.parentId));this.addUser(e,t,n,i)}removeUserId(e,t){if(this.allUserIds.delete(e),null!=t&&this.removeUserIdFromSection(e,t))return!0;for(let t in this.sections)if(this.removeUserIdFromSection(e,t))return!0;return!1}addUser(e,t,n,i,l){this.allUserIds.add(e);let r=p.default.getUser(e);if(null==r||""===r.username)return;!(t in this.sections)&&(this.sections[t]={sectionId:t,usersById:{},userIds:[]});let a=this.sections[t];if(a.usersById[e]={userId:e,displayName:n,canViewChannel:i},l)a.userIds.push(e);else{let t=this.findUserIdSortedPosition(a,e,n);a.userIds.splice(t,0,e)}this.version++}findUserIdSortedPosition(e,t,n){let{userIds:i,usersById:l}=e;for(let e=0;e<i.length;e++){let r=i[e],a=l[r].displayName;if(a===n){if(t<r)return e}else if(null==a){if(null!=n)return e}else if(null!=n&&n<a)return e}return i.length}removeUserIdFromSection(e,t){let n=this.sections[t];return null!=t&&e in n.usersById&&(delete n.usersById[e],n.userIds=n.userIds.filter(t=>t!==e),this.version++,!0)}findOldState(e){for(let t in this.sections){let n=this.sections[t];if(e in n.usersById){let i=n.usersById[e];return[t,i.displayName,i.canViewChannel]}}return[void 0,void 0,!1]}calculateNewState(e,t){var n,i;let l=c.ZP.getMember(this.guildId,e),r=p.default.getUser(e),a=p.default.getCurrentUser(),s=(null==r?void 0:r.id)===(null==a?void 0:a.id)?h.Z.getStatus():u.Z.getStatus(e,this.guildId),o=null!=r&&null!=t&&f.BT({permission:x.Plq.VIEW_CHANNEL,user:r,context:t}),d=s!==x.Skl.OFFLINE&&s!==x.Skl.INVISIBLE&&s!==x.Skl.UNKNOWN?null!==(n=null==l?void 0:l.hoistRoleId)&&void 0!==n?n:"online":"offline",m=null!==(i=null==l?void 0:l.nick)&&void 0!==i?i:C.ZP.getName(r);return[d,null==m?void 0:m.toLowerCase(),o]}constructor(e,t,n){v(this,"guildId",void 0),v(this,"parentId",void 0),v(this,"threadId",void 0),v(this,"version",void 0),v(this,"sections",void 0),v(this,"allUserIds",void 0),this.guildId=e,this.parentId=t,this.threadId=n,this.version=0,this.sections={},this.allUserIds=new Set}}function E(e){return b(e.user.id)}function b(e){if(null==e)return!1;let t=!1;for(let n in _)_[n].updateUserId(e)&&(t=!0);return t}function Z(e){let{guildId:t}=e,n=!1;for(let e in _)_[e].guildId===t&&(_[e].rebuild(),n=!0);return n}class N extends(i=a.ZP.Store){initialize(){this.waitFor(o.Z,c.ZP,d.Z,u.Z,h.Z,p.default),this.syncWith([d.Z],()=>{let e=d.Z.getSubscribedThreadIds(),t=!1;for(let n in _)!e.has(n)&&(delete _[n],t=!0);return t}),this.syncWith([h.Z],()=>{var e;return b(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.id)})}getMemberListVersion(e){var t;return null===(t=_[e])||void 0===t?void 0:t.version}getMemberListSections(e){var t;return null===(t=_[e])||void 0===t?void 0:t.sections}canUserViewChannel(e,t,n){var i,l;let r=_[e];if(null==r)return!1;let a=null===(i=r.sections[t])||void 0===i?void 0:i.usersById[n];return null!==(l=null==a?void 0:a.canViewChannel)&&void 0!==l&&l}}v(N,"displayName","ThreadMemberListStore"),t.Z=new N(s.Z,{CONNECTION_OPEN:function(){_={}},THREAD_MEMBERS_UPDATE:function(e){var t,n;if(!(e.id in _))return!1;null===(t=e.addedMembers)||void 0===t||t.forEach(t=>{let{userId:n}=t;return _[e.id].addUserId(n)}),null===(n=e.removedMemberIds)||void 0===n||n.forEach(t=>_[e.id].removeUserId(t))},THREAD_UPDATE:function(e){var t;let{channel:n}=e;if(!(n.id in _)||(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived)!==!0)return!1;delete _[n.id]},THREAD_DELETE:function(e){let{channel:t}=e;if(!(t.id in _))return!1;delete _[t.id]},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=new Set(t.map(e=>e.id)),i=!1;for(let e in _)n.has(_[e].parentId)&&(_[e].rebuild(),i=!0);return i},THREAD_MEMBER_LIST_UPDATE:function(e){let{threadId:t,guildId:n,members:i}=e,l=o.Z.getChannel(t),r=null==l?void 0:l.parent_id;null!=r&&(_[t]=new I(n,r,t),_[t].rebuild(i.map(e=>e.user_id)))},USER_UPDATE:E,PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>{let{user:t}=e;return b(t.id)}).some(e=>e)},GUILD_MEMBER_ADD:E,GUILD_MEMBER_UPDATE:E,GUILD_MEMBER_REMOVE:E,PRESENCES_REPLACE:function(e){let{presences:t}=e,n=r()(t).map(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.id}).filter(m.lm).uniq().value(),i=!1;for(let e in _)_[e].updateMultipleUserIds(n)&&(i=!0);return i},GUILD_MEMBERS_CHUNK_BATCH:function(e){let{chunks:t}=e,n=!1;for(let{guildId:e,members:i}of t){let t=i.map(e=>e.user.id);for(let i in _)_[i].updateMultipleUserIds(t,e)&&(n=!0)}return n},GUILD_ROLE_UPDATE:Z,GUILD_ROLE_DELETE:Z,PASSIVE_UPDATE_V2:function(e){return e.members.reduce((e,t)=>b(t.user.id)||e,!1)}})},657218:function(e,t,n){n.d(t,{Z:function(){return W}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(430742),d=n(144144),u=n(738619),h=n(561472),p=n(607070),m=n(100527),f=n(906732),g=n(541716),C=n(752305),x=n(893718),v=n(303628),_=n(313201),I=n(540059),E=n(967128),b=n(665149),Z=n(294218),N=n(913663),S=n(268350),T=n(695346),j=n(592125),A=n(703558),y=n(375954),P=n(496675),M=n(117530),R=n(459273),L=n(838440),k=n(127654),O=n(241309),D=n(928477),w=n(456077),B=n(488131),U=n(602034),H=n(981631),G=n(388032),F=n(51572),V=n(678606);let z=g.Ie.THREAD_CREATION;function W(e){let{parentChannelId:t,parentMessageId:n,location:l}=e,r=(0,s.e7)([j.Z],()=>j.Z.getChannel(t)),{analyticsLocations:a}=(0,f.ZP)(m.Z.CREATE_THREAD);return null==r?null:(0,i.jsx)(f.Gt,{value:a,children:(0,i.jsx)(R.I3,{children:(0,i.jsxs)("section",{"aria-label":G.intl.string(G.t.rBIGBA),className:F.container,children:[(0,i.jsx)(h.Z,{channel:r,draftType:A.d.FirstThreadMessage}),(0,i.jsxs)(b.ZP,{toolbar:(0,i.jsx)(b.ZP.Icon,{icon:o.XSmallIcon,tooltip:G.intl.string(G.t.cpT0Cg),onClick:()=>(0,B.NK)(t)}),children:[(0,i.jsx)(b.ZP.Icon,{icon:o.ThreadIcon,disabled:!0,"aria-label":G.intl.string(G.t["7Xm5QE"])}),(0,i.jsx)(b.ZP.Title,{children:G.intl.string(G.t["4WNcpq"])})]}),(0,i.jsx)(K,{parentChannel:r,parentMessageId:n,location:l})]})})})}function K(e){let{parentChannel:t,parentMessageId:n,location:r}=e,d=(0,s.e7)([p.Z],()=>p.Z.messageGroupSpacing),h=function(){let e=l.useContext(R.oo);return l.useCallback(()=>{e.bumpDispatchPriority()},[e])}(),{threadSettings:m,setThreadSettings:f,updateThreadSettings:g}=function(e,t){let[n,i]=l.useState({}),r=l.useCallback(n=>{i(e=>({...e,...n})),c.Z.changeThreadSettings(e.id,{...n,parentMessageId:t})},[e.id,t]);return{threadSettings:n,setThreadSettings:i,updateThreadSettings:r}}(t,n),{textAreaState:x,setTextAreaState:v}=function(e,t){let[n,i]=l.useState((0,C.H2)());return l.useEffect(()=>{function n(n){var l;let r=A.Z.getDraft(e.id,A.d.FirstThreadMessage);(0===r.length||!0===n)&&i((0,C.eK)(r)),t(null!==(l=A.Z.getThreadSettings(e.id))&&void 0!==l?l:{})}return n(!0),A.Z.addChangeListener(n),()=>{A.Z.removeChangeListener(n)}},[e.id,t]),{textAreaState:n,setTextAreaState:i}}(t,f),_=(0,D.vH)(t),{nameError:b,messageError:Z,submit:T,submitting:j}=function(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:r,textAreaState:a,location:s}=e,[o,c]=l.useState(null),[d,u]=l.useState(null),[h,p]=l.useState(!1),m=(0,U.Z)({parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:r,location:s,onThreadCreated:B.ok,useDefaultThreadName:!0});return{nameError:o,messageError:d,submit:l.useCallback(async(e,l,r)=>{var s,o,d;if(h)return{shouldClear:!1,shouldRefocus:!1};p(!0),null==e&&(e=a.textValue),e=e.trim(),(null==l||0===l.length)&&(l=null===(s=N.Z.getStickerPreview(t.id,z.drafts.type))||void 0===s?void 0:s.map(e=>e.id)),(null==r||0===r.length)&&(r=M.Z.getUploads(t.id,A.d.FirstThreadMessage));let f=null!==(o=i.name)&&void 0!==o?o:"",g=null==n&&0===f.length,C=""===e&&(null==l||0===l.length)&&0===r.length;if(c(g?(0,O.V_)():null),u(C?(0,O.T4)():null),g||C)return p(!1),{shouldClear:!1,shouldRefocus:!0};if(null==n){let{valid:n}=await (0,L.v)({content:e,stickers:l,uploads:r,type:z,channel:t});if(!n)return p(!1),{shouldClear:!1,shouldRefocus:!0}}try{await m(e,l,r)}catch(e){return(null===(d=e.body)||void 0===d?void 0:d.code)===H.evJ.AUTOMOD_TITLE_BLOCKED&&c((0,O.Gx)(e.body,t)),p(!1),{shouldClear:!1,shouldRefocus:!0}}return(0,S.qB)(t.id,z.drafts.type),p(!1),{shouldClear:!0,shouldRefocus:!1}},[m,a.textValue,i.name,n,t,h]),submitting:h}}({parentChannel:t,parentMessageId:n,threadSettings:m,privateThreadMode:_,textAreaState:x,location:r}),y=(0,D.oD)(m,_)?o.ThreadLockIcon:o.ThreadIcon,P=(0,I.Q3)("CreateThreadSidebar");return(0,i.jsx)("div",{className:F.chat,onMouseDown:h,onFocus:h,children:(0,i.jsx)("div",{className:a()(F.messagesWrapper,"group-spacing-".concat(d)),children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),T()},className:F.form,children:[(0,i.jsx)(o.Scroller,{className:F.scroller,fade:!0,children:(0,i.jsxs)("div",{className:F.scrollerInner,children:[(0,i.jsxs)(E.ZP,{channelId:"create-thread-null",children:[(0,i.jsx)("div",{className:V.iconWrapper,children:(0,i.jsx)(y,{className:V.icon})}),(0,i.jsx)(q,{parentChannel:t,parentMessageId:n,threadSettings:m,updateThreadSettings:g,error:b,disabled:j}),t.type===H.d4z.GUILD_TEXT?(0,i.jsx)(Y,{startedFromMessage:null!=n,threadSettings:m,updateThreadSettings:g,privateThreadMode:_}):null]}),(0,i.jsx)(J,{parentChannel:t,parentMessageId:n})]})}),(0,i.jsxs)("div",{className:F.submitContainer,children:[(0,i.jsx)(X,{parentChannel:t,textAreaState:x,setTextAreaState:v,submit:T,error:Z}),P?null:(0,i.jsx)(u.Z,{channel:t,isThreadCreation:!0})]})]})})})}function Y(e){let{startedFromMessage:t,threadSettings:n,updateThreadSettings:l,privateThreadMode:r}=e,s=(0,D.oD)(n,r),c=(0,i.jsx)("div",{className:F.privateThreadFormTitle,children:(0,i.jsx)("span",{className:F.privateThreadFormTitleText,children:G.intl.string(G.t.F1zyvb)})}),d=(0,i.jsx)(o.Checkbox,{className:a()(F.checkbox),type:o.Checkbox.Types.INVERTED,disabled:r===D.Jw.PrivateOnly,value:s,onChange:(e,t)=>l({isPrivate:t}),children:(0,i.jsx)(o.Text,{variant:"text-md/normal",color:"none",children:G.intl.string(G.t.TRPp3t)})});return t||r===D.Jw.Disabled?null:(0,i.jsxs)(o.FormSection,{title:c,className:F.formSection,children:[d,s?(0,i.jsx)(o.Text,{className:F.privateThreadDescription,variant:"text-xs/normal",color:"header-secondary",children:G.intl.string(G.t.EWXyc3)}):null]})}function q(e){var t;let{parentChannel:n,parentMessageId:l,threadSettings:r,updateThreadSettings:a,error:s,disabled:c}=e,u=null!==(t=r.name)&&void 0!==t?t:"",h=(0,O.Op)(s,{content:u}),p=(0,D.Od)(n,l),m=null!=l,f=(0,_.Dt)();return(0,i.jsx)(o.FormSection,{tag:"label",htmlFor:f,title:G.intl.string(G.t.j3XWjI)+(m?" (Optional)":""),className:F.formSection,children:(0,i.jsx)(o.TextInput,{value:u,id:f,placeholder:""!==p?p:G.intl.string(G.t["Nb2/RE"]),maxLength:H.HN8,onChange:e=>{a({name:(0,w.Z)(e,!1)}),""!==e?d.Z.startTyping(n.id):d.Z.stopTyping(n.id)},onBlur:()=>{let e=(0,w.Z)(u,!0);e!==u&&a({name:e})},error:h,disabled:c})})}function X(e){let{parentChannel:t,textAreaState:n,setTextAreaState:r,submit:u,error:h}=e,[p,m]=l.useState(!0),f=l.useCallback(()=>m(!0),[]),g=l.useCallback(()=>m(!1),[]),C=l.useCallback((e,n,i)=>{c.Z.saveDraft(t.id,n,A.d.FirstThreadMessage),r(e=>(""!==n&&e.textValue!==n?d.Z.startTyping(t.id):""===n&&d.Z.stopTyping(t.id),{textValue:n,richValue:i}))},[t.id,r]),_=l.useCallback(e=>{let{value:t,uploads:n,stickers:i}=e;return u(t,i,n)},[u]);(0,R.yp)({event:H.CkL.TEXTAREA_FOCUS,handler:f}),(0,R.yp)({event:H.CkL.TEXTAREA_BLUR,handler:g});let I=(0,s.e7)([P.Z],()=>P.Z.can(H.Plq.ATTACH_FILES,t)),E=(0,O.Op)(h,{content:n.textValue});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.Z,{channelId:t.id,type:z,canAttachFiles:I}),(0,i.jsx)("div",{className:F.starterMessageError,children:(0,i.jsx)(o.InputError,{error:E})}),(0,i.jsx)(x.Z,{type:z,channel:t,placeholder:G.intl.string(G.t.taZfIC),textValue:n.textValue,richValue:n.richValue,focused:p,className:F.channelTextArea,innerClassName:a()(F.channelTextAreaInner,{[F.channelTextAreaInnerError]:null!=E}),onFocus:f,onBlur:g,onChange:C,onSubmit:_,promptToUpload:k.d})]})}function J(e){let{parentChannel:t,parentMessageId:n}=e,l=(0,s.e7)([y.Z],()=>null==n?null:y.Z.getMessage(t.id,n)),r=T.jU.useSetting();return null!=l?(0,i.jsx)(Z.Z,{className:F.messagePreview,message:l,channel:t,compact:r,renderThreadAccessory:!1,trackAnnouncementViews:!0}):null}},66556:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(200651),l=n(192379),r=n(442837),a=n(481060),s=n(665149),o=n(731290),c=n(594174),d=n(91159),u=n(593130),h=n(388032),p=n(574221);function m(e){let{channel:t}=e,[n,m]=l.useState(!1),f=(0,r.e7)([o.Z,c.default],()=>{let e=c.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!o.Z.didAgree(t.getGuildId()))},[t]),g=l.useCallback(()=>{m(!1)},[]),C=l.useCallback(()=>{!n&&(0,d.U4)("Popout"),m(!n)},[n]);return(0,i.jsx)(a.Popout,{animation:a.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,shouldShow:n,onRequestClose:g,renderPopout:function(){return(0,i.jsx)(a.Dialog,{children:(0,i.jsx)(u.Z,{className:p.browser,channel:t,onClose:g})})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(s.JO,{...e,className:p.icon,onClick:C,icon:a.ThreadIcon,"aria-label":h.intl.string(h.t.B2panJ),tooltip:n?null:h.intl.string(h.t.B2panJ),disabled:f,selected:n})}})}},359565:function(e,t,n){n.d(t,{q:function(){return g},s:function(){return f}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(367907),c=n(626135),d=n(346479),u=n(665906),h=n(981631),p=n(388032),m=n(676199);function f(e){let{channel:t,narrow:n}=e,r=(0,u.tc)(t);return l.useEffect(()=>{c.default.track(h.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread"})},[t]),(0,i.jsxs)("div",{className:a()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,i.jsx)(s.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?p.intl.string(p.t["833FDg"]):p.intl.string(p.t.rEeodH)}),r?(0,i.jsx)(s.Button,{size:n?s.Button.Sizes.SMALL:s.Button.Sizes.TINY,className:m.chatHeaderBarButton,color:s.Button.Colors.PRIMARY,onClick:()=>{c.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread",cta_type:"unarchive"}),d.Z.unarchiveThread(t,!1)},children:p.intl.string(p.t["0dvvEh"])}):null]})}function g(e){let{channel:t,narrow:n}=e,r=(0,u.Xb)(t);return l.useEffect(()=>{c.default.track(h.rMx.CHANNEL_BANNER_VIEWED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread"})},[t]),(0,i.jsxs)("div",{className:a()(m.chatHeaderBar,{[m.narrow]:n}),children:[(0,i.jsx)(s.Text,{className:m.chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?p.intl.string(p.t.E7oO8v):p.intl.string(p.t["V/JF2N"])}),r?(0,i.jsx)(s.Button,{size:n?s.Button.Sizes.SMALL:s.Button.Sizes.TINY,className:m.chatHeaderBarButton,color:s.Button.Colors.PRIMARY,onClick:()=>{c.default.track(h.rMx.CHANNEL_BANNER_CTA_CLICKED,{...(0,o.hH)(t.getGuildId()),...(0,o.v_)(t),banner_type:"thread",cta_type:"unlock"}),d.Z.unlockThread(t)},children:p.intl.string(p.t.zA9d1N)}):null]})}},739830:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(665149),s=n(585483),o=n(723170),c=n(64247),d=n(124368),u=n(981631),h=n(388032),p=n(594559);function m(e){let{channel:t}=e,n=(0,o.B)(t),[m,f]=l.useState(!1),g=(0,r.useRedesignIconContext)().enabled;l.useEffect(()=>{let e=()=>f(!0);return s.S.subscribe(u.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e),()=>{s.S.unsubscribe(u.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}},[]);let C=h.intl.string(h.t.h850Sk);return(0,i.jsx)(r.Popout,{shouldShow:m,animation:r.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>f(!1),renderPopout:e=>(0,i.jsx)(c.Z,{...e,channel:t,navId:"thread-context",label:h.intl.string(h.t["1NBjqa"])}),children:(e,t)=>{let{isShown:l}=t;return(0,i.jsx)(a.ZP.Icon,{...e,onClick:()=>f(e=>!e),tooltip:l?null:C,icon:n===d.iN.NO_MESSAGES?r.BellSlashIcon:r.BellIcon,foreground:n!==d.iN.NO_MESSAGES||g?null:p.strikethrough,"aria-label":C,selected:l})}})}},377929:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(481060),c=n(32750),d=n(109764),u=n(323597),h=n(438536),p=n(251746),m=n(193987),f=n(933793),g=n(13736),C=n(732393),x=n(137591),v=n(299206),_=n(665149),I=n(695346),E=n(979651),b=n(488131),Z=n(388032);function N(e){let{channel:t}=e,[n,r]=l.useState(!1);function a(){r(e=>!e)}let s=Z.intl.string(Z.t.UKOtz8);return(0,i.jsx)(o.Popout,{shouldShow:n,animation:o.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>r(!1),renderPopout:function(e){return(0,i.jsx)(S,{...e,channel:t})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(_.ZP.Icon,{...e,onClick:a,tooltip:n?null:s,icon:o.MoreHorizontalIcon,"aria-label":s,selected:n})}})}function S(e){let{channel:t,closePopout:n,onSelect:l}=e,r=(0,c.Z)(t),_=(0,m.Z)(t),N=(0,C.Z)(t.id),S=(0,g.Z)(t),T=(0,v.Z)({id:t.id,label:Z.intl.string(Z.t.DQ797u)}),j=(0,d.Z)(t),A=(0,u.Z)(t),y=(0,h.Z)(t,"Toolbar Overflow"),P=(0,f.Z)(t),M=(0,p.Z)(t),R=(0,x.Z)(t),L=I.vF.useSetting(),k=(0,s.e7)([E.Z],()=>!a().isEmpty(E.Z.getVoiceStatesForChannel(t.id)));return(0,i.jsxs)(o.Menu,{navId:"thread-context",onClose:n,"aria-label":Z.intl.string(Z.t["1NBjqa"]),onSelect:l,children:[(0,i.jsxs)(o.MenuGroup,{children:[y,M]}),(0,i.jsxs)(o.MenuGroup,{children:[S,P,N,L&&!k?(0,i.jsx)(o.MenuItem,{id:"open",label:Z.intl.string(Z.t.bX7EaG),action:function(){(0,b.ok)(t)}}):null]}),(0,i.jsxs)(o.MenuGroup,{children:[R,r,_,A]}),(0,i.jsxs)(o.MenuGroup,{children:[j,T]})]})}},664342:function(e,t,n){n.d(t,{Z:function(){return T}}),n(47120);var i=n(200651),l=n(192379),r=n(481060),a=n(32750),s=n(323597),o=n(438536),c=n(193987),d=n(933793),u=n(13736),h=n(732393),p=n(214906),m=n(612856),f=n(137591),g=n(299206),C=n(727429),x=n(665149),v=n(359110),_=n(585483),I=n(739830),E=n(488131),b=n(981631),Z=n(388032);function N(e){let{channel:t}=e,[n,a]=l.useState(!1);function s(){a(e=>!e)}let o=Z.intl.string(Z.t.UKOtz8);return(0,i.jsx)(r.Popout,{shouldShow:n,animation:r.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:()=>a(!1),renderPopout:function(e){return(0,i.jsx)(S,{...e,channel:t})},children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(x.ZP.Icon,{...e,onClick:s,tooltip:n?null:o,icon:r.MoreHorizontalIcon,"aria-label":o,selected:n})}})}function S(e){let{channel:t,closePopout:n,onSelect:l}=e,C=(0,o.Z)(t,"Sidebar Overflow"),x=(0,d.Z)(t),I=(0,p.Z)(t),E=(0,m.Z)(t),N=(0,a.Z)(t),S=(0,c.Z)(t),T=(0,h.Z)(t.id),j=(0,u.Z)(t),A=(0,s.Z)(t),y=(0,g.Z)({id:t.id,label:Z.intl.string(Z.t.DQ797u)}),P=(0,f.Z)(t);function M(){(0,v.Kh)(t.id)}return(0,i.jsxs)(r.Menu,{navId:"thread-context",onClose:n,"aria-label":Z.intl.string(Z.t["1NBjqa"]),onSelect:l,children:[(0,i.jsxs)(r.MenuGroup,{children:[C,(0,i.jsx)(r.MenuItem,{id:"open",label:Z.intl.string(Z.t.IxVmZm),action:M})]}),(0,i.jsxs)(r.MenuGroup,{children:[I,E]}),(0,i.jsxs)(r.MenuGroup,{children:[j,x,T]}),(0,i.jsxs)(r.MenuGroup,{children:[(0,i.jsx)(r.MenuItem,{id:"search",label:Z.intl.string(Z.t["5h0QOD"]),icon:r.WindowLaunchIcon,action:function(){M(),setTimeout(()=>{_.S.dispatch(b.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!1})},2e3)}}),(0,i.jsx)(r.MenuItem,{id:"pins",label:Z.intl.string(Z.t["2BSH7u"]),icon:r.WindowLaunchIcon,action:function(){M(),_.S.dispatch(b.CkL.TOGGLE_CHANNEL_PINS)}})]}),(0,i.jsxs)(r.MenuGroup,{children:[P,N,S,A]}),(0,i.jsx)(r.MenuGroup,{children:y})]})}function T(e){let{channel:t,baseChannelId:n}=e;return(0,i.jsxs)(i.Fragment,{children:[t.isForumPost()?null:(0,i.jsx)(I.Z,{channel:t}),(0,i.jsx)(N,{channel:t}),(0,i.jsx)(x.ZP.Icon,{icon:r.XSmallIcon,tooltip:Z.intl.string(Z.t.cpT0Cg),onClick:()=>(0,E.vN)((0,C.e)(t),null!=n?n:t.parent_id)})]})}},900157:function(e,t,n){n.d(t,{Z:function(){return A}});var i=n(200651),l=n(192379),r=n(392711),a=n.n(r),s=n(442837),o=n(570140),c=n(239091),d=n(561472),u=n(367907),h=n(731429),p=n(188471),m=n(933557),f=n(287746),g=n(541716),C=n(665149),x=n(910611),v=n(359110),_=n(592125),I=n(703558),E=n(430824),b=n(979651),Z=n(664342),N=n(124368),S=n(981631),T=n(388032),j=n(31224);function A(e){let{channelId:t,baseChannelId:r,channelViewSource:A="Split View"}=e,y=(0,s.e7)([_.Z],()=>_.Z.getChannel(t)),P=(0,s.e7)([E.Z],()=>E.Z.getGuild(null==y?void 0:y.getGuildId())),M=(0,m.ZP)(y);(function(e){let t=(0,s.e7)([b.Z],()=>null!=e&&!a().isEmpty(b.Z.getVoiceStatesForChannel(e.id)));l.useEffect(()=>{t&&null!=e&&(o.Z.dispatch({type:"SIDEBAR_CLOSE",baseChannelId:e.parent_id}),(0,v.ad)(e,{source:N.on.VOICE_AUTO_OPEN}))},[t,e])})(y);let R=l.useRef(!1);if(l.useEffect(()=>{if(null==y||R.current)return;R.current=!0;let e=(0,h.K)(_.Z.getChannel(y.id),!0);(0,u.yw)(S.rMx.CHANNEL_OPENED,{...e,...(0,u.$H)(y.id),channel_view:A}),(0,p.a)(S.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:y.id})},[y,A]),null==y||null==P)return null;let L=(0,i.jsx)(Z.Z,{channel:y,baseChannelId:r});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{channel:y,draftType:I.d.ChannelMessage}),(0,i.jsx)(C.ZP,{toolbar:L,"aria-label":T.intl.string(T.t.Pwe8tL),children:(0,x.ud)({channel:y,channelName:M,guild:P,inSidebar:!0,handleContextMenu:function(e){(0,c.jW)(e,async()=>{let{default:e}=await n.e("40157").then(n.bind(n,422200));return t=>(0,i.jsx)(e,{...t,channel:y})})},handleClick:function(){if(null!=y)(0,v.Kh)(y.id)}})}),(0,i.jsx)("div",{className:j.chat,children:(0,i.jsx)(f.Z,{channel:y,guild:P,chatInputType:g.Ie.SIDEBAR},t)})]})}},602034:function(e,t,n){n.d(t,{Z:function(){return v},r:function(){return _}});var i=n(200651),l=n(192379),r=n(232713),a=n(481060),s=n(570140),o=n(668781),c=n(966390),d=n(680287),u=n(470623),h=n(957730),p=n(48854),m=n(703558),f=n(403182),g=n(928477),C=n(981631),x=n(388032);function v(e){let{parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:r,location:a,onThreadCreated:s,useDefaultThreadName:o}=e,d=l.useCallback((e,t,n,i)=>{c.Z.uploadFiles({channelId:e.id,uploads:t,draftType:m.d.FirstThreadMessage,options:{stickerIds:i},parsedMessage:h.ZP.parse(e,n)})},[]);return(0,g.JA)({parentChannel:t,parentMessageId:n,threadSettings:i,privateThreadMode:r,location:a,onThreadCreated:s,useDefaultThreadName:o,uploadHandler:d})}function _(e){let{parentChannel:t}=e,{name:l,appliedTags:c}=(0,u.xH)(e=>{let{name:t,appliedTags:n}=e;return{name:t,appliedTags:n}},r.X);return(0,g.Wj)({parentChannel:t,name:l,appliedTags:c,upload:function(e,l,r){return new Promise((c,u)=>{let h=new d.Z(e);h.on("error",(e,l,r)=>{if(l===C.evJ.EXPLICIT_CONTENT){let e=(0,p.r)();null!=r&&null!=r.attachments&&r.attachments.length>0&&(s.Z.dispatch({type:"MESSAGE_EXPLICIT_CONTENT_FP_CREATE",messageId:e,channelId:t.id,attachments:r.attachments}),(0,a.openModalLazy)(async()=>{let{default:l}=await n.e("57539").then(n.bind(n,924188));return n=>(0,i.jsx)(l,{...n,channelId:t.id,messageId:e})}))}else if(l===C.evJ.ENTITY_TOO_LARGE){let e=(0,f.dg)(t.getGuildId());o.Z.show({title:x.intl.string(x.t["/tGlcn"]),body:x.intl.formatToPlainString(x.t.fxEKdX,{maxSize:(0,f.Ng)(e)})})}else l===C.evJ.TOO_MANY_ATTACHMENTS&&o.Z.show({title:x.intl.string(x.t.wOr6hI),body:x.intl.formatToPlainString(x.t["qqyp/f"],{limit:C.dN1})});u({body:r})}),h.on("complete",(e,t)=>{c({body:t})}),h.uploadFiles(r,l,{addFilesTo:"message.attachments"})})}})}},113570:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(408686),r=n(192029),a=n(527119);function s(){return(0,i.jsx)("div",{className:l.container,children:(0,i.jsxs)("svg",{width:"224",height:"148",viewBox:"0 0 224 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M0.5 33.5H223.5V140C223.5 144.142 220.142 147.5 216 147.5H8C3.85786 147.5 0.5 144.142 0.5 140V33.5Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,i.jsx)("circle",{cx:"28",cy:"120",r:"16",fill:"url(#tutorial-media-channels-image1)"}),(0,i.jsx)("path",{d:"M62.104 116L61.468 107.72H59.488L57.4 113.96L55.3 107.72H53.284L52.648 116H54.076L54.496 109.892L56.584 116.024H58L60.076 109.892L60.52 116H62.104ZM65.7704 111.08C66.4664 111.08 66.8264 111.584 66.9224 112.484H64.6064C64.7144 111.548 65.1944 111.08 65.7704 111.08ZM68.3144 115.412L68.1464 114.284C67.5104 114.728 66.8984 115.004 66.1544 115.004C65.2664 115.004 64.6544 114.512 64.5944 113.384H68.3144C68.3144 113.3 68.3264 113.156 68.3264 113.036C68.3264 111.392 67.5464 110.084 65.8064 110.084C64.2944 110.084 63.1664 111.224 63.1664 113.108C63.1664 115.196 64.3784 116.12 65.9984 116.12C66.9344 116.12 67.6904 115.844 68.3144 115.412ZM72.6338 112.088C72.6338 112.724 72.2498 113.192 71.6138 113.192C70.9898 113.192 70.6058 112.736 70.6058 112.136C70.6058 111.5 70.9778 111.008 71.6138 111.008C72.2258 111.008 72.6338 111.476 72.6338 112.088ZM74.6858 116.24C74.6858 115.352 73.9418 114.98 72.7538 114.812L72.0098 114.74C71.1098 114.608 70.9298 114.56 70.9298 114.368C70.9298 114.272 71.0258 114.164 71.1698 114.056C71.3138 114.08 71.4698 114.092 71.6378 114.092C72.8858 114.092 73.9538 113.348 73.9538 112.1C73.9538 111.836 73.9058 111.572 73.7978 111.344L74.8538 111.272L74.6618 110.12L73.2458 110.624C72.8258 110.276 72.2738 110.084 71.6018 110.084C70.3058 110.084 69.2738 110.864 69.2738 112.136C69.2738 112.904 69.6818 113.504 70.3658 113.828C69.8858 114.116 69.6338 114.428 69.6338 114.752C69.6338 114.98 69.7418 115.196 69.9698 115.376C69.2498 115.784 68.8778 116.204 68.8778 116.744C68.8778 117.704 70.0658 118.184 71.6378 118.184C73.3178 118.184 74.6858 117.488 74.6858 116.24ZM71.7338 117.332C70.6418 117.332 70.1258 117.02 70.1258 116.588C70.1258 116.288 70.3178 116.012 70.7378 115.712C71.0258 115.772 71.2058 115.808 71.6018 115.856L72.3818 115.952C73.1018 116.06 73.3538 116.24 73.3538 116.552C73.3538 116.984 72.7658 117.332 71.7338 117.332ZM78.8219 114.404C78.4259 114.788 77.9579 115.028 77.4659 115.028C77.0219 115.028 76.7579 114.776 76.7579 114.356C76.7579 113.804 77.1539 113.312 78.8219 113.108V114.404ZM80.2619 116V112.028C80.2619 110.636 79.5179 110.084 78.0179 110.084C77.0939 110.084 76.3859 110.288 75.7139 110.552L75.8939 111.704C76.5179 111.428 77.1539 111.236 77.8259 111.236C78.4619 111.236 78.8219 111.476 78.8219 112.1V112.268C76.4819 112.496 75.3299 113.108 75.3299 114.512C75.3299 115.52 75.9899 116.12 76.9739 116.12C77.8379 116.12 78.4379 115.736 78.9059 115.244L79.0259 116H80.2619ZM86.633 116V111.824C86.633 110.744 86.057 110.084 84.977 110.084C84.197 110.084 83.585 110.504 83.045 111.02L82.913 110.204H81.689V116H83.129V112.088C83.549 111.644 84.005 111.356 84.449 111.356C84.977 111.356 85.193 111.704 85.193 112.208V116H86.633Z",fill:"#060607"}),(0,i.jsx)("path",{d:"M62.02 132L61.372 123.72H59.992L57.412 130.512L54.832 123.72H53.44L52.78 132H53.836L54.34 125.316L56.932 132.036H57.832L60.424 125.316L60.94 132H62.02ZM65.8287 126.996C66.6567 126.996 67.0647 127.524 67.1967 128.448H64.4367C64.6047 127.476 65.1687 126.996 65.8287 126.996ZM68.2647 131.352L68.1087 130.392C67.4847 130.884 66.8847 131.208 66.0567 131.208C65.0607 131.208 64.4367 130.584 64.3887 129.252H68.2767V129.024C68.2767 127.44 67.5087 126.156 65.8407 126.156C64.4007 126.156 63.3207 127.284 63.3207 129.12C63.3207 131.22 64.4847 132.12 65.9727 132.12C66.9207 132.12 67.6527 131.832 68.2647 131.352ZM71.073 123.72H69.789L70.077 129.54L70.773 129.384L71.073 123.72ZM71.025 132V130.572H69.825V132H71.025ZM84.7192 132L84.0712 123.72H82.6912L80.1112 130.512L77.5312 123.72H76.1392L75.4792 132H76.5352L77.0392 125.316L79.6312 132.036H80.5312L83.1232 125.316L83.6392 132H84.7192ZM89.6079 130.428C89.1279 130.92 88.5279 131.232 87.9039 131.232C87.3639 131.232 87.0519 130.932 87.0519 130.464C87.0519 129.876 87.4959 129.3 89.6079 129.096V130.428ZM90.6759 132V127.992C90.6759 126.72 90.0039 126.156 88.6119 126.156C87.7239 126.156 87.0759 126.36 86.3919 126.636L86.5359 127.56C87.1599 127.284 87.8199 127.068 88.5159 127.068C89.1759 127.068 89.6079 127.32 89.6079 128.04V128.28C87.2199 128.532 85.9959 129.096 85.9959 130.524C85.9959 131.496 86.6439 132.12 87.6759 132.12C88.6119 132.12 89.2359 131.7 89.6919 131.232L89.8119 132H90.6759ZM92.6347 134.184C93.4747 134.184 94.0987 133.872 94.5667 132.6L96.9067 126.276H95.7907L94.2907 130.728L92.7547 126.192L91.6747 126.36L93.7627 132.024L93.6187 132.408C93.3907 133.02 93.0667 133.248 92.5867 133.248C92.4187 133.248 92.2027 133.212 92.0227 133.164L92.1787 134.136C92.2867 134.16 92.4067 134.184 92.6347 134.184ZM103.068 128.976C103.068 127.068 102.048 126.156 100.812 126.156C100.032 126.156 99.4795 126.552 99.0955 126.948V123.336L98.0275 123.504V131.712C98.7835 131.94 99.3955 132.072 100.26 132.072C101.916 132.072 103.068 131.064 103.068 128.976ZM101.988 129.024C101.988 130.5 101.364 131.16 100.248 131.16C99.7195 131.16 99.4555 131.1 99.0955 130.968V128.04C99.5275 127.5 100.056 127.104 100.656 127.104C101.424 127.104 101.988 127.776 101.988 129.024ZM106.61 126.996C107.438 126.996 107.846 127.524 107.978 128.448H105.218C105.386 127.476 105.95 126.996 106.61 126.996ZM109.046 131.352L108.89 130.392C108.266 130.884 107.666 131.208 106.838 131.208C105.842 131.208 105.218 130.584 105.17 129.252H109.058V129.024C109.058 127.44 108.29 126.156 106.622 126.156C105.182 126.156 104.102 127.284 104.102 129.12C104.102 131.22 105.266 132.12 106.754 132.12C107.702 132.12 108.434 131.832 109.046 131.352ZM117.779 129.768C117.779 128.52 117.227 127.968 115.619 127.236C114.359 126.66 114.047 126.36 114.047 125.724C114.047 125.112 114.467 124.608 115.415 124.608C116.075 124.608 116.699 124.872 117.155 125.22L117.335 124.092C116.855 123.816 116.255 123.624 115.451 123.624C113.951 123.624 112.931 124.476 112.931 125.808C112.931 126.996 113.519 127.512 115.079 128.22C116.327 128.784 116.663 129.096 116.663 129.852C116.663 130.656 116.051 131.112 115.187 131.112C114.359 131.112 113.579 130.776 113.015 130.404L112.847 131.556C113.459 131.88 114.263 132.096 115.163 132.096C116.711 132.096 117.779 131.196 117.779 129.768ZM122.456 130.428C121.976 130.92 121.376 131.232 120.752 131.232C120.212 131.232 119.9 130.932 119.9 130.464C119.9 129.876 120.344 129.3 122.456 129.096V130.428ZM123.524 132V127.992C123.524 126.72 122.852 126.156 121.46 126.156C120.572 126.156 119.924 126.36 119.24 126.636L119.384 127.56C120.008 127.284 120.668 127.068 121.364 127.068C122.024 127.068 122.456 127.32 122.456 128.04V128.28C120.068 128.532 118.844 129.096 118.844 130.524C118.844 131.496 119.492 132.12 120.524 132.12C121.46 132.12 122.084 131.7 122.54 131.232L122.66 132H123.524ZM127.928 132.024L127.784 131.112C127.652 131.136 127.484 131.148 127.292 131.148C126.692 131.148 126.5 130.86 126.5 130.392V127.176H127.88L127.736 126.276H126.5V124.212L125.456 124.368V126.276H124.592V127.176H125.456V130.584C125.456 131.736 126.116 132.096 127.124 132.096C127.496 132.096 127.748 132.06 127.928 132.024ZM129.199 126.276V130.44C129.199 131.472 129.763 132.12 130.855 132.12C131.659 132.12 132.343 131.676 132.883 131.172L133.015 132H133.867V126.276H132.799V130.236C132.283 130.788 131.707 131.16 131.143 131.16C130.519 131.16 130.267 130.764 130.267 130.176V126.276H129.199ZM138.755 127.176L138.587 126.156C137.651 126.204 136.991 126.792 136.583 127.44L136.403 126.276H135.551V132H136.619V128.616C137.003 127.86 137.807 127.224 138.755 127.176ZM140.397 129.252C140.397 127.836 141.045 127.104 141.945 127.104C142.557 127.104 142.905 127.2 143.349 127.428V130.164C142.893 130.776 142.389 131.172 141.729 131.172C140.961 131.172 140.397 130.512 140.397 129.252ZM139.317 129.3C139.317 131.22 140.337 132.12 141.573 132.12C142.413 132.12 143.001 131.688 143.433 131.172L143.565 132H144.417V123.336L143.349 123.504V126.456C142.989 126.312 142.473 126.204 141.909 126.204C140.517 126.204 139.317 127.212 139.317 129.3ZM149.362 130.428C148.882 130.92 148.282 131.232 147.658 131.232C147.118 131.232 146.806 130.932 146.806 130.464C146.806 129.876 147.25 129.3 149.362 129.096V130.428ZM150.43 132V127.992C150.43 126.72 149.758 126.156 148.366 126.156C147.478 126.156 146.83 126.36 146.146 126.636L146.29 127.56C146.914 127.284 147.574 127.068 148.27 127.068C148.93 127.068 149.362 127.32 149.362 128.04V128.28C146.974 128.532 145.75 129.096 145.75 130.524C145.75 131.496 146.398 132.12 147.43 132.12C148.366 132.12 148.99 131.7 149.446 131.232L149.566 132H150.43ZM152.389 134.184C153.229 134.184 153.853 133.872 154.321 132.6L156.661 126.276H155.545L154.045 130.728L152.509 126.192L151.429 126.36L153.517 132.024L153.373 132.408C153.145 133.02 152.821 133.248 152.341 133.248C152.173 133.248 151.957 133.212 151.777 133.164L151.933 134.136C152.041 134.16 152.161 134.184 152.389 134.184ZM159.19 129.54L159.886 129.384L159.994 128.196C161.422 127.548 162.286 126.984 162.286 125.688C162.286 124.38 161.29 123.564 159.826 123.564C158.842 123.564 157.99 123.912 157.258 124.452L157.414 125.556C158.086 125.004 158.83 124.584 159.766 124.584C160.57 124.584 161.158 125.004 161.158 125.736C161.158 126.504 160.654 126.888 159.526 127.356L159.034 127.56L159.19 129.54ZM158.938 132H160.138V130.572H158.938V132Z",fill:"#2E3338"}),(0,i.jsx)("path",{d:"M0.5 8C0.5 3.85786 3.85786 0.5 8 0.5H216C220.142 0.5 223.5 3.85786 223.5 8V33.5H0.5V8Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5641 23.75C12.253 23.75 12.0174 23.4689 12.0718 23.1626L12.5 20.75H10.0951C9.78449 20.75 9.54905 20.4698 9.60259 20.1638L9.69009 19.6638C9.73196 19.4246 9.93972 19.25 10.1826 19.25H12.7625L13.5575 14.75H11.1526C10.842 14.75 10.6065 14.4698 10.6601 14.1638L10.7476 13.6638C10.7895 13.4246 10.9972 13.25 11.2401 13.25H13.82L14.2793 10.6626C14.3216 10.4239 14.5291 10.25 14.7716 10.25H15.2559C15.567 10.25 15.8026 10.5311 15.7482 10.8374L15.32 13.25H19.82L20.2793 10.6626C20.3216 10.4239 20.5291 10.25 20.7716 10.25H21.2559C21.567 10.25 21.8026 10.5311 21.7482 10.8374L21.32 13.25H23.7249C24.0355 13.25 24.271 13.5302 24.2174 13.8362L24.1299 14.3362C24.0881 14.5754 23.8803 14.75 23.6374 14.75H21.0575L20.2625 19.25H22.6674C22.978 19.25 23.2135 19.5302 23.1599 19.8362L23.0724 20.3362C23.0306 20.5754 22.8228 20.75 22.5799 20.75H20L19.5407 23.3374C19.4984 23.5761 19.2909 23.75 19.0484 23.75H18.5641C18.253 23.75 18.0174 23.4689 18.0718 23.1626L18.5 20.75H14L13.5407 23.3374C13.4984 23.5761 13.2909 23.75 13.0484 23.75H12.5641ZM15.0578 14.75L14.2628 19.25H18.7628L19.5578 14.75H15.0578Z",fill:"#4F5660"}),(0,i.jsx)("path",{d:"M41.014 22V17.128C41.014 15.868 40.384 15.098 39.11 15.098C38.2 15.098 37.458 15.588 36.856 16.19C36.604 15.532 36.086 15.098 35.12 15.098C34.21 15.098 33.524 15.588 32.894 16.19L32.74 15.238H31.312V22H32.992V17.422C33.482 16.918 33.972 16.582 34.49 16.582C35.106 16.582 35.33 16.988 35.33 17.576V22H37.01V17.422C37.5 16.918 37.99 16.582 38.508 16.582C39.124 16.582 39.334 16.988 39.334 17.576V22H41.014ZM46.3967 20.138C45.9347 20.586 45.3887 20.866 44.8147 20.866C44.2967 20.866 43.9887 20.572 43.9887 20.082C43.9887 19.438 44.4507 18.864 46.3967 18.626V20.138ZM48.0767 22V17.366C48.0767 15.742 47.2087 15.098 45.4587 15.098C44.3807 15.098 43.5547 15.336 42.7707 15.644L42.9807 16.988C43.7087 16.666 44.4507 16.442 45.2347 16.442C45.9767 16.442 46.3967 16.722 46.3967 17.45V17.646C43.6667 17.912 42.3227 18.626 42.3227 20.264C42.3227 21.44 43.0927 22.14 44.2407 22.14C45.2487 22.14 45.9487 21.692 46.4947 21.118L46.6347 22H48.0767ZM53.8857 22.098L55.6777 21.832L53.0317 18.29L55.5237 15.238H53.6197L51.4217 18.038V11.892L49.7417 12.158V22H51.4217V18.64L53.8857 22.098ZM59.1699 16.26C59.9819 16.26 60.4019 16.848 60.5139 17.898H57.8119C57.9379 16.806 58.4979 16.26 59.1699 16.26ZM62.1379 21.314L61.9419 19.998C61.1999 20.516 60.4859 20.838 59.6179 20.838C58.5819 20.838 57.8679 20.264 57.7979 18.948H62.1379C62.1379 18.85 62.1519 18.682 62.1519 18.542C62.1519 16.624 61.2419 15.098 59.2119 15.098C57.4479 15.098 56.1319 16.428 56.1319 18.626C56.1319 21.062 57.5459 22.14 59.4359 22.14C60.5279 22.14 61.4099 21.818 62.1379 21.314ZM66.9533 18.78V17.156H63.3133V18.78H66.9533ZM72.9665 18.528C72.9665 20.012 72.3085 20.726 71.4405 20.726C70.8665 20.726 70.5445 20.628 70.1385 20.432V17.534C70.5865 16.96 71.0625 16.582 71.6645 16.582C72.4205 16.582 72.9665 17.226 72.9665 18.528ZM74.6605 18.43C74.6605 16.162 73.5265 15.098 72.1125 15.098C71.1745 15.098 70.5165 15.616 70.0405 16.162L69.8865 15.238H68.4585V24.604L70.1385 24.352V21.804C70.5445 21.958 71.0625 22.07 71.7065 22.07C73.2605 22.07 74.6605 20.95 74.6605 18.43ZM77.7827 22V11.892L76.1027 12.158V22H77.7827ZM83.2561 20.138C82.7941 20.586 82.2481 20.866 81.6741 20.866C81.1561 20.866 80.8481 20.572 80.8481 20.082C80.8481 19.438 81.3101 18.864 83.2561 18.626V20.138ZM84.9361 22V17.366C84.9361 15.742 84.0681 15.098 82.3181 15.098C81.2401 15.098 80.4141 15.336 79.6301 15.644L79.8401 16.988C80.5681 16.666 81.3101 16.442 82.0941 16.442C82.8361 16.442 83.2561 16.722 83.2561 17.45V17.646C80.5261 17.912 79.1821 18.626 79.1821 20.264C79.1821 21.44 79.9521 22.14 81.1001 22.14C82.1081 22.14 82.8081 21.692 83.3541 21.118L83.4941 22H84.9361ZM92.3691 22V17.128C92.3691 15.868 91.6971 15.098 90.4371 15.098C89.5271 15.098 88.8131 15.588 88.1831 16.19L88.0291 15.238H86.6011V22H88.2811V17.436C88.7711 16.918 89.3031 16.582 89.8211 16.582C90.4371 16.582 90.6891 16.988 90.6891 17.576V22H92.3691ZM99.0642 20.012C99.0642 18.738 98.3782 18.262 96.6282 17.814C95.6202 17.548 95.3682 17.338 95.3682 16.974C95.3682 16.61 95.6762 16.358 96.3062 16.358C96.9782 16.358 97.7762 16.596 98.4482 16.974L98.6722 15.574C98.0002 15.28 97.1882 15.098 96.3062 15.098C94.7382 15.098 93.8142 15.924 93.8142 17.1C93.8142 18.332 94.5002 18.808 96.1382 19.228C97.2162 19.494 97.5102 19.69 97.5102 20.166C97.5102 20.614 97.1182 20.88 96.3902 20.88C95.5502 20.88 94.6542 20.558 93.9262 20.082L93.7022 21.482C94.3462 21.832 95.3542 22.14 96.3342 22.14C98.1122 22.14 99.0642 21.342 99.0642 20.012Z",fill:"#060607"}),(0,i.jsx)("circle",{cx:"28",cy:"62",r:"16",fill:"url(#tutorial-media-channels-image2)"}),(0,i.jsx)("path",{d:"M59.572 60V51.72H58.096V57.144L54.376 51.72H52.876V60H54.352V54.3L58.252 60H59.572ZM63.4852 55.08C64.1812 55.08 64.5412 55.584 64.6372 56.484H62.3212C62.4292 55.548 62.9092 55.08 63.4852 55.08ZM66.0292 59.412L65.8612 58.284C65.2252 58.728 64.6132 59.004 63.8692 59.004C62.9812 59.004 62.3692 58.512 62.3092 57.384H66.0292C66.0292 57.3 66.0412 57.156 66.0412 57.036C66.0412 55.392 65.2612 54.084 63.5212 54.084C62.0092 54.084 60.8812 55.224 60.8812 57.108C60.8812 59.196 62.0932 60.12 63.7132 60.12C64.6492 60.12 65.4052 59.844 66.0292 59.412ZM68.7047 60V51.336L67.2647 51.564V60H68.7047ZM71.7281 60V51.336L70.2881 51.564V60H71.7281ZM73.8635 62.184C74.9075 62.184 75.5795 61.764 76.0715 60.372L78.2915 54.204H76.8395L75.5435 58.284L74.2235 54.12L72.7235 54.312L74.8235 59.988L74.7755 60.156C74.5835 60.78 74.1995 60.996 73.7195 60.996C73.4675 60.996 73.2635 60.96 73.0835 60.912L73.2755 62.124C73.4075 62.16 73.5515 62.184 73.8635 62.184Z",fill:"#060607"}),(0,i.jsx)("path",{d:"M58.792 76.084L59.908 75.844L56.716 67.684H55.588L52.348 76H53.524L54.448 73.516H57.82L58.792 76.084ZM56.128 69.004L57.448 72.52H54.82L56.128 69.004ZM65.7697 76V71.836C65.7697 70.804 65.1937 70.156 64.1137 70.156C63.2977 70.156 62.6257 70.612 62.0857 71.104L61.9537 70.276H61.1017V76H62.1697V72.04C62.6857 71.488 63.2617 71.116 63.8257 71.116C64.4497 71.116 64.7017 71.512 64.7017 72.1V76H65.7697ZM67.7558 78.184C68.5958 78.184 69.2198 77.872 69.6878 76.6L72.0278 70.276H70.9118L69.4118 74.728L67.8758 70.192L66.7958 70.36L68.8838 76.024L68.7398 76.408C68.5118 77.02 68.1878 77.248 67.7078 77.248C67.5398 77.248 67.3238 77.212 67.1438 77.164L67.2998 78.136C67.4078 78.16 67.5278 78.184 67.7558 78.184ZM77.9291 73.144C77.9291 71.26 76.8011 70.156 75.2651 70.156C73.7411 70.156 72.6371 71.26 72.6371 73.144C72.6371 75.028 73.7411 76.12 75.2651 76.12C76.8011 76.12 77.9291 75.028 77.9291 73.144ZM76.8491 73.144C76.8491 74.344 76.3211 75.232 75.2651 75.232C74.2571 75.232 73.7171 74.32 73.7171 73.144C73.7171 71.944 74.2331 71.044 75.2651 71.044C76.2971 71.044 76.8491 71.968 76.8491 73.144ZM83.9572 76V71.836C83.9572 70.804 83.3812 70.156 82.3012 70.156C81.4852 70.156 80.8132 70.612 80.2732 71.104L80.1412 70.276H79.2892V76H80.3572V72.04C80.8732 71.488 81.4492 71.116 82.0132 71.116C82.6372 71.116 82.8892 71.512 82.8892 72.1V76H83.9572ZM87.8013 70.996C88.6293 70.996 89.0373 71.524 89.1693 72.448H86.4093C86.5773 71.476 87.1413 70.996 87.8013 70.996ZM90.2373 75.352L90.0813 74.392C89.4573 74.884 88.8573 75.208 88.0293 75.208C87.0333 75.208 86.4093 74.584 86.3613 73.252H90.2493V73.024C90.2493 71.44 89.4813 70.156 87.8133 70.156C86.3733 70.156 85.2933 71.284 85.2933 73.12C85.2933 75.22 86.4573 76.12 87.9453 76.12C88.8933 76.12 89.6253 75.832 90.2373 75.352ZM101.73 70.276H100.662L99.4503 74.512L98.1903 70.276H97.2903L96.0303 74.512L94.7823 70.192L93.7383 70.36L95.5743 76.024H96.4623L97.7223 71.704L98.9943 76.024H99.8943L101.73 70.276ZM106.014 74.428C105.534 74.92 104.934 75.232 104.31 75.232C103.77 75.232 103.458 74.932 103.458 74.464C103.458 73.876 103.902 73.3 106.014 73.096V74.428ZM107.082 76V71.992C107.082 70.72 106.41 70.156 105.018 70.156C104.13 70.156 103.482 70.36 102.798 70.636L102.942 71.56C103.566 71.284 104.226 71.068 104.922 71.068C105.582 71.068 106.014 71.32 106.014 72.04V72.28C103.626 72.532 102.402 73.096 102.402 74.524C102.402 75.496 103.05 76.12 104.082 76.12C105.018 76.12 105.642 75.7 106.098 75.232L106.218 76H107.082ZM113.406 76V71.836C113.406 70.804 112.83 70.156 111.75 70.156C110.934 70.156 110.262 70.612 109.722 71.104L109.59 70.276H108.738V76H109.806V72.04C110.322 71.488 110.898 71.116 111.462 71.116C112.086 71.116 112.338 71.512 112.338 72.1V76H113.406ZM117.815 76.024L117.671 75.112C117.539 75.136 117.371 75.148 117.179 75.148C116.579 75.148 116.387 74.86 116.387 74.392V71.176H117.767L117.623 70.276H116.387V68.212L115.343 68.368V70.276H114.479V71.176H115.343V74.584C115.343 75.736 116.003 76.096 117.011 76.096C117.383 76.096 117.635 76.06 117.815 76.024ZM124.494 76.024L124.35 75.112C124.218 75.136 124.05 75.148 123.858 75.148C123.258 75.148 123.066 74.86 123.066 74.392V71.176H124.446L124.302 70.276H123.066V68.212L122.022 68.368V70.276H121.158V71.176H122.022V74.584C122.022 75.736 122.682 76.096 123.69 76.096C124.062 76.096 124.314 76.06 124.494 76.024ZM130.71 73.144C130.71 71.26 129.582 70.156 128.046 70.156C126.522 70.156 125.418 71.26 125.418 73.144C125.418 75.028 126.522 76.12 128.046 76.12C129.582 76.12 130.71 75.028 130.71 73.144ZM129.63 73.144C129.63 74.344 129.102 75.232 128.046 75.232C127.038 75.232 126.498 74.32 126.498 73.144C126.498 71.944 127.014 71.044 128.046 71.044C129.078 71.044 129.63 71.968 129.63 73.144ZM139.375 76V71.836C139.375 70.804 138.799 70.156 137.719 70.156C136.903 70.156 136.243 70.612 135.775 71.032V67.336L134.707 67.504V76H135.775V72.04C136.291 71.488 136.867 71.116 137.431 71.116C138.055 71.116 138.307 71.512 138.307 72.1V76H139.375ZM144.299 74.428C143.819 74.92 143.219 75.232 142.595 75.232C142.055 75.232 141.743 74.932 141.743 74.464C141.743 73.876 142.187 73.3 144.299 73.096V74.428ZM145.367 76V71.992C145.367 70.72 144.695 70.156 143.303 70.156C142.415 70.156 141.767 70.36 141.083 70.636L141.227 71.56C141.851 71.284 142.511 71.068 143.207 71.068C143.867 71.068 144.299 71.32 144.299 72.04V72.28C141.911 72.532 140.687 73.096 140.687 74.524C140.687 75.496 141.335 76.12 142.367 76.12C143.303 76.12 143.927 75.7 144.383 75.232L144.503 76H145.367ZM151.692 76V71.836C151.692 70.804 151.116 70.156 150.036 70.156C149.22 70.156 148.548 70.612 148.008 71.104L147.876 70.276H147.024V76H148.092V72.04C148.608 71.488 149.184 71.116 149.748 71.116C150.372 71.116 150.624 71.512 150.624 72.1V76H151.692ZM156.484 72.136C156.484 72.82 156.028 73.36 155.296 73.36C154.588 73.36 154.132 72.844 154.132 72.184C154.132 71.488 154.576 70.936 155.296 70.936C156.004 70.936 156.484 71.452 156.484 72.136ZM158.188 76.42C158.188 75.532 157.432 75.148 156.22 74.932L155.812 74.86C154.804 74.68 154.6 74.632 154.6 74.428C154.6 74.32 154.72 74.188 154.888 74.08C155.032 74.104 155.176 74.116 155.32 74.116C156.484 74.116 157.516 73.372 157.516 72.148C157.516 71.824 157.444 71.524 157.288 71.26L158.38 71.152L158.224 70.192L156.772 70.636C156.376 70.324 155.872 70.156 155.296 70.156C154.132 70.156 153.1 70.912 153.1 72.148C153.1 72.928 153.532 73.528 154.168 73.852C153.784 74.08 153.568 74.356 153.568 74.632C153.568 74.848 153.676 75.052 153.928 75.232C153.124 75.664 152.716 76.12 152.716 76.708C152.716 77.716 153.904 78.184 155.392 78.184C156.88 78.184 158.188 77.62 158.188 76.42ZM155.44 77.416C154.324 77.416 153.736 77.08 153.736 76.624C153.736 76.228 154.036 75.892 154.708 75.556C154.936 75.604 155.104 75.64 155.416 75.7L156.1 75.82C156.916 75.964 157.18 76.204 157.18 76.552C157.18 77.032 156.556 77.416 155.44 77.416ZM167.003 73.144C167.003 71.26 165.875 70.156 164.339 70.156C162.815 70.156 161.711 71.26 161.711 73.144C161.711 75.028 162.815 76.12 164.339 76.12C165.875 76.12 167.003 75.028 167.003 73.144ZM165.923 73.144C165.923 74.344 165.395 75.232 164.339 75.232C163.331 75.232 162.791 74.32 162.791 73.144C162.791 71.944 163.307 71.044 164.339 71.044C165.371 71.044 165.923 71.968 165.923 73.144ZM168.339 70.276V74.44C168.339 75.472 168.903 76.12 169.995 76.12C170.799 76.12 171.483 75.676 172.023 75.172L172.155 76H173.007V70.276H171.939V74.236C171.423 74.788 170.847 75.16 170.283 75.16C169.659 75.16 169.407 74.764 169.407 74.176V70.276H168.339ZM177.44 76.024L177.296 75.112C177.164 75.136 176.996 75.148 176.804 75.148C176.204 75.148 176.012 74.86 176.012 74.392V71.176H177.392L177.248 70.276H176.012V68.212L174.968 68.368V70.276H174.104V71.176H174.968V74.584C174.968 75.736 175.628 76.096 176.636 76.096C177.008 76.096 177.26 76.06 177.44 76.024ZM184.119 76.024L183.975 75.112C183.843 75.136 183.675 75.148 183.483 75.148C182.883 75.148 182.691 74.86 182.691 74.392V71.176H184.071L183.927 70.276H182.691V68.212L181.647 68.368V70.276H180.783V71.176H181.647V74.584C181.647 75.736 182.307 76.096 183.315 76.096C183.687 76.096 183.939 76.06 184.119 76.024ZM190.082 76V71.836C190.082 70.804 189.506 70.156 188.426 70.156C187.61 70.156 186.95 70.612 186.482 71.032V67.336L185.414 67.504V76H186.482V72.04C186.998 71.488 187.574 71.116 188.138 71.116C188.762 71.116 189.014 71.512 189.014 72.1V76H190.082ZM193.038 68.452C193.038 68.08 192.738 67.768 192.366 67.768C191.994 67.768 191.682 68.08 191.682 68.452C191.682 68.824 191.994 69.124 192.366 69.124C192.738 69.124 193.038 68.824 193.038 68.452ZM192.894 76V70.276H191.826V76H192.894ZM198.656 74.404C198.656 73.312 198.02 72.904 196.604 72.544C195.704 72.316 195.416 72.1 195.416 71.716C195.416 71.308 195.752 71.056 196.4 71.056C197 71.056 197.636 71.26 198.14 71.548L198.308 70.54C197.768 70.3 197.132 70.156 196.424 70.156C195.176 70.156 194.408 70.828 194.408 71.74C194.408 72.76 194.948 73.168 196.292 73.504C197.324 73.756 197.648 73.948 197.648 74.476C197.648 74.956 197.216 75.232 196.484 75.232C195.704 75.232 195.008 74.944 194.468 74.572L194.312 75.58C194.804 75.856 195.644 76.12 196.4 76.12C197.876 76.12 198.656 75.448 198.656 74.404ZM60.328 86.276H59.26L58.048 90.512L56.788 86.276H55.888L54.628 90.512L53.38 86.192L52.336 86.36L54.172 92.024H55.06L56.32 87.704L57.592 92.024H58.492L60.328 86.276ZM63.5318 86.996C64.3598 86.996 64.7678 87.524 64.8998 88.448H62.1398C62.3078 87.476 62.8718 86.996 63.5318 86.996ZM65.9678 91.352L65.8118 90.392C65.1878 90.884 64.5878 91.208 63.7598 91.208C62.7638 91.208 62.1398 90.584 62.0918 89.252H65.9798V89.024C65.9798 87.44 65.2118 86.156 63.5438 86.156C62.1038 86.156 61.0238 87.284 61.0238 89.12C61.0238 91.22 62.1878 92.12 63.6758 92.12C64.6238 92.12 65.3558 91.832 65.9678 91.352ZM69.5201 86.996C70.3481 86.996 70.7561 87.524 70.8881 88.448H68.1281C68.2961 87.476 68.8601 86.996 69.5201 86.996ZM71.9561 91.352L71.8001 90.392C71.1761 90.884 70.5761 91.208 69.7481 91.208C68.7521 91.208 68.1281 90.584 68.0801 89.252H71.9681V89.024C71.9681 87.44 71.2001 86.156 69.5321 86.156C68.0921 86.156 67.0121 87.284 67.0121 89.12C67.0121 91.22 68.1761 92.12 69.6641 92.12C70.6121 92.12 71.3441 91.832 71.9561 91.352ZM76.9364 92.084L78.1004 91.904L75.4844 88.808L77.8964 86.276H76.6124L74.3924 88.676V83.336L73.3244 83.504V92H74.3924V89L76.9364 92.084ZM81.1099 86.996C81.9379 86.996 82.3459 87.524 82.4779 88.448H79.7179C79.8859 87.476 80.4499 86.996 81.1099 86.996ZM83.5459 91.352L83.3899 90.392C82.7659 90.884 82.1659 91.208 81.3379 91.208C80.3419 91.208 79.7179 90.584 79.6699 89.252H83.5579V89.024C83.5579 87.44 82.7899 86.156 81.1219 86.156C79.6819 86.156 78.6019 87.284 78.6019 89.12C78.6019 91.22 79.7659 92.12 81.2539 92.12C82.2019 92.12 82.9339 91.832 83.5459 91.352ZM89.5822 92V87.836C89.5822 86.804 89.0062 86.156 87.9262 86.156C87.1102 86.156 86.4382 86.612 85.8982 87.104L85.7662 86.276H84.9142V92H85.9822V88.04C86.4982 87.488 87.0742 87.116 87.6382 87.116C88.2622 87.116 88.5142 87.512 88.5142 88.1V92H89.5822ZM91.9983 89.252C91.9983 87.836 92.6463 87.104 93.5463 87.104C94.1583 87.104 94.5063 87.2 94.9503 87.428V90.164C94.4943 90.776 93.9903 91.172 93.3303 91.172C92.5623 91.172 91.9983 90.512 91.9983 89.252ZM90.9183 89.3C90.9183 91.22 91.9383 92.12 93.1743 92.12C94.0143 92.12 94.6023 91.688 95.0343 91.172L95.1663 92H96.0183V83.336L94.9503 83.504V86.456C94.5903 86.312 94.0743 86.204 93.5103 86.204C92.1183 86.204 90.9183 87.212 90.9183 89.3ZM99.3194 89.54L100.015 89.384L100.123 88.196C101.551 87.548 102.415 86.984 102.415 85.688C102.415 84.38 101.419 83.564 99.9554 83.564C98.9714 83.564 98.1194 83.912 97.3874 84.452L97.5434 85.556C98.2154 85.004 98.9594 84.584 99.8954 84.584C100.699 84.584 101.287 85.004 101.287 85.736C101.287 86.504 100.783 86.888 99.6554 87.356L99.1634 87.56L99.3194 89.54ZM99.0674 92H100.267V90.572H99.0674V92Z",fill:"#2E3338"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("pattern",{id:"tutorial-media-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:r})}),(0,i.jsx)("pattern",{id:"tutorial-media-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:a})})]})]})})}},482641:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(961891),r=n(192029),a=n(527119);function s(){return(0,i.jsx)("div",{className:l.container,children:(0,i.jsxs)("svg",{width:"248",height:"67",viewBox:"0 0 248 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M1.91937 22.0819L0.353585 25.3514C0.282937 25.5093 0.265227 25.6857 0.303076 25.8544C0.311999 25.943 0.339002 26.0288 0.382429 26.1067C0.425856 26.1845 0.484791 26.2527 0.555622 26.3071C0.607907 26.38 0.675826 26.4403 0.754452 26.4838C0.833079 26.5273 0.920441 26.5529 1.0102 26.5586C1.19659 26.5915 1.38843 26.5741 1.5658 26.5083L4.74788 24.949L5.15196 24.8484L5.55603 24.949L8.73811 26.5083H9.29371L9.74829 26.2568C9.85659 26.1275 9.92655 25.9707 9.95033 25.8041C9.98818 25.6354 9.97046 25.459 9.89982 25.3011L8.33403 22.0315C8.2926 21.919 8.27539 21.799 8.28352 21.6794C8.27533 21.5434 8.29245 21.4069 8.33403 21.277L9.89982 18.1081C9.94425 18.0329 9.97177 17.949 9.98049 17.8621C9.98921 17.7753 9.97892 17.6876 9.95033 17.6051C9.93611 17.4208 9.86561 17.2453 9.74829 17.1021C9.60449 16.9853 9.42824 16.9151 9.2432 16.9009C9.16036 16.8724 9.07231 16.8622 8.98511 16.8709C8.89791 16.8796 8.81364 16.907 8.73811 16.9512L5.50552 18.5105L5.10145 18.6111L4.69737 18.5105L1.5153 16.9512C1.43095 16.9057 1.3382 16.8778 1.24269 16.8692C1.14717 16.8605 1.05089 16.8713 0.959695 16.9009C0.792331 16.9246 0.634911 16.9943 0.505112 17.1021C0.372179 17.2408 0.284186 17.416 0.252566 17.6051C0.236844 17.779 0.271925 17.9537 0.353585 18.1081L1.86886 21.3273C1.94921 21.4454 1.98499 21.5879 1.96988 21.7297C1.98577 21.7888 1.98948 21.8504 1.9808 21.9109C1.97212 21.9715 1.95122 22.0296 1.91937 22.0819Z",fill:"#AEC7FF"}),(0,i.jsx)("path",{d:"M205.949 47.6259C218.112 47.6259 227.971 37.8071 227.971 25.695C227.971 13.5829 218.112 3.76405 205.949 3.76405C193.787 3.76405 183.927 13.5829 183.927 25.695C183.927 37.8071 193.787 47.6259 205.949 47.6259Z",fill:"url(#tutorial-media-voice-channels-image2)"}),(0,i.jsx)("path",{d:"M206.106 47.5713C218.256 47.5713 228.106 37.7216 228.106 25.5713C228.106 13.4211 218.256 3.57133 206.106 3.57133C193.956 3.57133 184.106 13.4211 184.106 25.5713C184.106 37.7216 193.956 47.5713 206.106 47.5713Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,i.jsx)("path",{d:"M43.8822 66.4461C56.0446 66.4461 65.9042 56.6273 65.9042 44.5152C65.9042 32.4031 56.0446 22.5843 43.8822 22.5843C31.7198 22.5843 21.8602 32.4031 21.8602 44.5152C21.8602 56.6273 31.7198 66.4461 43.8822 66.4461Z",fill:"url(#tutorial-media-voice-channels-image1)"}),(0,i.jsx)("path",{d:"M43.6684 66.0315C55.8187 66.0315 65.6684 56.1818 65.6684 44.0315C65.6684 31.8813 55.8187 22.0315 43.6684 22.0315C31.5181 22.0315 21.6684 31.8813 21.6684 44.0315C21.6684 56.1818 31.5181 66.0315 43.6684 66.0315Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,i.jsx)("path",{d:"M138.597 43.8116C134.96 31.857 134.96 19.0973 138.597 7.14265",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M111.562 25.5955C115.2 37.5501 115.2 50.3098 111.562 62.2644",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M159.71 37.6246C158.509 33.6948 157.896 29.6101 157.892 25.5023C157.9 21.3782 158.513 17.2775 159.71 13.3296",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M149.154 10.2613C146.124 20.198 146.124 30.8065 149.154 40.7433",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M170.266 16.4482C169.347 19.3785 168.887 22.4324 168.903 25.5023C168.887 28.5721 169.347 31.626 170.266 34.5563",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M90.0579 56.1351C91.2957 52.1951 91.9258 48.0908 91.9267 43.9625C91.9301 39.8503 91.2999 35.7619 90.0579 31.8401",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M100.614 28.6068C103.644 38.5435 103.644 49.152 100.614 59.0887",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M79.5015 34.9084C81.3857 40.7986 81.3857 47.1263 79.5015 53.0165",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M182.237 57.1914L184.257 56.4872C184.354 56.4431 184.436 56.3722 184.494 56.2831C184.551 56.1939 184.582 56.0902 184.582 55.9842C184.582 55.8783 184.551 55.7746 184.494 55.6854C184.436 55.5962 184.354 55.5254 184.257 55.4812L182.237 54.777C182.16 54.7552 182.088 54.7169 182.027 54.6648C181.966 54.6127 181.917 54.548 181.884 54.4752L181.176 52.4632C181.143 52.3626 181.079 52.275 180.993 52.2128C180.907 52.1507 180.803 52.1173 180.697 52.1173C180.59 52.1173 180.487 52.1507 180.4 52.2128C180.314 52.275 180.25 52.3626 180.217 52.4632L179.51 54.4752C179.476 54.548 179.427 54.6127 179.366 54.6648C179.305 54.7169 179.233 54.7552 179.156 54.777L177.186 55.4812C177.052 55.4812 176.924 55.5342 176.829 55.6286C176.734 55.7229 176.681 55.8508 176.681 55.9842C176.681 56.1176 176.734 56.2456 176.829 56.3399C176.924 56.4343 177.052 56.4872 177.186 56.4872L179.156 57.1914C179.233 57.2133 179.305 57.2516 179.366 57.3037C179.427 57.3558 179.476 57.4205 179.51 57.4933L180.217 59.5053C180.25 59.6059 180.314 59.6935 180.4 59.7556C180.487 59.8178 180.59 59.8512 180.697 59.8512C180.803 59.8512 180.907 59.8178 180.993 59.7556C181.079 59.6935 181.143 59.6059 181.176 59.5053L181.884 57.4933C181.917 57.4205 181.966 57.3558 182.027 57.3037C182.088 57.2516 182.16 57.2133 182.237 57.1914Z",fill:"#EC7DF7"}),(0,i.jsx)("path",{d:"M242.696 1.35812C242.696 0.746955 242.199 0.251511 241.585 0.251511C240.972 0.251511 240.474 0.746955 240.474 1.35812V2.4949C240.474 3.10607 240.972 3.60151 241.585 3.60151C242.199 3.60151 242.696 3.10607 242.696 2.4949V1.35812Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M242.696 10.2613C242.696 9.65011 242.199 9.15466 241.585 9.15466C240.972 9.15466 240.474 9.65011 240.474 10.2613V11.3981C240.474 12.0092 240.972 12.5047 241.585 12.5047C242.199 12.5047 242.696 12.0092 242.696 11.3981V10.2613Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M246.636 7.49476C247.25 7.49476 247.747 6.99933 247.747 6.38817C247.747 5.77701 247.25 5.28156 246.636 5.28156H245.495C244.881 5.28156 244.384 5.77701 244.384 6.38817C244.384 6.99933 244.881 7.49476 245.495 7.49476H246.636Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M237.696 7.49477C238.31 7.49477 238.807 6.99931 238.807 6.38815C238.807 5.77699 238.31 5.28154 237.696 5.28154H236.555C235.941 5.28154 235.443 5.77699 235.443 6.38815C235.443 6.99931 235.941 7.49477 236.555 7.49477H237.696Z",fill:"#7196FF"}),(0,i.jsx)("path",{d:"M25.2929 2.23526C24.8786 1.82274 24.207 1.82274 23.7928 2.23526C23.3786 2.64777 23.3786 3.31659 23.7928 3.7291L24.5535 4.48669C24.9678 4.8992 25.6394 4.8992 26.0536 4.48669C26.4678 4.07418 26.4678 3.40536 26.0536 2.99285L25.2929 2.23526Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M31.3539 8.25656C30.9397 7.84404 30.2681 7.84404 29.8538 8.25656C29.4396 8.66907 29.4396 9.33789 29.8538 9.7504L30.6146 10.508C31.0288 10.9205 31.7004 10.9205 32.1146 10.508C32.5289 10.0955 32.5289 9.42666 32.1146 9.01415L31.3539 8.25656Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M32.109 3.71739C32.5233 3.30488 32.5233 2.63606 32.109 2.22354C31.6948 1.81103 31.0232 1.81103 30.609 2.22355L29.8482 2.98114C29.434 3.39365 29.434 4.06247 29.8482 4.47498C30.2625 4.88749 30.9341 4.88749 31.3483 4.47498L32.109 3.71739Z",fill:"#F7D036"}),(0,i.jsx)("path",{d:"M26.0985 9.73869C26.5128 9.32618 26.5128 8.65736 26.0985 8.24485C25.6843 7.83233 25.0127 7.83233 24.5985 8.24485L23.8378 9.00244C23.4235 9.41495 23.4235 10.0838 23.8378 10.4963C24.252 10.9088 24.9236 10.9088 25.3378 10.4963L26.0985 9.73869Z",fill:"#F7D036"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("pattern",{id:"tutorial-media-voice-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:r})}),(0,i.jsx)("pattern",{id:"tutorial-media-voice-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,i.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:a})})]})]})})}},613725:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var l=n(232713),r=n(442837),a=n(481060),s=n(43267),o=n(565138),c=n(905423),d=n(592125),u=n(430824),h=n(594174),p=n(768581),m=n(620899);function f(){let{guildId:e,channelId:t}=(0,c.Z)(e=>{let{guildId:t,channelId:n}=e;return{guildId:t,channelId:n}},l.X),n=(0,r.e7)([u.Z],()=>u.Z.getGuild(e)),f=(0,r.e7)([d.Z],()=>null==n?d.Z.getChannel(t):null),g=(0,r.e7)([h.default],()=>h.default.getCurrentUser()),C=null!=f?(0,s.x)(f):null,x=null!=g?g.getAvatarURL(e,80):p.pK["0"],v=(0,i.jsx)(a.Avatar,{src:x,"aria-hidden":!0,size:a.AvatarSizes.SIZE_80,className:m.avatarSizeOverride}),_=null;return _=null!=n?(0,i.jsx)(o.Z,{guild:n}):null!=C?(0,i.jsx)(a.Avatar,{"aria-hidden":!0,src:C,size:a.AvatarSizes.SIZE_80,className:m.avatarSizeOverride}):v,(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsx)("div",{className:m.personAvatar,children:v}),(0,i.jsx)("div",{className:m.guildAvatar,children:_}),(0,i.jsx)("svg",{className:m.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),(0,i.jsx)("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),(0,i.jsx)("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),(0,i.jsx)("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),(0,i.jsx)("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),(0,i.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)",children:[(0,i.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]}),(0,i.jsx)("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#5865f2",fillRule:"nonzero",rx:"3"}),(0,i.jsx)("path",{fill:"#5865f2",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),(0,i.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)",children:[(0,i.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,i.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]})]})})]})}},155409:function(e,t,n){n.d(t,{Z:function(){return C}});var i,l,r,a,s=n(200651),o=n(192379),c=n(995295),d=n(374470),u=n(442837),h=n(260300),p=n(451478),m=n(5560),f=n(10401);class g extends(a=o.Component){componentDidMount(){let{visible:e,inlineSpecs:t}=this.props;null==t&&this.show(e)}componentWillUnmount(){let{inlineSpecs:e}=this.props;null==e&&this.show(!1)}componentDidUpdate(e){let{position:t,offsetX:n,offsetY:i,tutorialId:l,visible:r,windowSize:a}=e;l!==this.props.tutorialId?h.Z.hide(l):(r!==this.props.visible||t!==this.props.position||n!==this.props.offsetX||i!==this.props.offsetY||a!==this.props.windowSize)&&this.show(this.props.visible)}show(e){let{tutorialId:t,position:n,offsetX:i,offsetY:l,visible:r,inlineSpecs:a,autoInvert:s}=this.props;if(e&&null==a){let e=(0,c.findDOMNode)(this);if(!(0,d.k)(e))return;let{top:r,left:a,right:o,bottom:u}=e.getBoundingClientRect();h.Z.show(t,{position:n,targetWidth:o-a,targetHeight:u-r,autoInvert:s,origin:{x:a,y:r},offset:{x:i,y:l}})}else r&&h.Z.hide(t)}render(){let{inlineSpecs:e,tutorialId:t,children:n,visible:i,windowFocused:l,position:r,autoInvert:a}=this.props,c=f.Z.getData()[t];return null!=e&&null!=c?(0,s.jsxs)(s.Fragment,{children:[n,i&&(0,s.jsx)(m.V,{autoInvert:a,position:r,tutorialId:t,tutorialDefinition:c,focused:l,...e})]}):o.Children.only(n)}}function C(e){let{tutorialId:t}=e,n=(0,u.e7)([f.Z],()=>f.Z.shouldShow(t),[t]),i=(0,u.e7)([p.Z],()=>p.Z.isFocused()),l=(0,u.e7)([p.Z],()=>p.Z.windowSize(),[]);return(0,s.jsx)(g,{...e,visible:n,windowFocused:i,windowSize:l})}r={position:"top",offsetX:0,offsetY:0,autoInvert:!0},(l="defaultProps")in(i=g)?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r},5560:function(e,t,n){n.d(t,{V:function(){return E}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(512722),o=n.n(s),c=n(995295),d=n(374470),u=n(442837),h=n(481060),p=n(260300),m=n(997638),f=n(819640),g=n(451478),C=n(21825),x=n(232495),v=n(10401),_=n(879249);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends l.PureComponent{componentDidMount(){this.updateCache()}componentDidUpdate(e){let{tutorialId:t,origin:{x:n,y:i},targetWidth:l,targetHeight:r,position:a,offset:s}=e;(this.props.tutorialId!==t||this.props.origin.x!==n||this.props.origin.y!==i||this.props.targetWidth!==l||this.props.targetHeight!==r||this.props.position!==a||this.props.offset.x!==s.x||this.props.offset.y!==s.y)&&this.updateCache()}updateCache(){var e,t;let n=(0,c.findDOMNode)(this);if(null==n||!(0,d.k)(n,HTMLElement))return;let{offsetWidth:i,offsetHeight:l}=n,r={offsetX:(this.props.targetWidth-i)/2,offsetY:(this.props.targetHeight-l)/2};switch(this.props.position){case"left":r.offsetX=-i;break;case"right":r.offsetX=this.props.targetWidth;break;case"bottom":r.offsetY=this.props.targetHeight;break;default:r.offsetY=-l}r.offsetX+=null!==(e=this.props.offset.x)&&void 0!==e?e:0,r.offsetY+=null!==(t=this.props.offset.y)&&void 0!==t?t:0,this.setState(r)}handleSkipTips(){p.Z.suppressAll()}getTutorialPopoutText(){let{tutorialId:e}=this.props;return(0,x.k)(e)}render(){let{tutorialId:e,autoInvert:t,focused:n,origin:l}=this.props,r=(0,C.S)(e);if(null==r)return null;let{media:s,textAlign:o,isLongText:c,highPriority:d,spacing:u,arrowAlignment:p=m.cy.TOP,popoutPosition:f}=r,{offsetX:g,offsetY:x}=this.state,v={left:null!=g?l.x+g:void 0,top:null!=x?l.y+x:void 0},I=e=>{let t=n&&!e;return!0!==d?null:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:a()(_.top,{[_.animating]:t,[_.notAnimating]:!t})}),(0,i.jsx)("div",{className:a()(_.bottom,{[_.animating]:t,[_.notAnimating]:!t})})]})},E=e=>{let t=n&&!e;return{[_.animating]:t,[_.notAnimating]:!t,[_.highPriority]:d}},b=this.getTutorialPopoutText();return(0,i.jsx)(m.ZP,{position:f,renderMedia:s,textAlign:o,spacing:u,isLongText:c,uniqueId:e,autoInvert:t,arrowAlignment:p,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss,...b,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(h.Clickable,{...e,className:_.indicator,style:v,children:(0,i.jsxs)("div",{className:a()(_.animationContainer,E(n)),children:[I(n),(0,i.jsx)("div",{className:a()(_.innerCircle,E(n))}),(0,i.jsx)("div",{className:a()(_.outerCircle,E(n))})]})})}})}constructor(...e){super(...e),I(this,"state",{offsetX:null,offsetY:null}),I(this,"handleDismiss",()=>{p.Z.dismiss(this.props.tutorialId)})}}t.Z=12633==n.j?function(){let{indicators:e,tutorialData:t,windowFocused:n,shouldShowAny:l}=(0,u.cj)([v.Z,g.Z,f.Z],()=>({indicators:v.Z.getIndicators(),tutorialData:v.Z.getData(),shouldShowAny:v.Z.shouldShowAnyIndicators()&&!f.Z.hasLayers(),windowFocused:g.Z.isFocused()}));return l?(0,i.jsx)(i.Fragment,{children:Object.entries(e).map(e=>{let[l,r]=e,a=t[l];return o()(null!=a,"Missing tutorial definition for ".concat(l)),(0,i.jsx)(E,{tutorialId:l,tutorialDefinition:a,focused:n,...r},l)})}):null}:null},21825:function(e,t,n){n.d(t,{S:function(){return c}});var i=n(200651);n(192379);var l=n(997638),r=n(113570),a=n(482641),s=n(613725);let o=Object.freeze({"voice-conversations":{popoutPosition:"right",highPriority:!0,textAlign:l.iu.CENTER,media:()=>(0,i.jsx)(a.Z,{})},"writing-messages":{popoutPosition:"top",highPriority:!0,textAlign:l.iu.CENTER,spacing:10,media:()=>(0,i.jsx)(s.Z,{})},"direct-messages":{popoutPosition:"right"},"create-first-server":{popoutPosition:"right",highPriority:!0},"organize-by-topic":{popoutPosition:"right",textAlign:l.iu.CENTER,spacing:8,media:()=>(0,i.jsx)(r.Z,{})},"instant-invite":{popoutPosition:"right",spacing:24,highPriority:!0},"whos-online":{spacing:16,popoutPosition:"left"},"server-settings":{popoutPosition:"bottom",spacing:10},"friends-list":{spacing:8,popoutPosition:"right"},"create-more-servers":{spacing:8,popoutPosition:"right"}}),c=e=>e in o?o[e]:null},232495:function(e,t,n){n.d(t,{k:function(){return h}}),n(757143);var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(430824),s=n(914010),o=n(388032),c=n(954396);let d=()=>(0,i.jsx)(i.Fragment,{children:o.intl.format(o.t.ymkBtr,{shareIcon:o.intl.string(o.t.VINpSE),shareIconHook:()=>(0,i.jsx)(r.GroupPlusIcon,{className:c.icon},"icon")})}),u=()=>{let e=(0,l.e7)([a.Z,s.Z],()=>a.Z.getGuild(s.Z.getGuildId()),[]),t=null==e?void 0:e.name;return(0,i.jsx)(i.Fragment,{children:o.intl.format(o.t.oQuG3N,{serverName:t})})},h=e=>{var t,n;let l={VOICE_CONVERSATIONS:{title:(0,i.jsx)("div",{className:c.voiceChannelsTitle,children:o.intl.string(o.t.w5HAlp)}),body:o.intl.string(o.t.Ww4hho)},WRITING_MESSAGES:{title:(0,i.jsx)("div",{className:c.writingMessagesTitle,children:o.intl.string(o.t.nkP0l5)}),body:(0,i.jsx)(u,{})},ORGANIZE_BY_TOPIC:{title:(0,i.jsx)("div",{className:c.channelsTitle,children:o.intl.string(o.t["j/5+IS"])}),body:o.intl.string(o.t.mufH2N)},WHOS_ONLINE:{title:o.intl.string(o.t.l2nSoK),body:o.intl.format(o.t.y6tbBA,{})},INSTANT_INVITE:{title:o.intl.string(o.t.XcehY2),body:(0,i.jsx)(d,{})},SERVER_SETTINGS:{title:o.intl.string(o.t.wc8wi4),body:o.intl.format(o.t.mIfDhY,{})},DIRECT_MESSAGES:{title:o.intl.string(o.t["V07x5+"]),body:o.intl.format(o.t.GEBBe3,{})},CREATE_MORE_SERVERS:{title:o.intl.string(o.t["50FORk"]),body:o.intl.format(o.t.zVL4qa,{})},CREATE_FIRST_SERVER:{title:o.intl.string(o.t.CtOX9f),body:o.intl.format(o.t.TflqTU,{})},FRIENDS_LIST:{title:o.intl.string(o.t.Fnk9Ly),body:o.intl.format(o.t.NTq0AQ,{})}},r=null!==(t=l[e.replace(/-/g,"_").toUpperCase()])&&void 0!==t?t:{};return{title:r.title,body:r.body,isLongText:null!==(n=r.isLongText)&&void 0!==n&&n}}},10401:function(e,t,n){n(47120);var i,l,r,a,s=n(873546),o=n(442837),c=n(570140),d=n(38618),u=n(268967),h=n(188785);let p={},m={},f=!0,g={},C=!1;function x(){return u.Z}function v(){if(g={},!f)for(let[e,t]of Object.entries(u.Z)){let n=!1!==p[e];if(g[e]=n,n&&null!=t.prerequisites)for(let n of t.prerequisites)!1!==p[n]&&(g[e]=!1)}}class _ extends(i=o.ZP.Store){initialize(){v(),this.mustEmitChanges(e=>"CONNECTION_OPEN"!==e.type),this.waitFor(d.Z)}shouldShow(e){var t;return!(!C||f||h.a||(t=e,s.tq&&["writing-messages","organize-by-topic"].includes(t)))&&(g[e]||!1)}shouldShowAnyIndicators(){return!f}getIndicators(){return m}getData(){return u.Z}getDefinition(e){let t=this.getData();return null!=t?t[e]:null}}a="TutorialIndicatorStore",(r="displayName")in(l=_)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new _(c.Z,{CONNECTION_OPEN:function(e){let{tutorial:t}=e;C=!0,f=!0,p={},null!=t&&(f=t.indicators_suppressed,t.indicators_confirmed.forEach(e=>p[e]=!1)),v()},CONNECTION_CLOSED:function(){C=!1},TUTORIAL_INDICATOR_DISMISS:function(e){p={...p,[e.tutorialId]:!1},m={...m},delete m[e.tutorialId],v()},TUTORIAL_INDICATOR_SHOW:function(e){m={...m,[e.tutorialId]:e.renderData}},TUTORIAL_INDICATOR_HIDE:function(e){m={...m},delete m[e.tutorialId]},TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){f=!0}})},268967:function(e,t){t.Z=Object.freeze({"voice-conversations":{popoutOffset:{x:45,y:0}},"writing-messages":{prerequisites:["voice-conversations"],popoutOffset:{x:-36,y:0}},"direct-messages":{popoutOffset:{x:50,y:0}},"create-first-server":{popoutOffset:{x:45,y:0}},"organize-by-topic":{popoutOffset:{x:50,y:0}},"instant-invite":{prerequisites:["organize-by-topic"],popoutOffset:{x:-10,y:0}},"whos-online":{prerequisites:["instant-invite"],popoutOffset:{x:-50,y:0}},"server-settings":{prerequisites:["instant-invite"],popoutOffset:{y:32,x:0}},"friends-list":{prerequisites:["instant-invite"],popoutOffset:{x:45,y:0}},"create-more-servers":{prerequisites:["server-settings"],popoutOffset:{x:45,y:0}}})},646915:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(192379);function l(){let[e,t]=i.useState(window.innerWidth<1132);return i.useEffect(()=>{function e(){t(window.innerWidth<1132)}return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),e}},483517:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(469504);function s(e){let{className:t}=e;return(0,i.jsx)("div",{className:r()(a.divider,t)})}},900927:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(399606),r=n(481060),a=n(275759),s=n(565138),o=n(706454),c=n(271383),d=n(430824),u=n(709054),h=n(388032),p=n(181402);function m(e){let{userId:t,guildId:n,textClassName:m,tooltipDelay:f}=e,g=(0,l.e7)([o.default],()=>o.default.locale),C=(0,l.e7)([d.Z],()=>null!=n?d.Z.getGuild(n):null),x=(0,l.e7)([c.ZP],()=>null!=n?c.ZP.getMember(n,t):null),v=(0,a.FI)(u.default.extractTimestamp(t),g),_=(0,a.FI)(null==x?void 0:x.joinedAt,g);return null==C||null==x?(0,i.jsx)(r.Text,{variant:"text-sm/normal",className:m,children:v}):(0,i.jsxs)("div",{className:p.memberSinceWrapper,children:[(0,i.jsxs)("div",{className:p.memberSince,children:[(0,i.jsx)(r.Tooltip,{text:h.intl.string(h.t.uvGmCw),delay:f,children:e=>(0,i.jsx)(r.ClydeIcon,{size:"custom",width:28,height:28,color:"currentColor",...e,className:p.discordIcon})}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",className:m,children:v})]}),(0,i.jsx)("div",{className:p.divider}),(0,i.jsxs)("div",{className:p.memberSince,children:[(0,i.jsx)(r.Tooltip,{text:C.name,delay:f,children:e=>(0,i.jsx)(s.Z,{...e,guild:C,size:s.Z.Sizes.SMOL})}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",className:m,children:_})]})]})}},389190:function(e,t,n){n.d(t,{T:function(){return C},Z:function(){return x}});var i=n(200651);n(192379);var l=n(442837),r=n(481060),a=n(239091),s=n(129861),o=n(906732),c=n(158776),d=n(785717),u=n(697927),h=n(171368),p=n(981631),m=n(388032),f=n(731218);let g=(0,r.getAvatarSize)(r.AvatarSizes.SIZE_40);function C(e){let{user:t,status:o,onSelect:d}=e,u=(0,l.e7)([c.Z],()=>c.Z.isMobileOnline(t.id));return(0,i.jsxs)(r.Clickable,{focusProps:{offset:{right:8}},className:f.listRow,onClick:d,onContextMenu:e=>{(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("351")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})},children:[(0,i.jsx)(r.Avatar,{src:t.getAvatarURL(void 0,g),"aria-label":t.username,size:r.AvatarSizes.SIZE_40,status:o,isMobile:u,className:f.listAvatar}),(0,i.jsx)(s.Z,{user:t,className:f.listName,discriminatorClass:f.listDiscriminator})]})}function x(e){let{user:t,onClose:n}=e,{mutualFriends:l,isFetching:a}=(0,u.Z)(t.id),{analyticsLocations:s}=(0,o.ZP)(),{context:c,trackUserProfileAction:g}=(0,d.KZ)(),x=e=>{n(),(0,h.openUserProfileModal)({...c,userId:e,sourceAnalyticsLocations:s,analyticsLocation:{section:p.jXE.USER_PROFILE_MUTUAL_FRIENDS}})};return(0,i.jsx)(r.ScrollerThin,{className:f.listScroller,fade:!0,children:null==l&&a?(0,i.jsx)("div",{className:f.empty,children:(0,i.jsx)(r.Spinner,{})}):(null!=l||a)&&(null==l?void 0:l.length)!==0?null==l?void 0:l.map(e=>{let{key:t,user:n,status:l}=e;return(0,i.jsx)(C,{user:n,status:l,onSelect:()=>{g({action:"PRESS_MUTUAL_FRIEND"}),x(n.id)}},t)}):(0,i.jsxs)("div",{className:f.empty,children:[(0,i.jsx)("div",{className:f.emptyIconFriends}),(0,i.jsx)("div",{className:f.emptyText,children:m.intl.string(m.t["/5p4g4"])})]})})}},428927:function(e,t,n){n.d(t,{D:function(){return b},Z:function(){return Z}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(780384),s=n(481060),o=n(239091),c=n(37234),d=n(410030),u=n(44315),h=n(565138),p=n(769654),m=n(51144),f=n(785717),g=n(200634),C=n(228168),x=n(981631),v=n(388032),_=n(731218),I=n(644197);let E=(0,s.getAvatarSize)(s.AvatarSizes.SIZE_16);function b(e){let{user:t,guild:l,nick:c,theme:d,onSelect:p}=e,f=t.hasAvatarForGuild(l.id);return(0,i.jsxs)(s.Clickable,{focusProps:{offset:{right:8}},className:_.listRow,onClick:p,onContextMenu:e=>{(0,o.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("48835"),n.e("33053"),n.e("17298"),n.e("90508"),n.e("65840"),n.e("7654"),n.e("33862"),n.e("42309"),n.e("98479"),n.e("80284"),n.e("31113"),n.e("50687"),n.e("60696"),n.e("70205"),n.e("58227"),n.e("16114"),n.e("1187"),n.e("69174"),n.e("72514"),n.e("62278"),n.e("93375"),n.e("64679"),n.e("88244"),n.e("21881"),n.e("33213"),n.e("56007")]).then(n.bind(n,545135));return t=>(0,i.jsx)(e,{...t,guild:l})})},children:[(0,i.jsx)(h.Z,{tabIndex:-1,guild:l,showBadge:!0,className:r()(_.listAvatar,null==l.icon?I.guildAvatarWithoutIcon:null),badgeStrokeColor:(0,u.Lq)((0,a.wj)(d)?x.Ilk.PRIMARY_600:x.Ilk.WHITE_500),badgeTooltipColor:s.TooltipColors.PRIMARY,badgeTooltipDelay:C.vB,size:h.Z.Sizes.MEDIUM,active:!0}),(0,i.jsxs)("div",{className:_.listRowContent,children:[(0,i.jsx)("div",{className:_.listName,children:l.toString()}),f||null!=c?(0,i.jsxs)("div",{className:I.guildNick,children:[f&&(0,i.jsx)(s.Avatar,{src:t.getAvatarURL(l.id,E),size:s.AvatarSizes.SIZE_16,className:I.guildAvatar,"aria-hidden":!0}),null!=c?c:m.ZP.getName(t)]}):null]})]})}function Z(e){let{user:t,onClose:n}=e,{trackUserProfileAction:l}=(0,f.KZ)(),{mutualGuilds:r,isFetching:a}=(0,g.Z)(t.id),o=(0,d.ZP)(),u=e=>{(0,p.X)(e),n(),(0,c.xf)()};return(0,i.jsx)(s.ScrollerThin,{className:_.listScroller,fade:!0,children:null==r&&a?(0,i.jsx)("div",{className:_.empty,children:(0,i.jsx)(s.Spinner,{})}):(null!=r||a)&&(null==r?void 0:r.length)!==0?null==r?void 0:r.map(e=>{let{guild:n,nick:r}=e;return(0,i.jsx)(b,{user:t,guild:n,nick:r,theme:o,onSelect:()=>{l({action:"PRESS_MUTUAL_GUILD"}),u(n.id)}},n.id)}):(0,i.jsxs)("div",{className:_.empty,children:[(0,i.jsx)("div",{className:_.emptyIconGuilds}),(0,i.jsx)("div",{className:_.emptyText,children:v.intl.string(v.t.zjVh8v)})]})})}},432958:function(e,t,n){n.d(t,{A:function(){return j},Z:function(){return T}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(597312),o=n(442837),c=n(481060),d=n(410030),u=n(100527),h=n(906732),p=n(699516),m=n(5192),f=n(785717),g=n(221292),C=n(687158),x=n(471879),v=n(502762),_=n(848780),I=n(907179),E=n(475413),b=n(228168),Z=n(388032),N=n(562296),S=n(321975);function T(e){let{user:t,channel:n,onViewBlockedProfileClick:r}=e,a=(0,C.ZP)(t.id),o=(0,d.ZP)(),{analyticsLocations:p}=(0,h.ZP)(u.Z.BLOCKED_PROFILE_PANEL),m=(0,f.ZB)({layout:"BLOCKED_PROFILE_PANEL",userId:t.id,channelId:n.id}),_=l.useRef(null);return(0,i.jsx)(h.Gt,{value:p,children:(0,i.jsx)(f.Mt,{value:m,children:(0,i.jsx)(v.Z,{ref:_,user:t,displayProfile:a,profileType:b.y0.PANEL,themeOverride:o,children:(0,i.jsx)(s.u2,{children:(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsx)("img",{alt:"",src:S,className:N.previewForCollected,"aria-hidden":!0}),(0,i.jsxs)("div",{className:N.body,children:[(0,i.jsx)(x.Z,{user:t,guildId:null}),(0,i.jsx)(c.Heading,{variant:"heading-lg/bold",className:N.header,children:Z.intl.string(Z.t.VNJ7UF)}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:Z.intl.format(Z.t.LXbngo,{username:t.username})}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:Z.intl.string(Z.t["20WzZ2"])}),(0,i.jsx)(E.tG,{className:N.centeredButton,action:"VIEW_BLOCKED_PROFILE",text:Z.intl.string(Z.t.iXAna2),autoFocus:!0,fullWidth:!1,onClick:()=>{null==r||r(),(0,g.pQ)({action:"VIEW_BLOCKED_PROFILE",analyticsLocations:p,...m})}})]})]})})})})})}function j(e){let{user:t,channel:n,onViewBlockedProfileClick:r}=e,E=(0,C.ZP)(t.id),T=(0,d.ZP)(),j=(0,o.e7)([p.Z],()=>p.Z.isBlocked(t.id)),{analyticsLocations:A}=(0,h.ZP)(j?u.Z.BLOCKED_PROFILE_PANEL:u.Z.IGNORED_PROFILE_PANEL),y=(0,f.ZB)({layout:j?"BLOCKED_PROFILE_PANEL":"IGNORED_PROFILE_PANEL",userId:t.id,channelId:n.id}),P=l.useRef(null);return(0,i.jsx)(h.Gt,{value:A,children:(0,i.jsx)(f.Mt,{value:y,children:(0,i.jsx)(v.Z,{ref:P,user:t,displayProfile:E,profileType:b.y0.PANEL,themeOverride:T,children:(0,i.jsx)(s.u2,{children:(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsx)("img",{alt:"",src:S,className:N.previewForCollected,"aria-hidden":!0}),(0,i.jsxs)("div",{className:a()(N.body,N.bodySpacing),children:[(0,i.jsxs)("div",{className:N.headerContainer,children:[(0,i.jsx)(x.i,{user:t}),(0,i.jsx)(c.Heading,{variant:"heading-lg/bold",children:Z.intl.string(Z.t.b33pLC)}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:Z.intl.format(j?Z.t["8F+WNz"]:Z.t["/cZp5u"],{username:m.ZP.getName(n.guild_id,n.id,t)})})]}),(0,i.jsxs)(c.Stack,{align:"center",children:[(0,i.jsx)(I.Z,{isBlocked:j,onClick:()=>{null==r||r(),(0,g.pQ)({action:j?"VIEW_BLOCKED_PROFILE":"VIEW_IGNORED_PROFILE",analyticsLocations:A,...y})}}),(0,i.jsx)(_.Z,{userId:t.id,onClick:()=>{null==r||r(),(0,g.pQ)({action:"DONT_SHOW_AGAIN_IGNORED_PROFILE",analyticsLocations:A,...y})}})]})]})]})})})})})}},792379:function(e,t,n){n.d(t,{Z:function(){return R}});var i=n(200651),l=n(192379),r=n(597312),a=n(481060),s=n(727637),o=n(410030),c=n(100527),d=n(906732),u=n(580552),h=n(688465),p=n(680295),m=n(5192),f=n(785717),g=n(221292),C=n(687158),x=n(899007),v=n(648052),_=n(867176),I=n(280885),E=n(900927),b=n(678738),Z=n(502762),N=n(530),S=n(679332),T=n(544989),j=n(171368),A=n(228168),y=n(388032),P=n(747918),M=n(866669);function R(e){let{user:t,channel:n}=e,R=__OVERLAY__||!(0,u.Z)(t.id),L=(0,C.ZP)(t.id),k=(0,o.ZP)(),{analyticsLocations:O}=(0,d.ZP)(c.Z.PROFILE_PANEL),D=(0,f.ZB)({layout:"SIMPLIFIED_DM_PANEL",userId:t.id,channelId:n.id}),w=l.useRef(null),B=(0,s.Z)(w),U=e=>{(0,j.openUserProfileModal)({sourceAnalyticsLocations:O,...D,...e})};return(0,i.jsx)(d.Gt,{value:O,children:(0,i.jsx)(f.Mt,{value:D,children:(0,i.jsxs)(Z.Z,{ref:w,user:t,displayProfile:L,profileType:A.y0.PANEL,themeOverride:k,children:[(0,i.jsxs)(r.u2,{children:[(0,i.jsx)(T.Z,{profileType:A.y0.PANEL,children:(0,i.jsx)(S.Z,{user:t})}),(0,i.jsxs)("header",{className:P.header,children:[(0,i.jsx)(_.Z,{user:t,displayProfile:L,profileType:A.y0.PANEL,animateOnHover:!B}),(0,i.jsx)(x.Z,{user:t,displayProfile:L,channelId:n.id,profileType:A.y0.PANEL,onOpenProfile:R?void 0:U}),t.isClyde()&&(0,i.jsx)(h.Z,{className:P.headerTag})]}),(0,i.jsxs)("div",{className:M.body,children:[(0,i.jsx)(N.Z,{user:t,profileType:A.y0.PANEL,nickname:m.ZP.getName(null,n.id,t),pronouns:null==L?void 0:L.pronouns,onOpenProfile:R?void 0:U,tags:(0,i.jsx)(v.Z,{displayProfile:L,profileType:A.y0.PANEL})}),(0,i.jsxs)(Z.Z.Overlay,{className:M.overlay,children:[(0,i.jsx)(b.Z,{heading:y.intl.string(y.t["61W33d"]),headingColor:"header-primary",children:(0,i.jsx)(I.Z,{userBio:null==L?void 0:L.bio,userId:t.id,animateOnHover:!0,isHovering:B})}),(0,i.jsx)(b.Z,{heading:y.intl.string(y.t["A//N4u"]),headingColor:"header-primary",children:(0,i.jsx)(E.Z,{userId:t.id})})]})]})]}),!R&&(0,i.jsx)("footer",{className:P.footer,children:(0,i.jsx)(a.Button,{fullWidth:!0,size:a.Button.Sizes.LARGE,look:a.Button.Looks.BLANK,color:P.footerButtonColor,onClick:()=>{U(),(0,g.pQ)({action:"PRESS_VIEW_PROFILE",analyticsLocations:O,...D})},children:y.intl.string(y.t["+Xp3ho"])})}),(null==L?void 0:L.profileEffectId)!=null&&(0,i.jsx)(p.Z,{profileEffectId:null==L?void 0:L.profileEffectId,isHovering:B})]})})})}},177222:function(e,t,n){n.d(t,{Z:function(){return k}});var i=n(200651),l=n(192379),r=n(752877),a=n(597312),s=n(481060),o=n(727637),c=n(410030),d=n(100527),u=n(906732),h=n(688465),p=n(680295),m=n(785717),f=n(221292),g=n(687158),C=n(326094),x=n(510659),v=n(113557),_=n(867176),I=n(451834),E=n(502762),b=n(952124),Z=n(544989),N=n(481932),S=n(272510),T=n(495804),j=n(171368),A=n(348540),y=n(179142),P=n(228168),M=n(981631),R=n(388032),L=n(747918);function k(e){let{user:t,currentUser:n,channel:k}=e,O=__OVERLAY__,D=(0,g.ZP)(t.id),w=(0,c.ZP)(),B=(0,C.Z)({user:t,currentUser:n,location:M.Sbl.PROFILE_PANEL}),U=(0,m.ZB)({layout:B?"SIMPLIFIED_DM_PANEL":"SIMPLIFIED_DM_PANEL_RESTRICTED_BLOCKER_PROFILE",userId:t.id,channelId:k.id}),{analyticsLocations:H}=(0,u.ZP)(d.Z.PROFILE_PANEL),G=l.useRef(null),F=(0,o.Z)(G),V=(0,x.$m)(),z=(0,s.useSpring)({opacity:null!=V.interactionType?1:0,config:{duration:150}}),W=e=>{(0,j.openUserProfileModal)({sourceAnalyticsLocations:H,...U,...e})};return(0,i.jsx)(u.Gt,{value:H,children:(0,i.jsx)(m.Mt,{value:U,children:(0,i.jsx)(x.NJ,{value:V,children:(0,i.jsxs)(E.Z,{ref:G,user:t,displayProfile:D,profileType:P.y0.PANEL,themeOverride:w,children:[null!=V.interactionType&&(0,i.jsx)(r.animated.div,{style:z,className:L.backdrop}),(0,i.jsxs)(a.u2,{children:[(0,i.jsxs)(Z.Z,{profileType:P.y0.PANEL,children:[(0,i.jsx)(N.Z,{user:t,profileType:P.y0.PANEL}),t.bot?(0,i.jsx)(b.Z,{user:t}):(0,i.jsx)(S.Z,{user:t})]}),(0,i.jsxs)("header",{className:L.header,children:[(0,i.jsx)(_.Z,{user:t,displayProfile:D,profileType:P.y0.PANEL,animateOnHover:!F,className:L.banner}),(0,i.jsx)(I.Z,{userId:t.id,className:L.toast}),(0,i.jsx)(v.Z,{location:"UserProfilePanel",user:t,displayProfile:D,channelId:k.id,profileType:P.y0.PANEL,onOpenProfile:O?void 0:W}),(0,i.jsx)(T.Z,{location:"UserProfilePanel",user:t,channelId:k.id,profileType:P.y0.PANEL}),t.isClyde()&&(0,i.jsx)(h.Z,{className:L.headerTag})]}),(0,i.jsx)(A.Z,{user:t,currentUser:n,displayProfile:D,channel:k,isHovering:null==V.interactionType&&F,onOpenProfile:O?void 0:W}),(0,i.jsx)(y.Z,{user:t})]}),!O&&(0,i.jsx)("footer",{className:L.footer,children:(0,i.jsx)(s.Button,{fullWidth:!0,size:s.Button.Sizes.LARGE,look:s.Button.Looks.BLANK,color:L.footerButtonColor,onClick:()=>{W(),(0,f.pQ)({action:"PRESS_VIEW_PROFILE",analyticsLocations:H,...U})},children:R.intl.string(R.t["+Xp3ho"])})}),(null==D?void 0:D.profileEffectId)!=null&&(0,i.jsx)(p.Z,{profileEffectId:null==D?void 0:D.profileEffectId,isHovering:F})]})})})})}},348540:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(200651),l=n(442837),r=n(189156),a=n(699516),s=n(246946),o=n(5192),c=n(621853),d=n(172351),u=n(648052),h=n(280885),p=n(483424),m=n(681837),f=n(91433),g=n(900927),C=n(944043),x=n(678738),v=n(502762),_=n(530),I=n(827313),E=n(228168),b=n(981631),Z=n(388032),N=n(866669);function S(e){let{user:t,currentUser:n,displayProfile:S,channel:T,isHovering:j,onOpenProfile:A}=e,y=(0,l.e7)([a.Z],()=>a.Z.getRelationshipType(t.id)),P=(0,l.e7)([s.Z],()=>s.Z.hidePersonalInformation),M=(0,l.e7)([c.Z],()=>{var e;return null===(e=c.Z.getUserProfile(t.id))||void 0===e?void 0:e.application});return(0,i.jsxs)("div",{className:N.body,children:[(0,i.jsx)(_.Z,{user:t,profileType:E.y0.PANEL,nickname:o.ZP.getName(null,T.id,t),pronouns:null==S?void 0:S.pronouns,onOpenProfile:A,tags:(0,i.jsx)(u.Z,{displayProfile:S,profileType:E.y0.PANEL}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{userId:t.id}),!P&&(0,i.jsx)(I.Z,{userId:t.id,isHovering:j,onOpenProfile:A})]})}),y===b.OGo.PENDING_INCOMING&&(0,i.jsx)(v.Z.Overlay,{children:(0,i.jsx)(f.Z,{user:t,channelId:T.id})}),(0,i.jsx)(C.Z,{user:t}),t.isProvisional&&(0,i.jsx)(r.Z,{look:"profile"}),(0,i.jsx)(p.Z,{user:t,currentUser:n,className:N.activity}),(0,i.jsxs)(v.Z.Overlay,{className:N.overlay,children:[!P&&(null==S?void 0:S.bio)!=null&&(null==S?void 0:S.bio)!==""&&(0,i.jsx)(x.Z,{heading:Z.intl.string(Z.t["61W33d"]),headingColor:"header-primary",children:(0,i.jsx)(h.Z,{userBio:S.bio,animateOnHover:!0,isHovering:j,userId:t.id})}),(null==M?void 0:M.popularApplicationCommandIds)!=null&&(0,i.jsx)(d.Z,{applicationId:M.id,commandIds:M.popularApplicationCommandIds,channel:T}),(0,i.jsx)(x.Z,{heading:t.bot?Z.intl.string(Z.t["A//N4u"]):Z.intl.string(Z.t.a6XYDw),headingColor:"header-primary",children:(0,i.jsx)(g.Z,{userId:t.id})})]})]})}},638785:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(481060),o=n(566898),c=n(785717),d=n(68187);function u(e){let{section:t,header:n,items:r,minItems:u=0,isLoading:h,listClassName:p}=e,{trackUserProfileAction:m}=(0,c.KZ)(),f=l.useId(),[g,C]=l.useState(!1),x=g?s.ChevronSmallDownIcon:s.ChevronSmallRightIcon;return(0,i.jsxs)("section",{className:d.section,children:[h?(0,i.jsxs)("div",{className:a()(d.header,d.loading),children:[(0,i.jsx)(o.ZT,{width:135,opacity:.08}),(0,i.jsx)(o.ZT,{width:34,opacity:.08})]}):r.length<=u?(0,i.jsxs)(s.Heading,{variant:"text-sm/medium",color:"text-normal",className:d.header,children:[n," — ",r.length]}):(0,i.jsxs)(s.Clickable,{className:a()(d.header,d.clickable),"aria-controls":f,"aria-expanded":g,onClick:()=>{C(!g),!g&&m({action:"PRESS_SECTION",section:t})},children:[(0,i.jsxs)(s.Heading,{variant:"text-sm/medium",color:"text-normal",children:[n," — ",r.length]}),(0,i.jsx)(x,{size:"md"})]}),r.length>0&&(0,i.jsx)("ul",{id:f,hidden:!g&&u<=0,className:a()(d.list,p),children:g||r.length<=u?r:r.slice(0,u)})]})}},179142:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(200651);n(192379);var l=n(410030),r=n(906732),a=n(769654),s=n(785717),o=n(697927),c=n(200634),d=n(483517),u=n(502762),h=n(171368),p=n(389190),m=n(428927),f=n(638785),g=n(388032),C=n(341855);function x(e){let{user:t}=e,{analyticsLocations:n}=(0,r.ZP)(),{context:x}=(0,s.KZ)(),v=(0,l.ZP)(),{mutualFriends:_,isFetching:I}=(0,o.Z)(t.id,!t.bot),{mutualGuilds:E,isFetching:b}=(0,c.Z)(t.id,!0),Z=!t.bot&&null!=_&&_.length>0,N=null!=E&&E.length>0;return Z||N?(0,i.jsxs)(u.Z.Overlay,{className:C.overlay,children:[N&&(0,i.jsx)(f.Z,{section:"MUTUAL_GUILDS",header:g.intl.string(g.t["4lTDZm"]),isLoading:b,listClassName:C.list,items:E.map(e=>{let{guild:n,nick:l}=e;return(0,i.jsx)(m.D,{user:t,guild:n,nick:l,theme:v,onSelect:()=>(0,a.X)(n.id)},n.id)})}),N&&Z&&(0,i.jsx)(d.Z,{className:C.divider}),Z&&(0,i.jsx)(f.Z,{section:"MUTUAL_FRIENDS",header:g.intl.string(g.t["0mTJ3t"]),isLoading:I,listClassName:C.list,items:_.map(e=>{let{key:t,user:l,status:r}=e;return(0,i.jsx)(p.T,{user:l,status:r,onSelect:()=>{(0,h.openUserProfileModal)({...x,userId:l.id,sourceAnalyticsLocations:n})}},t)})})]}):null}},430670:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120);var i=n(200651),l=n(192379),r=n(512722),a=n.n(r),s=n(442837),o=n(911367),c=n(922611),d=n(695346),u=n(699516),h=n(594174),p=n(971393),m=n(646915),f=n(184301),g=n(432958),C=n(792379),x=n(177222);function v(e){let{channel:t,...n}=e,r=(0,m.Z)();(0,o.t)();let[v]=t.recipients,_=(0,s.e7)([h.default],()=>h.default.getUser(v));a()(null!=_,"UserProfilePanelWrapper: user cannot be undefined");let I=(0,s.e7)([h.default],()=>h.default.getCurrentUser());a()(null!=I,"UserProfilePanelWrapper: currentUser cannot be undefined"),l.useEffect(()=>{(0,f.Z)(_,{withMutualFriends:!_.bot,withMutualGuilds:!0,channelId:t.id})},[_,t.id]);let{isBlocked:E,isIgnored:b}=(0,s.cj)([u.Z],()=>({isBlocked:u.Z.isBlocked(_.id),isIgnored:u.Z.isIgnored(_.id)})),Z=(0,c.Do)({location:"UserProfilePanelWrapper"}),[N,S]=l.useState(E||Z&&(b||E)),T=(0,p.sS)({location:"UserProfilePopoutWrapper"});l.useEffect(()=>{S(E||Z&&(b||E))},[E,b,Z]);let j=d.Rt.useSetting();return r?null:N&&T&&!Z?(0,i.jsx)(g.Z,{user:_,currentUser:I,channel:t,onViewBlockedProfileClick:()=>S(!1),...n}):Z&&N&&!(b&&j)?(0,i.jsx)(g.A,{user:_,currentUser:I,channel:t,onViewBlockedProfileClick:()=>S(!1),...n}):_.isNonUserBot()?(0,i.jsx)(C.Z,{user:_,currentUser:I,channel:t,...n}):(0,i.jsx)(x.Z,{user:_,currentUser:I,channel:t,...n})}},807705:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(192379);function l(e,t){let n=(0,i.useRef)(!1),l=(0,i.useRef)(e);(0,i.useEffect)(()=>{n.current=e!==l.current,l.current=e},[e]),(0,i.useEffect)(()=>{let e=setTimeout(()=>n.current=!1,t);return()=>clearTimeout(e)},[e,t]);let r=e!==l.current,a=n.current;return r||a}},434488:function(e,t,n){n.d(t,{h:function(){return N}});var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(704215),o=n(692547),c=n(481060),d=n(2052),u=n(127255),h=n(5200),p=n(403404),m=n(100527),f=n(906732),g=n(895924),C=n(605236),x=n(448239),v=n(626135),_=n(607187),I=n(981631),E=n(388032),b=n(414360),Z=n(334732);function N(e){let{channel:t,guild:n,width:l,inPopout:r,handleClose:a,userParticipantCount:s}=e;return l<250?(0,i.jsx)(S,{channel:t,guild:n,width:l,inPopout:r,handleClose:a,userParticipantCount:s}):s>1?(0,i.jsx)(j,{channel:t,guild:n,width:l,inPopout:r,handleClose:a,userParticipantCount:s}):(0,i.jsx)(T,{channel:t,guild:n,width:l,inPopout:r})}function S(e){let{channel:t,inPopout:n,handleClose:l}=e,{analyticsLocations:r}=(0,f.ZP)(m.Z.VC_TILE_ACTIVITY_SHELF_BUTTON),s=(0,d.O)(),u=()=>{(0,p.Z)({channel:t,guildId:t.guild_id,locationObject:s.location,openInPopout:n,analyticsLocations:r,opensAppLauncherModal:!0})};return(0,i.jsx)(f.Gt,{value:r,children:(0,i.jsxs)(_.Z,{className:b.root,children:[(0,i.jsx)(c.Tooltip,{text:E.intl.string(E.t.qJvTKS),children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(c.Clickable,{...n,className:b.clickableTile,onClick:()=>{null==t||t(),u()},children:(0,i.jsx)("div",{className:b.iconContainer,children:(0,i.jsx)(c.ActivitiesPlusIcon,{size:"custom",color:"currentColor",width:40,height:40})})})}}),(0,i.jsx)(c.ThemeProvider,{theme:I.BRd.DARK,children:e=>(0,i.jsx)(c.Clickable,{onClick:l,className:a()(e,b.shelfButtonCloseButton),children:(0,i.jsx)(c.CircleXIcon,{size:"md",color:"currentColor",className:b.closeButtonIcon,secondaryColor:o.Z.colors.INTERACTIVE_NORMAL.css})})})]})})}function T(e){let{channel:t,guild:r,inPopout:a,width:s}=e;l.useEffect(()=>{v.default.track(I.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity invite",n_participants:1})},[]);let o=(0,d.O)(),{analyticsLocations:u}=(0,f.ZP)(m.Z.VC_TILE_ACTIVITY_INVITE);return(0,i.jsx)(f.Gt,{value:u,children:(0,i.jsxs)(_.Z,{className:b.root,children:[s>400?(0,i.jsx)("img",{src:Z,className:b.art,alt:E.intl.string(E.t["3Y9xdH"])}):null,(0,i.jsx)(c.Text,{className:b.heading,variant:"text-md/semibold",color:"always-white",children:E.intl.string(E.t["6pKGKS"])}),(0,i.jsxs)("div",{className:b.buttonContainer,children:[(0,i.jsxs)(c.Button,{size:c.Button.Sizes.LARGE,color:c.Button.Colors.PRIMARY,className:b.button,innerClassName:b.buttonContents,onClick:function(){(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:r,channel:t,source:I.t4x.ACTIVITY_ENTRY_POINT_TILE})},{contextKey:a?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT})},children:[(0,i.jsx)(c.FriendsIcon,{size:"xs",color:"currentColor"}),E.intl.string(E.t["6Qgren"])]}),(0,i.jsxs)(c.Button,{size:c.Button.Sizes.LARGE,className:b.button,innerClassName:b.buttonContents,onClick:function(){(0,p.Z)({channel:t,guildId:t.guild_id,locationObject:o.location,openInPopout:a,analyticsLocations:u,opensAppLauncherModal:!0})},children:[(0,i.jsx)(c.ActivitiesIcon,{size:"xs",color:"currentColor"}),E.intl.string(E.t.qaIFpq)]})]})]})})}function j(e){let{channel:t,guild:n,handleClose:r,width:o,userParticipantCount:d}=e;l.useEffect(()=>{v.default.track(I.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity suggestion",n_participants:d})},[]);let p=(0,u.Z)({guildId:n.id}).slice(0,3),{analyticsLocations:N}=(0,f.ZP)(m.Z.VC_TILE_ACTIVITY_SUGGESTION);return(0,i.jsx)(f.Gt,{value:N,children:(0,i.jsxs)(_.Z,{className:b.root,children:[o>480?(0,i.jsx)("img",{className:b.art,src:Z,alt:E.intl.string(E.t["3Y9xdH"])}):null,o>300?(0,i.jsx)(c.Text,{className:b.heading,variant:o>550?"text-md/semibold":"text-sm/semibold",children:E.intl.string(E.t["7BKMcH"])}):null,(0,i.jsx)("div",{className:a()(b.activitiesContainer,{[b.activitiesContainerSmol]:o<=300}),children:p.map(e=>(0,i.jsx)(h.Y,{channel:t,activityItem:e,aspectRatio:h.Y.AspectRatio.SIXTEEN_BY_NINE,animatedDivClass:b.activitySuggestion,commandOrigin:g.bB.VOICE_TILE_ACTIVITY_SUGGESTIONS},e.application.id))}),(0,i.jsxs)(c.Clickable,{className:b.checkboxContainer,onClick:function(){v.default.track(I.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"permanent",n_participants:d}),(0,C.EW)(s.z.VC_TILE_ACTIVITIES_ENTRY_POINT)},children:[(0,i.jsx)(x.Z,{}),(0,i.jsx)(c.Text,{variant:"text-sm/medium",children:E.intl.string(E.t["5E9SBw"])})]}),(0,i.jsx)(c.Clickable,{className:b.closeButtonContainer,onClick:function(){v.default.track(I.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"temporary",n_participants:d}),r()},children:(0,i.jsx)(c.XSmallIcon,{size:"md",color:"currentColor",className:b.closeButton})})]})})}},111248:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(433517),c=n(519938),d=n(241915),u=n(366050),h=n(27457),p=n(981631),m=n(354459),f=n(186895),g=n(616926);let C="CameraPreviewPosition";function x(e,t){return e*t+8*(t-1)}function v(e){var t;let{width:n,onContextMenuParticipant:r,height:x,channel:v,participants:_}=e,[I,E]=function(){let[e,t]=l.useState(()=>o.K.get(C,p.VD2.BOTTOM_RIGHT));return[e,l.useCallback(e=>{o.K.set(C,e),t(e)},[])]}(),b=l.useRef(null),Z=null==v.getGuildId()?70:50,N=(0,s.e7)([u.Z],()=>u.Z.pipWidth(m.cL.CAMERA_PREVIEW)),S=_.length;let T=N*(t=S)+8*(t-1),j=l.useMemo(()=>{var e,t,n,i;return{minWidth:(e=m.Rv[m.cL.CAMERA_PREVIEW],e*(t=S)+8*(t-1)),maxWidth:(n=m.$i[m.cL.CAMERA_PREVIEW],n*(i=S)+8*(i-1))}},[S]);l.useLayoutEffect(()=>{var e;null===(e=b.current)||void 0===e||e.ensureIsInPosition()},[_.length]);let A=l.useCallback(e=>{var t,n;let i=(t=e,0===(n=S)?t:(t-8*(n-1))/n);c.d7(i,m.cL.CAMERA_PREVIEW)},[S]),y=l.useCallback((e,t)=>{E(t)},[E]);return(0,i.jsx)("div",{className:f.container,children:(0,i.jsx)(d._,{position:I,id:0,width:T,ref:b,onMove:y,onResize:A,maxX:n,maxY:x,edgeOffsetTop:Z,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16,resizeConfig:j,children:(0,i.jsx)("div",{className:f.tileContainer,children:_.map(e=>(0,i.jsx)(h.ZP,{participant:e,channel:v,onContextMenu:r,className:a()(f.tile,g.elevationHigh),fit:h.BP.COVER,inCall:!0,inPopout:!1,width:160},e.id))})})})}},793319:function(e,t,n){n.d(t,{NZ:function(){return eT},r:function(){return eS}}),n(47120);var i,l,r=n(200651),a=n(192379),s=n(120356),o=n.n(s),c=n(512722),d=n.n(c),u=n(752877),h=n(848246),p=n(442837),m=n(704215),f=n(481060),g=n(846027),C=n(287734),x=n(872810),v=n(410575),_=n(40851),I=n(317381),E=n(596040),b=n(100527),Z=n(906732),N=n(358221),S=n(887012),T=n(659580),j=n(793865),A=n(575175),y=n(997614),P=n(324085),M=n(243778),R=n(258609),L=n(446226),k=n(569545),O=n(74299),D=n(803647),w=n(554747),B=n(95764),U=n(459502),H=n(386542),G=n(140465),F=n(746599),V=n(455961),z=n(611845),W=n(800966),K=n(641015),Y=n(618158),q=n(390322),X=n(791592),J=n(136995),Q=n(402113),$=n(197016),ee=n(386e3),et=n(698877),en=n(25827),ei=n(199902),el=n(523746),er=n(131951),ea=n(944486),es=n(594174),eo=n(626135),ec=n(700785),ed=n(861254),eu=n(923973),eh=n(829750),ep=n(189771),em=n(294629),ef=n(304745),eg=n(985370),eC=n(544384),ex=n(560688),ev=n(127608),e_=n(76021),eI=n(173507),eE=n(981631),eb=n(354459),eZ=n(921944),eN=n(561716);function eS(e,t){if(er.Z.isVideoEnabled()===e)return;let n=()=>g.Z.setVideoEnabled(e);e?(0,eI.Z)(n,t):n()}function eT(e){let{channel:t,currentUser:n,exitFullScreen:i,canGoLive:l,hasPermission:s,disabled:o}=e,{groupedButtons:c}=(0,ed.ZP)({location:"GoLiveButton"}),d=(0,_.bp)(),u=(0,p.Wu)([ei.Z],()=>ei.Z.getAllActiveStreams()),g=u.find(e=>e.ownerId===n.id),{activated:C,hqStreamingState:x}=(0,H.k)(h.q.STREAM_HIGH_QUALITY),v=null!=g&&C,I=a.useRef(null),E=t.getGuildId(),b=a.useCallback(()=>{if(null==i||i(),!l)return(0,ev.Z)();(0,e_.Z)(E,t.id,eE.ZY5.GUILD_CHANNEL)},[E,t.id,l,i]),Z=(0,G.B4)({location:"GoLiveButton"}),N=(0,P.bK)(),[S,T]=a.useState(!1);a.useEffect(()=>{if(T(t.isHDStreamSplashed&&null==g&&!N),t.isHDStreamSplashed){let e=setTimeout(()=>{T(!1)},3e5);return()=>clearTimeout(e)}},[t.isHDStreamSplashed,g,N]);let j=()=>{if(l){b();return}(0,ev.Z)()},A=()=>{(0,D.Z)(g)},y=F.pM,R=a.useCallback(()=>{eo.default.track(eE.rMx.PERK_DEMO_OFFER_DISMISSED,{guild_id:t.guild_id,channel_id:t.id,perk_type:h.q.STREAM_HIGH_QUALITY}),(0,F.qA)()},[t.guild_id,t.id]),L=(e,t)=>{let{onClick:n,...i}=null!=e?e:{onClick:void 0},l=null!=g;return(0,r.jsx)(et.O,{...i,centerButton:!0,disabled:o||!s,className:c?void 0:eN.controlButton,hasPermission:s,streamActive:null!=g,isSelfStream:!0,onPopoutClick:l?function(e){x.hqStreamingIsEnabled&&!x.hqStreamingPopoutDismissed&&y(),null==n||n(e)}:null,popoutOpen:t,shouldShowTooltip:!t,premiumGlow:S,buttonRef:I,onClick:null!=g?A:j})};return(0,r.jsxs)(r.Fragment,{children:[Z&&0===u.length?(0,r.jsx)(M.ZP,{contentTypes:[m.z.TRIAL_NUX_STREAM_COACH_MARK],bypassAutoDismiss:!0,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===m.z.TRIAL_NUX_STREAM_COACH_MARK)return(0,r.jsx)(W.h,{buttonRef:I,dismissed:!1,onDismiss:()=>n(eZ.L.USER_DISMISS)})}}):v&&x.hqStreamingIsEnabled?(0,r.jsx)(z.$,{buttonRef:I,dismissed:x.hqStreamingPopoutDismissed,onDismiss:y}):(0,r.jsx)(V.b,{channel:t,buttonRef:I,dismissed:x.hqStreamingOptInPopoutDismissed,onDismiss:R}),(0,r.jsx)(Y.Z,{children:(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:i}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(eC.Z,{channel:t,currentUser:n,activeStreams:null!=g?[g]:[],handleGoLive:b,onClose:i,appContext:d})})},position:"top",align:"center",spacing:16,animation:f.Popout.Animation.FADE,children:(e,t)=>{let{...n}=e,{isShown:i}=t;return(0,r.jsx)("div",{children:L(n,i)})}})})]})}function ej(e){let{channel:t,idle:n,whichPopoutIsOpen:i,setWhichPopoutIsOpen:l}=e,a=t.getGuildId();return(0,E.Z)(a,t.id)?(0,r.jsx)("div",{className:eN.buttonContainer,children:(0,r.jsx)(ef.M,{channel:t,idle:n,whichPopoutIsOpen:i,setWhichPopoutIsOpen:l})}):null}(l=i||(i={})).ACTIVITY="ACTIVITY",l.STREAM="STREAM",l.CALL="CALL",l.EVENT="EVENT";let eA=a.memo(function(e){let{currentUser:t,onDisconnectCall:n,channel:i,connectedEmbeddedActivity:l}=e,s=(0,p.e7)([N.Z],()=>N.Z.getSelectedParticipant(i.id)),{reducedMotion:o}=a.useContext(f.AccessibilityPreferencesContext),[c,d]=a.useState(!1),h=null==s?void 0:s.id,m=(0,p.e7)([ei.Z],()=>null!=h?ei.Z.getActiveStreamForStreamKey(h):null,[h]),g=(null==s?void 0:s.type)===eb.fO.STREAM&&null!=m&&m.ownerId!==(null==t?void 0:t.id),v=(0,p.Wu)([ei.Z],()=>ei.Z.getAllActiveStreamsForChannel(i.id).filter(e=>{let{ownerId:n}=e;return n!==(null==t?void 0:t.id)})),_=(0,w.qY)(i.id),I=a.useCallback(()=>{if((null==s?void 0:s.type)===eb.fO.ACTIVITY&&s.id===(null==l?void 0:l.applicationId))return"ACTIVITY";if(g)return"STREAM";if(null!=_)return"EVENT";return"CALL"},[s,null==l?void 0:l.applicationId,g,_]),[E,b]=a.useState(I()),{groupedButtons:Z}=(0,ed.ZP)({location:"DisconnectButton"}),S=(0,f.useSpring)({opacity:c?.2:1,transform:c&&!o.enabled?"scale(0.7)":"scale(1)",config:{mass:2,tension:c?600:1e3,friction:45,precision:.01,clamp:c},onRest:()=>{b(I()),d(!1)}},"animate-always");a.useEffect(()=>{I()!==E&&d(!0)},[E,I]);let T=a.useCallback(()=>{if(null!=m)(0,x.g)((0,k.V9)(m));else for(let e of v)(0,x.g)((0,k.V9)(e))},[v,m]),j=(e,a)=>{let o=Z?{fullRegionButton:!0,centerButton:!0,popoutOpen:e}:{centerButton:!0,className:eN.controlButton,popoutOpen:e};switch(E){case"ACTIVITY":if(null==s||null==t||null==l)return;return(0,r.jsx)(Q.Z,{...o,applicationId:s.id,color:"red",location:l.location,onPopoutClick:v.length>0?a:null});case"STREAM":return(0,r.jsx)(et.O,{...o,hasPermission:!0,streamActive:!0,color:"red",onClick:T,onPopoutClick:v.length>1?a:null,isSelfStream:!1});case"CALL":return(0,r.jsx)($.Z,{...o,color:"red",onClick:()=>null==n?void 0:n(),onPopoutClick:v.length>0?a:null});case"EVENT":return(0,r.jsx)(B.Z,{channelId:i.id,onClick:()=>{C.default.disconnect(),null==n||n()}})}};return(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:n}=e;return(0,r.jsx)(eC.Z,{channel:i,currentUser:t,activeStreams:v,handleGoLive:eE.VqG,hideSelfOptions:!0,onClose:n})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(u.animated.div,{style:S,children:j(i,n)})}})});function ey(e){let{channel:t,cameraUnavailable:n,hasCameraPermission:i,currentUser:l}=e,s=(0,_.bp)(),{reachedLimit:o,limit:c}=(0,eh.Z)(t),d=a.useCallback(()=>{(0,eI.Z)(()=>C.default.selectVoiceChannel(t.id,!0),s)},[t.id,s]),u=a.useCallback(()=>{n?(0,ex.Z)():d()},[n,d]),h=(0,p.e7)([el.Z],()=>{let e=el.Z.getCall(t.id);return(null==e?void 0:e.ringing.includes(l.id))===!0}),{groupedButtons:m}=(0,ed.ZP)({location:"JoinCall"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en.C,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:o,channelLimit:c,channel:t,cameraUnavailable:n,hasPermission:i,onCameraUnavailable:u,className:eN.controlButton,onChange:d}),(0,r.jsx)(J.Z,{centerButton:!0,color:"green",channel:t,className:eN.controlButton,fullRegionButton:m}),h?(0,r.jsx)(X.Z,{color:"red",channel:t,className:eN.controlButton,fullRegionButton:m}):null]})}t.ZP=function(e){var t,n;let{channel:i,className:l,onDisconnectCall:s,exitFullScreen:c,idleProps:u}=e,{mode:h,groupedButtons:m}=(0,ed.ZP)({location:"CenterControlTray"}),[g,C]=a.useState(void 0),x=(0,p.e7)([es.default],()=>{let e=es.default.getCurrentUser();return d()(null!=e,"CenterControlTray: currentUser cannot be undefined"),e}),{cameraUnavailable:_,enabled:E}=(0,eu.Z)(),N=(0,ep.Z)(i),{suppress:P,selfMute:M,mute:k}=(0,em.Z)(i),{canGoLive:D}=(0,p.cj)([er.Z],()=>({canGoLive:(0,O.Z)(er.Z)})),w=(0,L.Z)(),B=(0,p.e7)([R.Z],()=>null!=R.Z.getAwaitingRemoteSessionInfo()),H=null!=w,G=(0,p.e7)([ea.Z],()=>{var e;return(null!==(e=null==w?void 0:w.channelId)&&void 0!==e?e:ea.Z.getVoiceChannelId())===i.id}),F=(0,S.Z)(i,!0),V=(0,p.e7)([I.ZP],()=>I.ZP.getSelfEmbeddedActivityForChannel(i.id)),{reachedLimit:z,limit:W}=(0,eh.Z)(i),{analyticsLocations:Y}=(0,Z.ZP)(b.Z.VOICE_CONTROL_TRAY);if(!G)return(0,r.jsx)(Z.Gt,{value:Y,children:(0,r.jsx)(ey,{channel:i,cameraUnavailable:_,hasCameraPermission:N,currentUser:x})});let X=ec.BT({permission:eE.Plq.ADD_REACTIONS,user:x,context:i})&&!i.isPrivate()&&!F,J=ec.BT({permission:eE.Plq.ADD_REACTIONS,user:x,context:i})&&!i.isPrivate(),Q=(0,K.Z)(i);return m?(0,r.jsx)(Z.Gt,{value:Y,children:(0,r.jsxs)(v.Z,{section:eE.jXE.VOICE_CONTROL_TRAY,children:[(0,r.jsx)("div",{className:eN.eventPromptsContainer,children:(0,r.jsx)(U.Z,{channelId:i.id})}),(0,r.jsxs)("div",{className:o()(eN.experimentWrapper,l),children:[(0,r.jsxs)("div",{className:eN.buttonSection,children:[(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:"right",position:"top",animation:f.Popout.Animation.FADE,spacing:16,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(ee.Z,{centerButton:!0,onPopoutClick:H?null:n,selfMute:M,serverMute:k,suppress:P,popoutOpen:i,awaitingRemote:B,onClick:()=>(0,A.Z)(k,P,eE.jXE.VOICE_CONTROL_TRAY)})}}),!H&&(0,r.jsx)("div",{className:eN.avSpacing,"aria-hidden":"true",role:"presentation"}),!H&&(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(j.Z,{onClose:t})})},position:"top",align:"right",spacing:16,animation:f.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(en.C,{centerButton:!0,hasPermission:N,enabled:E,cameraUnavailable:_,onChange:eS,onCameraUnavailable:ex.Z,channelLimitReached:z,channelLimit:W,popoutOpen:i,onPopoutClick:n})}})]}),(0,r.jsxs)("div",{className:eN.buttonSection,children:[!H&&(0,r.jsx)(eT,{channel:i,currentUser:x,exitFullScreen:c,canGoLive:D,hasPermission:N}),!H&&(0,r.jsx)(ej,{channel:i,idle:null===(t=null==u?void 0:u.idle)||void 0===t||t,whichPopoutIsOpen:g,setWhichPopoutIsOpen:C}),Q&&(0,r.jsx)(y.Z,{channel:i,themeable:!0,whichPopoutIsOpen:g,setWhichPopoutIsOpen:C}),J&&!H&&(0,r.jsx)(eg.Z,{channel:i,whichPopoutIsOpen:g,setWhichPopoutIsOpen:C})]}),(0,r.jsx)(eA,{connectedEmbeddedActivity:V,currentUser:x,channel:i,onDisconnectCall:s})]})]})}):(0,r.jsx)(Z.Gt,{value:Y,children:(0,r.jsxs)(v.Z,{section:eE.jXE.VOICE_CONTROL_TRAY,children:[(0,r.jsx)("div",{className:eN.eventPromptsContainer,children:(0,r.jsx)(U.Z,{channelId:i.id})}),(0,r.jsxs)("div",{className:o()(eN.wrapper,l),children:["mic-button-moved-left"===h?(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:"center",position:"top",animation:f.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(ee.Z,{centerButton:!0,onPopoutClick:H?null:n,className:eN.controlButton,selfMute:M,serverMute:k,suppress:P,popoutOpen:i,awaitingRemote:B,onClick:()=>(0,A.Z)(k,P,eE.jXE.VOICE_CONTROL_TRAY)})}}):null,!H&&(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(j.Z,{onClose:t})})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(en.C,{centerButton:!0,hasPermission:N,className:eN.controlButton,enabled:E,cameraUnavailable:_,onChange:eS,onCameraUnavailable:ex.Z,channelLimitReached:z,channelLimit:W,popoutOpen:i,onPopoutClick:n})}}),!H&&(0,r.jsx)(ej,{channel:i,idle:null===(n=null==u?void 0:u.idle)||void 0===n||n}),!H&&(0,r.jsx)(eT,{channel:i,currentUser:x,exitFullScreen:c,canGoLive:D,hasPermission:N}),h===ed.BK.MicPushToEnable?(0,r.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,r.jsx)(q.Z,{children:(0,r.jsx)(T.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:"center",position:"top",animation:f.Popout.Animation.FADE,children:(e,t)=>{let{onClick:n}=e,{isShown:i}=t;return(0,r.jsx)(ee.Z,{centerButton:!0,onPopoutClick:H?null:n,className:eN.controlButton,selfMute:M,serverMute:k,suppress:P,popoutOpen:i,awaitingRemote:B,onClick:()=>(0,A.Z)(k,P,eE.jXE.VOICE_CONTROL_TRAY)})}}):null,X&&!H?(0,r.jsx)("div",{className:eN.buttonContainer,children:(0,r.jsx)(eg.Z,{channel:i})}):null,(0,r.jsx)(eA,{connectedEmbeddedActivity:V,currentUser:x,channel:i,onDisconnectCall:s})]})]})})}},304745:function(e,t,n){n.d(t,{M:function(){return A}}),n(653041);var i=n(200651),l=n(192379),r=n(442837),a=n(704215),s=n(481060),o=n(2052),c=n(40851),d=n(317381),u=n(683921),h=n(588580),p=n(374065),m=n(451576),f=n(526846),g=n(119315),C=n(403404),x=n(906732),v=n(424602),_=n(243778),I=n(579185),E=n(301076),b=n(861254),Z=n(127379),N=n(981631),S=n(921944),T=n(388032),j=n(561716);function A(e){let{channel:t,idle:n,whichPopoutIsOpen:A,setWhichPopoutIsOpen:y}=e,P=(0,r.e7)([d.ZP],()=>d.ZP.isLaunchingActivity()),M=(0,p.KF)(t.id),R=(0,p.g5)(M),L=M!==p.jy.CAN_LAUNCH||P,{isHovered:k,setIsHovered:O,onMouseEnter:D,onMouseLeave:w}=(0,I.Z)(200,300),{groupedButtons:B}=(0,b.ZP)({location:"CenterControlTrayActivityButton"}),U=(0,h.a)(),H=(0,u.Z)({channelId:t.id}),G=!L,F=l.useCallback(e=>{"focus"!==e.type&&D()},[D]),V=(0,o.O)(),z=(0,c.bp)()===N.IlC.POPOUT,{analyticsLocations:W}=(0,x.ZP)(),K=W.length>0?W[W.length-1]:"open-activity-shelf";v.m1.useExperiment({location:K},{autoTrackExposure:!0});let Y=l.useCallback(()=>{(0,C.Z)({channel:t,guildId:t.guild_id,locationObject:V.location,openInPopout:z,analyticsLocations:W,opensAppLauncherModal:!0})},[V.location,W,t,z]),q=[];!L&&q.push(a.z.ACTIVITIES_MINI_SHELF_SPARKLES),(0,m.Z)(t.id)&&!L&&q.push(a.z.ACTIVITY_GDM_ROCKET_SPARKLE);let{enabled:X}=v.nS.useExperiment({location:"CenterControlTrayActivityButton"});X&&!L&&q.push(a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP);let J=l.useRef(!1);return(0,i.jsx)(_.ZP,{contentTypes:q,children:e=>{let{visibleContent:l,markAsDismissed:r}=e,o=l===a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP&&!n&&!k;return!0===J.current&&!1===o&&r(S.L.AUTO_DISMISS),J.current!==o&&(J.current=o),(0,i.jsx)(s.Popout,{fixed:!0,shouldShow:k&&(A===Z.D.ACTIVITY||null==A),animation:B?s.Popout.Animation.FADE:s.Popout.Animation.TRANSLATE,animationPosition:B?"top":"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:()=>{O(!1),null==y||y(void 0)},renderPopout:e=>{let{closePopout:n,setPopoutRef:l}=e;return G?(0,i.jsx)(f.m,{ref:l,channel:t,closePopout:n,onMouseEnter:D,onMouseLeave:w,isHovered:k,onClick:()=>r(S.L.UNKNOWN)}):(0,i.jsx)(i.Fragment,{})},children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Tooltip,{text:T.intl.string(T.t.P8vmUl),color:s.TooltipColors.BRAND,forceOpen:!0,shouldShow:o,children:e=>(0,i.jsx)("div",{...e,children:(0,i.jsx)(E.Z,{disabled:L,"aria-label":R,label:G?void 0:R,isActivityActive:H||!B&&k,className:B?"":j.controlButton,onClick:()=>{Y(),(l===a.z.ACTIVITIES_MINI_SHELF_SPARKLES||l===a.z.ACTIVITY_GDM_ROCKET_SPARKLE||l===a.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_1_SPARKLES||l===a.z.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_2_SPARKLES||l===a.z.VOICE_PANEL_ACTIVITIES_SHAPES_BUTTON_EDUCATION_TOOLTIP)&&r(S.L.TAKE_ACTION)},onMouseEnter:F,onMouseLeave:w})})}),U?B?(0,i.jsx)(g.r,{top:2,right:2,size:6}):(0,i.jsx)(g.r,{top:4,right:10,size:12,maskColor:g.T.BLACK}):null]})})}})}},127379:function(e,t,n){var i,l;n.d(t,{D:function(){return i}}),(l=i||(i={})).ACTIVITY="ACTIVITY",l.SOUNDBOARD="SOUNDBOARD",l.EMOJI="EMOJI"},985370:function(e,t,n){n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(481060),c=n(774078),d=n(579185),u=n(272929),h=n(456631),p=n(861254),m=n(643720),f=n(127379),g=n(981631),C=n(561716);t.Z=e=>{let{channel:t,className:n,whichPopoutIsOpen:r,setWhichPopoutIsOpen:x}=e,{isHovered:v,setIsHovered:_,onMouseEnter:I,onMouseLeave:E,cancelTimers:b}=(0,d.Z)(200,300),[Z,N]=l.useState(!1),S=(0,s.e7)([h.Z],()=>h.Z.effectCooldownEndTime),T=l.useMemo(()=>null!=S?(S.getTime()-Date.now())/1e3:0,[S]),{seconds:j}=(0,c.Z)(null!=S?S:new Date),A=j>0,{groupedButtons:y,mode:P}=(0,p.ZP)({location:"ActionBarSoundboardButton"}),M=P===p.BK.GroupedButtonsRedMic?"green":void 0,R=l.useCallback(e=>{if("focus"!==e.type)!Z&&!A&&I()},[Z,A,I]),L=l.useCallback(()=>{!Z&&E()},[E,Z]),k=l.useCallback((e,t)=>{b(),N(!Z),r===f.D.EMOJI?null==x||x(void 0):null==x||x(f.D.EMOJI),(!v||Z)&&(null==t||t(e))},[b,Z,v,x,r]),O=(v||Z)&&(r===f.D.EMOJI||null==r);return(0,i.jsx)(o.Popout,{shouldShow:O,animation:y?o.Popout.Animation.FADE:o.Popout.Animation.TRANSLATE,animationPosition:y?"top":"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:()=>{_(!1),N(!1),null==x||x(void 0)},renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(m.Z,{isHovered:O,channel:t,closePopout:n,onMouseEnter:I,onMouseLeave:L,onFocus:()=>N(!0)})},children:e=>{let{onClick:t,onKeyDown:l}=e;return(0,i.jsx)(u.Z,{isCenterButton:!0,color:Z?M:void 0,totalCooldownSeconds:T,remainingCooldownSeconds:j,className:a()(!y&&C.controlButton,n),onKeyDown:e=>{var t,n;return t=e,n=l,void(t.keyCode===g.yXg.ENTER&&t.keyCode===g.yXg.SPACE&&k(t,n))},onClick:e=>{k(e,t)},onMouseEnter:R,onMouseLeave:L,isActive:Z})}})}},643720:function(e,t,n){var i=n(200651),l=n(192379),r=n(390322),a=n(381871);t.Z=e=>{let{isHovered:t,closePopout:n,onMouseEnter:s,onMouseLeave:o,onFocus:c,channel:d}=e;return l.useEffect(()=>{!t&&n()},[n,t]),(0,i.jsx)(r.Z,{children:(0,i.jsx)("div",{onMouseEnter:s,onMouseLeave:o,children:(0,i.jsx)(a.Z,{channel:d,closePopout:n,onFocus:c})})})}},3861:function(e,t,n){var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(112724),o=n(413458),c=n(351248),d=n(600164),u=n(585483),h=n(340295),p=n(171277),m=n(677845),f=n(430371),g=n(236564),C=n(981631),x=n(354459),v=n(288135);t.Z=(0,s.Z)(e=>{let{participants:t,filteredParticipants:n,selectedParticipant:r,participantsVersion:s,layout:_,onSelectParticipant:I,onContextMenuParticipant:E,onFullscreenParticipant:b,channel:Z,hasConnectPermission:N,className:S,inCall:T,showParticipants:j=!0,paused:A=!1,width:y,height:P,idle:M,mode:R,popoutWindow:L,awaitingRemoteSessionInfo:k,callContainerDimensions:O}=e;l.useEffect(()=>{u.S.dispatch(C.CkL.REMEASURE_TARGET)},[y,P,O.width,O.height]);let D=l.useMemo(()=>n.filter(e=>e.type!==x.fO.ACTIVITY||!e.participants.some(e=>(0,o.J)(e))),[n,s]);if((null==k?void 0:k.channelId)===Z.id)return(0,i.jsx)(p.Z,{height:P});if((null==Z?void 0:Z.isGuildVocal())&&!T)return(0,i.jsx)(h.Z,{channel:Z,participants:t,hasConnectPermission:N});if(R===C.WtW.VOICE)return(0,i.jsx)(c.Z,{guildId:Z.guild_id,width:y,className:v.voiceCallWrapper,participants:t,onContextMenu:E});if(n=T?n:t,null==r)return 0===n.length?(0,i.jsx)(g.Z,{className:a()(v.videoGrid,v.hiddenParticipants),channelId:Z.id,width:y}):(0,i.jsx)(d.Z,{className:v.videoGridWrapper,justify:d.Z.Justify.CENTER,align:d.Z.Align.CENTER,children:(0,i.jsx)(m.Z,{channel:Z,className:v.videoGrid,participants:D,totalNumberOfParticipants:t.length,onClick:I,onDoubleClick:b,onContextMenu:E,paused:A,inCall:T})});return(0,i.jsx)(f.Z,{onFullscreenParticipant:b,onContextMenuParticipant:E,onSelectParticipant:I,selectedParticipant:r,filteredParticipants:D,participants:t,popoutWindow:L,className:S,idle:M,height:P,width:y,layout:_,inCall:T,channel:Z,showParticipants:j})})},312703:function(e,t,n){n.d(t,{n3:function(){return a}});var i=n(823379),l=n(44136),r=n(354459);function a(e,t,n){return null==t||t.type===r.fO.ACTIVITY?[]:[t.type===r.fO.STREAM?e.find(e=>e.type===r.fO.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,l.ZP)(e)):null,t.type===r.fO.USER?e.find(e=>e.type===r.fO.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId):null,t.id!==n?e.find(e=>e.type===r.fO.USER&&e.id===n&&(0,l.ZP)(e)):null].filter(i.lm)}},340295:function(e,t,n){var i=n(200651),l=n(192379),r=n(481060),a=n(287734),s=n(305325),o=n(281956),c=n(584729),d=n(27457),u=n(354459),h=n(388032),p=n(723902);t.Z=function(e){var t,n;let{participants:m,channel:f,hasConnectPermission:g}=e,C=m.filter(u.Io),x=(0,o.J)(f.guild_id),v=l.useCallback(()=>{x?(0,s.hk)(f.guild_id,()=>a.default.selectVoiceChannel(f.id)):a.default.selectVoiceChannel(f.id)},[f.id,f.guild_id,x]),_=4===C.length?2:3;return(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)("div",{className:p.tiles,style:{maxWidth:168*_},children:C.slice(0,5).map(e=>(0,i.jsx)(d.ZP,{participant:e,channel:f,className:p.tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id))}),(0,i.jsx)(r.Heading,{className:p.channelName,variant:"heading-xxl/semibold",children:f.name}),(0,i.jsx)("div",{className:p.participantsRow,children:(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:(t=f,0===(n=C).length?h.intl.string(h.t.zSqdra):1===n.length?h.intl.formatToPlainString(h.t.BUyJIC,{a:(0,c.Z)(t,n[0])}):2===n.length?h.intl.formatToPlainString(h.t.dcyZf3,{a:(0,c.Z)(t,n[0]),b:(0,c.Z)(t,n[1])}):n.length>2?h.intl.formatToPlainString(h.t["44/Obm"],{a:(0,c.Z)(t,n[0]),b:(0,c.Z)(t,n[1]),n:n.length-2}):void 0)})}),(0,i.jsx)(r.Button,{disabled:!g,className:p.joinButton,color:g?r.Button.Colors.GREEN:r.Button.Colors.PRIMARY,onClick:v,size:r.Button.Sizes.MEDIUM,children:g?h.intl.string(h.t["96ANUF"]):h.intl.string(h.t.TVBCKS)})]})}},171277:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(481060),o=n(607070),c=n(254238),d=n(388032),u=n(957970);function h(e){let{height:t}=e,l=(0,a.e7)([o.Z],()=>o.Z.useReducedMotion);return(0,i.jsxs)("div",{className:u.root,children:[(0,i.jsx)(s.LottieAnimation,{importData:()=>n.e("70036").then(n.t.bind(n,141923,19)).then(e=>{let{default:t}=e;return t}),shouldAnimate:!l,className:r()(u.art,{[u.hidden]:t<=280})}),(0,i.jsx)(s.Heading,{className:u.header,variant:"heading-md/bold",children:d.intl.string(d.t["C+tj1d"])}),(0,i.jsx)(s.Text,{variant:"text-md/normal",color:"header-secondary",children:d.intl.format(d.t["nNHd//"],{onCancel:c.s6})})]})}},677845:function(e,t,n){n.d(t,{Z:function(){return S}}),n(653041);var i=n(200651),l=n(192379),r=n(990547),a=n(731965),s=n(442837),o=n(704215),c=n(40851),d=n(317381),u=n(374065),h=n(213609),p=n(358221),m=n(381586),f=n(159300),g=n(800329),C=n(470956),x=n(430824),v=n(496675),_=n(434488),I=n(27457),E=n(251564),b=n(695492),Z=n(981631),N=n(948899);function S(e){let{participants:t,onClick:n,onDoubleClick:S,onContextMenu:T,channel:j,className:A,inCall:y,totalNumberOfParticipants:P,paused:M=!1}=e,R=(0,c.bp)()===Z.IlC.POPOUT,L=(0,s.e7)([x.Z],()=>x.Z.getGuild(j.guild_id),[j.guild_id]),{dismissedActivityEntryPointTileChannel:k}=(0,E.d)(),O=(0,s.e7)([p.Z],()=>p.Z.getUserParticipantCount(j.id),[j]),D=(0,C.bt)(j.id,t),w=l.useCallback(()=>{(0,a.j)(()=>{E.d.setState({dismissedActivityEntryPointTileChannel:j.id})})},[j.id]);l.useEffect(()=>{null!=k&&j.id!==k&&(0,a.j)(()=>{E.d.setState({dismissedActivityEntryPointTileChannel:null})})},[j.id,k]);let B=(0,s.e7)([v.Z],()=>j.isPrivate()||(0,f.b)(v.Z,L,j),[L,j]),U=(null==L?void 0:L.afkChannelId)===j.id,H=j.userLimit<=0||j.userLimit>1,G=(0,s.e7)([d.ZP],()=>d.ZP.getEmbeddedActivitiesForChannel(j.id).length<=0),F=(0,m.N)(o.z.VC_TILE_ACTIVITIES_ENTRY_POINT),V=(0,u.KF)(j.id)!==u.jy.CAN_LAUNCH,z=null!=k&&k===j.id,W=D.map(e=>t=>(0,i.jsx)(I.ZP,{participant:e,channel:j,className:N.tile,paused:M,onClick:n,onDoubleClick:S,onContextMenu:T,inCall:y,width:t,inPopout:R},e.id));(0,h.Z)({type:r.ImpressionTypes.VIEW,name:r.ImpressionNames.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:P,can_invite:B,is_afk_channel:U,channel_user_limit:j.userLimit}},{trackOnInitialLoad:!0},[]),null!=L&&!U&&(!(O>=2)||!G||V||F||z?H&&1===O&&B&&(G&&!V?W.push(e=>(0,i.jsx)(_.h,{channel:j,guild:L,width:e,inPopout:R,handleClose:w,userParticipantCount:O})):W.push(e=>(0,i.jsx)(b.Z,{width:e,channel:j,guild:L,inPopout:R}))):W.push(e=>(0,i.jsx)(_.h,{channel:j,guild:L,width:e,inPopout:R,handleClose:w,userParticipantCount:O})));let K=l.useCallback(e=>{var t,n;return null!==(n=null===(t=D[e])||void 0===t?void 0:t.id)&&void 0!==n?n:"empty-tile"},[D]);return(0,i.jsx)(g.Z,{className:A,keyExtractor:K,paddingTop:64,paddingBottom:64,children:W})}},251564:function(e,t,n){n.d(t,{d:function(){return i}});let i=(0,n(15729).U)(()=>({dismissedActivityEntryPointTileChannel:null}))},695492:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651);n(192379);var l=n(481060),r=n(607187),a=n(112560),s=n(981631),o=n(388032),c=n(414414),d=n(800350);function u(e){let{channel:t,guild:u,width:h,inPopout:p}=e;return(0,i.jsx)(r.Z,{className:c.root,children:(0,i.jsx)(a.Z,{artURL:d,size:(0,a.L)(h),header:o.intl.string(o.t.O4FiWl),onCTAClick:()=>(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:u,channel:t,source:s.t4x.CHANNEL_CALL})},{contextKey:p?l.POPOUT_MODAL_CONTEXT:l.DEFAULT_MODAL_CONTEXT}),callToAction:o.intl.string(o.t.VINpSE)})})}},430371:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(752877),o=n(481060),c=n(110924),d=n(988980),u=n(157813),h=n(314897),p=n(131951),m=n(585483),f=n(807705),g=n(27457),C=n(111248),x=n(312703),v=n(796638),_=n(981631),I=n(354459),E=n(288135),b=n(290187);let Z=16/9,N=8+v.cF;function S(e){var t;let n,{onSelectParticipant:r,onContextMenuParticipant:S,onFullscreenParticipant:T,participants:j,filteredParticipants:A,popoutWindow:y,inCall:P,channel:M,selectedParticipant:R,showParticipants:L=!0,className:k,paused:O,width:D,height:w,layout:B,idle:U}=e,H=null!=y,G=p.Z.getVideoComponent(),F=h.default.getId(),[V,z]=l.useState(null),[W,K]=l.useState(!0),[Y,q]=l.useState(!1),X=R.type===I.fO.ACTIVITY,J=(0,d.Z)(R.id),Q=!X&&null!=R.streamId,$=w<=2*N+144,ee=L&&!$,et=(0,c.Z)(ee),en=B===_.AEg.MINIMUM||B===_.AEg.NORMAL,ei=!$&&(!en||X),el=(0,f.Z)(ei,100),er=(null!==(t=(0,c.Z)(R.id))&&void 0!==t?t:R.id)!==R.id,ea=0;(X||ee)&&(ea+=72),X&&!ee&&(ei?ea+=48:ea+=8),ee&&(ea+=.5*N+8);let es=l.useMemo(()=>X&&J?D/(w-2*ea):Q&&null!=V&&V.width>0&&V.height>0?V.width/V.height:Z,[Q,V,X,D,w,ea,J]),eo=w-2*ea,ec=X&&J?D:eo*es,ed=Math.floor(Math.min(D,ec)/es),eu=w>D/es+72+N+8;n=ee||X?ee?-16:-8:40+Math.max(0,72-(w-ed)/2),l.useEffect(()=>{let e=setTimeout(()=>{K(!1)},250);return()=>{clearTimeout(e)}},[]);let eh=(0,o.useSpring)({value:ee?1:0,delay:eu||!ee?0:100,config:{...s.config.stiff,clamp:!0},onStart:()=>q(!0),onChange:()=>m.S.dispatch(_.CkL.REMEASURE_TARGET),onRest:()=>{q(!1),m.S.dispatch(_.CkL.REMEASURE_TARGET)}},"animate-always"),ep=(0,o.useSpring)({value:ee?1:0,config:{...s.config.stiff,clamp:!0}},"animate-always"),em=(0,o.useSpring)({value:ec,config:{...s.config.stiff,clamp:!0}},et===ee&&ep.value.idle&&!el||er?"animate-never":"animate-always"),ef=(0,o.useSpring)({value:n,config:{...s.config.stiff,clamp:!0}},"animate-always"),eg=(0,o.useTransition)(R,{keys:e=>null==e?void 0:e.id,config:{...s.config.stiff,clamp:!0},initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},"animate-always"),eC=l.useCallback(e=>{z(e),K(!1)},[]),ex=ee||O?[]:(0,x.n3)(j,R,F),{visibleParticipants:ev,participantTileWidth:e_}=(0,v.ZB)(D,A);return(0,i.jsxs)("div",{className:a()(b.root,E.flexCenter,k),children:[(0,i.jsxs)("div",{className:b.tileWrapper,style:{opacity:Q&&W?0:1},children:[(0,i.jsxs)(s.animated.div,{className:b.videoFrame,style:{top:ep.value.to(e=>-e*N/2)},children:[(0,i.jsx)(s.animated.div,{style:{width:em.value},className:b.videoWrapper,children:(0,i.jsx)("div",{className:a()(E.videoSizer),style:{aspectRatio:es},children:eg((e,t,n)=>{let{key:l}=n;return null!=t?(0,i.jsx)(s.animated.div,{className:E.videoWrapperAnimated,style:e,children:(0,i.jsx)(g.ZP,{focused:!0,noBorder:ec>=D||eo>=w,channel:M,className:E.focusedVideo,videoComponent:G,paused:O,width:D,participant:t,onClick:r,onDoubleClick:T,onContextMenu:S,onVideoResize:eC,inCall:P,inPopout:H})},l):null})})}),ei?(0,i.jsx)(s.animated.div,{className:a()(b.actionRow,{[b.idle]:U}),style:{bottom:ef.value},children:(0,i.jsx)(u.Z,{channelId:M.id,isParticipantsOpen:L,isVertical:!0})}):null]}),(0,i.jsx)(s.animated.div,{className:b.participantsWrapperAnimated,style:{translateY:eh.value.to(e=>e*N/2),opacity:eh.value,visibility:eh.value.to(e=>0===e?"hidden":"visible")},children:(0,i.jsx)(v.ZP,{channel:M,onClick:r,onContextMenu:S,onDoubleClick:T,participants:ev,participantTileWidth:e_,selectedParticipantId:R.id,inCall:P,paused:O||Y||!L,popoutWindow:y})})]}),ex.length>0?(0,i.jsx)(C.Z,{onContextMenuParticipant:S,width:D,height:w,channel:M,participants:ex}):null]})}},493754:function(e,t,n){n.d(t,{Z:function(){return C}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(512722),s=n.n(a),o=n(442837),c=n(481060),d=n(924301),u=n(786915),h=n(430824),p=n(496675),m=n(981631),f=n(388032),g=n(318203);function C(e){var t,l;let{stream:a,applicationId:C,channel:x,exitFullScreen:v,appContext:_,analyticsLocation:I,className:E,...b}=e,Z=null==x?void 0:x.getGuildId(),N=null==x?void 0:x.id,S=(0,o.e7)([h.Z],()=>null!=Z?h.Z.getGuild(Z):null,[Z]),T=(0,o.e7)([d.ZP],()=>d.ZP.getActiveEventByChannel(N),[N]);if(t=S,l=x,!(null!=t&&null!=l&&p.Z.can(m.Plq.CREATE_INSTANT_INVITE,l)))return null;let j=f.intl.string(f.t.VINpSE);return null!=a?j=f.intl.string(f.t["6VQaqa"]):null!=C&&(j=f.intl.string(f.t["OzOM/v"])),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,color:g.buttonColor,onClick:()=>{s()(null!=S,"guild cannot be null"),s()(null!=x,"channel cannot be null"),!function(e){let{guild:t,channel:l,streamUserId:r,applicationId:a,appContext:s,exitFullScreen:o,analyticsLocation:d,guildScheduledEvent:u}=e;null==o||o(),(0,c.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,channel:l,streamUserId:r,applicationId:a,analyticsLocation:d,source:l.isGuildStageVoice()?m.t4x.STAGE_CHANNEL:m.t4x.STREAM_INVITE,guildScheduledEvent:u})},{modalKey:"stream-invite-modal",contextKey:s===m.IlC.POPOUT?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT})}({guild:S,channel:x,streamUserId:null==a?void 0:a.ownerId,applicationId:C,appContext:_,exitFullScreen:v,analyticsLocation:I,guildScheduledEvent:T})},className:r()(E,g.textButton),...b,children:j}),(0,i.jsx)(u.Z,{channel:x,stream:a,appContext:_,className:r()(E,g.iconButton),exitFullScreen:v,analyticsLocation:I,guildScheduledEvent:T})]})}},236564:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(475179),r=n(112560),a=n(388032);let s=n(576394);function o(e){let{width:t,className:n,channelId:o,noArt:c=!1}=e;return(0,i.jsx)(r.Z,{artURL:s,noArt:c,size:(0,r.L)(t),className:n,callToAction:a.intl.string(a.t.kLQySE),header:a.intl.format(a.t.mAf1OD,{}),onCTAClick:()=>l.Z.toggleVoiceParticipantsHidden(o,!1)})}},809244:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(687516),l=n(5192),r=n(388032);function a(e,t,n){let a=(0,i.Cf)(n),s=l.ZP.getName(e.getGuildId(),e.id,t);return null==n?s:(null==a?void 0:a.name)!=null?r.intl.formatToPlainString(r.t["9jpVOT"],{applicationName:null==a?void 0:a.name,username:s}):r.intl.formatToPlainString(r.t["+h0Z5+"],{username:s})}},880831:function(e,t,n){n.d(t,{Z:function(){return P},z:function(){return A}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(752877),c=n(442837),d=n(481060),u=n(570140),h=n(475179),p=n(904245),m=n(372900),f=n(905405),g=n(937889),C=n(739566),x=n(267128),v=n(378233),_=n(419922),I=n(375954),E=n(699516),b=n(768581),Z=n(70956),N=n(823379),S=n(981631),T=n(217702),j=n(644921);let A=10*Z.Z.Millis.SECOND;function y(e){var t;let{message:n}=e,{isBlocked:r,isIgnored:s}=(0,c.cj)([E.Z],()=>({isBlocked:E.Z.isBlockedForMessage(n),isIgnored:E.Z.isIgnoredForMessage(n)}),[n]),o=(0,C.Uj)(n),u=l.useContext(m.Z),[I,Z]=l.useState(!1),N=(0,f.p)(),S=l.useCallback(e=>{if("A"!==e.target.nodeName)h.Z.updateChatOpen(n.channel_id,!0),p.Z.jumpToMessage({channelId:n.channel_id,messageId:n.id,flash:!0})},[n.channel_id,n.id]),A=null!=n.content&&""!==n.content?(0,g.ZP)(n,{isInteracting:I,shouldFilterKeywords:N}).content:null,{contentPlaceholder:y,renderedContent:P,trailingIcon:M,leadingIcon:R}=(0,x.f)(n,A,r,s,j.messageContent,{trailingIconClass:j.messageContentTrailingIcon,leadingIconClass:j.messageContentLeadingIcon,iconSize:T.WW}),L=(0,v.cv)(n),k=L.length>0?L.map(e=>(0,i.jsx)(_.ZP,{className:j.sticker,size:128,sticker:e,isInteracting:I},e.id)):null;return(0,i.jsxs)(d.Clickable,{className:j.toast,onMouseEnter:()=>{Z(!0)},onMouseLeave:()=>{Z(!1)},onClick:S,children:[(0,i.jsxs)("div",{className:a()(j.messageContentWrapper,{[j.mentioned]:n.mentioned}),children:[null!=k?null:R,null!==(t=null!=P?P:k)&&void 0!==t?t:(0,i.jsx)("span",{children:y}),null!=k?null:M]}),(0,i.jsx)("img",{alt:"",src:(null==o?void 0:o.guildMemberAvatar)!=null&&null!=u?(0,b.JM)({guildId:u,userId:n.author.id,avatar:o.guildMemberAvatar}):n.author.getAvatarURL(u,32),className:j.avatar})]})}function P(e){let{channelId:t,className:n}=e,[r,h]=l.useState(!1),{toastsHidden:p,toastMessages:m}=function(e){var t;let{channelId:n,isFrozen:i,count:r,lingerMs:a}=e,[s,o]=l.useState([]),[d,h]=l.useState(!1),p=l.useRef(null),m=l.useRef(),f=l.useCallback(()=>{o([]),h(!0)},[]);l.useEffect(()=>{function e(e){let{channelId:t,message:i}=e;if(t===n&&i.type!==S.uaV.STAGE_START&&i.type!==S.uaV.STAGE_END&&i.type!==S.uaV.STAGE_TOPIC&&i.type!==S.uaV.STAGE_SPEAKER&&i.type!==S.uaV.STAGE_RAISE_HAND)clearTimeout(m.current),m.current=setTimeout(f,a),o(e=>[...e,i.id])}return u.Z.subscribe("MESSAGE_CREATE",e),()=>{u.Z.unsubscribe("MESSAGE_CREATE",e)}},[n,f,r,a]),l.useEffect(()=>()=>{clearTimeout(m.current)},[]),l.useEffect(()=>{s.length>3&&o(e=>{let t=e.length-3;return[...e.slice(t)]})},[s]),i&&null==p.current?p.current=s:!i&&null!=p.current&&(p.current=null);let g=null!==(t=p.current)&&void 0!==t?t:s;return{toastsHidden:d,toastMessages:(0,c.Wu)([I.Z],()=>g.map(e=>I.Z.getMessage(n,e)),[n,g]).filter(N.lm)}}({channelId:t,isFrozen:r,count:3,lingerMs:A}),f=l.useRef({}),[g,C]=l.useState({}),x=l.useCallback((e,t)=>{null==t?delete f.current[e]:f.current[e]=t},[]);l.useLayoutEffect(()=>{let e={},t=0;for(let i of m){var n;let l=null!==(n=f.current[i.id])&&void 0!==n?n:0;e[i.id]=t,t+=l+8}!(0,s.isEqual)(e,g)&&C(e)},[m]);let v=m.map(e=>({message:e,height:f.current[e.id],y:g[e.id]})),_=(0,d.useTransition)(v,{keys:e=>e.message.id,from:()=>({opacity:0}),enter:e=>{let{y:t}=e;return{opacity:1,translateY:t}},update:e=>{let{y:t}=e;return{translateY:t}},leave:e=>{let{height:t,y:n}=e;return{opacity:0,translateY:p?n:-(null!=t?t:0)-8,pointerEvents:"none"}}});return(0,i.jsx)(d.ThemeProvider,{theme:S.BRd.DARK,children:e=>(0,i.jsx)("div",{className:a()(n,e),onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:_((e,t)=>(0,i.jsx)(o.animated.div,{ref:e=>x(t.message.id,null!=e?e.offsetHeight:null),className:j.toastWrapper,style:e,children:(0,i.jsx)(y,{message:t.message})}))})})}},73563:function(e,t,n){n.d(t,{Z:function(){return h},e:function(){return l}});var i,l,r=n(200651);n(192379);var a=n(120356),s=n.n(a),o=n(600164),c=n(507675),d=n(576976);function u(e){let{disableGradients:t=!1,renderHeader:n,renderBottomLeft:i,renderBottomCenter:l,renderBottomRight:a,renderCenter:s}=e;return(0,r.jsxs)("div",{className:d.videoControls,children:[!(0===t||!0===t)&&(0,r.jsx)("div",{className:d.gradientTop}),!(1===t||!0===t)&&(0,r.jsx)("div",{className:d.gradientBottom}),(0,r.jsx)("div",{className:d.topControls,children:null==n?void 0:n()}),null==s?void 0:s(),(0,r.jsxs)("div",{className:d.bottomControls,children:[(0,r.jsx)(o.Z,{grow:1,align:o.Z.Align.CENTER,className:d.edgeControls,children:null==i?void 0:i()}),(0,r.jsx)(o.Z,{grow:1,justify:o.Z.Justify.CENTER,align:o.Z.Align.CENTER,children:null==l?void 0:l()})," ",(0,r.jsx)(o.Z,{grow:1,justify:o.Z.Justify.END,align:o.Z.Align.CENTER,className:d.edgeControls,children:null==a?void 0:a()})]})]})}function h(e){let{screenMessage:t,onDoubleClick:n,onActive:i,onForceIdle:l,idle:a,children:o,renderChatToasts:h,renderVoiceChannelEffects:p,style:m,...f}=e;return(0,r.jsxs)("div",{className:s()(d.root,{[d.idle]:a}),style:m,onMouseMove:i,onMouseDown:i,onMouseLeave:l,onDoubleClick:n,children:[o,null!=t?(0,r.jsx)(c.Z,{size:"large",...t}):null,(0,r.jsx)(u,{...f}),null==h?void 0:h(),null==p?void 0:p()]})}(i=l||(l={}))[i.TOP=0]="TOP",i[i.BOTTOM=1]="BOTTOM"},301076:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(592471),r=n(749280),a=n(424602),s=n(861254),o=n(871499);function c(e){let t,n,c,d,{isActivityActive:u,onMouseEnter:h,onMouseLeave:p,onClick:m,...f}=e,{mode:g}=(0,s.ZP)({location:"VideoButton"});g===s.BK.GroupedButtonsRedMic&&u&&(t="green");let{enabled:C}=a.nS.useExperiment({location:"ActivityButton"},{autoTrackExposure:!0}),{Component:x,events:v,play:_}=(0,l.s)(),{Component:I,events:E,play:b}=(0,r.w)();return C?(n=I,c=E,d=b):(n=x,c=v,d=_),(0,i.jsx)(o.d,{isActive:u,color:t,iconComponent:n,onMouseEnter:e=>{null==h||h(e),c.onMouseEnter()},onMouseLeave:e=>{null==p||p(e),c.onMouseLeave()},onClick:e=>{null==m||m(e),d()},...f})}},751843:function(e,t,n){var i,l,r=n(200651);n(192379);var a=n(120356),s=n.n(a),o=n(481060),c=n(871499),d=n(308317);function u(e){let{direction:t,className:n,themeable:i,...l}=e;return(0,r.jsx)(c.Z,{className:s()(n,d.arrow,{[d.up]:0===t}),iconComponent:o.ChevronSmallDownIcon,themeable:i,...l})}(i=l||(l={}))[i.UP=0]="UP",i[i.DOWN=1]="DOWN",u.Directions=l,t.Z=u},616286:function(e,t,n){n.d(t,{T:function(){return E}}),n(47120),n(653041);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(442837),c=n(475179),d=n(358221),u=n(306680),h=n(944486),p=n(111583),m=n(459273),f=n(880831),g=n(774168),C=n(871499),x=n(981631),v=n(388032);function _(e){let t=(0,o.e7)([p.Z],()=>!(0,s.isEmpty)(p.Z.getTypingUsers(e)),[e]),n=(0,o.e7)([h.Z],()=>h.Z.getVoiceChannelId()===e,[e]),{unreadCount:i,mentionCount:l}=(0,o.cj)([u.ZP],()=>({unreadCount:u.ZP.getUnreadCount(e),mentionCount:u.ZP.getMentionCount(e)}),[e]);return{unreadCount:i,mentionCount:l,voiceChannelIsSelected:n,isTyping:t}}function I(e){let{className:t,channelId:n}=e,{unreadCount:l,mentionCount:r,isTyping:a,voiceChannelIsSelected:s}=_(n);return(0,i.jsx)(g.Z,{className:t,unreadCount:l,mentionCount:r,isTyping:a,canBadge:s})}function E(e){let t,{channelId:n,className:r,showingClassName:s,onClick:u,inPopout:h,showRequestToSpeakSidebar:p,toggleRequestToSpeakSidebar:g,...E}=e,{disabled:b}=E,Z=l.useRef(null),N=(0,o.e7)([d.Z],()=>d.Z.getChatOpen(n),[n]),{isShowing:S,unreadCount:T,mentionCount:j}=function(e){let{unreadCount:t,mentionCount:n,isTyping:i}=_(e),[r,a]=l.useState(!1);return l.useEffect(()=>{a(t>0);let e=setTimeout(()=>{a(!1)},f.z);return()=>{clearTimeout(e),a(!1)}},[t]),{isShowing:r||n>0||i,unreadCount:t,mentionCount:n}}(n),A=l.useCallback(()=>{null==u||u(),!N&&p&&(null==g||g()),c.Z.updateChatOpen(n,!N)},[n,N,u,p,g]),y=l.useCallback(e=>{let{className:t}=e;return(0,i.jsx)(I,{className:t,channelId:n})},[n]),P=l.useCallback(()=>{var e;null===(e=Z.current)||void 0===e||e.focus()},[]);(0,m.yp)({event:x.CkL.FOCUS_CHAT_BUTTON,handler:b?null:P});let[M,R]=l.useState(!1),L=l.useCallback(()=>{h&&R(!0)},[h]);(0,m.yp)({event:x.CkL.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:L}),l.useEffect(()=>{let e;return M&&(e=setTimeout(()=>{R(!1)},3e3)),()=>{clearTimeout(e)}},[M]);let k=[t=h&&b?v.intl.string(v.t.DPgc5u):N?v.intl.string(v.t.nthdxM):v.intl.string(v.t["5KxXrK"])];return j>0&&k.push(v.intl.formatToPlainString(v.t["3l1GOz"],{mentionCount:j})),T>0&&k.push(v.intl.string(v.t.x5zAGR)),(0,i.jsx)(C.Z,{buttonRef:Z,onClick:A,label:t,"aria-label":k.join(", "),iconComponent:y,tooltipPosition:"bottom",wrapperClassName:a()(r,null!=s&&{[s]:S}),forceTooltipOpen:M,...E})}},481051:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(481060),s=n(586879);function o(e){let{hasMentions:t,truncatedCount:n,className:l}=e;return(0,i.jsx)(a.Text,{className:r()(s.unreadCount,l,{[s.mention]:t}),variant:"text-xs/normal",children:n})}},774168:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(772848),o=n(960259),c=n(481060),d=n(481051),u=n(38287);function h(e){let{width:t=24,height:n=24,isBadged:r=!1,isTyping:a=!1}=e,[d]=l.useState(()=>(0,s.Z)()),u=(0,o.bW)().enabled;return(0,i.jsxs)("svg",{width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("mask",{id:d,children:[(0,i.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),a&&(0,i.jsx)("g",{fill:"black",transform:"translate(5.5, ".concat(u?10.5:8.5,") scale(").concat(11/24,")"),children:(0,i.jsx)(c.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})}),r&&(0,i.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"red"})]})}),u?(0,i.jsx)("g",{mask:"url(#".concat(d,")"),children:(0,i.jsx)(c.ChatIcon,{size:"custom",width:t,height:n,color:"currentColor"})}):(0,i.jsx)("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#".concat(d,")")})]})}function p(e){var t;let{className:n,unreadCount:l,mentionCount:r,isTyping:s,canBadge:o}=e,c=null!=r&&r>0,p=null!==(t=c?r:l)&&void 0!==t?t:0,m=o&&null!=l&&l>0;return(0,i.jsxs)("div",{className:a()(u.chatIcon,n),children:[(0,i.jsx)(h,{isBadged:m,isTyping:s}),m&&(0,i.jsx)(d.Z,{hasMentions:c,truncatedCount:p>99?"99+":p,className:u.badge})]})}},961048:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(481060),r=n(871499),a=n(388032);function s(e){let{...t}=e;return(0,i.jsx)(r.Z,{label:a.intl.string(a.t.UKOtz8),iconComponent:l.MoreHorizontalIcon,tooltipPosition:"bottom",...t})}},791592:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(481060),r=n(26151),a=n(871499),s=n(388032);function o(e){let{channel:t,...n}=e;return(0,i.jsx)(a.d,{...n,iconComponent:l.XSmallIcon,label:s.intl.string(s.t.WAI6xs),onClick:()=>r.Z.stopRinging(t.id)})}},272929:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(752877),s=n(481060),o=n(871499),c=n(388032),d=n(983351);let u=(0,a.animated)(e=>{let{percentComplete:t}=e,n=20;return(0,i.jsx)("svg",{className:d.countdown,width:40,height:40,viewBox:"0 0 ".concat(40," ").concat(40),children:(0,i.jsx)("circle",{style:{strokeDashoffset:Math.round(100*t)},className:d.progress,cx:n,cy:n,r:n-6,fill:"none",stroke:"#4F545C",pathLength:"100"})})});function h(e){let{totalCooldownSeconds:t,remainingCooldownSeconds:n,onClick:l,onKeyDown:h,onMouseEnter:p,onMouseLeave:m,isActive:f=!1,isCenterButton:g=!1,...C}=e,x=n>0,v=(0,s.useSpring)({percentComplete:0!==n?(t-n)/t:0,config:{...a.config.molasses,duration:1e3}},"animate-always"),_=x?c.intl.formatToPlainString(c.t.D8Drx8,{seconds:n}):void 0,I=g?o.d:o.Z;return(0,i.jsxs)("div",{className:d.container,children:[x?(0,i.jsx)(u,{percentComplete:v.percentComplete}):null,(0,i.jsx)(I,{...C,disabled:x,label:_,iconComponent:s.ReactionIcon,iconClassName:r()(d.iconHover,f&&d.active),className:r()(C.className,d.button),onClick:l,onKeyDown:h,onMouseEnter:p,onMouseLeave:m,isActive:f,grow:!1})]})}},179424:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var l=n(481060),r=n(475179),a=n(871499),s=n(388032);function o(e){let{channelId:t,...n}=e;return(0,i.jsx)(a.Z,{onClick:function(){r.Z.selectParticipant(t,null)},label:s.intl.string(s.t["tyhU+P"]),iconComponent:l.GridSquareIcon,tooltipPosition:"bottom",...n})}},786915:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(512722),r=n.n(l),a=n(442837),s=n(481060),o=n(40851),c=n(430824),d=n(496675),u=n(871499),h=n(981631),p=n(388032);function m(e){var t,l;let{applicationId:m,stream:f,channel:g,exitFullScreen:C,appContext:x,analyticsLocation:v,guildScheduledEvent:_,shouldPrioritizeGroupPlusIcon:I=!1,...E}=e,b=(0,o.bp)(),Z=null==g?void 0:g.getGuildId(),N=(0,a.e7)([c.Z],()=>null!=Z?c.Z.getGuild(Z):null,[Z]);return(t=N,l=g,null!=t&&null!=l&&d.Z.can(h.Plq.CREATE_INSTANT_INVITE,l))?(0,i.jsx)(u.Z,{onClick:()=>{r()(null!=N,"guild cannot be null"),r()(null!=g,"channel cannot be null"),!function(e){let{guild:t,channel:l,streamUserId:r,applicationId:a,appContext:o,exitFullScreen:c,analyticsLocation:d,guildScheduledEvent:u}=e;null==c||c(),(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:t,channel:l,streamUserId:r,applicationId:a,analyticsLocation:d,source:l.isGuildStageVoice()?h.t4x.STAGE_CHANNEL:h.t4x.STREAM_INVITE,guildScheduledEvent:u})},{modalKey:"stream-invite-modal",contextKey:o===h.IlC.POPOUT?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT})}({guild:N,channel:g,streamUserId:null==f?void 0:f.ownerId,applicationId:m,appContext:null!=x?x:b,exitFullScreen:C,analyticsLocation:v,guildScheduledEvent:_})},iconComponent:null==m||I?s.GroupPlusIcon:s.ActivitiesPlusIcon,label:null!=m?p.intl.string(p.t["OzOM/v"]):p.intl.string(p.t["6F9ivr"]),...E}):null}},386e3:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651),l=n(192379),r=n(691324),a=n(652844),s=n(628581),o=n(44315),c=n(861254),d=n(871499);function u(e){let{selfMute:t,serverMute:n,suppress:u,centerButton:h=!1,awaitingRemote:p,onMouseEnter:m,onMouseLeave:f,...g}=e,{mode:C}=(0,c.ZP)({location:"MicButton"}),x=t||n||u,v=h?d.d:d.Z,_=(0,s.Z)(t,n,u,p,C===c.BK.GroupedButtonsRedMic),{Component:I,play:E,events:b}=(0,a.O)(x?"unmute":"mute");l.useEffect(()=>()=>E(),[E,x]);let Z=C===c.BK.GroupedButtonsRedMic&&x?(0,o.Lq)(r.I.RED_400):void 0,N=C!==c.BK.GroupedButtonsRedMic;return(0,i.jsx)(v,{isActive:!!N&&!x,iconComponent:I,iconColor:Z,label:_,onMouseEnter:e=>{null==m||m(e),b.onMouseEnter()},onMouseLeave:e=>{null==f||f(e),b.onMouseLeave()},...g})}},107169:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var l=n(481060),r=n(871499),a=n(388032);function s(e){let{popoutWindowAlwaysOnTop:t,onToggleStayOnTop:n,...s}=e,o=t?a.intl.string(a.t.YdyDMz):a.intl.string(a.t.ZVGHwM),c=t?l.PinUprightSlashIcon:l.PinUprightIcon;return(0,i.jsx)(r.Z,{onClick:()=>n(!t),label:o,iconComponent:c,...s})}},698877:function(e,t,n){n.d(t,{O:function(){return c}});var i=n(200651),l=n(192379),r=n(864094),a=n(861254),s=n(871499),o=n(388032);function c(e){let t,{hasPermission:n,streamActive:c,isSelfStream:d,centerButton:u,onMouseEnter:h,onMouseLeave:p,premiumGlow:m,buttonRef:f,...g}=e,{mode:C}=(0,a.ZP)({location:"StreamButton"}),x=u?s.d:s.Z;t=c?d?o.intl.string(o.t.S5anIS):o.intl.string(o.t.q3O3Jy):n?o.intl.string(o.t.fjBNo6):o.intl.string(o.t.uQn9Bw);let{Component:v,events:_,play:I}=(0,r.P)(c?"disable":"enable");return l.useEffect(()=>()=>I(),[c,I]),(0,i.jsx)(x,{buttonRef:f,label:t,disabled:!n,iconComponent:v,isActive:c,color:C===a.BK.GroupedButtonsRedMic&&c?"green":void 0,ignoreColorForCaret:C===a.BK.GroupedButtonsRedMic&&c,onMouseEnter:e=>{null==h||h(e),_.onMouseEnter()},onMouseLeave:e=>{null==p||p(e),_.onMouseLeave()},premiumGlow:m,...g})}},991617:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(481060),r=n(475179),a=n(871499),s=n(354459),o=n(388032);function c(e){let{channelId:t,isHorizontal:n,...c}=e;return(0,i.jsx)(a.Z,{onClick:function(){r.Z.selectParticipant(t,s.dF.AUTO)},label:o.intl.string(o.t.np22FR),iconComponent:n?l.GridHorizontalIcon:l.GridVerticalIcon,tooltipPosition:"bottom",...c})}},891551:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var l=n(120356),r=n.n(l),a=n(442837),s=n(846027),o=n(793148),c=n(131951),d=n(36703),u=n(358085),h=n(618158),p=n(32390);function m(e){let{className:t,iconClassName:n,sliderClassName:l,userId:m,context:f,currentWindow:g=window}=e,{currentVolume:C,muted:x}=(0,a.cj)([c.Z],()=>({currentVolume:c.Z.getLocalVolume(m,f),muted:c.Z.isLocalMute(m,f)}));return(0,i.jsx)(h.Z,{children:(0,i.jsx)(o.Z,{currentWindow:g,iconClassName:r()(n,p.controlIcon),sliderClassName:l,className:t,value:(0,d.P)(C),muted:x,maxValue:u.isPlatformEmbedded?200:100,onValueChange:e=>{var t,n,i,l;return t=e,n=m,i=x,l=f,void(t>0&&i&&s.Z.toggleLocalMute(n,l),s.Z.setLocalVolume(n,(0,d.A)(t),l))},onToggleMute:()=>{var e,t;return e=m,t=f,void s.Z.toggleLocalMute(e,t)}})})}},878349:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(442837),o=n(780384),c=n(481060),d=n(393238),u=n(410030),h=n(607070),p=n(466794),m=n(106638),f=n(546240),g=n(952009);function C(e){let{checked:t,labelText:n,tooltipText:r,canToggle:C,iconAltText:x,onChange:v,tooltipColor:_,className:I,id:E="fancybutton-toggle",collapseWhenChecked:b=!0,onClick:Z,disabled:N}=e,S=(0,s.e7)([h.Z],()=>h.Z.useReducedMotion),[T,j]=l.useState(!1),A=(0,u.ZP)(),y=(0,o.wj)(A)||t?g:f,{width:P=0,ref:M}=(0,d.Z)(),{width:R=0,ref:L}=(0,d.Z)();return(0,i.jsxs)(c.TooltipContainer,{text:(0,i.jsx)(p.X,{textColor:"always-white",tooltipText:r}),position:"top",color:null!=_?_:N?c.Tooltip.Colors.BLACK:c.Tooltip.Colors.BRAND,"aria-label":r,tooltipClassName:m.tooltip,className:m.tooltipContainer,children:[(0,i.jsx)("input",{className:m.visuallyHidden,checked:t,onChange:function(){if(C){let e=!t;j(!0),null==v||v(e)}"function"==typeof Z&&Z()},id:E,type:"checkbox",disabled:N}),(0,i.jsxs)("label",{htmlFor:E,className:a()(m.label,I,{[m.transition]:T,[m.labelChecked]:t,[m.labelUnchecked]:!t&&!C}),style:b?{width:t?P:P+R}:void 0,children:[t?(0,i.jsx)(c.Shine,{className:m.shine,shinePaused:S}):null,(0,i.jsx)("img",{ref:M,src:y,alt:x}),(0,i.jsx)("span",{ref:L,children:(0,i.jsx)(c.Text,{className:a()(m.burstText,{[m.visuallyHidden]:t&&b,[m.burstTextChecked]:t}),variant:"text-sm/semibold",children:n})})]})]})}},488785:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(200651),l=n(192379),r=n(120356),a=n.n(r),s=n(392711),o=n(772848),c=n(442837),d=n(570140),u=n(596454),h=n(607070),p=n(288479);let m=[p.emoji1,p.emoji2,p.emoji3,p.emoji4],f=l.memo(function(e){var t;let{emoji:n,onAnimationEnd:r}=e,o=(0,s.sample)(m),c=l.useCallback(()=>{r(n.key)},[n.key,r]);return(0,i.jsx)("div",{className:a()(p.emoji,o),onAnimationEnd:c,children:(0,i.jsx)(u.Z,{emojiId:n.id,emojiName:n.name,animated:null!==(t=n.animated)&&void 0!==t&&t})})});function g(e){let{channelId:t,callHeight:n}=e,r=(0,c.e7)([h.Z],()=>h.Z.useReducedMotion),[a,s]=l.useState([]);l.useEffect(()=>{function e(e){let{channelId:n,emoji:i}=e;if(n===t&&!r&&null!=i)s(e=>[...e,{key:(0,o.Z)(),...i}])}return d.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e),()=>{d.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}},[t,r]);let u=l.useCallback(e=>{s(t=>t.filter(t=>t.key!==e))},[]);return r?null:(0,i.jsx)("div",{className:p.container,style:{top:n-16},"aria-hidden":!0,children:a.map(e=>(0,i.jsx)(f,{emoji:e,onAnimationEnd:u},e.key))})}},381871:function(e,t,n){n.d(t,{Z:function(){return B}}),n(47120);var i=n(200651),l=n(192379),r=n(392711),a=n(442837),s=n(704215),o=n(481060),c=n(570140),d=n(230711),u=n(607070),h=n(367907),p=n(243778),m=n(543241),f=n(633302),g=n(970731),C=n(594174),x=n(176354),v=n(823379),_=n(74538),I=n(401062),E=n(696900),b=n(456631),Z=n(963838),N=n(535879),S=n(310892),T=n(12168),j=n(353368),A=n(981631),y=n(354459),P=n(185923),M=n(474936),R=n(526761),L=n(388032),k=n(473291);let O=P.Hz.CHAT,D={section:A.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER,openPopoutType:"voice_channel_effect_emoji_picker"},w=[f.ZP.getByName("thumbsup"),f.ZP.getByName("eyes"),f.ZP.getByName("laughing"),f.ZP.getByName("watermelon"),f.ZP.getByName("fork_and_knife"),f.ZP.getByName("yum")].filter(v.lm);function B(e){var t;let{channel:n,closePopout:f,onFocus:v}=e,P=(0,a.e7)([u.Z],()=>u.Z.useReducedMotion),B=(0,a.e7)([C.default],()=>C.default.getCurrentUser()),U=_.ZP.canUseFancyVoiceChannelReactions(B),H=(0,a.e7)([E.Z],()=>E.Z.getState().animationType),G=l.useRef(!1),F=(0,m.wC)(n.guild_id),V=(0,r.uniqBy)([...F,...w],"name").filter(e=>!x.ZP.isEmojiFilteredOrLocked({emoji:e,channel:n,intention:O})).slice(0,y.e5),z=(null!==(t=b.Z.recentlyUsedEmojis)&&void 0!==t?t:[]).filter(e=>!V.slice(0,y.e5-1).some(t=>t.name===e.name));z.length>0&&V.splice(V.length-1,1,z[0]);let W=(0,Z.Iu)(H),K=e=>{c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_RECENT_EMOJI",emoji:e}),(0,I.Lx)({channel:n,emoji:e,location:I.yX.EMOJI_PICKER,animationType:H,animationId:W,isPremium:U})},Y=()=>{(0,S.openEffectsUpsellModal)({analytics:{type:M.cd.EMOJI_PICKER_EMOJI_CLICKED,object:A.qAy.BUTTON_CTA,section:A.jXE.VOICE_CHANNEL_EFFECTS_BAR}})},q=e=>{G.current=e,e&&h.ZP.trackWithMetadata(A.rMx.VOICE_CHANNEL_EFFECT_EMOJI_PICKER_EXPANDED,{channel_id:X,guild_id:J})},{id:X,guild_id:J}=n;l.useEffect(()=>{h.ZP.trackWithMetadata(A.rMx.VOICE_CHANNEL_EFFECT_BAR_VIEWED,{channel_id:X,guild_id:J})},[X,J]);let Q=P?[s.z.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP]:[],$=H===j.q.PREMIUM;return(0,i.jsx)(p.ZP,{contentTypes:Q,children:e=>{let{visibleContent:t,markAsDismissed:l}=e,r=P&&t===s.z.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP;return(0,i.jsx)(o.Popout,{position:"left","aria-label":L.intl.string(L.t.RLHsHx),shouldShow:r,renderPopout:()=>(0,i.jsx)("div",{onMouseEnter:v,children:(0,i.jsx)(g.ZP,{className:k.reducedMotionTooltip,header:L.intl.string(L.t["6gGHnZ"]),content:L.intl.string(L.t.S2RGUF),onClick:()=>{d.Z.open(A.oAB.ACCESSIBILITY,null,{scrollPosition:R.rP.REDUCED_MOTION}),f()},markAsDismissed:l,buttonCTA:L.intl.string(L.t.fgVzkJ),secondaryButtonCTA:L.intl.string(L.t.VzO6Oj),caretPosition:g.DF.RIGHT_CENTER})}),children:()=>(0,i.jsx)(T.Z,{title:L.intl.string(L.t.Nn8lPz),channel:n,closePopout:f,onSelectEmoji:K,onSelectDisabledEmoji:Y,onFocus:v,onExpandedToggle:q,analyticsOverride:D,emojiSearchProps:{accessory:(0,i.jsx)(N.Z,{labelText:L.intl.string(L.t["ktEv/v"]),value:$,onChange:()=>{if(U)return h.ZP.trackWithMetadata(A.rMx.VOICE_CHANNEL_EFFECT_FANCY_ANIMATION_TOGGLED,{channel_id:X,guild_id:J,enabled:!$}),c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE"})},onShowUpsell:()=>(0,S.openEffectsUpsellModal)({analytics:{type:G.current?M.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED_EXPANDED:M.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED,object:A.qAy.VOICE_CHANNEL_EFFECTS_TOGGLE,section:G.current?A.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER:A.jXE.VOICE_CHANNEL_EFFECTS_BAR}})})},recentlyUsedEmojis:z})})}})}},535879:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var l=n(442837),r=n(594174),a=n(74538),s=n(878349),o=n(388032);function c(e){let{value:t,labelText:n,onChange:c,onShowUpsell:d}=e,u=(0,l.e7)([r.default],()=>r.default.getCurrentUser()),h=a.ZP.canUseFancyVoiceChannelReactions(u),p="";return p=h?t?o.intl.string(o.t.CfapQU):o.intl.string(o.t.GB2x0t):o.intl.string(o.t.fe05ND),(0,i.jsx)(s.Z,{checked:t,onChange:c,labelText:n,tooltipText:p,iconAltText:o.intl.string(o.t.oF6B0N),canToggle:h,onClick:h?()=>{}:d})}},310892:function(e,t,n){n.r(t),n.d(t,{default:function(){return m},openEffectsUpsellModal:function(){return f}});var i=n(200651);n(192379);var l=n(481060),r=n(70097),a=n(174609),s=n(98278),o=n(790527),c=n(626135),d=n(981631),u=n(388032),h=n(708017),p=n(626065);function m(e){let{onClose:t,analytics:n,...l}=e,m=u.intl.format(u.t["7aNIkZ"],{onPressMore:function(){(0,a.Z)(),t(),c.default.track(d.rMx.PREMIUM_PROMOTION_OPENED,{location_section:d.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,location_object:d.qAy.NAVIGATION_LINK}),(0,s.z)()}});return(0,i.jsx)(o.Z,{title:u.intl.string(u.t.K49fZG),glowUp:m,body:m,artContainerClassName:h.artContainer,enableArtBoxShadow:!1,type:n.type,analyticsLocation:{section:d.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,object:n.object},analyticsSource:{page:d.ZY5.CHANNEL_CALL,section:n.section},onClose:t,onSubscribeClick:a.Z,artElement:(0,i.jsx)(r.Z,{className:h.video,src:p,loop:!0,autoPlay:!0}),...l})}function f(e){let{analytics:t}=e;(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,310892));return n=>(0,i.jsx)(e,{analytics:t,...n})})}},738643:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),l=n(131704),r=n(592125),a=n(430824),s=n(944486),o=n(981631);function c(e,t){let n=(0,i.e7)([a.Z],()=>a.Z.getGuild(t)),c=(0,i.e7)([r.Z],()=>r.Z.getChannel(e));return e===(0,i.e7)([s.Z],()=>s.Z.getChannelId(t))&&null!=c&&null!=n&&c.getGuildId()===n.id&&(0,l.zi)(c.type)&&n.hasFeature(o.oNc.WELCOME_SCREEN_ENABLED)&&n.hasFeature(o.oNc.COMMUNITY)&&!n.hasFeature(o.oNc.GUILD_SERVER_GUIDE)}},979696:function(e,t,n){var i,l=n(442837),r=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={toastsEnabledForChannel:{}},o=s;class c extends(i=l.ZP.PersistedStore){initialize(e){o=null!=e?e:s}getToastsEnabled(e){var t;return null===(t=o.toastsEnabledForChannel[e])||void 0===t||t}getState(){return o}}a(c,"displayName","CallChatToastsStore"),a(c,"persistKey","CallChatToasts"),t.Z=new c(r.Z,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){let{channelId:t,toastsEnabled:n}=e;o.toastsEnabledForChannel[t]=n},LOGOUT:function(){o.toastsEnabledForChannel={}}})},237904:function(e,t,n){var i,l,r,a,s,o,c=n(442837),d=n(570140);(i=s||(s={})).FAILED="failed",i.SUCCEEDED="succeeded";let u={};class h extends(o=c.ZP.Store){getFollowerStatsForChannel(e){return u[e]}}a="ChannelFollowerStatsStore",(r="displayName")in(l=h)?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,t.Z=new h(d.Z,{CONNECTION_OPEN:function(){u={}},CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS:function(e){let{channelId:t,stats:n}=e;n=null!=n?n:{},u[t]={loadingStatus:"succeeded",lastFetched:Date.now(),channelsFollowing:n.channels_following,guildMembers:n.guild_members,guildsFollowing:n.guilds_following,usersSeenEver:n.users_seen_ever,subscribersGainedSinceLastPost:n.subscribers_gained_since_last_post,subscribersLostSinceLastPost:n.subscribers_lost_since_last_post}},CHANNEL_FOLLOWER_STATS_FETCH_FAILURE:function(e){let{channelId:t}=e;u[t]={loadingStatus:"failed",lastFetched:Date.now(),channelsFollowing:0,guildMembers:0,guildsFollowing:0,usersSeenEver:0,subscribersGainedSinceLastPost:0,subscribersLostSinceLastPost:0}}})},544610:function(e,t,n){let i;n(47120),n(724458),n(653041);var l,r,a,s,o=n(392711),c=n.n(o),d=n(442837),u=n(570140),h=n(279779),p=n(353926),m=n(428598),f=n(131704),g=n(624138),C=n(51144),x=n(592125),v=n(480294),_=n(580005),I=n(699516),E=n(594174),b=n(981631);let Z=!1,N="",S=0,T=[],j=!1,A=new Set,y=null;function P(){N="",S=0,T=[],A=new Set,Z=!1,y=null}function M(e){N=e,S=0,R()}function R(){if(!Z)return!1;let e=x.Z.getChannel(y);if(0===N.trim().length)return null!=i&&i.clearQuery(),T=function(e){let t=I.Z.getFriendIDs();return(null==e?void 0:e.isPrivate())&&(t=t.filter(t=>!e.recipients.includes(t))),t.reduce((e,t)=>{let n=E.default.getUser(t);return null==n||n.isProvisional?e:(e.push({user:n,comparator:C.ZP.getName(n)}),e)},[]).sort(k)}(e),!0;let t=null!=e?e.recipients:[];return null!=i&&i.setQuery(N,{friends:!0,provisional:!1},t,function(){let e=_.Z.getFrequentlyWithoutFetchingLatest().filter(e=>e instanceof f.mn&&e.isDM()),t=Math.max(...e.map(e=>{let{id:t}=e;return _.Z.getScoreWithoutFetchingLatest(t)})),n={};return e.forEach(e=>{let i=_.Z.getScoreWithoutFetchingLatest(e.id),l=e.getRecipientId(),r=I.Z.isFriend(l)?.2:0,a=null!=x.Z.getDMFromUserId(l)?.1:0;n[l]=1+i/t+r+a}),n}()),!1}function L(){if(!Z)return!1;let e=j;return(j=c().some(I.Z.getRelationships(),e=>e===b.OGo.FRIEND))!==e}function k(e,t){if(v.Z.hasConsented(b.pjP.PERSONALIZATION)){var n,i,l,r;let a=null!==(l=null===(n=m.Z.getUserAffinity(e.user.id))||void 0===n?void 0:n.communicationProbability)&&void 0!==l?l:0,s=null!==(r=null===(i=m.Z.getUserAffinity(t.user.id))||void 0===i?void 0:i.communicationProbability)&&void 0!==r?r:0;if(a!==s)return s-a}return(0,g._I)(C.ZP.getName(e.user).toLocaleLowerCase()).localeCompare((0,g._I)(C.ZP.getName(t.user).toLocaleLowerCase()))}function O(e){let{results:t}=e;if(!Z||""===N)return;let n=[];for(let{id:e,comparator:i}of t){let t=E.default.getUser(e);null!=t&&n.push({user:t,comparator:i})}T=n,G.emitChange()}function D(){return null!=i&&(i.destroy(),i=null),h.Z.getSearchContext(O,1e3)}function w(e){if(e.key!==b.vTt)return!1;Z=!0,L(),i=D(),y=null,M("")}function B(e){if(e.key!==b.vTt)return!1;U()}function U(){null!=i&&(i.destroy(),i=null),P()}class H extends(l=d.ZP.Store){initialize(){this.waitFor(E.default,x.Z,I.Z,p.Z,v.Z),this.syncWith([E.default,x.Z],R),this.syncWith([I.Z],L)}getResults(){return T}hasFriends(){return j}getSelectedUsers(){return A}getQuery(){return N}getState(){return{query:N,selectedRow:S,selectedUsers:A,results:T,hasFriends:j}}}s="PrivateChannelRecipientsInviteStore",(a="displayName")in(r=H)?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s;let G=new H(u.Z,{CONNECTION_OPEN:function(){P()},CHANNEL_SELECT:function(e){let{guildId:t,channelId:n}=e;if(null!=t)return!1;let i=Z;return P(),Z=i,y=n,R()},MODAL_PUSH:w,SHOW_ACTION_SHEET:w,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:function(e){Z=!0,L(),i=D(),y=e.channelId,M("")},MODAL_POP:B,HIDE_ACTION_SHEET:B,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:U,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){y=e.channelId,M(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){S=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){let{userId:t}=e;A.add(t),A=new Set(A)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){let{userId:t}=e;A.delete(t),A=new Set(A)}});t.Z=G},903223:function(e,t,n){var i,l,r,a,s=n(392711),o=n.n(s),c=n(442837),d=n(570140),u=n(430824);let h=null,p={};class m extends(a=c.ZP.Store){initialize(){this.waitFor(u.Z)}getOptimalRegion(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getRegions(t);return null!=n?null!==(e=n.find(e=>{let{optimal:t}=e;return t}))&&void 0!==e?e:o().sample(n):null}getOptimalRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null}getRandomRegion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?o().sample(t):null}getRandomRegionId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null}getRegions(e){return null!=e?p[e]:h}}r="RegionStore",(l="displayName")in(i=m)?Object.defineProperty(i,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[l]=r,t.Z=new m(d.Z,{LOAD_REGIONS:function(e){let t=o().sortBy(e.regions,e=>e.name);null!=e.guildId?p[e.guildId]=t:h=t},GUILD_DELETE:function(e){delete p[e.guild.id]}})},627553:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651),l=n(192379),r=n(772848),a=n(325767);function s(e){let{width:t=16,height:n=16,color:s="currentColor",foreground:o,background:c,...d}=e,u=l.useRef((0,r.Z)());return(0,i.jsxs)("svg",{...(0,a.Z)(d),width:t,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{"clip-path":"url(".concat(u.current,")"),children:[(0,i.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M2 11.001C2 6.03838 6.0374 2.00098 11 2.00098C15.9626 2.00098 20 6.03838 20 11.001L19.9998 11.0656C19.6455 11.0286 19.2787 11.0545 18.9141 11.152L16 11.9309V10H12V6H10V10H6V12H10V16H12V12H15.7414L14.8983 12.2253C13.2976 12.6532 12.3468 14.2976 12.7747 15.8983L13.25 17.6767V19.7163C12.5306 19.9021 11.7766 20.001 11 20.001C6.0374 20.001 2 15.9636 2 11.001Z"}),(0,i.jsx)("path",{className:o,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M23.9427 15.2691L23.387 13.1944C23.1569 12.335 22.274 11.825 21.415 12.0553L15.1938 13.723C14.3349 13.9533 13.8251 14.8366 14.0553 15.696L14.5014 17.3618L14.4968 18.4357L14.4968 21.3891C14.4968 22.2788 15.2177 23 16.107 23L22.5477 23C23.4369 23 24.1578 22.2788 24.1578 21.3891V18.1673H16.107L16.1362 17.3618L23.9427 15.2691ZM19.5725 15.3288L18.0491 15.7372L18.0212 14.0769L19.5446 13.6685L19.5725 15.3288ZM20.6413 15.0423L22.628 14.5097L22.3502 13.4723C22.2735 13.1859 21.9792 13.0159 21.6928 13.0926L20.6134 13.382L20.6413 15.0423ZM16.9524 14.3634L16.9803 16.0237L15.37 16.4554L15.0921 15.418C15.0154 15.1316 15.1853 14.8371 15.4716 14.7604L16.9524 14.3634Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:u.current,children:(0,i.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})}},38761:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=16,height:n=16,color:r="currentColor",foreground:a,background:s,...o}=e;return(0,i.jsx)("svg",{...(0,l.Z)(o),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:s,fill:r,fillRule:"nonzero",d:"M22.031 12.665c-.923-.4338-1.9384-.665-2.9778-.665-.695 0-1.3663.1013-2 .29V11h-4V7h-2v4h-4v2h4v4h1.29c-.1887.6337-.29 1.305-.29 2 0 1.0394.2312 2.055.665 2.978-.2207.0146-.4424.022-.665.022-2.6522 0-5.1957-1.0536-7.071-2.929C3.1067 17.1958 2.053 14.6523 2.053 12c0-5.5228 4.4772-10 10-10 2.6522 0 5.1957 1.0536 7.071 2.929 1.8754 1.8753 2.929 4.4188 2.929 7.071 0 .2225-.0074.4443-.022.665zM15.4457 13c-.9793.59-1.8023 1.413-2.3924 2.3924V13h2.3924z"}),(0,i.jsx)("path",{className:a,fill:r,d:"M19.0532 14c1.326 0 2.598.5268 3.5355 1.4645.9377.9376 1.4645 2.2094 1.4645 3.5355 0 1.326-.5268 2.598-1.4645 3.5355C21.651 23.4732 20.3793 24 19.0532 24c-1.326 0-2.5978-.5268-3.5355-1.4645C14.58 21.598 14.0532 20.326 14.0532 19c0-2.7614 2.2386-5 5-5zm-1 7l3-2-3-2v4z"})]})})}},311888:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(200651);n(192379);var l=n(325767);function r(e){let{width:t=32,height:n=32,color:r="currentColor",foreground:a,...s}=e;return(0,i.jsxs)("svg",{...(0,l.Z)(s),width:t,height:n,viewBox:"0 0 32 32",children:[(0,i.jsx)("rect",{width:"32",height:"32",rx:"16",fill:r}),(0,i.jsx)("path",{d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:a})]})}},233870:function(e,t,n){n.d(t,{T:function(){return a}}),n(733860);var i=n(392711),l=n.n(i),r=n(823379);function a(e,t){return l()(e).map(t.getUser).unshift(t.getCurrentUser()).filter(r.lm).sortBy(e=>e.username.toLowerCase()).value()}},127654:function(e,t,n){n.d(t,{G:function(){return _},d:function(){return I}}),n(653041),n(47120),n(411104);var i=n(475179),l=n(166459),r=n(966390),a=n(531643),s=n(476326),o=n(367907),c=n(358221),d=n(117530),u=n(594174),h=n(626135),p=n(403182),m=n(74538),f=n(979956),g=n(981631),C=n(959517),x=n(474936),v=n(388032);function _(e,t){let n=u.default.getCurrentUser(),i=e.getGuildId(),l=p.dg(i),r=[],s=0,c=0,d=0,h=[];for(let e of t)d+=1,s+=e.size,r.push(e.size),e.size>c&&(c=e.size),null!=e.type?h.push(e.type):h.push("unknown");if(c>l){(0,o.yw)(g.rMx.FILE_SIZE_LIMIT_EXCEEDED,{channel_id:e.id,guild_id:i,user_individual_file_size_limit:l,pre_compression_file_sizes:r,pre_compression_aggregate_file_size:s,num_attachments:d,error_type:C.xi.UPLOAD_ATTACHMENT_MAX_SIZE_ERROR,attachment_mimetypes:h}),(0,a.openUploadError)({title:v.intl.string(v.t["/tGlcn"]),help:(0,f.BK)(n,i),showPremiumUpsell:!(0,m.M5)(n,x.p9.TIER_2),fileSize:c});return}(0,a.openUploadError)({title:v.intl.string(v.t["/tGlcn"]),help:v.intl.formatToPlainString(v.t.tUOJdH,{maxSize:p.Ng(p.OC())})})}function I(e,t,n){let{filesMetadata:o,requireConfirm:u=!0,showLargeMessageDialog:p=!1,isThumbnail:m=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.length<1)return;if(null!=o&&o.length!==e.length)throw Error("Unexpected mismatch between files and file metadata");let C=t.getGuildId();if((0,f.Bf)(e,C)){_(t,e);return}if(d.Z.getUploadCount(t.id,n)+e.length>g.dN1){(0,a.openUploadError)({title:v.intl.string(v.t.wOr6hI),help:v.intl.formatToPlainString(v.t["qqyp/f"],{limit:g.dN1})}),h.default.track(g.rMx.UPLOAD_FILE_LIMIT_ERROR,{existing_count:d.Z.getUploadCount(t.id,n),new_count:e.length});return}if((t.type===g.d4z.GUILD_VOICE||t.type===g.d4z.GUILD_STAGE_VOICE)&&!c.Z.getChatOpen(t.id)&&i.Z.updateChatOpen(t.id,!0),u){let i=Array.from(e).map((e,t)=>({file:e,platform:s.ow.WEB,isThumbnail:m,...null==o?void 0:o[t]}));l.Z.addFiles({files:i,channelId:t.id,showLargeMessageDialog:p,draftType:n})}else r.Z.instantBatchUpload({channelId:t.id,files:e,draftType:n,isThumbnail:m,filesMetadata:o})}},979956:function(e,t,n){n.d(t,{BK:function(){return o},Bf:function(){return c},KZ:function(){return d}}),n(724458),n(653041);var i=n(476326),l=n(403182),r=n(74538),a=n(474936),s=n(388032);function o(e,t){let n=l.Ng(l.dg(t));return r.ZP.isPremium(e,a.p9.TIER_2)?s.intl.formatToPlainString(s.t.fxEKdX,{maxSize:n}):r.ZP.isPremium(e,a.p9.TIER_1)?s.intl.formatToPlainString(s.t["Nr+Lsb"],{maxSize:n}):s.intl.formatToPlainString(s.t.fxEKdX,{maxSize:n})}function c(e,t){return l.nA(e,t)||l.vY(e)}function d(e){return e.reduce((e,t)=>(t.item.platform===i.ow.WEB&&e.push(t.item.file),e),[])}},714319:function(e,t,n){n.d(t,{G:function(){return l},Z:function(){return a}});var i,l,r=n(536895);(i=l||(l={})).UPDATE_ITEM_COUNT="UPDATE_ITEM_COUNT",i.SET_FOCUSED_INDEX="SET_FOCUSED_INDEX";function a(e,t){var n,i,l,a,s,o,c;switch(t.type){case r.Us.NAVIGATE_UP:;return i=0,{...n=e,focusedIndex:Math.max(0,n.focusedIndex-1)};case r.Us.NAVIGATE_DOWN:;return a=0,{...l=e,focusedIndex:Math.min(l.focusedIndex+1,l.itemCount-1)};case r.Us.NAVIGATE_START:;return s=0,{...e,focusedIndex:0};case r.Us.NAVIGATE_END:;return c=0,{...o=e,focusedIndex:o.itemCount-1};case"UPDATE_ITEM_COUNT":return function(e,t){let{itemCount:n}=t;return{...e,itemCount:n,focusedIndex:Math.min(n-1,e.focusedIndex)}}(e,t);case"SET_FOCUSED_INDEX":return function(e,t){let{index:n}=t;return{...e,focusedIndex:Math.max(0,Math.min(n,e.itemCount-1))}}(e,t);case r.Us.SELECT_FOCUSED_ITEM:break;default:console.warn("Listbox navigator was given an unhandled action ".concat(t.type))}return e}},837969:function(e,t,n){n.d(t,{ZP:function(){return u}}),n(47120);var i=n(192379),l=n(714319),r=n(536895),a=n(260866);let s=[r.R8.TAB,r.R8.UP,r.R8.DOWN];function o(e,t,n){return null!=n?"#".concat(e(t,n)):"#".concat(t)}function c(e){return document.querySelector(e)}function d(e){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}function u(e){let{navId:t,itemCount:n,focusedIndex:u=0,onSelect:h,setFocus:p,getNewFocusIndex:m,maintainFocusPosition:f=!0,includeSetSizes:g=!0,focusOnMount:C=!0,enabled:x=!0,onDispatch:v}=e,_=i.useCallback((e,t)=>{let n=(0,l.Z)(e,t);return null!=v&&v(e,n,t),n},[v]),[I,E]=i.useReducer(_,{focusedIndex:u,itemCount:n}),{itemCount:b,focusedIndex:Z}=I,[N]=i.useState(()=>(0,a.P2)(E,16));return i.useEffect(()=>{E({type:l.G.UPDATE_ITEM_COUNT,itemCount:n})},[n]),function(e){let{navId:t,itemCount:n,focusedIndex:u,onSelect:h,setFocus:p=d,getNewFocusIndex:m,dispatch:f,maintainFocusPosition:g,includeSetSizes:C,focusOnMount:x,enabled:v,makeId:_=a.qR,getIndexFromId:I}=e,E=i.useRef(n),b=i.useRef(I);b.current=I,E.current=n;let Z=i.useRef();i.useEffect(()=>{Z.current=v},[v]);let[N,S]=i.useState(!1),[T]=i.useState(()=>new a.$o(e=>()=>{let t=null!=b.current&&"string"==typeof e?b.current(e):e;"number"==typeof t&&!(t<0)&&f({type:l.G.SET_FOCUSED_INDEX,index:t})}));i.useEffect(()=>()=>T.clean(),[T]);let j=i.useCallback((e,t)=>{Z.current&&p(e,t)},[p]),[A,y]=i.useState(!0);i.useEffect(()=>{if(A&&!x){y(!1);return}j(_(t,u),u)},[u]);let P=i.useCallback(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=null!=m?m(u):u;n!==u&&f({type:l.G.SET_FOCUSED_INDEX,index:n}),e&&j(_(t,n),n)},[_,u,m,f,t,j]),M=i.useCallback(e=>{if(!Z.current)return;if(s.includes(e.key)&&!(e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&e.currentTarget===e.target){e.preventDefault(),e.stopPropagation(),P();return}let n=function(e){switch(e.key){case r.R8.ENTER:case r.R8.SPACE:return r.Us.SELECT_FOCUSED_ITEM;case r.R8.UP:return r.Us.NAVIGATE_UP;case r.R8.DOWN:return r.Us.NAVIGATE_DOWN;case r.R8.HOME:return r.Us.NAVIGATE_START;case r.R8.END:return r.Us.NAVIGATE_END}}(e);switch(n){case r.Us.NAVIGATE_UP:case r.Us.NAVIGATE_DOWN:case r.Us.NAVIGATE_START:case r.Us.NAVIGATE_END:e.preventDefault(),e.stopPropagation(),f({type:n});return;case r.Us.SELECT_FOCUSED_ITEM:var i;let l=c(o(_,t,u));if((null==(i=l)?void 0:i.ownerDocument.activeElement)!==i||e.repeat)return;if(e.preventDefault(),e.stopPropagation(),f({type:n}),null!=h){h(u);return}null==l||l.click()}},[_,t,f,u,P,h]),R=i.useCallback(()=>{N||S(!0)},[N]),L=i.useCallback(()=>{if(!N)g?j(_(t,u),u):P(!0)},[_,t,j,g,N,u,P]),k=i.useCallback(e=>{if(!e.currentTarget.contains(e.relatedTarget))requestAnimationFrame(()=>{if(null==c(o(_,t,u))){j(t);return}S(!1)})},[_,t,u,j]),O=i.useRef(null);i.useLayoutEffect(()=>{let e=O.current;if(null!=e)return e.addEventListener("focusin",R),e.addEventListener("focus",L),e.addEventListener("focusout",k),()=>{e.removeEventListener("focusin",R),e.removeEventListener("focus",L),e.removeEventListener("focusout",k)}},[L,R,k]);let D=i.useCallback(()=>({role:"list",tabIndex:N&&g?-1:0,id:t,onKeyDown:M,ref:O}),[t,N,M,g]),w=i.useCallback(e=>{let{index:n}=e;return{role:"listitem","aria-setsize":C?E.current:void 0,"aria-posinset":C?n+1:void 0,id:_(t,n),tabIndex:g&&n===u?0:-1,onFocus:T.get(null!=b.current?_(t,n):n)}},[_,t,u,g,T,C]);return i.useMemo(()=>({dispatch:f,getContainerProps:D,getItemProps:w}),[f,D,w])}({navId:t,itemCount:b,focusedIndex:Z,dispatch:N,onSelect:h,setFocus:p,getNewFocusIndex:m,maintainFocusPosition:f,includeSetSizes:g,focusOnMount:C,enabled:x})}},602715:function(e,t,n){var i,l;n.d(t,{V:function(){return i}}),(l=i||(i={}))[l.DISMISSED_IN_GAME_MESSAGE_NUX=1]="DISMISSED_IN_GAME_MESSAGE_NUX"},219249:function(e,t,n){e.exports={regionSelectPopout:"regionSelectPopout_ccb5ca",check:"check_ccb5ca",regionSelectName:"regionSelectName_ccb5ca"}},930418:function(e,t,n){e.exports={divider:"divider_b767ed",private:"private_b767ed",instructions:"instructions_b767ed",emptyState:"emptyState_b767ed",emptyStateHeader:"emptyStateHeader_b767ed",emptyStateIcon:"emptyStateIcon_b767ed",emptyStateIconContainer:"emptyStateIconContainer_b767ed",emptyStateStars:"emptyStateStars_b767ed",emptyStateSubtext:"emptyStateSubtext_b767ed",container:"container_b767ed"}},149011:function(e,t,n){e.exports={container:"container_f8b740",input:"input_f8b740",outer:"outer_f8b740"}},463096:function(e,t,n){e.exports={spacing:"spacing_ddcc45",spacingTop:"spacingTop_ddcc45",message:"message_ddcc45"}},300759:function(e,t,n){e.exports={contentWarningPopout:"contentWarningPopout_fa823b",header:"header_fa823b",body:"body_fa823b",animation:"animation_fa823b",buttonWrapper:"buttonWrapper_fa823b",buttonContainer:"buttonContainer_fa823b",button:"button_fa823b",buttonHint:"buttonHint_fa823b",content:"content_fa823b",footer:"footer_fa823b",icon:"icon_fa823b"}},677467:function(e,t,n){e.exports={scroller:"scroller_fbb822",wrapper:"wrapper_fbb822",ageGatedImage:"ageGatedImage_fbb822"}},718691:function(e,t,n){e.exports={iframe:"iframe_a1527b",wrapper:"wrapper_a1527b",resizable:"resizable_a1527b",noChat:"noChat_a1527b",activityPanelContainer:"activityPanelContainer_a1527b",header:"header_a1527b",footer:"footer_a1527b",circularButton:"circularButton_a1527b",headerTitle:"headerTitle_a1527b",leaveButtonContainer:"leaveButtonContainer_a1527b",activityContainer:"activityContainer_a1527b",activityContainerNoMargin:"activityContainerNoMargin_a1527b",leaveActivityButton:"leaveActivityButton_a1527b",userAvatars:"userAvatars_a1527b",footerButtons:"footerButtons_a1527b",flex:"flex_a1527b",avatar:"avatar_a1527b",buttonSection:"buttonSection_a1527b"}},636501:function(e,t,n){e.exports={wrapper:"wrapper_ce502a",badge:"badge_ce502a"}},350562:function(e,t,n){e.exports={container:"container_b572de",titleContainer:"titleContainer_b572de",titleLeft:"titleLeft_b572de",titleLeftIcon:"titleLeftIcon_b572de",titleRight:"titleRight_b572de",titleRightIcon:"titleRightIcon_b572de",activityContainer:"activityContainer_b572de",activitySuggestion:"activitySuggestion_b572de",wumpusRocketOuterContainer:"wumpusRocketOuterContainer_b572de",wumpusReducedMotion:"wumpusReducedMotion_b572de",wumpusRocketInnerContainer:"wumpusRocketInnerContainer_b572de",wumpusRocket:"wumpusRocket_b572de"}},750628:function(e,t,n){e.exports={activityNewBadge:"activityNewBadge_b4a8cd",activityUpdatedBadge:"activityUpdatedBadge_b4a8cd",tooltip:"tooltip_b4a8cd"}},801848:function(e,t,n){e.exports={activityItemButtonInnerClass:"activityItemButtonInnerClass_ec77c5",activityItem:"activityItem_ec77c5",activityItem_13_11:"activityItem_13_11_ec77c5",activityItem_16_9:"activityItem_16_9_ec77c5",activitySuggestionImage:"activitySuggestionImage_ec77c5",activityAction:"activityAction_ec77c5",activityActionButton:"activityActionButton_ec77c5",activityActionButtonDanger:"activityActionButtonDanger_ec77c5",brokenImageIconWrapper:"brokenImageIconWrapper_ec77c5 activitySuggestionImage_ec77c5",overlayBadge:"overlayBadge_ec77c5",badgeContainer:"badgeContainer_ec77c5"}},707600:function(e,t,n){e.exports={dot:"dot_d373b2",maskPopout:"maskPopout_d373b2",maskSecondary:"maskSecondary_d373b2",maskBlack:"maskBlack_d373b2",alert:"alert_d373b2"}},906047:function(e,t,n){e.exports={positionContainer:"positionContainer_ec62fd",positionLayer:"positionLayer_ec62fd"}},162787:function(e,t,n){e.exports={tipContent:"tipContent_eab321",safetyAction:"safetyAction_eab321",safetyActionText:"safetyActionText_eab321"}},965676:function(e,t,n){e.exports={wrapper:"wrapper_d880dc",normal:"normal_d880dc",minimum:"minimum_d880dc",video:"video_d880dc",noChat:"noChat_d880dc",sidebarOpen:"sidebarOpen_d880dc",fullScreen:"fullScreen_d880dc",popout:"popout_d880dc",poppedOut:"poppedOut_d880dc",callContainer:"callContainer_d880dc",leftTrayIcon:"leftTrayIcon_d880dc",rightTrayIcon:"rightTrayIcon_d880dc",viewersButton:"viewersButton_d880dc",iconWrapper:"iconWrapper_d880dc",volumeSlider:"volumeSlider_d880dc",badge:"badge_d880dc",headerWrapper:"headerWrapper_d880dc",channelChatWrapper:"channelChatWrapper_d880dc",chatToasts:"chatToasts_d880dc"}},663602:function(e,t,n){e.exports={avatar:"avatar_c7b3af",divider:"divider_c7b3af",participants:"participants_c7b3af",channelStatusClickable:"channelStatusClickable_c7b3af",channelStatus:"channelStatus_c7b3af",hoverable:"hoverable_c7b3af",subtitleContainer:"subtitleContainer_c7b3af",secureFramesIcon:"secureFramesIcon_c7b3af",pencilIcon:"pencilIcon_c7b3af",playingText:"playingText_c7b3af",container:"container_c7b3af",activityIcon:"activityIcon_c7b3af"}},960840:function(e,t,n){e.exports={button:"button_ae6b8e",divider:"divider_ae6b8e",speaker:"speaker_ae6b8e",last:"last_ae6b8e",lastButton:"lastButton_ae6b8e"}},243765:function(e,t,n){e.exports={root:"root_ff37c5",voiceUsers:"voiceUsers_ff37c5",header:"header_ff37c5",scroller:"scroller_ff37c5"}},956224:function(e,t,n){e.exports={resizeHandle:"resizeHandle_c0a559"}},397109:function(e,t,n){e.exports={root:"root_ea9cce",sprite:"sprite_ea9cce",participant:"participant_ea9cce",transition:"transition_ea9cce",spriteWrapper:"spriteWrapper_ea9cce"}},752670:function(e,t,n){e.exports={form:"form_ab60f4",modalHeader:"modalHeader_ab60f4",closeButton:"closeButton_ab60f4",headerImage:"headerImage_ab60f4",inputSection:"inputSection_ab60f4",title:"title_ab60f4",textArea:"textArea_ab60f4",error:"error_ab60f4",button:"button_ab60f4"}},638411:function(e,t,n){e.exports={actionBarButton:"actionBarButton_c2e612"}},637335:function(e,t,n){e.exports={voiceEffectsActionBar:"voiceEffectsActionBar_d7b7fd"}},406061:function(e,t,n){e.exports={glow:"glow_e2ebda",circleLayer:"circleLayer_e2ebda",entrypoint:"entrypoint_e2ebda",trinkets:"trinkets_e2ebda"}},247627:function(e,t,n){e.exports={chat:"chat_a7d72e",content:"content_a7d72e",threadSidebarOpen:"threadSidebarOpen_a7d72e",uploadArea:"uploadArea_a7d72e",threadSidebarFloating:"threadSidebarFloating_a7d72e",form:"form_a7d72e",formWithLoadedChatInput:"formWithLoadedChatInput_a7d72e",chatContent:"chatContent_a7d72e",cursorPointer:"cursorPointer_a7d72e",noChat:"noChat_a7d72e",channelBottomBarArea:"channelBottomBarArea_a7d72e",channelTextArea:"channelTextArea_a7d72e",title:"title_a7d72e",avatar:"avatar_a7d72e",parentChannelName:"parentChannelName_a7d72e",followButton:"followButton_a7d72e",guildBreadcrumbContainer:"guildBreadcrumbContainer_a7d72e",guildSidebar:"guildSidebar_a7d72e",guildBreadcrumbIcon:"guildBreadcrumbIcon_a7d72e",loader:"loader_a7d72e",forumPostTitle:"forumPostTitle_a7d72e",subtitleContainer:"subtitleContainer_a7d72e",secureFramesIcon:"secureFramesIcon_a7d72e",shaker:"shaker_a7d72e",linkedLobby:"linkedLobby_a7d72e",linkedLobbyApplicationIcon:"linkedLobbyApplicationIcon_a7d72e",linkedLobbyEducationTooltipWrapper:"linkedLobbyEducationTooltipWrapper_a7d72e",linkedLobbyEducationTooltip:"linkedLobbyEducationTooltip_a7d72e",linkedLobbyEducationTooltipCloseClickContainer:"linkedLobbyEducationTooltipCloseClickContainer_a7d72e",linkedLobbyEducationTooltipCloseIcon:"linkedLobbyEducationTooltipCloseIcon_a7d72e",entryPointButtonContainer:"entryPointButtonContainer_a7d72e"}},805660:function(e,t,n){e.exports={buttonContainer:"buttonContainer_df39bd",button:"button_df39bd",buttonActive:"buttonActive_df39bd",buttonContents:"buttonContents_df39bd",channelAppLauncher:"channelAppLauncher_df39bd",entrypointAnimation:"entrypointAnimation_df39bd",animationGlow:"animationGlow_df39bd",animationTrinkets:"animationTrinkets_df39bd",channelAppLauncherButtonPopoutIconContainer:"channelAppLauncherButtonPopoutIconContainer_df39bd",channelAppLauncherButtonPopoutIcon:"channelAppLauncherButtonPopoutIcon_df39bd",channelAppLauncherButtonPopoutIconShimmerContainer:"channelAppLauncherButtonPopoutIconShimmerContainer_df39bd",channelAppLauncherButtonPopoutIconShimmer:"channelAppLauncherButtonPopoutIconShimmer_df39bd"}},311572:function(e,t,n){e.exports={container:"container_d1c246",floating:"floating_d1c246",notFloating:"notFloating_d1c246",resizeHandle:"resizeHandle_d1c246",chatTarget:"chatTarget_d1c246 container_d1c246",chatLayerWrapper:"chatLayerWrapper_d1c246"}},700559:function(e,t,n){e.exports={entryPointAppCommandButton:"entryPointAppCommandButton_d1f06a"}},973249:function(e,t,n){e.exports={container:"container_cbd271",membersWrap:"membersWrap_cbd271",members:"members_cbd271",member:"member_cbd271",membersGroup:"membersGroup_cbd271",hiddenMembers:"hiddenMembers_cbd271",memberGroupsPlaceholder:"memberGroupsPlaceholder_cbd271",roleIcon:"roleIcon_cbd271",fullWidth:"fullWidth_cbd271"}},33293:function(e,t,n){e.exports={wrapper:"wrapper_faf5ab",content:"content_faf5ab",image:"image_faf5ab",animation:"animation_faf5ab",text:"text_faf5ab",title:"title_faf5ab",button:"button_faf5ab",buttonContainer:"buttonContainer_faf5ab",innerButton:"innerButton_faf5ab",countdown:"countdown_faf5ab"}},610047:function(e,t,n){e.exports={container:"container_b47fac",content:"content_b47fac",splashImage:"splashImage_b47fac",splashHeader:"splashHeader_b47fac",splashText:"splashText_b47fac"}},306867:function(e,t,n){e.exports={container:"container_dda6c7",placeholderItem:"placeholderItem_dda6c7",chatTextAreaPlaceholder:"chatTextAreaPlaceholder_dda6c7",appLauncherPlaceholder:"appLauncherPlaceholder_dda6c7",entryPointAppCommandPlaceholder:"entryPointAppCommandPlaceholder_dda6c7"}},514925:function(e,t,n){e.exports={noChannel:"noChannel_e1ef5f"}},145532:function(e,t,n){e.exports={clickableChannelTextArea:"clickableChannelTextArea_f487fa"}},979595:function(e,t,n){e.exports={emoji:"emoji_eb856f"}},612432:function(e,t,n){e.exports={modalRoot:"modalRoot_a0cc0d",button:"button_a0cc0d",header:"header_a0cc0d",headerSubtitle:"headerSubtitle_a0cc0d",alignCenter:"alignCenter_a0cc0d",headerSubtitleIcon:"headerSubtitleIcon_a0cc0d",content:"content_a0cc0d",searchBox:"searchBox_a0cc0d",roleMemberList:"roleMemberList_a0cc0d",addMemberRow:"addMemberRow_a0cc0d",selectedRow:"selectedRow_a0cc0d",rowBody:"rowBody_a0cc0d",checkboxLabel:"checkboxLabel_a0cc0d",rowHeight:"rowHeight_a0cc0d",rowLabel:"rowLabel_a0cc0d",rowLabelSubText:"rowLabelSubText_a0cc0d",sectionTitle:"sectionTitle_a0cc0d",noResultIcon:"noResultIcon_a0cc0d",description:"description_a0cc0d",scrollSeparator:"scrollSeparator_a0cc0d"}},259597:function(e,t,n){e.exports={searchBar:"searchBar_ac8310"}},625553:function(e,t,n){e.exports={wrapper:"wrapper_da5ed7",icon:"icon_da5ed7"}},406843:function(e,t,n){e.exports={attachWrapper:"attachWrapper_f298d4",attachButton:"attachButton_f298d4",attachButtonPlus:"attachButtonPlus_f298d4",attachButtonInner:"attachButtonInner_f298d4",attachButtonClip:"attachButtonClip_f298d4",attachButtonPlay:"attachButtonPlay_f298d4",uploadInput:"uploadInput_f298d4",buttonAnimation:"buttonAnimation_f298d4",buttonAnimationGlow:"buttonAnimationGlow_f298d4",buttonAnimationTrinkets:"buttonAnimationTrinkets_f298d4"}},308183:function(e,t,n){e.exports={menu:"menu_ec5137",optionLabel:"optionLabel_ec5137",optionIcon:"optionIcon_ec5137",optionName:"optionName_ec5137",badge:"badge_ec5137"}},577076:function(e,t,n){e.exports={container:"container_db0691",overviewSidebarWrapper:"overviewSidebarWrapper_db0691",fullHeight:"fullHeight_db0691",signatureBlock:"signatureBlock_db0691",signatureContainer:"signatureContainer_db0691",signatureText:"signatureText_db0691",overviewSidebarContent:"overviewSidebarContent_db0691",scrollContentContainer:"scrollContentContainer_db0691",signHintAnimationContainer:"signHintAnimationContainer_db0691",signContainerButton:"signContainerButton_db0691",signTextLeft:"signTextLeft_db0691",signButton:"signButton_db0691",signCarot:"signCarot_db0691",signCarotCustomColors:"signCarotCustomColors_db0691",signTextRight:"signTextRight_db0691",signHintHelperText:"signHintHelperText_db0691",clickable:"clickable_db0691",signHintContainer:"signHintContainer_db0691",noDisplay:"noDisplay_db0691",signatureBlockContainer:"signatureBlockContainer_db0691"}},470168:function(e,t,n){e.exports={modal:"modal_dffb36",content:"content_dffb36",infoSide:"infoSide_dffb36",titlesContainer:"titlesContainer_dffb36",title:"title_dffb36",subtitle:"subtitle_dffb36",clanTagChiplet:"clanTagChiplet_dffb36",scrollMainContainer:"scrollMainContainer_dffb36",scrollContentsContainer:"scrollContentsContainer_dffb36",gameSection:"gameSection_dffb36",charterHeaderText:"charterHeaderText_dffb36",charterBodyText:"charterBodyText_dffb36",establishedDate:"establishedDate_dffb36",ctaButton:"ctaButton_dffb36",ctaButtonSigned:"ctaButtonSigned_dffb36",ctaButtonInner:"ctaButtonInner_dffb36"}},175189:function(e,t,n){e.exports={previewSection:"previewSection_a7b6f0",chatPreview:"chatPreview_a7b6f0",previewText:"previewText_a7b6f0",userName:"userName_a7b6f0",fakeMessage:"fakeMessage_a7b6f0",divider:"divider_a7b6f0",settingSection:"settingSection_a7b6f0"}},431972:function(e,t,n){e.exports={wrapper:"wrapper_ac3456",toastContainerInner:"toastContainerInner_ac3456",hovered:"hovered_ac3456",guildIconContainer:"guildIconContainer_ac3456",guildTagContainer:"guildTagContainer_ac3456",guildClanTag:"guildClanTag_ac3456",toastButton:"toastButton_ac3456"}},601751:function(e,t,n){e.exports={content:"content_ac101f",fullHeight:"fullHeight_ac101f",innerContent:"innerContent_ac101f",bottom:"bottom_ac101f",contentAnimContainer:"contentAnimContainer_ac101f",container:"container_ac101f",heightContainer:"heightContainer_ac101f",scrollSvg:"scrollSvg_ac101f"}},869650:function(e,t,n){e.exports={overviewText:"overviewText_a62d75"}},669189:function(e,t,n){e.exports={clipsEnabledIndicator:"clipsEnabledIndicator_d7719d",clipBadgeText:"clipBadgeText_d7719d "+n("914410").liveLarge,clipBadgeIcon:"clipBadgeIcon_d7719d"}},717191:function(e,t,n){e.exports={recentClipsPopout:"recentClipsPopout_bd6a37",header:"header_bd6a37",thumbnailStackContainer:"thumbnailStackContainer_bd6a37",buttonsContainer:"buttonsContainer_bd6a37"}},540964:function(e,t,n){e.exports={banner:"banner_fdb6f2",potion:"potion_fdb6f2",actionButton:"actionButton_fdb6f2",x:"x_fdb6f2",subsection:"subsection_fdb6f2"}},140343:function(e,t,n){e.exports={trigger:"trigger_df1ff1",video:"video_df1ff1",content:"content_df1ff1",masked:"masked_df1ff1",text:"text_df1ff1",premium:"premium_df1ff1"}},30057:function(e,t,n){e.exports={popoutContainer:"popoutContainer_fbe027",image:"image_fbe027",infoContainerParent:"infoContainerParent_fbe027",infoContainer:"infoContainer_fbe027",infoText:"infoText_fbe027",closeButton:"closeButton_fbe027",closeIcon:"closeIcon_fbe027",hidden:"hidden_fbe027",heading:"heading_fbe027",buttonContainer:"buttonContainer_fbe027",button:"button_fbe027"}},623020:function(e,t,n){e.exports={headerContainer:"headerContainer_bc6acb",header:"header_bc6acb",toggleExpandIcon:"toggleExpandIcon_bc6acb"}},241574:function(e,t,n){e.exports={listeningTimeline:"listeningTimeline_a218d8",seekBarContainer:"seekBarContainer_a218d8",seekBarFill:"seekBarFill_a218d8",timestamp:"timestamp_a218d8"}},649314:function(e,t,n){e.exports={coachtip:"coachtip_e8254e",coachtipContent:"coachtipContent_e8254e",coachtipInner:"coachtipInner_e8254e",coachtipAsset:"coachtipAsset_e8254e",coachtipTextContainer:"coachtipTextContainer_e8254e"}},179546:function(e,t,n){e.exports={popout:"popout_a35965",hero:"hero_a35965",interactionsContainerHeader:"interactionsContainerHeader_a35965",interactionsContainer:"interactionsContainer_a35965",emoji:"emoji_a35965",toastContainer:"toastContainer_a35965",emojiHotrailShareToChannel:"emojiHotrailShareToChannel_a35965",inputContainerShareToChannel:"inputContainerShareToChannel_a35965",primaryActionPopoutMessageCloseIcon:"primaryActionPopoutMessageCloseIcon_a35965",shareToChannelButton:"shareToChannelButton_a35965",popoutContentHeader:"popoutContentHeader_a35965",popoutContentWrapper:"popoutContentWrapper_a35965",popoutHeroInner:"popoutHeroInner_a35965",popoutThumbnailContainer:"popoutThumbnailContainer_a35965",popoutHeroBody:"popoutHeroBody_a35965",popoutHeroTextPrimary:"popoutHeroTextPrimary_a35965",popoutHeroTextPrimaryShort:"popoutHeroTextPrimaryShort_a35965",popoutHeroTextSecondary:"popoutHeroTextSecondary_a35965",popoutHeaderIcons:"popoutHeaderIcons_a35965",popoutUserContainer:"popoutUserContainer_a35965",popoutUsername:"popoutUsername_a35965",streamingPopoutHeader:"streamingPopoutHeader_a35965",streamingPopoutHeaderText:"streamingPopoutHeaderText_a35965",streamingPopoutPreviewContainer:"streamingPopoutPreviewContainer_a35965",streamingPopoutImg:"streamingPopoutImg_a35965",voiceChannelPopoutReactorHeader:"voiceChannelPopoutReactorHeader_a35965",voiceChannelPopoutReactorChannel:"voiceChannelPopoutReactorChannel_a35965",voiceChannelName:"voiceChannelName_a35965",voiceChannelGuildIcon:"voiceChannelGuildIcon_a35965",voiceChannelAdditionalParticipants:"voiceChannelAdditionalParticipants_a35965",primaryActionPopoutDivider:"primaryActionPopoutDivider_a35965",iconButton:"iconButton_a35965",primaryActionPopoutActionButtons:"primaryActionPopoutActionButtons_a35965",hiddenButRenderedInputField:"hiddenButRenderedInputField_a35965",secondaryButton:"secondaryButton_a35965",secondaryText:"secondaryText_a35965",primaryButton:"primaryButton_a35965",popoutStackedAvatar:"popoutStackedAvatar_a35965",popoutBlockedWarningIcon:"popoutBlockedWarningIcon_a35965",popoutTextPrimary:"popoutTextPrimary_a35965",popoutTextSecondary:"popoutTextSecondary_a35965",streamingPopoutHero:"streamingPopoutHero_a35965",streamCTA:"streamCTA_a35965",maybeClickable:"maybeClickable_a35965"}},607655:function(e,t,n){e.exports={menuIcon:"menuIcon_aa0ae7"}},786661:function(e,t,n){e.exports={loadingSpinner:"loadingSpinner_f2635d"}},980239:function(e,t,n){e.exports={button:"button_e5bd91",role:"role_e5bd91",removeRole:"removeRole_e5bd91",removeRoleIcon:"removeRoleIcon_e5bd91"}},662253:function(e,t,n){e.exports={role:"role_d70de6",roleColor:"roleColor_d70de6",linkedRoleColor:"linkedRoleColor_d70de6"}},404169:function(e,t,n){e.exports={contentNarrowWithMedia:"contentNarrowWithMedia_cb56ab contentWithMedia_cb56ab content_cb56ab",contentNarrowNoMedia:"contentNarrowNoMedia_cb56ab contentNoMedia_cb56ab content_cb56ab",contentWideWithMedia:"contentWideWithMedia_cb56ab contentWithMedia_cb56ab content_cb56ab",contentWideNoMedia:"contentWideNoMedia_cb56ab contentNoMedia_cb56ab content_cb56ab",mediaContainer:"mediaContainer_cb56ab",titleCenter:"titleCenter_cb56ab title_cb56ab",titleLeft:"titleLeft_cb56ab title_cb56ab",buttonSkipLeftAlign:"buttonSkipLeftAlign_cb56ab",buttonSkipCenterAlign:"buttonSkipCenterAlign_cb56ab",bodyCenter:"bodyCenter_cb56ab body_cb56ab",bodyLeft:"bodyLeft_cb56ab body_cb56ab",buttonContainer:"buttonContainer_cb56ab",popoutRoot:"popoutRoot_cb56ab",arrowAlignmentTop:"arrowAlignmentTop_cb56ab",arrowAlignmentMiddle:"arrowAlignmentMiddle_cb56ab",top:"top_cb56ab",right:"right_cb56ab",left:"left_cb56ab",bottom:"bottom_cb56ab"}},405143:function(e,t,n){e.exports={pageContainer:"pageContainer_a9a262",scroller:"scroller_a9a262",cardsContainer:"cardsContainer_a9a262",spinner:"spinner_a9a262"}},24298:function(e,t,n){e.exports={emptyWrapper:"emptyWrapper_bee3f0",emptyImage:"emptyImage_bee3f0",emptyTitle:"emptyTitle_bee3f0",emptySubtitle:"emptySubtitle_bee3f0",emptyCTA:"emptyCTA_bee3f0"}},393289:function(e,t,n){e.exports={card:"card_f18d6c",addEntryCard:"addEntryCard_f18d6c card_f18d6c",addServerText:"addServerText_f18d6c",cardHeader:"cardHeader_f18d6c",splash:"splash_f18d6c",splashImage:"splashImage_f18d6c",guildIcon:"guildIcon_f18d6c",icon:"icon_f18d6c",actionButtonsContainer:"actionButtonsContainer_f18d6c",forceButtonsShow:"forceButtonsShow_f18d6c",overflowIcon:"overflowIcon_f18d6c",iconMask:"iconMask_f18d6c",guildInfo:"guildInfo_f18d6c",title:"title_f18d6c",guildBadge:"guildBadge_f18d6c",guildName:"guildName_f18d6c",description:"description_f18d6c",memberInfo:"memberInfo_f18d6c",memberCount:"memberCount_f18d6c",dotOnline:"dotOnline_f18d6c statusDot_f18d6c",dotOffline:"dotOffline_f18d6c statusDot_f18d6c",joinButton:"joinButton_f18d6c"}},73234:function(e,t,n){e.exports={header:"header_d33b18",headerImage:"headerImage_d33b18",headerImageSimple:"headerImageSimple_d33b18",headerImageBG:"headerImageBG_d33b18",searchTitle:"searchTitle_d33b18",searchSubtitle:"searchSubtitle_d33b18",headerContentWrapper:"headerContentWrapper_d33b18",headerContent:"headerContent_d33b18",headerContentSmall:"headerContentSmall_d33b18",searchBox:"searchBox_d33b18",searchBoxInput:"searchBoxInput_d33b18",closeIcon:"closeIcon_d33b18",searchIcon:"searchIcon_d33b18",tabBar:"tabBar_d33b18",tabBarItem:"tabBarItem_d33b18",sectionHeader:"sectionHeader_d33b18"}},182007:function(e,t,n){e.exports={searchHeader:"searchHeader_ce978e",searchPageBox:"searchPageBox_ce978e",searchPageInput:"searchPageInput_ce978e",headerTitleWrapper:"headerTitleWrapper_ce978e",arrow:"arrow_ce978e",searchPageTitle:"searchPageTitle_ce978e",emptySearchWrapper:"emptySearchWrapper_ce978e",emptySearchImage:"emptySearchImage_ce978e",emptySearchTitle:"emptySearchTitle_ce978e",emptySearchSubtitle:"emptySearchSubtitle_ce978e"}},242289:function(e,t,n){e.exports={button:"button_ccfa44",buttonIcon:"buttonIcon_ccfa44"}},108720:function(e,t,n){e.exports={avatar:"avatar_dc0b54",avatarMask:"avatarMask_dc0b54",avatarContainer:"avatarContainer_dc0b54",container:"container_dc0b54",mobileContainer:"mobileContainer_dc0b54",mobileMutualGuilds:"mobileMutualGuilds_dc0b54",mobileButtons:"mobileButtons_dc0b54",divider:"divider_dc0b54",action:"action_dc0b54",mutualGuilds:"mutualGuilds_dc0b54"}},246924:function(e,t,n){e.exports={container:"container_c2668b",header:"header_c2668b",description:"description_c2668b",emptyChannelIcon:"emptyChannelIcon_c2668b",emptyChannelIconComponent:"emptyChannelIconComponent_c2668b",emptyChannelIconSvg:"emptyChannelIconSvg_c2668b",locked:"locked_c2668b",voiceChat:"voiceChat_c2668b"}},948861:function(e,t,n){e.exports={buttonContainer:"buttonContainer_ccea23",button:"button_ccea23"}},89307:function(e,t,n){e.exports={container:"container_e378b3",iconWrapper:"iconWrapper_e378b3",icon:"icon_e378b3",header:"header_e378b3"}},932212:function(e,t,n){e.exports={container:"container_e41d41",formContainer:"formContainer_e41d41",summaryContainer:"summaryContainer_e41d41",summaryHeader:"summaryHeader_e41d41",summaryHeaderClanInfo:"summaryHeaderClanInfo_e41d41",guildIcon:"guildIcon_e41d41",summarySeparator:"summarySeparator_e41d41",formResponseContainer:"formResponseContainer_e41d41"}},840822:function(e,t,n){e.exports={members:"members_f1044f",avatars:"avatars_f1044f",singleUserName:"singleUserName_f1044f",role:"role_f1044f",last:"last_f1044f",channelSettingButtons:"channelSettingButtons_f1044f"}},786563:function(e,t,n){e.exports={headerContainer:"headerContainer_e11ca5",chatBubbleContainer:"chatBubbleContainer_e11ca5",wumpusImage:"wumpusImage_e11ca5",chatBubbleLip:"chatBubbleLip_e11ca5",chatBubble:"chatBubble_e11ca5",emptyMessageHeader:"emptyMessageHeader_e11ca5",flowerStar:"flowerStar_e11ca5",verified:"verified_e11ca5"}},100649:function(e,t,n){e.exports={buttonContainer:"buttonContainer_e4f3eb"}},678606:function(e,t,n){e.exports={iconWrapper:"iconWrapper_ec583a",icon:"icon_ec583a",subtitle:"subtitle_ec583a",threadCreatorName:"threadCreatorName_ec583a",unknownCreatorName:"unknownCreatorName_ec583a"}},567522:function(e,t,n){e.exports={container:"container_f9902b",inner:"inner_f9902b",titleName:"titleName_f9902b",subtitle:"subtitle_f9902b",noChildren:"noChildren_f9902b",cardWrapper:"cardWrapper_f9902b",card:"card_f9902b",completed:"completed_f9902b",icon:"icon_f9902b",cardTextContainer:"cardTextContainer_f9902b",cardHeader:"cardHeader_f9902b",checkmark:"checkmark_f9902b",animate:"animate_f9902b",arrow:"arrow_f9902b"}},283728:function(e,t,n){e.exports={tags:"tags_f68ce8"}},811994:function(e,t,n){e.exports={container:"container_b385c8",header:"header_b385c8",buttonInner:"buttonInner_b385c8",addReactButton:"addReactButton_b385c8",button:"button_b385c8",reactButtons:"reactButtons_b385c8",loading:"loading_b385c8",reactions:"reactions_b385c8",buttons:"buttons_b385c8",active:"active_b385c8"}},454002:function(e,t,n){e.exports={chat:"chat_f57fdc"}},601839:function(e,t,n){e.exports={art:"art_fa3cbc"}},151745:function(e,t,n){e.exports={leftDivider:"leftDivider_d8c748"}},117285:function(e,t,n){e.exports={bannerIcon:"bannerIcon_c4eca1",bannerContainer:"bannerContainer_c4eca1",bannerHeader:"bannerHeader_c4eca1"}},614435:function(e,t,n){e.exports={bannerIcon:"bannerIcon_fc2669",bannerContainer:"bannerContainer_fc2669",bannerHeader:"bannerHeader_fc2669"}},424039:function(e,t,n){e.exports={container:"container_c06a56",iconContainer:"iconContainer_c06a56",icon:"icon_c06a56",header:"header_c06a56",headerText:"headerText_c06a56",button:"button_c06a56"}},764948:function(e,t,n){e.exports={sidebarContainer:"sidebarContainer_d2194f",loadingContainer:"loadingContainer_d2194f",profileThemedContainer:"profileThemedContainer_d2194f",innerContainer:"innerContainer_d2194f"}},509133:function(e,t,n){e.exports={keyComboInner:"keyComboInner_c11c02",keyComboContainer:"keyComboContainer_c11c02",backButton:"backButton_c11c02"}},872278:function(e,t,n){e.exports={auditLogItem:"auditLogItem_d748bc",auditLogItemTitleContainer:"auditLogItemTitleContainer_d748bc",auditLogItemTitle:"auditLogItemTitle_d748bc",username:"username_d748bc",auditLogItemDate:"auditLogItemDate_d748bc",auditLogReason:"auditLogReason_d748bc",auditLogSecondaryContainer:"auditLogSecondaryContainer_d748bc",auditLogSecondary:"auditLogSecondary_d748bc",auditLogExpandedChangeDetails:"auditLogExpandedChangeDetails_d748bc"}},389401:function(e,t,n){e.exports={modInfoItemContainer:"modInfoItemContainer_ce9fb9",modInfoItem:"modInfoItem_ce9fb9",modInfoItemIcon:"modInfoItemIcon_ce9fb9",modInfoItemName:"modInfoItemName_ce9fb9",modInfoItemDescription:"modInfoItemDescription_ce9fb9",modInfoAction:"modInfoAction_ce9fb9",modInfoItemActionIcon:"modInfoItemActionIcon_ce9fb9"}},944454:function(e,t,n){e.exports={roleTooltipContainer:"roleTooltipContainer_a507b4",roleTooltipContentContainer:"roleTooltipContentContainer_a507b4",roleTooltipItem:"roleTooltipItem_a507b4",permissionsContainer:"permissionsContainer_a507b4",permissionChiplet:"permissionChiplet_a507b4",noModPerms:"noModPerms_a507b4",elevatedPermission:"elevatedPermission_a507b4",headerContainer:"headerContainer_a507b4",viewAllPermissions:"viewAllPermissions_a507b4"}},758570:function(e,t,n){e.exports={container:"container_f51af4",innerContainer:"innerContainer_f51af4",keyComboInner:"keyComboInner_f51af4",keyComboContainer:"keyComboContainer_f51af4",header:"header_f51af4",headerTitle:"headerTitle_f51af4",infoTitle:"infoTitle_f51af4",roleContainer:"roleContainer_f51af4",highestRole:"highestRole_f51af4",addRoleIcon:"addRoleIcon_f51af4",roleTooltipItem:"roleTooltipItem_f51af4",addRoleContainer:"addRoleContainer_f51af4",guildIcon:"guildIcon_f51af4",loadingSpinner:"loadingSpinner_f51af4",noRoles:"noRoles_f51af4"}},949801:function(e,t,n){e.exports={innerContainer:"innerContainer_f328ee"}},227893:function(e,t,n){e.exports={permissionsGroupContainer:"permissionsGroupContainer_f38b88",permissionsItemContainer:"permissionsItemContainer_f38b88",permissionItemContainer:"permissionItemContainer_f38b88",elevatedPermission:"elevatedPermission_f38b88",permissionItemHeader:"permissionItemHeader_f38b88",permissionItemSubheader:"permissionItemSubheader_f38b88",elevatedPermissionContainer:"elevatedPermissionContainer_f38b88",permissionItemDescription:"permissionItemDescription_f38b88",permissionItemRoleContainer:"permissionItemRoleContainer_f38b88",permissionTitle:"permissionTitle_f38b88",roleTooltipItem:"roleTooltipItem_f38b88",editable:"editable_f38b88",roleChiplet:"roleChiplet_f38b88",searchBar:"searchBar_f38b88"}},125712:function(e,t,n){e.exports={container:"container_d936aa",topRow:"topRow_d936aa",memberNameAndTagContainer:"memberNameAndTagContainer_d936aa",memberNameContainer:"memberNameContainer_d936aa",memberNameTextContainer:"memberNameTextContainer_d936aa",memberClanTag:"memberClanTag_d936aa",memberClanTagContainer:"memberClanTagContainer_d936aa",memberAvatar:"memberAvatar_d936aa",closeAction:"closeAction_d936aa",bottomRow:"bottomRow_d936aa",bottomRowAction:"bottomRowAction_d936aa",innerBottomRowAction:"innerBottomRowAction_d936aa",bottomRowActionDisabled:"bottomRowActionDisabled_d936aa"}},844132:function(e,t,n){e.exports={animationMiddle:"animationMiddle_a363e7",animationContainer:"animationContainer_a363e7",header:"header_a363e7",container:"container_a363e7",button:"button_a363e7"}},112883:function(e,t,n){e.exports={buttons:"buttons_ff7ec0"}},166368:function(e,t,n){e.exports={upsellPage:"upsellPage_d76875",upsellContainer:"upsellContainer_d76875",upsellContent:"upsellContent_d76875",bodyText:"bodyText_d76875"}},546973:function(e,t,n){e.exports={container:"container_e632bb",containerHide:"containerHide_e632bb",notice:"notice_e632bb",noticeArrow:"noticeArrow_e632bb"}},254583:function(e,t,n){e.exports={carouselMaxWidth:"carouselMaxWidth_c19193",scroller:"scroller_c19193",tierPreviewsContainer:"tierPreviewsContainer_c19193",tierPreviews:"tierPreviews_c19193"}},625298:function(e,t,n){e.exports={pageContainer:"pageContainer_cc3078",joinCtaTitle:"joinCtaTitle_cc3078",joinCtaSubtitle:"joinCtaSubtitle_cc3078"}},599331:function(e,t,n){e.exports={divider:"divider_a7ad40",eventSchedule:"eventSchedule_a7ad40",eventName:"eventName_a7ad40"}},819588:function(e,t,n){e.exports={container:"container_dc3fc4",textContainer:"textContainer_dc3fc4",caret:"caret_dc3fc4",icon:"icon_dc3fc4",dot:"dot_dc3fc4",inline:"inline_dc3fc4",pulse:"pulse_dc3fc4"}},622246:function(e,t,n){e.exports={eventPrompt:"eventPrompt_b39258"}},946688:function(e,t,n){e.exports={draggable:"draggable_ac3629",moreContainer:"moreContainer_ac3629",audienceContainer:"audienceContainer_ac3629",audienceContainerCollapsed:"audienceContainerCollapsed_ac3629",audienceIconContainer:"audienceIconContainer_ac3629",audienceIcon:"audienceIcon_ac3629",userAvatar:"userAvatar_ac3629"}},377109:function(e,t,n){e.exports={list:"list_a478e5",withGuildIcon:"withGuildIcon_a478e5",collapsed:"collapsed_a478e5"}},239856:function(e,t,n){e.exports={popoutWrapper:"popoutWrapper_d201be",mounted:"mounted_d201be",popout:"popout_d201be",contentContainer:"contentContainer_d201be",statusGroup:"statusGroup_d201be",iconGroup:"iconGroup_d201be",statusIcon:"statusIcon_d201be",statusText:"statusText_d201be",avatarWrapper:"avatarWrapper_d201be statusIcon_d201be",avatar:"avatar_d201be statusIcon_d201be",outline:"outline_d201be statusIcon_d201be",cta:"cta_d201be"}},304066:function(e,t,n){e.exports={popout:"popout_a9414b",popoutBackground:"popoutBackground_a9414b",onboarding:"onboarding_a9414b",title:"title_a9414b",helpText:"helpText_a9414b",newBadge:"newBadge_a9414b",iconGroup:"iconGroup_a9414b",statusIcon:"statusIcon_a9414b",avatarWrapper:"avatarWrapper_a9414b statusIcon_a9414b",avatar:"avatar_a9414b statusIcon_a9414b",outline:"outline_a9414b statusIcon_a9414b",options:"options_a9414b",iconsContainer:"iconsContainer_a9414b",iconWidget:"iconWidget_a9414b",selectedWidget:"selectedWidget_a9414b",statusOptionContainer:"statusOptionContainer_a9414b",emojiLockIconContainer:"emojiLockIconContainer_a9414b",emojiLockIcon:"emojiLockIcon_a9414b",optionButton:"optionButton_a9414b",setCustomButton:"setCustomButton_a9414b",icon:"icon_a9414b",customIcon:"customIcon_a9414b",divider:"divider_a9414b",editIcon:"editIcon_a9414b",editIconColor:"editIconColor_a9414b"}},25161:function(e,t,n){e.exports={akaBadge:"akaBadge_d6c26f",nicknames:"nicknames_d6c26f",avatars:"avatars_d6c26f",avatar:"avatar_d6c26f",tooltip:"tooltip_d6c26f",spacer:"spacer_d6c26f",divider:"divider_d6c26f",moreAvatars:"moreAvatars_d6c26f",plusIcon:"plusIcon_d6c26f"}},189145:function(e,t,n){e.exports={container:"container_f0fccd",channelName:"channelName_f0fccd"}},107711:function(e,t,n){e.exports={strikethrough:"strikethrough_a8951a"}},797323:function(e,t,n){e.exports={topic:"topic_bf3bbb text-sm/normal_bf3bbb",topicClickTarget:"topicClickTarget_bf3bbb",linkedLobbyNotice:"linkedLobbyNotice_bf3bbb",linkedLobbyNoticeSeparator:"linkedLobbyNoticeSeparator_bf3bbb",linkedLobbyApplicationIcon:"linkedLobbyApplicationIcon_bf3bbb",expandable:"expandable_bf3bbb",content:"content_bf3bbb",header:"header_bf3bbb",channelIcon:"channelIcon_bf3bbb"}},22078:function(e,t,n){e.exports={friendWrapper:"friendWrapper_ebf869",friend:"friend_ebf869",avatar:"avatar_ebf869",checkbox:"checkbox_ebf869",match:"match_ebf869",nickname:"nickname_ebf869",discordTag:"discordTag_ebf869",friendSelected:"friendSelected_ebf869"}},93677:function(e,t,n){e.exports={tooltip:"tooltip_e91037"}},269343:function(e,t,n){e.exports={popout:"popout_e6af9c",header:"header_e6af9c",searchBar:"searchBar_e6af9c",searchBarComponent:"searchBarComponent_e6af9c",addButton:"addButton_e6af9c",subtitleWarning:"subtitleWarning_e6af9c",scroller:"scroller_e6af9c",noResults:"noResults_e6af9c",mobileToolsContainer:"mobileToolsContainer_e6af9c",mobileToolsCloseIcon:"mobileToolsCloseIcon_e6af9c",errorState:"errorState_e6af9c",errorStateIcon:"errorStateIcon_e6af9c",notFriends:"notFriends_e6af9c",noFriends:"noFriends_e6af9c",partyFull:"partyFull_e6af9c",footer:"footer_e6af9c",selectExistingFormHeader:"selectExistingFormHeader_e6af9c",confirmChannelItemContainer:"confirmChannelItemContainer_e6af9c",confirmChannelName:"confirmChannelName_e6af9c",lastActiveTimestamp:"lastActiveTimestamp_e6af9c",confirmInviteScroller:"confirmInviteScroller_e6af9c",subtitle:"subtitle_e6af9c",footerText:"footerText_e6af9c"}},629435:function(e,t,n){e.exports={tooltip:"tooltip_f58733",tooltipContent:"tooltipContent_f58733"}},725640:function(e,t,n){e.exports={assetContainer:"assetContainer_e61982",closeIcon:"closeIcon_e61982"}},51130:function(e,t,n){e.exports={gameTitle:"gameTitle_cf6db7",gameIcon:"gameIcon_cf6db7",gameTitleContainer:"gameTitleContainer_cf6db7",emptyStateImage:"emptyStateImage_cf6db7"}},705409:function(e,t,n){e.exports={container:"container_c5a4ce",border:"border_c5a4ce"}},82936:function(e,t,n){e.exports={row:"row_a5b954",tile:"tile_a5b954",noVerticalMargin:"noVerticalMargin_a5b954",noHorizontalMargin:"noHorizontalMargin_a5b954",padColumn:"padColumn_a5b954",tileSizer:"tileSizer_a5b954"}},431794:function(e,t,n){e.exports={sharePromptContainer:"sharePromptContainer_c65518",sharePromptContent:"sharePromptContent_c65518",sharePromptCta:"sharePromptCta_c65518",ctaContent:"ctaContent_c65518",closeButton:"closeButton_c65518"}},73368:function(e,t,n){e.exports={blockedEdit:"blockedEdit_cc3927",blockedSend:"blockedSend_cc3927",shieldIcon:"shieldIcon_cc3927",blockedNoticeIcon:"blockedNoticeIcon_cc3927",blockedNotice:"blockedNotice_cc3927",blockedNoticeContainer:"blockedNoticeContainer_cc3927",compact:"compact_cc3927",ephemeralAccessories:"ephemeralAccessories_cc3927",learnMore:"learnMore_cc3927"}},329683:function(e,t,n){e.exports={flash:"flash_b15a6f"}},276204:function(e,t,n){e.exports={box:"box_af45f8",textContainer:"textContainer_af45f8",divider:"divider_af45f8",animation:"animation_af45f8"}},946712:function(e,t,n){e.exports={operations:"operations_baf0d6"}},14945:function(e,t,n){e.exports={spamBanner:"spamBanner_c1da2c",bannerTextContainer:"bannerTextContainer_c1da2c",bannerText:"bannerText_c1da2c",bannerIcon:"bannerIcon_c1da2c",bannerHeader:"bannerHeader_c1da2c",bannerSubtext:"bannerSubtext_c1da2c",actionButtons:"actionButtons_c1da2c"}},610654:function(e,t,n){e.exports={wrapper:"wrapper_b75bb9",compact:"compact_b75bb9",cozy:"cozy_b75bb9",contents:"contents_b75bb9",content:"content_b75bb9",blob:"blob_b75bb9",hidden:"hidden_b75bb9",header:"header_b75bb9",attachmentContainer:"attachmentContainer_b75bb9",attachment:"attachment_b75bb9",avatar:"avatar_b75bb9",compactTimestamp:"compactTimestamp_b75bb9"}},679905:function(e,t,n){e.exports={wrapper:"wrapper_cdfd51"}},207349:function(e,t,n){e.exports={containerExpanded:"containerExpanded_fcbce6",button:"button_fcbce6",containerCompact:"containerCompact_fcbce6",compactButton:"compactButton_fcbce6",compactButtonDisabled:"compactButtonDisabled_fcbce6",text:"text_fcbce6",error:"error_fcbce6"}},522613:function(e,t,n){e.exports={container:"container_a3b500",isHeader:"isHeader_a3b500",isReply:"isReply_a3b500",emojiTooltipText:"emojiTooltipText_a3b500",emoji:"emoji_a3b500"}},991823:function(e,t,n){e.exports={messagesWrapper:"messagesWrapper_e2e187",scrollerContent:"scrollerContent_e2e187",scroller:"scroller_e2e187",scrollerInner:"scrollerInner_e2e187",scrollerSpacer:"scrollerSpacer_e2e187",empty:"empty_e2e187",emptyForum:"emptyForum_e2e187",navigationDescription:"navigationDescription_e2e187"}},953568:function(e,t,n){e.exports={wrapper:"wrapper_a24e84",button:"button_a24e84",focused:"focused_a24e84",icon:"icon_a24e84"}},500054:function(e,t,n){e.exports={interactionInfoMenuItem:"interactionInfoMenuItem_df26f0"}},544725:function(e,t,n){e.exports={notice:"notice_c02a8d",info:"info_c02a8d",buttons:"buttons_c02a8d",button:"button_c02a8d",buttonInner:"buttonInner_c02a8d"}},14161:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_efb691",chatHeaderBarText:"chatHeaderBarText_efb691",narrow:"narrow_efb691",chatHeaderBarButton:"chatHeaderBarButton_efb691",chatHeaderBarButtonInner:"chatHeaderBarButtonInner_efb691"}},276326:function(e,t,n){e.exports={gatedContent:"gatedContent_def860",image:"image_def860",title:"title_def860",description:"description_def860",action:"action_def860"}},242803:function(e,t,n){e.exports={combo:"combo_f21b25",comboValue:"comboValue_f21b25",comboNameplate:"comboNameplate_f21b25",comboMultiplier:"comboMultiplier_f21b25",comboSquare:"comboSquare_f21b25",left:"left_f21b25",right:"right_f21b25",confettiIcon:"confettiIcon_f21b25",tip:"tip_f21b25",messageComboScore:"messageComboScore_f21b25",comboScore:"comboScore_f21b25"}},235726:function(e,t,n){e.exports={optInPopout:"optInPopout_cac3f6",hidden:"hidden_cac3f6",closeIcon:"closeIcon_cac3f6",optInButton:"optInButton_cac3f6",variant2OptInPopout:"variant2OptInPopout_cac3f6",image:"image_cac3f6",variant2InfoContainerParent:"variant2InfoContainerParent_cac3f6",variant2InfoContainer:"variant2InfoContainer_cac3f6",variant2Text:"variant2Text_cac3f6",variant2CloseButton:"variant2CloseButton_cac3f6"}},31497:function(e,t,n){e.exports={demoCta:"demoCta_d99d00",hidden:"hidden_d99d00",wumpusContainer:"wumpusContainer_d99d00",textContainer:"textContainer_d99d00",nitroTextAndBadge:"nitroTextAndBadge_d99d00",closeButton:"closeButton_d99d00",closeIcon:"closeIcon_d99d00"}},790582:function(e,t,n){e.exports={popoutContainer:"popoutContainer_a00282",image:"image_a00282",infoContainerParent:"infoContainerParent_a00282",infoContainer:"infoContainer_a00282",infoText:"infoText_a00282",closeButton:"closeButton_a00282",closeIcon:"closeIcon_a00282",hidden:"hidden_a00282",poweredByNitroContainer:"poweredByNitroContainer_a00282"}},985838:function(e,t,n){e.exports={safetyBanner:"safetyBanner_e44e5c",safetyShieldIcon:"safetyShieldIcon_e44e5c",buttons:"buttons_e44e5c",shieldAndHeading:"shieldAndHeading_e44e5c",closeButton:"closeButton_e44e5c",ctaButton:"ctaButton_e44e5c"}},842194:function(e,t,n){e.exports={searchHeader:"searchHeader_b7c924",searchHeaderTabList:"searchHeaderTabList_b7c924",helpdeskLink:"helpdeskLink_b7c924",totalResultsWrapper:"totalResultsWrapper_b7c924",totalResults:"totalResults_b7c924",spinnerWrapper:"spinnerWrapper_b7c924",spinner:"spinner_b7c924",spinnerPath:"spinnerPath_b7c924"}},11886:function(e,t,n){e.exports={container:"container_f13432"}},839420:function(e,t,n){e.exports={container:"container_ddc613",searchResult:"searchResult_ddc613",message:"message_ddc613",buttonsContainer:"buttonsContainer_ddc613",button:"button_ddc613"}},370167:function(e,t,n){e.exports={searchResultGroup:"searchResultGroup_a9e225",channelNameContainer:"channelNameContainer_a9e225",channelNameText:"channelNameText_a9e225",parentChannelName:"parentChannelName_a9e225",parentChannelNameClickable:"parentChannelNameClickable_a9e225",parentChannelNameText:"parentChannelNameText_a9e225",channelNameIcon:"channelNameIcon_a9e225",parentChannelNameIcon:"parentChannelNameIcon_a9e225",resultsBlocked:"resultsBlocked_a9e225",resultsBlockedImage:"resultsBlockedImage_a9e225"}},893665:function(e,t,n){e.exports={searchResultsWrap:"searchResultsWrap_c2b47d",scroller:"scroller_c2b47d",emptyResultsWrap:"emptyResultsWrap_c2b47d",emptyResultsContent:"emptyResultsContent_c2b47d",emptyResultsText:"emptyResultsText_c2b47d",stillIndexing:"stillIndexing_c2b47d",noResultsImage:"noResultsImage_c2b47d",errorImage:"errorImage_c2b47d",errorMessage:"errorMessage_c2b47d",noResults:"noResults_c2b47d",alt:"alt_c2b47d"}},771860:function(e,t,n){e.exports={safetyAction:"safetyAction_ed0993",safetyActionText:"safetyActionText_ed0993"}},595743:function(e,t,n){e.exports={participants:"participants_a07d72"}},253428:function(e,t,n){e.exports={tileBaseContainer:"tileBaseContainer_e1522e",tileContainer:"tileContainer_e1522e tileBaseContainer_e1522e",textContainer:"textContainer_e1522e",avatarContainer:"avatarContainer_e1522e",avatar:"avatar_e1522e",faded:"faded_e1522e",text:"text_e1522e",singleIcon:"singleIcon_e1522e",doubleIcon:"doubleIcon_e1522e",boost:"boost_e1522e",blockedIcon:"blockedIcon_e1522e",icon:"icon_e1522e",invited:"invited_e1522e"}},518063:function(e,t,n){e.exports={spaceBetweenTiles:"spaceBetweenTiles_a77085",tileSizer:"tileSizer_a77085"}},443644:function(e,t,n){e.exports={container:"container_c5e69b",sparkleIcon:"sparkleIcon_c5e69b",sparkleTop:"sparkleTop_c5e69b",sparkleBottom:"sparkleBottom_c5e69b"}},349824:function(e,t,n){e.exports={container:"container_f80572"}},974876:function(e,t,n){e.exports={background:"background_b42a48",foreground:"foreground_b42a48"}},487788:function(e,t,n){e.exports={raisedHandIcon:"raisedHandIcon_de335c",raisedHandCount:"raisedHandCount_de335c"}},875440:function(e,t,n){e.exports={container:"container_f7ece4",chatOpen:"chatOpen_f7ece4",headerContainer:"headerContainer_f7ece4",contentContainer:"contentContainer_f7ece4",buttonContainer:"buttonContainer_f7ece4",buttonMargin:"buttonMargin_f7ece4",listTitle:"listTitle_f7ece4",participantRowContainer:"participantRowContainer_f7ece4",participantMemberContainer:"participantMemberContainer_f7ece4",participantTextContainer:"participantTextContainer_f7ece4",participantAvatar:"participantAvatar_f7ece4",participantName:"participantName_f7ece4",emptyStateContainer:"emptyStateContainer_f7ece4",emptyStateTitle:"emptyStateTitle_f7ece4",emptyStateBody:"emptyStateBody_f7ece4",toggle:"toggle_f7ece4"}},322455:function(e,t,n){e.exports={container:"container_ed4410",callContainer:"callContainer_ed4410",sidebarVisible:"sidebarVisible_ed4410",sidebarOrChatVisible:"sidebarOrChatVisible_ed4410",rightTrayIcon:"rightTrayIcon_ed4410",volumeSlider:"volumeSlider_ed4410",chatToasts:"chatToasts_ed4410",rtsSidebarOpen:"rtsSidebarOpen_ed4410",channelChatWrapper:"channelChatWrapper_ed4410"}},487847:function(e,t,n){e.exports={participants:"participants_cb3dd1",icon:"icon_cb3dd1",buttonIcon:"buttonIcon_cb3dd1",channelName:"channelName_cb3dd1",channelNameWrapper:"channelNameWrapper_cb3dd1",divider:"divider_cb3dd1",speakerCount:"speakerCount_cb3dd1",button:"button_cb3dd1",sidebarOpen:"sidebarOpen_cb3dd1",boostUpsell:"boostUpsell_cb3dd1",boostButton:"boostButton_cb3dd1",notNowButton:"notNowButton_cb3dd1",text:"text_cb3dd1",buttons:"buttons_cb3dd1"}},38524:function(e,t,n){e.exports={scroller:"scroller_bb12d2",spacer:"spacer_bb12d2",focusedRow:"focusedRow_bb12d2",header:"header_bb12d2"}},614826:function(e,t,n){e.exports={containerColumn:"containerColumn_e12b21",container:"container_e12b21",buttonWithTextButton:"buttonWithTextButton_e12b21",buttonWithTextInnerContainer:"buttonWithTextInnerContainer_e12b21",primaryButtonColor:"primaryButtonColor_e12b21",buttonWithTextIcon:"buttonWithTextIcon_e12b21",buttonSpacing:"buttonSpacing_e12b21",experimentButtonSpacing:"experimentButtonSpacing_e12b21",eventPrompts:"eventPrompts_e12b21",separator:"separator_e12b21",avControls:"avControls_e12b21",experimentWrapper:"experimentWrapper_e12b21",buttonSection:"buttonSection_e12b21",avSpacing:"avSpacing_e12b21"}},763410:function(e,t,n){e.exports={auto:"auto_ad8998 scrollerBase_ad8998",fade:"fade_ad8998"}},500042:function(e,t,n){e.exports={rowContainer:"rowContainer_f3a5b1"}},476239:function(e,t,n){e.exports={container:"container_cbfbcf",micIcon:"micIcon_cbfbcf",downIcon:"downIcon_cbfbcf",upIcon:"upIcon_cbfbcf",text:"text_cbfbcf"}},22105:function(e,t,n){e.exports={summary:"summary_c2a8f0",speakers:"speakers_c2a8f0",avatar:"avatar_c2a8f0"}},235537:function(e,t,n){e.exports={tile:"tile_f1e0c3"}},922775:function(e,t,n){e.exports={iconBackground:"iconBackground_e5ee5b",icon:"icon_e5ee5b",headerContainer:"headerContainer_e5ee5b",subtitle:"subtitle_e5ee5b",eventPrompt:"eventPrompt_e5ee5b",separator:"separator_e5ee5b",continueIcon:"continueIcon_e5ee5b",continueIconContainer:"continueIconContainer_e5ee5b",audienceSummary:"audienceSummary_e5ee5b",summaryItem:"summaryItem_e5ee5b"}},173324:function(e,t,n){e.exports={summaryDivider:"summaryDivider_cabeb6",summaryDividerStart:"summaryDividerStart_cabeb6",summaryDividerEnd:"summaryDividerEnd_cabeb6",summaryStartContent:"summaryStartContent_cabeb6",summaryEndContent:"summaryEndContent_cabeb6",summaryStartIcon:"summaryStartIcon_cabeb6",summaryEndIcon:"summaryEndIcon_cabeb6",summaryFeedbackWrapper:"summaryFeedbackWrapper_cabeb6",summaryFeedback:"summaryFeedback_cabeb6",thumbIcon:"thumbIcon_cabeb6"}},51572:function(e,t,n){e.exports={container:"container_fb4810",chat:"chat_fb4810",messagesWrapper:"messagesWrapper_fb4810",scroller:"scroller_fb4810",scrollerInner:"scrollerInner_fb4810",formSection:"formSection_fb4810",checkbox:"checkbox_fb4810",privateThreadDescription:"privateThreadDescription_fb4810",form:"form_fb4810",channelTextArea:"channelTextArea_fb4810",channelTextAreaInner:"channelTextAreaInner_fb4810",channelTextAreaInnerError:"channelTextAreaInnerError_fb4810",starterMessageError:"starterMessageError_fb4810",privateThreadFormTitle:"privateThreadFormTitle_fb4810",privateThreadFormTitleText:"privateThreadFormTitleText_fb4810",submitContainer:"submitContainer_fb4810",messagePreview:"messagePreview_fb4810"}},494870:function(e,t,n){e.exports={container:"container_e664f3",header:"header_e664f3",threadIcon:"threadIcon_e664f3",title:"title_e664f3",divider:"divider_e664f3",closeIcon:"closeIcon_e664f3",spacer:"spacer_e664f3",createButton:"createButton_e664f3",searchBox:"searchBox_e664f3"}},43069:function(e,t,n){e.exports={container:"container_ebd74a",iconContainer:"iconContainer_ebd74a",icon:"icon_ebd74a",stars:"stars_ebd74a",header:"header_ebd74a",cta:"cta_ebd74a"}},574221:function(e,t,n){e.exports={icon:"icon_f542fc",browser:"browser_f542fc"}},316931:function(e,t,n){e.exports={container:"container_acb8b3",left:"left_acb8b3",subtext:"subtext_acb8b3",authorName:"authorName_acb8b3",startedByName:"startedByName_acb8b3",threadName:"threadName_acb8b3",parentName:"parentName_acb8b3",messageContent:"messageContent_acb8b3",threadNameLine:"threadNameLine_acb8b3",facepile:"facepile_acb8b3",avatar:"avatar_acb8b3",noAvatarIcon:"noAvatarIcon_acb8b3",messageContentTrailingIcon:"messageContentTrailingIcon_acb8b3",messageContentLeadingIcon:"messageContentLeadingIcon_acb8b3",bullet:"bullet_acb8b3"}},773159:function(e,t,n){e.exports={list:"list_c6aa12",activeThreadsList:"activeThreadsList_c6aa12",sectionHeader:"sectionHeader_c6aa12",spinner:"spinner_c6aa12"}},676199:function(e,t,n){e.exports={chatHeaderBar:"chatHeaderBar_e2f46e",narrow:"narrow_e2f46e",chatHeaderBarText:"chatHeaderBarText_e2f46e",chatHeaderBarButton:"chatHeaderBarButton_e2f46e"}},594559:function(e,t,n){e.exports={strikethrough:"strikethrough_fde376"}},31224:function(e,t,n){e.exports={chat:"chat_fe669e"}},408686:function(e,t,n){e.exports={container:"container_af06b5"}},961891:function(e,t,n){e.exports={container:"container_de9d09"}},620899:function(e,t,n){e.exports={container:"container_d96744",personAvatar:"personAvatar_d96744",guildAvatar:"guildAvatar_d96744",illustration:"illustration_d96744",avatarSizeOverride:"avatarSizeOverride_d96744"}},879249:function(e,t,n){e.exports={indicator:"indicator_fa9358",animationContainer:"animationContainer_fa9358",animating:"animating_fa9358",notAnimating:"notAnimating_fa9358",top:"top_fa9358",bottom:"bottom_fa9358",innerCircle:"innerCircle_fa9358",highPriority:"highPriority_fa9358",outerCircle:"outerCircle_fa9358"}},954396:function(e,t,n){e.exports={icon:"icon_cefc08",writingMessagesTitle:"writingMessagesTitle_cefc08",voiceChannelsTitle:"voiceChannelsTitle_cefc08",channelsTitle:"channelsTitle_cefc08"}},148562:function(e,t,n){e.exports={list:"list_fd4745"}},469504:function(e,t,n){e.exports={divider:"divider_e3d8a6"}},181402:function(e,t,n){e.exports={memberSinceWrapper:"memberSinceWrapper_b06bc5",memberSince:"memberSince_b06bc5",discordIcon:"discordIcon_b06bc5",divider:"divider_b06bc5"}},731218:function(e,t,n){e.exports={listRow:"listRow_d2d6cb",listRowContent:"listRowContent_d2d6cb",listName:"listName_d2d6cb",listAvatar:"listAvatar_d2d6cb",listDiscriminator:"listDiscriminator_d2d6cb",empty:"empty_d2d6cb",emptyText:"emptyText_d2d6cb",listScroller:"listScroller_d2d6cb",emptyIconFriends:"emptyIconFriends_d2d6cb emptyIcon_d2d6cb",emptyIconGuilds:"emptyIconGuilds_d2d6cb emptyIcon_d2d6cb",emptyIconStreamerMode:"emptyIconStreamerMode_d2d6cb emptyIcon_d2d6cb"}},644197:function(e,t,n){e.exports={guildAvatar:"guildAvatar_c5a773",guildAvatarWithoutIcon:"guildAvatarWithoutIcon_c5a773",guildNick:"guildNick_c5a773"}},562296:function(e,t,n){e.exports={container:"container_faebe2",header:"header_faebe2",headerContainer:"headerContainer_faebe2",previewForCollected:"previewForCollected_faebe2 preview_faebe2",body:"body_faebe2",bodySpacing:"bodySpacing_faebe2",centeredButton:"centeredButton_faebe2"}},747918:function(e,t,n){e.exports={header:"header_a823cd",headerTag:"headerTag_a823cd",footer:"footer_a823cd",footerButtonColor:"footerButtonColor_a823cd",banner:"banner_a823cd",backdrop:"backdrop_a823cd",toast:"toast_a823cd"}},866669:function(e,t,n){e.exports={body:"body_a972fe",overlay:"overlay_a972fe",activity:"activity_a972fe"}},68187:function(e,t,n){e.exports={section:"section_d8eba3",header:"header_d8eba3",loading:"loading_d8eba3",clickable:"clickable_d8eba3",list:"list_d8eba3"}},341855:function(e,t,n){e.exports={overlay:"overlay_a8795b",divider:"divider_a8795b",list:"list_a8795b"}},414360:function(e,t,n){e.exports={root:"root_a5ea57",art:"art_a5ea57",buttonContainer:"buttonContainer_a5ea57",button:"button_a5ea57",buttonContents:"buttonContents_a5ea57",heading:"heading_a5ea57",checkboxContainer:"checkboxContainer_a5ea57",closeButton:"closeButton_a5ea57",closeButtonContainer:"closeButtonContainer_a5ea57",activitiesContainer:"activitiesContainer_a5ea57",activitiesContainerSmol:"activitiesContainerSmol_a5ea57",activitySuggestion:"activitySuggestion_a5ea57",clickableTile:"clickableTile_a5ea57",iconContainer:"iconContainer_a5ea57",shelfButtonCloseButton:"shelfButtonCloseButton_a5ea57",closeButtonIcon:"closeButtonIcon_a5ea57"}},186895:function(e,t,n){e.exports={container:"container_dafce5",tileContainer:"tileContainer_dafce5",tile:"tile_dafce5"}},561716:function(e,t,n){e.exports={eventPromptsContainer:"eventPromptsContainer_b6e2f9",controlButton:"controlButton_b6e2f9",wrapper:"wrapper_b6e2f9",experimentWrapper:"experimentWrapper_b6e2f9 wrapper_b6e2f9",buttonContainer:"buttonContainer_b6e2f9",buttonSection:"buttonSection_b6e2f9",avSpacing:"avSpacing_b6e2f9"}},288135:function(e,t,n){e.exports={voiceCallWrapper:"voiceCallWrapper_bae578",videoGridWrapper:"videoGridWrapper_bae578",flexCenter:"flexCenter_bae578",videoWrapperAnimated:"videoWrapperAnimated_bae578",videoGrid:"videoGrid_bae578",hiddenParticipants:"hiddenParticipants_bae578",videoSizer:"videoSizer_bae578",focusedVideo:"focusedVideo_bae578"}},723902:function(e,t,n){e.exports={container:"container_f2bd71",tiles:"tiles_f2bd71",tile:"tile_f2bd71",participantsRow:"participantsRow_f2bd71",channelName:"channelName_f2bd71",joinButton:"joinButton_f2bd71"}},957970:function(e,t,n){e.exports={root:"root_cb8821",art:"art_cb8821",hidden:"hidden_cb8821",header:"header_cb8821"}},948899:function(e,t,n){e.exports={tile:"tile_b0f687"}},414414:function(e,t,n){e.exports={root:"root_f42a96"}},290187:function(e,t,n){e.exports={root:"root_f8a4f3",tileWrapper:"tileWrapper_f8a4f3",videoFrame:"videoFrame_f8a4f3",videoWrapper:"videoWrapper_f8a4f3",actionRow:"actionRow_f8a4f3",idle:"idle_f8a4f3",participantsWrapperAnimated:"participantsWrapperAnimated_f8a4f3"}},318203:function(e,t,n){e.exports={buttonColor:"buttonColor_d4af21",textButton:"textButton_d4af21",iconButton:"iconButton_d4af21"}},644921:function(e,t,n){e.exports={toastWrapper:"toastWrapper_dbb3d0",toast:"toast_dbb3d0",avatar:"avatar_dbb3d0",messageContentWrapper:"messageContentWrapper_dbb3d0",mentioned:"mentioned_dbb3d0",sticker:"sticker_dbb3d0",messageContent:"messageContent_dbb3d0",messageContentTrailingIcon:"messageContentTrailingIcon_dbb3d0",messageContentLeadingIcon:"messageContentLeadingIcon_dbb3d0"}},576976:function(e,t,n){e.exports={root:"root_dd069c",idle:"idle_dd069c",topControls:"topControls_dd069c controlSection_dd069c",bottomControls:"bottomControls_dd069c controlSection_dd069c",videoControls:"videoControls_dd069c",gradientTop:"gradientTop_dd069c gradientContainer_dd069c",gradientBottom:"gradientBottom_dd069c gradientContainer_dd069c",edgeControls:"edgeControls_dd069c"}},308317:function(e,t,n){e.exports={arrow:"arrow_f91b57",up:"up_f91b57"}},586879:function(e,t,n){e.exports={unreadCount:"unreadCount_e33c38",mention:"mention_e33c38"}},38287:function(e,t,n){e.exports={chatIcon:"chatIcon_f420ee",badge:"badge_f420ee"}},983351:function(e,t,n){e.exports={progress:"progress_d8cc3d",container:"container_d8cc3d",countdown:"countdown_d8cc3d",iconHover:"iconHover_d8cc3d",active:"active_d8cc3d",button:"button_d8cc3d"}},106638:function(e,t,n){e.exports={visuallyHidden:"visuallyHidden_b7d6f1",label:"label_b7d6f1",labelUnchecked:"labelUnchecked_b7d6f1",labelChecked:"labelChecked_b7d6f1",burstText:"burstText_b7d6f1",burstTextChecked:"burstTextChecked_b7d6f1",tooltip:"tooltip_b7d6f1",tooltipContainer:"tooltipContainer_b7d6f1",transition:"transition_b7d6f1",shine:"shine_b7d6f1"}},288479:function(e,t,n){e.exports={container:"container_dd3166",emoji:"emoji_dd3166",emoji1:"emoji1_dd3166",emoji2:"emoji2_dd3166",emoji3:"emoji3_dd3166",emoji4:"emoji4_dd3166"}},473291:function(e,t,n){e.exports={reducedMotionTooltip:"reducedMotionTooltip_e11726"}},708017:function(e,t,n){e.exports={video:"video_a5936c",artContainer:"artContainer_a5936c"}},191315:function(e,t,n){e.exports={container:"container_bdea70",slotsContainer:"slotsContainer_bdea70",slots:"slots_bdea70",slotsWide:"slotsWide_bdea70",slot:"slot_bdea70",emoji:"emoji_bdea70",tooltipContainer:"tooltipContainer_bdea70",emojiItemDisabled:"emojiItemDisabled_bdea70",animatedPicker:"animatedPicker_bdea70",animatedPickerTall:"animatedPickerTall_bdea70",emojiPickerHeader:"emojiPickerHeader_bdea70",emojiPickerHeaderExpanded:"emojiPickerHeaderExpanded_bdea70",dropDownContainer:"dropDownContainer_bdea70",dropDown:"dropDown_bdea70",dropDownOpen:"dropDownOpen_bdea70"}},811628:function(e,t,n){e.exports={modal:"modal_ed23b8",content:"content_ed23b8"}},484334:function(e){e.exports=JSON.parse('{"v":"5.12.1","fr":60,"ip":0,"op":210,"w":100,"h":100,"nm":"entrypoint_anim","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":9,"ty":4,"nm":"Blur Mask","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":0,"s":[70,70,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":30,"s":[100,100,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.985,0.985,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":60,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.974,0.974,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.015,-0.015,0]},"t":90,"s":[95,95,100]},{"i":{"x":[0.667,0.667,0.667],"y":[0.954,0.954,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.026,-0.026,0]},"t":120,"s":[105,105,100]},{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.091,-0.091,0]},"t":150,"s":[95,95,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[-0.009,-0.009,0]},"t":180,"s":[100,100,100]},{"t":210,"s":[70,70,100]}],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[600,600],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0.5,1,1,1,0.75,1,1,1,1,1,1,1,0.5,1,0.75,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[30,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":10,"ty":3,"nm":"Rotate Null","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"t":210,"s":[360]}],"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":210,"st":0,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"Green","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-25,25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.341,0.949,0.529,0.5,0.341,0.949,0.529,1,0.341,0.949,0.529,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"Magenta","parent":10,"tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[25,-25,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[100,100],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,0.922,0.271,0.62,0.5,0.922,0.271,0.62,1,0.922,0.271,0.62,0,1,0.5,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[50,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill 1","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":210,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":13,"ty":1,"nm":"BG","tt":1,"tp":9,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[50,50,0],"ix":2,"l":2},"a":{"a":0,"k":[50,50,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"sw":100,"sh":100,"sc":"#5865f2","ip":0,"op":210,"st":0,"bm":0}],"markers":[{"tm":0,"cm":"all","dr":210}],"props":{}}')},158877:function(e){e.exports=JSON.parse('{"nm":"entrypoint_anim","ddd":0,"h":100,"w":100,"meta":{"g":"@lottiefiles/toolkit-js 0.33.2"},"layers":[{"ty":3,"nm":"Trinkets Null","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":1},{"ty":4,"nm":"L2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":80},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":100},{"s":[0,0,100],"t":120}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-13.333,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[27.662],"t":80},{"s":[2.662],"t":120}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.352,-0.951],[0,0],[-0.274,-0.101],[0,0],[0.951,-0.352],[0,0],[0.101,-0.274],[0,0],[0.352,0.951],[0,0],[0.274,0.101],[0,0],[-0.951,0.352],[0,0],[-0.101,0.274]],"o":[[0.352,-0.951],[0,0],[0.101,0.274],[0,0],[0.951,0.352],[0,0],[-0.274,0.101],[0,0],[-0.352,0.951],[0,0],[-0.101,-0.274],[0,0],[-0.951,-0.352],[0,0],[0.274,-0.101],[0,0]],"v":[[-1.025,-3.786],[1.025,-3.786],[1.611,-2.202],[2.202,-1.611],[3.787,-1.025],[3.787,1.025],[2.202,1.611],[1.611,2.202],[1.025,3.786],[-1.025,3.786],[-1.611,2.202],[-2.202,1.611],[-3.787,1.025],[-3.787,-1.025],[-2.202,-1.611],[-1.611,-2.202]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.3451,0.3961,0.949],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":2,"parent":1},{"ty":4,"nm":"R2","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":40},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":60},{"s":[0,0,100],"t":80}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":15,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[25.662],"t":40},{"s":[0.662],"t":80}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.39,-0.389],[0,0],[-0.224,-0.026],[0,0],[0.061,-0.548],[0,0],[-0.12,-0.191],[0,0],[0.466,-0.294],[0,0],[0.075,-0.213],[0,0],[0.52,0.181],[0,0],[0.213,-0.074],[0,0],[0.183,0.52],[0,0],[0.19,0.12],[0,0],[-0.292,0.467],[0,0],[0.025,0.224],[0,0],[-0.547,0.063],[0,0],[-0.16,0.159]],"o":[[0.39,-0.389],[0,0],[0.16,0.159],[0,0],[0.547,0.063],[0,0],[-0.025,0.224],[0,0],[0.292,0.467],[0,0],[-0.191,0.12],[0,0],[-0.183,0.52],[0,0],[-0.213,-0.074],[0,0],[-0.52,0.181],[0,0],[-0.075,-0.213],[0,0],[-0.466,-0.294],[0,0],[0.12,-0.191],[0,0],[-0.061,-0.548],[0,0],[0.224,-0.026],[0,0]],"v":[[-0.706,-4.594],[0.706,-4.594],[1.543,-3.76],[2.135,-3.475],[3.31,-3.34],[4.19,-2.237],[4.06,-1.061],[4.206,-0.421],[4.833,0.581],[4.519,1.958],[3.519,2.589],[3.11,3.102],[2.717,4.218],[1.445,4.83],[0.329,4.442],[-0.329,4.442],[-1.445,4.83],[-2.717,4.218],[-3.11,3.102],[-3.519,2.589],[-4.519,1.958],[-4.833,0.581],[-4.206,-0.421],[-4.06,-1.061],[-4.19,-2.237],[-3.31,-3.34],[-2.135,-3.475],[-1.543,-3.76]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.9686,0.8,0.3961],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":3,"parent":1},{"ty":4,"nm":"R1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":60},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":80},{"s":[0,0,100],"t":100}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":3.397,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":60},{"s":[-22.338],"t":100}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[0,0],[-0.073,1.165],[0,0],[-0.98,-0.722],[0,0],[1.057,-0.493]],"o":[[-1.057,0.493],[0,0],[0.076,-1.214],[0,0],[0.939,0.692],[0,0]],"v":[[-0.891,3.165],[-3.075,1.676],[-2.853,-1.869],[-0.407,-3.01],[2.453,-0.904],[2.191,1.727]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.5176,0.9333,0.5686],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":4,"parent":1},{"ty":4,"nm":"L1","sr":1,"st":0,"op":180,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.167,"y":0},"i":{"x":0.502,"y":1},"s":[0,0,100],"t":72},{"o":{"x":0.507,"y":0},"i":{"x":0.833,"y":1},"s":[100,100,100],"t":92},{"s":[0,0,100],"t":112}],"ix":6},"sk":{"a":0,"k":0},"p":{"s":true,"x":{"a":0,"k":-15.264,"ix":3},"y":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[2.662],"t":72},{"s":[-22.338],"t":112}],"ix":4},"z":{"a":0,"k":0}},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Group 1","ix":1,"cix":2,"np":2,"it":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":0,"k":{"c":true,"i":[[-0.22,0.82],[0,0],[-0.82,-0.22],[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0]],"o":[[0,0],[0.22,-0.82],[0,0],[0.82,0.22],[0,0],[-0.22,0.82],[0,0],[-0.82,-0.22]],"v":[[-3.838,0.961],[-2.844,-2.751],[-0.961,-3.838],[2.751,-2.844],[3.838,-0.961],[2.844,2.751],[0.961,3.838],[-2.751,2.844]]},"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.8235,0.5961,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[0,0],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5,"parent":1},{"ty":3,"nm":"Rotate Null","sr":1,"st":0,"op":210,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[50,50,0],"ix":2},"r":{"a":1,"k":[{"o":{"x":0.167,"y":0.167},"i":{"x":0.833,"y":0.833},"s":[0],"t":0},{"s":[360],"t":210}],"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":0,"ix":11}},"ef":[],"ind":6}],"v":"5.12.1","fr":60,"op":210,"ip":0,"assets":[]}')}}]);
//# sourceMappingURL=cd00dab3fed7d0d1c0a7.js.map