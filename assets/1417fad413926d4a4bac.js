"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([["14348"],{863181:function(e){e.exports="/assets/51b167aa695d186d7026.svg"},442519:function(e){e.exports="/assets/095d01d68e15a8296a12.svg"},466389:function(e){e.exports="/assets/9a5ab44d704fa3235920.svg"},943935:function(e){e.exports="/assets/4e53f7d2ba48d2467d4e.svg"},356634:function(e){e.exports="/assets/99ad5845cf7de1c326e2.svg"},459505:function(e){e.exports="/assets/94e8916a8505ffbe331d.svg"},67764:function(e){e.exports="/assets/2c264379b38bf71b8358.svg"},900933:function(e){e.exports="/assets/e61cb3f7d0bd4dc1a78b.svg"},917847:function(e){e.exports="/assets/dcbf373925d18e337c98.svg"},55346:function(e){e.exports="/assets/1641b16ec6ac0c4e733d.svg"},138715:function(e){e.exports="/assets/04e2c9489e75f5614205.svg"},979770:function(e){e.exports="/assets/7ff5a96a1c84092e629e.svg"},755386:function(e){e.exports="/assets/0fe043cd8ae1ba7aaec9.svg"},589148:function(e){e.exports="/assets/742323d36ad1c45d0c2b.svg"},511189:function(e){e.exports="/assets/4fdedd16e4e7a0c3b235.svg"},510342:function(e){e.exports="/assets/b0d61e799f6e94da5d87.svg"},211827:function(e){e.exports="/assets/014fef5cec3827644c4a.svg"},497726:function(e){e.exports="/assets/53867d0ed019307073a5.svg"},839999:function(e){e.exports="/assets/736e6e57c9986fa38d22.svg"},127869:function(e){e.exports="/assets/5344127ced594c141e76.svg"},571472:function(e){e.exports="/assets/b52e8375b7a658dd8505.svg"},241626:function(e){e.exports="/assets/5ad43e76476b26a1d90b.svg"},932478:function(e){e.exports="/assets/ba426471bfba8603066a.svg"},498973:function(e){e.exports="/assets/11160eda9a38fd0b1838.svg"},592859:function(e){e.exports="/assets/c2b16223f857f9a63330.svg"},837758:function(e){e.exports="/assets/1fe5b8b8823637977029.svg"},239660:function(e){e.exports="/assets/68773e4e338a52397fb7.svg"},846064:function(e){e.exports="/assets/b031edfc6923ecbc9f07.svg"},156834:function(e){e.exports="/assets/c025c8242c2e48f5842d.svg"},895101:function(e){e.exports="/assets/15fad1fb4f3b3cef2dcf.svg"},686969:function(e){e.exports="/assets/c453bd28dab8ee54cb6d.svg"},238173:function(e){e.exports="/assets/356c6424624b4f1f0e2c.svg"},468042:function(e){e.exports="/assets/4bc878c04f5fdc244c5c.svg"},251458:function(e){e.exports="/assets/8c131e193122e0fb73ac.svg"},449757:function(e){e.exports="/assets/df72ce8abd711d91b403.svg"},32634:function(e){e.exports="/assets/f8656da7f64c2de9fd0a.svg"},457115:function(e){e.exports="/assets/3f59286a4b091901280f.svg"},902294:function(e){e.exports="/assets/82e4627b29fa4e594d1d.svg"},157476:function(e){e.exports="/assets/0ba41b0af0163799c811.png"},420569:function(e){e.exports="/assets/c20795680da160eea400.png"},364632:function(e){e.exports="/assets/c9d93c20836c4e464602.svg"},586522:function(e){e.exports="/assets/2f73c993cff7834d0533.svg"},837753:function(e){e.exports="/assets/ea62352f07f106e59a84.svg"},217110:function(e){e.exports="/assets/b9e7692a51417c4ae98b.svg"},741160:function(e){e.exports="/assets/19f402fd7294ee15f759.png"},829972:function(e){e.exports="/assets/72637aa9c1ec785944a4.svg"},31932:function(e){e.exports="/assets/b1f53e44c514ab1930da.svg"},930128:function(e){e.exports="/assets/1fa44283d21bed132137.svg"},882977:function(e){e.exports="/assets/49f52ee29ece17b44818.svg"},297806:function(e){e.exports="/assets/71918b2c7c4bd8476021.svg"},642301:function(e){e.exports="/assets/3605a8d2d0d02ddc4192.png"},788901:function(e){e.exports="/assets/a2698ffa4d2ae6d7ea42.png"},933662:function(e){e.exports="/assets/63fb625147404ad6de71.png"},146714:function(e){e.exports="/assets/255d6a99a55df43ad9e9.svg"},659429:function(e,t,n){n.d(t,{$:function(){return o}});var i=n(544891),r=n(570140),l=n(34756),a=n(981631);async function o(e){r.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_START",applicationId:e});try{let t=(await i.tn.get({url:a.ANM.APPLICATION_ACTIVITY_STATISTICS(e),oldFormErrors:!0,rejectWithError:!1})).body;return r.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t,applicationId:e}),t}catch(t){throw r.Z.dispatch({type:"APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL",applicationId:e}),new l.Z(t)}}},930118:function(e,t,n){n.d(t,{Y:function(){return r}});var i=n(570140);function r(e){i.Z.wait(()=>i.Z.dispatch({type:"APPLICATION_STORE_LOCATION_CHANGE",location:e}))}},120960:function(e,t,n){n.d(t,{N:function(){return r}});var i=n(570140);function r(e,t){i.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}},949389:function(e,t,n){n.d(t,{GO:function(){return r},K7:function(){return l},xm:function(){return a}});var i=n(570140);function r(e){i.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}function l(e){i.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e})}function a(e){i.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e})}},943094:function(e,t,n){n.d(t,{W:function(){return o}});var i=n(481060),r=n(812206),l=n(710845),a=n(51025);function o(e,t,o){!function(e,t){let a=r.Z.getApplication(e);if(null==a){new l.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e));return}(0,i.openModalLazy)(async()=>{let{default:e}=await n.e("70061").then(n.bind(n,764998));return n=>e({game:a,onConfirmUninstall:t,...n})})}(e,()=>(0,a.pC)(e,t,o))}},287259:function(e,t,n){n.d(t,{JZ:function(){return l},fS:function(){return r},wX:function(){return a}});var i=n(570140);function r(e,t){i.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}function l(e){i.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}},325432:function(e,t,n){n.d(t,{RY:function(){return l},Tb:function(){return o},ec:function(){return s},iD:function(){return a}}),n(47120);var i=n(570140),r=n(830168);function l(e){r.Z.queryDirectory(e,(t,n)=>{if(null==t&&null!=n)i.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})})}function a(e){i.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function o(e,t){let{label:n,isDefault:r}=t;i.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:r})}function s(e){let t={},n=0;for(let l of e){if(null!=l&&"string"==typeof l)r.Z.queryDirectory(l,(r,a)=>{++n,null==r&&null!=a&&(t[l]=a),n===e.length&&i.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})})}}},115849:function(e,t,n){n.d(t,{Z:function(){return N}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(481060),d=n(194359),u=n(313201),h=n(657682),m=n(981631),p=n(420212),g=n(388032),f=n(333483),_=n(232186);let E={canSend:!1,hint:null,success:null,error:null},I=(0,u.hQ)(),C="".concat(I,"-decription"),v="".concat(I,"-error");function S(e,t){switch(t.type){case"RESET":return E;case"SUCCESS":return{...E,success:t.text};case"HINT":return{...E,canSend:!0,hint:t.text};case"ERROR":return{...e,canSend:!0,error:t.text}}}function N(){let e=r.createRef(),t=r.createRef(),[n,l]=r.useReducer(S,E),{canSend:o,hint:u,success:N,error:T}=n;return r.useEffect(()=>{null!=N&&(s()(null!=e.current,"Input is submitting when not mounted"),e.current.value="",e.current.focus())},[N,e]),(0,i.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s()(null!=e.current,"Input is submitted when not mounted");let n=e.current.value.trim();!n.includes("#")&&n.startsWith("@")&&(n=n.substring(1));let i=(0,h.Zy)(n);if(null!=i){l({type:"ERROR",text:i});return}d.Z.sendRequest({discordTag:n,context:{location:"Add Friend"}}).then(()=>l({type:"SUCCESS",text:g.intl.format(g.t.Rtl1Eh,{discordTag:n})}),e=>{var t;return l({type:"ERROR",text:(0,h.NF)(null===(t=e.body)||void 0===t?void 0:t.code,n)})})},autoComplete:"off",children:[(0,i.jsx)(c.FormText,{id:C,type:c.FormText.Types.DESCRIPTION,children:g.intl.string(g.t["Rn/sLi"])}),(0,i.jsx)(c.FocusRing,{focusTarget:e,ringTarget:t,ringClassName:f.ring,children:(0,i.jsxs)("div",{ref:t,className:a()(f.addFriendInputWrapper,{[f.success]:N,[f.error]:T}),children:[(0,i.jsx)(c.TextInput,{id:I,inputRef:e,className:f.addFriendInput,inputClassName:f.input,onKeyPress:t=>{let n=t.currentTarget.value;if(t.key!==p.mR.Enter){if(n.includes("#")){s()(null!=e.current,"Input is handling keypress when not mounted");let i=n.indexOf("#"),r=e.current.selectionStart,l=t.key===p.mR.Backspace||t.key===p.mR.ArrowRight||t.key===p.mR.ArrowLeft,a=t.which>=48&&t.which<=57;null!=r&&r>i&&/^(.+?#\d{4})$/.test(n)&&!l?t.preventDefault():null!=r&&r>i&&!a&&!l&&t.preventDefault()}}},onChange:e=>{if(e.length<=0){l({type:"RESET"});return}let t="",[,n]=e.split("#");null!=n&&(t=e+m.LYt.slice(null!=n?n.length+1:0)),l({type:"HINT",text:t})},maxLength:37,autoFocus:!0,autoComplete:"off",name:"add-friend","data-form-type":"other","data-lpignore":!0,"data-1p-ignore":!0,placeholder:g.intl.string(g.t["Rn/sLi"]),"aria-label":g.intl.string(g.t["Rn/sLi"]),"aria-invalid":null!=T||void 0,"aria-describedby":null!=T?v:C}),null!=u&&(0,i.jsx)("div",{className:f.addFriendHint,"aria-hidden":!0,children:u}),(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,disabled:!o,type:"submit",children:g.intl.string(g.t["PMsq/f"])})]})}),null!=T&&(0,i.jsx)(c.FormText,{role:"alert",id:v,type:c.FormText.Types.ERROR,className:_.marginTop8,children:T}),null!=N&&(0,i.jsx)(c.FormText,{role:"status",type:c.FormText.Types.SUCCESS,className:_.marginTop8,children:N})]})}},374005:function(e,t,n){n.d(t,{b:function(){return I}});var i=n(200651),r=n(192379),l=n(393238),a=n(540059),o=n(720734),s=n(840780),c=n(235555),d=n(746508),u=n(210724),h=n(905423),m=n(316173),p=n(410575),g=n(981631),f=n(388032),_=n(415281);function E(e){let t=(0,h.Z)(e=>{let{guildId:t}=e;return t});return(0,i.jsx)(s.Z,{...e,guildId:t})}function I(){let e=(0,a.Q3)("AppPanels"),t=r.useRef(null);return(0,l.P)(t,t=>{let{height:n}=t;e&&document.body.style.setProperty("--custom-app-panels-height","".concat(n,"px"))},[]),(0,i.jsxs)("section",{ref:t,className:_.panels,"aria-label":f.intl.string(f.t.StREWF),children:[e&&(0,i.jsx)(m.Z,{}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(c.Z,{}),(0,i.jsx)(p.Z,{section:g.jXE.ACTIVITY_PANEL,children:(0,i.jsx)(E,{className:_.activityPanel})}),(0,i.jsx)(p.Z,{section:g.jXE.RTC_CONNECTION_PANEL,children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(p.Z,{section:g.jXE.ACCOUNT_PANEL,children:(0,i.jsx)(o.Z,{})})]})}},176299:function(e,t,n){n.d(t,{Z:function(){return eB}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512969),s=n(990547),c=n(608787),d=n(873546),u=n(442837),h=n(433517),m=n(481060),p=n(711237),g=n(532835),f=n(347469),_=n(290297),E=n(279240),I=n(765717),C=n(358221),v=n(823748),S=n(626421),N=n(118379),T=n(267161),b=n(652515),x=n(544978),A=n(540059),Z=n(724383),L=n(135864),P=n(372900),y=n(63568),O=n(6039),R=n(637853),j=n(326145),D=n(269675),M=n(242601),w=n(416568),k=n(613609),U=n(160404),G=n(225675),B=n(745052),H=n(285865),V=n(659971),F=n(179742),z=n(270759),W=n(918701),Y=n(905423),K=n(304445),q=n(893607),X=n(187819),Q=n(210887),J=n(592125),$=n(271383),ee=n(430824),et=n(944486),en=n(933429),ei=n(823379),er=n(709054),el=n(374005),ea=n(409292),eo=n(316173),es=n(256638),ec=n(663701),ed=n(697309),eu=n(425369),eh=n(715702),em=n(981631),ep=n(176505),eg=n(290511),ef=n(415281);let e_=(0,c.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,267161)),webpackId:267161}),eE=()=>(0,i.jsx)("div",{className:ef.loader,children:(0,i.jsx)(m.Spinner,{})}),eI=(0,c.Un)({createPromise:()=>n.e("68614").then(n.bind(n,650788)),webpackId:650788,name:"GuildShopPage",renderLoader:eE}),eC=(0,c.Un)({createPromise:()=>Promise.all([n.e("16114"),n.e("57279")]).then(n.bind(n,998420)),webpackId:998420,name:"GuildMemberApplicationReview",renderLoader:eE}),ev=(0,c.Un)({createPromise:()=>n.e("60493").then(n.bind(n,231588)),webpackId:231588,name:"GuildHomePage",renderLoader:eE}),eS=(0,c.Un)({createPromise:()=>Promise.all([n.e("60696"),n.e("44400")]).then(n.bind(n,545918)),webpackId:545918,name:"MemberSafetyPage",renderLoader:eE}),eN=(0,c.Un)({createPromise:()=>Promise.all([n.e("63288"),n.e("98479"),n.e("58227"),n.e("38359"),n.e("35566")]).then(n.bind(n,603072)),webpackId:603072,name:"ChannelsAndRolesPage",renderLoader:eE}),eT=(0,c.Un)({createPromise:()=>Promise.all([n.e("63288"),n.e("98479"),n.e("19878"),n.e("38359"),n.e("41456")]).then(n.bind(n,599263)),webpackId:599263,name:"GuildOnboardingPage",renderLoader:eE}),eb=e=>{let{match:t}=e,n=(0,u.e7)([J.Z,et.Z],()=>{let e=et.Z.getChannelId();return J.Z.getChannel(e)}),{guildId:r,channelId:l,messageId:a}=t.params,s=(0,u.e7)([ee.Z],()=>ee.Z.getGuild(r)),c=(0,u.e7)([$.ZP],()=>null==r?null:$.ZP.getSelfMember(r)),d=(0,u.e7)([U.Z],()=>{if(null==r)return;let e=U.Z.getData(r);if((null==e?void 0:e.type)===G.z.SERVER_SHOP)switch(e.initialTab){case"role_subscriptions":return x.y.GUILD_ROLE_SUBSCRIPTIONS;case"guild_products":return x.y.GUILD_PRODUCTS;default:return}}),h=(0,b.C4)(r,"channel_renderer"),m=(0,y.jS)(r,"ChannelRenderer");if(null!=r&&null!=l&&(0,ep.AB)(l))switch(l){case ep.oC.ROLE_SUBSCRIPTIONS:return h?(0,i.jsx)(eI,{guildId:r,initialTab:x.y.GUILD_ROLE_SUBSCRIPTIONS}):(0,i.jsx)(D.Z,{guildId:r});case ep.oC.GUILD_SHOP:return(0,i.jsx)(eI,{guildId:r,productId:a,initialTab:d});case ep.oC.MEMBER_APPLICATIONS:return m?(0,i.jsx)(o.l_,{to:em.Z5c.CHANNEL(r,ep.oC.MEMBER_SAFETY)}):(0,i.jsx)(eC,{guildId:r});case ep.oC.GUILD_HOME:return(0,i.jsx)(ev,{guildId:r});case ep.oC.CHANNEL_BROWSER:return(0,i.jsx)(eN,{guildId:r,selectedSection:eg.l7.BROWSE});case ep.oC.GUILD_ONBOARDING:return(0,i.jsx)(eT,{guildId:r});case ep.oC.CUSTOMIZE_COMMUNITY:return(0,i.jsx)(eN,{guildId:r,selectedSection:eg.l7.CUSTOMIZE});case ep.oC.MEMBER_SAFETY:return(0,i.jsx)(eS,{guildId:r});default:(0,ei.vE)(l)}if((0,R.p3)(s,c))return(0,i.jsx)(j.Z,{guildId:r,channelId:l});if((null==n?void 0:n.type)===em.d4z.GUILD_STORE){let e=er.default.cast(t.params.messageId);return(0,i.jsx)(ea.Z,{channel:n,inputSkuId:e},n.id)}return(0,i.jsx)(v.Z,{})},ex=r.memo(function(){let{guildId:e,channelId:t}=(0,Y.Z)(),n=(0,u.e7)([et.Z],()=>null!=t?t:et.Z.getChannelId(e));return function(){return window.location.pathname.startsWith(em.Z5c.GLOBAL_DISCOVERY)}()||function(){return window.location.pathname.startsWith(em.Z5c.GUILD_DISCOVERY)||(0,W.OG)()}()?(0,i.jsx)(L.Z,{}):null!=e?(0,i.jsx)(M.Z,{selectedChannelId:n,guildId:e},e):(0,i.jsx)(ec.Z,{})}),eA=e=>(0,i.jsx)(eb,{...e}),eZ=()=>(0,i.jsx)(Z.Z,{}),eL=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(O.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},eP=e=>{let{match:t}=e;return null!=t.params.guildId?(0,i.jsx)(k.Z,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},ey=()=>(0,i.jsx)(eu.Z,{}),eO=()=>(0,i.jsx)(eh.Z,{}),eR=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return(0,i.jsx)(N.Z,{isFullScreen:e,...t})}},ej=e=>(0,i.jsx)(E.Z,{...e}),eD=()=>(0,i.jsx)(z.Z,{}),eM=()=>(0,i.jsx)(B.Z,{}),ew=()=>(0,i.jsx)(F.Z,{}),ek=e=>{let{match:t}=e;switch(t.params.feature){case"friends":return(0,i.jsx)(z.Z,{initialSection:em.pJs.ONLINE});case"addFriends":return(0,i.jsx)(z.Z,{initialSection:em.pJs.ADD_FRIEND});case"pendingFriends":return(0,i.jsx)(z.Z,{initialSection:em.pJs.PENDING});case"sessionManagement":return(0,i.jsx)(o.l_,{to:em.Z5c.SETTINGS("sessions")});case"connections":return(0,i.jsx)(o.l_,{to:{pathname:em.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,i.jsx)(o.l_,{to:em.Z5c.FAMILY_CENTER});case"account-standing":if((0,X.sp)({location:"app view user trigger debugging"}))return(0,i.jsx)(o.l_,{to:em.Z5c.SETTINGS("account","account-standing")});return(0,i.jsx)(o.l_,{to:em.Z5c.SETTINGS("privacy-and-safety","account-standing")});case"authorized-apps":return(0,i.jsx)(o.l_,{to:em.Z5c.SETTINGS("authorized-apps")});case"open-shop":return(0,i.jsx)(o.l_,{to:em.Z5c.COLLECTIBLES_SHOP_FULLSCREEN});case"editProfile":return(0,i.jsx)(o.l_,{to:{pathname:em.Z5c.SETTINGS("profile-customization")}});case"gift":case"store":return(0,i.jsx)(o.l_,{to:{pathname:em.Z5c.NITRO_HOME}});default:return(0,i.jsx)(o.l_,{to:em.Z5c.ME})}};function eU(e){document.body.style.setProperty("--custom-guild-sidebar-width","".concat(e,"px"))}function eG(e){let{hasNotice:t,sidebarTheme:n,hideSidebar:l,hideChannelList:o,isSidebarOpen:s,isOnFullScreenCollectiblesShopRoute:c}=e;(0,g.t)(!0);let _="app view user trigger debugging";p.R6.useExperiment({location:_},{autoTrackExposure:!1}),p.R6.trackExposure({location:_});let E=(0,u.e7)([C.Z],()=>C.Z.isFullscreenInContext()),I=(0,A.TH)("ChannelSidebar"),v=(0,A.Q3)("ChannelSidebar"),S=(0,T.useAppSidebarState)(e=>!e.isOpen)&&I;r.useLayoutEffect(()=>{if(I){var e;let t=parseInt(null!==(e=h.K.get(ed.nT))&&void 0!==e?e:"");Number.isNaN(t)&&(t=ed.qO),t=Math.min(Math.max(t,ed.li),ed.zx),!I&&t<=ed.p8&&(t=ed.qO),eU(t);let n=e=>{e.metaKey&&"b"===e.key&&T.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}}},[I]),r.useLayoutEffect(()=>{if(S)eU(ed.p8);else{var e;let t=parseInt(null!==(e=h.K.get(ed.nT))&&void 0!==e?e:"");Number.isNaN(t)&&(t=ed.qO),eU(t)}},[S]);let N=r.useRef(null),b=r.useCallback((e,t)=>{var n;eU(e);let i=t<ed.li/3;t<=ed.li?document.body.classList.add(ef.draggingMin):document.body.classList.remove(ef.draggingMin),t>=ed.zx?document.body.classList.add(ef.draggingMax):document.body.classList.remove(ef.draggingMax);let r=t-e;null===(n=N.current)||void 0===n||n.style.setProperty("--custom-overdrag","".concat(1+Math.min(Math.abs(r/ed.p8),.25))),I&&(T.useAppSidebarState.setState({isOpen:!i}),i&&eU(ed.p8))},[I]),x=r.useCallback(()=>{document.body.classList.add(ef.dragging)},[]),Z=r.useCallback(e=>{var t;document.body.classList.remove(ef.dragging),document.body.classList.remove(ef.draggingMin),document.body.classList.remove(ef.draggingMax),document.body.classList.remove(ef.collapsing),null===(t=N.current)||void 0===t||t.style.setProperty("--custom-overdrag","0px"),h.K.set(ed.nT,e)},[]),L=(0,f.Z)({minDimension:ed.li,maxDimension:ed.zx,resizableDomNodeRef:N,onElementResize:b,onElementResizeStart:x,onElementResizeEnd:Z,orientation:f.y.HORIZONTAL_RIGHT,throttleDuration:0}),P=r.useCallback(()=>{T.useAppSidebarState.setState(e=>({isOpen:!e.isOpen}))},[]);if(r.useLayoutEffect(()=>{S&&eU(ed.p8)},[S]),l||!v&&o)return null;let y=v?"div":r.Fragment,O=v?{className:a()(ef.sidebarList,{[ef.sidebarListRounded]:!t})}:{};return(0,i.jsx)(m.ThemeProvider,{theme:n,children:e=>(0,i.jsxs)("div",{ref:v?N:void 0,"data-collapsed":S,className:a()(ef.sidebar,e,{[ef.hasNotice]:t,[ef.fullWidth]:d.tq,[ef.hidden]:E}),children:[v&&s&&!c&&(0,i.jsx)(w.Z,{className:ef.guilds,themeOverride:n}),!o&&(0,i.jsx)(y,{...O,children:(0,i.jsx)(ex,{})}),v?(0,i.jsx)(m.Clickable,{onClick:P,"aria-label":"Resize Sidebar",className:ef.sidebarResizeHandle,onMouseDown:L}):null,(0,i.jsx)(el.b,{}),!v&&(0,i.jsx)(eo.Z,{})]})})}function eB(){var e;let t=(0,u.e7)([en.ZP],()=>en.ZP.hasNotice()),n=(0,u.e7)([Q.Z],()=>Q.Z.darkSidebar?em.BRd.DARK:void 0),l=function(){let[e,t]=r.useState(()=>window.location.pathname.startsWith(em.Z5c.GUILD_MEMBER_VERIFICATION("")));return r.useEffect(()=>K.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(em.Z5c.GUILD_MEMBER_VERIFICATION("")))}),[]),e}(),a=function(){let[e,t]=r.useState(()=>window.location.pathname.startsWith(em.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")));return r.useEffect(()=>K.Z.addRouteChangeListener(e=>{t(e.pathname.startsWith(em.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}),[]),e}(),c=function(){var e;let t=(0,o.TH)();return(null===(e=(0,o.LX)(t.pathname,em.Z5c.GUILD_BOOSTING_MARKETING(q.Hw.guildId())))||void 0===e?void 0:e.isExact)===!0}(),h=function(){var e;let t=(0,o.TH)();return(null===(e=(0,o.LX)(t.pathname,em.Z5c.COLLECTIBLES_SHOP_FULLSCREEN))||void 0===e?void 0:e.isExact)===!0}(),m=(0,u.e7)([V.Z],()=>V.Z.getIsOpen()),p=(0,o.$B)([em.Z5c.CHANNEL(em.ME,q.Hw.channelId()),em.Z5c.CHANNEL(q.Hw.guildId(),q.Hw.channelId({optional:!0}),":messageId?")]),g=(null==p?void 0:null===(e=p.params)||void 0===e?void 0:e.channelId)===ep.oC.GUILD_ONBOARDING,f=l||a||c||h||g,E=r.useCallback(()=>H.Z.openSidebar(),[]),C=(0,A.Q3)("AppView"),v=(0,A.TH)("AppView"),N=C?"div":r.Fragment,b=(0,T.useAppSidebarState)(e=>!e.isOpen);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:ef.container,children:[m&&!h&&!C&&(0,i.jsx)(w.Z,{className:ef.guilds,themeOverride:n}),(0,i.jsx)(P.Z.Provider,{value:(null==p?void 0:p.params.guildId)===em.ME?void 0:null==p?void 0:p.params.guildId,children:(0,i.jsxs)("div",{className:ef.base,children:[C&&(0,i.jsx)(e_,{}),d.tq?null:(0,i.jsx)(es.Z,{}),(0,i.jsxs)("div",{className:ef.content,children:[(0,i.jsx)(S.Z,{}),(0,i.jsx)(eG,{isOnFullScreenCollectiblesShopRoute:h,isSidebarOpen:m,hasNotice:t,sidebarTheme:n,hideChannelList:f,hideSidebar:!m||h}),(0,i.jsx)(N,{className:ef.page,"data-collapsed":!!v&&b,children:(0,i.jsx)(_.Z.Provider,{value:E,children:(0,i.jsxs)(o.rs,{children:[(0,i.jsx)(I.Z,{path:em.Z5c.ACTIVITY,disableTrack:!0,children:(0,i.jsx)(o.l_,{to:em.Z5c.ME})}),(0,i.jsx)(I.Z,{path:em.Z5c.ACTIVITY_DETAILS(":applicationId"),render:ej,impressionName:s.ImpressionNames.ACTIVITY_DETAILS,impressionProperties:e=>{let{computedMatch:t}=e;return{application_id:t.params.applicationId}}}),(0,i.jsx)(I.Z,{path:em.Z5c.APPLICATION_LIBRARY,render:ey,impressionName:s.ImpressionNames.APPLICATION_LIBRARY,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.APPLICATION_STORE,render:eO,impressionName:s.ImpressionNames.APPLICATION_STORE,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,render:eR(!0),disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.COLLECTIBLES_SHOP,render:eR(!1),disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),render:eR(!1),disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.MESSAGE_REQUESTS,render:eM,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.FAMILY_CENTER,render:ew,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.ME,exact:!0,render:eD,impressionName:s.ImpressionNames.FRIENDS,disableTrack:!0}),(0,i.jsx)(I.Z,{path:[em.Z5c.CHANNEL_THREAD_VIEW(q.Hw.guildId(),q.Hw.channelId(),":threadId",":messageId?"),em.Z5c.CHANNEL(em.ME,q.Hw.channelId()),em.Z5c.CHANNEL(q.Hw.guildId(),q.Hw.channelId({optional:!0}),":messageId?")],render:eA,impressionName:s.ImpressionNames.GUILD_CHANNEL,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GLOBAL_DISCOVERY,render:eZ,impressionName:s.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0,exact:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GLOBAL_DISCOVERY_SERVERS,render:eZ,impressionName:s.ImpressionNames.GLOBAL_DISCOVERY,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GLOBAL_DISCOVERY_APPS,render:eZ,impressionName:s.ImpressionNames.GLOBAL_DISCOVERY_APPS,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.QUEST_HOME,render:eZ,impressionName:s.ImpressionNames.QUEST_HOME,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GUILD_DISCOVERY,render:eZ,impressionName:s.ImpressionNames.GUILD_DISCOVERY,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GUILD_MEMBER_VERIFICATION(q.Hw.guildId(),":inviteCode?"),render:eL,impressionName:s.ImpressionNames.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,i.jsx)(I.Z,{path:em.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(q.Hw.guildId(),":inviteCode?"),render:eP,impressionName:s.ImpressionNames.HUB_EMAIL_SIGNUP,impressionProperties:e=>{let{computedMatch:t}=e;return{has_invite:void 0!==t.params.inviteCode}}}),(0,i.jsx)(I.Z,{path:em.Z5c.FEATURE(":feature"),exact:!0,render:ek,disableTrack:!0})]})})})]})]})})]})})}},409292:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(512969),a=n(442837),o=n(493683),s=n(112724),c=n(108427),d=n(184107),u=n(410575),h=n(613311),m=n(601564),p=n(981631),g=n(32304);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends r.Component{componentDidMount(){this.fetchStoreListing(),(0,c.e)("channel_store_listing")}render(){return null!=this.props.skuId?(0,i.jsx)(u.Z,{page:p.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,i.jsx)("div",{className:g.applicationStore,children:(0,i.jsx)(l.AW,{path:"*",render:this.renderApplicationListing})})}):null}constructor(...e){super(...e),f(this,"fetchStoreListing",e=>{let{channel:t,inputSkuId:n}=this.props;return null!=e?o.Z.fetchChannelStoreListing(t.id,e):null!=n?o.Z.fetchChannelStoreListing(t.id,n):o.Z.fetchChannelStoreListing(t.id)}),f(this,"renderApplicationListing",e=>{let{location:t}=e,{channel:n,skuId:r,width:l}=this.props;return(0,i.jsx)(h.Z,{channel:n,inputSkuId:r,fetchStoreListing:this.fetchStoreListing,location:t,pageSize:(0,m.getPageSize)(l)})})}}t.Z=(0,s.Z)(a.ZP.connectStores([d.Z],e=>{let{channel:t,inputSkuId:n}=e;return{skuId:null!=n?n:d.Z.getSkuIdForChannel(t.id)}})(_))},316173:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(433517),c=n(481060),d=n(304761),u=n(865427),h=n(820254),m=n(388032),p=n(820076);let g="isHideDevBanner";t.Z=()=>{var e;let[t,n]=(0,r.useState)((null===(e=s.K.get(g,"false"))||void 0===e?void 0:e.toString())==="true"),l=(0,o.e7)([d.C],()=>{var e;return(0,u.fD)()?null===(e=d.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null});if(t)return null;let f=()=>{s.K.set(g,!0),n(!0)},_=()=>(0,i.jsx)(c.Clickable,{onClick:f,className:p.closeButton,"aria-label":m.intl.string(m.t.WAI6xs),children:(0,i.jsx)(c.XSmallIcon,{size:"md",color:"currentColor",className:p.closeIcon})});return null!=l?(0,i.jsxs)("div",{className:a()(p.devBanner,p.buildOverride),children:[(0,i.jsx)(h.Z,{className:p.icon}),m.intl.string(m.t.Wj3LW1),(0,i.jsx)(_,{})]}):"staging"===window.GLOBAL_ENV.RELEASE_CHANNEL?(0,i.jsxs)("div",{className:a()(p.devBanner,p.staging),children:[(0,i.jsx)(h.Z,{className:p.icon}),m.intl.format(m.t.uyrfYG,{buildNumber:"356102"}),(0,i.jsx)(_,{})]}):null}},663701:function(e,t,n){n.d(t,{Z:function(){return ed}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(232713),s=n(990547),c=n(91192),d=n(873546),u=n(442837),h=n(704215),m=n(952265),p=n(481060),g=n(493683),f=n(529103),_=n(607070),E=n(213609),I=n(143757),C=n(463119),v=n(377171),S=n(540059),N=n(243778),T=n(922409),b=n(899740),x=n(28476),A=n(880257),Z=n(631885),L=n(522558),P=n(795448),y=n(441623),O=n(457396),R=n(108989),j=n(51596),D=n(905423),M=n(155409),w=n(210887),k=n(695346),U=n(283595),G=n(699516),B=n(923834),H=n(55563),V=n(774343),F=n(626135),z=n(814225),W=n(515753),Y=n(831218),K=n(339149),q=n(981631),X=n(675654),Q=n(474936),J=n(388032),$=n(305482);let ee=e=>{let{selected:t,...n}=e,l=(0,c.JA)("friends"),a=(0,u.e7)([G.Z],()=>G.Z.getPendingCount()),o=(0,u.e7)([y.Z],()=>y.Z.canShowFriendsTabBadge()),d=(0,u.e7)([_.Z],()=>_.Z.useReducedMotion),{enabled:h}=L.w.useExperiment({location:"Friends Tab"},{autoTrackExposure:!1}),m=o&&h;r.useEffect(()=>{m&&(0,E.h)({name:s.ImpressionNames.GIFT_INTENT_BADGE,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:Q.hX.FRIEND_ANNIVERSARY}})},[m]);let[g,I]=r.useState(!1);return(0,i.jsxs)("div",{className:$.friendsButtonContainer,children:[(0,i.jsx)(W.Qj,{onClick:()=>{m&&(F.default.track(q.rMx.GIFT_INTENT_BADGE_CLICKED,{gift_intent_type:Q.hX.FRIEND_ANNIVERSARY}),f.Z.setSection(q.pJs.ALL),(0,P.Gk)())},interactiveClassName:m?$.friendsBadge:void 0,selected:t,route:q.Z5c.FRIENDS,icon:p.FriendsIcon,text:J.intl.string(J.t.TdEu5e),onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},...n,...l,children:a>0?(0,i.jsx)(p.NumberBadge,{count:a}):null}),m&&!d&&(0,i.jsx)(R.Z,{className:$.confetti,wind:0,sprites:X.CA,spriteColors:X.Br,firing:g,confettiConfig:{opacity:{type:"static",value:1},dragCoefficient:{type:"static",value:{x:100,y:100}}}})]})},et=e=>{let{selected:t,hideGameUpdateProgressIndicator:n,...r}=e,l=(0,c.JA)("library");return(0,i.jsx)(W.Qj,{selected:t,route:q.Z5c.APPLICATION_LIBRARY,icon:p.InventoryIcon,text:J.intl.string(J.t.cw57am),...r,...l,children:(0,i.jsx)(K.Z,{className:a()($.downloadProgressCircle,{[$.hideGameUpdateProgressIndicator]:n})})})},en=()=>{let e=(0,b.q)();return e>0?(0,i.jsx)(p.NumberBadge,{count:e}):null},ei=e=>{let{selected:t}=e,n=(0,c.JA)("messageRequests"),{channelId:r}=(0,T._)();if(!(0,x.a)())return null;let l=null==r?void 0:()=>g.Z.preload(q.ME,r);return(0,i.jsx)(W.Qj,{selected:t,route:q.Z5c.MESSAGE_REQUESTS,icon:p.EnvelopeIcon,text:J.intl.string(J.t.e7GWjY),onClick:l,...n,children:(0,i.jsx)(en,{})})},er=e=>{let{selected:t}=e,n=J.intl.string(J.t.Rkdixs),l=(0,c.JA)("family-center"),[a,o]=r.useState(!0);return(0,i.jsx)(W.Qj,{selected:t,route:q.Z5c.FAMILY_CENTER,icon:p.GroupIcon,text:n,onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},interactiveClassName:$.familyCenterLinkButton,...l,children:(0,i.jsx)(el,{isParentHovered:a})})},el=e=>{let{isParentHovered:t}=e,r=(0,Z.gU)();return t?(0,i.jsx)(W.PZ,{onClick:()=>{(0,m.ZD)(async()=>{let{default:e}=await n.e("44153").then(n.bind(n,760949));return t=>(0,i.jsx)(e,{...t})})},"aria-label":J.intl.string(J.t.cpT0Cg)}):r>0?(0,i.jsx)("div",{className:$.familyCenterPendingBadge,children:(0,i.jsx)(p.NumberBadge,{count:r})}):(0,i.jsx)(N.ZP,{contentTypes:[h.z.FAMILY_CENTER_NEW_BADGE],children:e=>{let{visibleContent:t}=e;return t===h.z.FAMILY_CENTER_NEW_BADGE?(0,i.jsx)(p.TextBadge,{text:J.intl.string(J.t.y2b7CA),color:v.Z.BG_BRAND}):null}})},ea=()=>(0,j.$Z)("DM_SEARCH");function eo(e){switch(e){case q.Z5c.APPLICATION_LIBRARY:return q.ZY5.LIBRARY;case q.Z5c.FRIENDS:return q.ZY5.FRIENDS_LIST;case q.Z5c.COLLECTIBLES_SHOP:return q.ZY5.COLLECTIBLES_SHOP}if(e.startsWith(q.Z5c.APPLICATION_STORE))return e===q.Z5c.APPLICATION_STORE?q.ZY5.STORE_DIRECTORY_HOME:e.startsWith(q.Z5c.APPLICATION_STORE)?q.ZY5.STORE_DIRECTORY_BROWSE:q.ZY5.STORE_LISTING;return q.ZY5.DM_CHANNEL}let es=e=>{let{showLibrary:t,hasLibraryApplication:n,homeLink:r,premiumTabSelected:l}=e,[s,c]=(0,D.Z)(e=>{let{channelId:t,path:n}=e;return[t,n]},o.X),u=(0,S.Q3)("PrivateChannels"),h=(0,O.i)({selected:null==c?l:c.startsWith(q.Z5c.APPLICATION_STORE)}),m=(0,x.a)(),g=function(){let e=k.Ex.useSetting(),t=(0,A.Z)();return e&&t}(),f=(0,I.n)();return(0,i.jsxs)("nav",{className:$.privateChannels,"aria-label":J.intl.string(J.t.ZH9aPz),children:[(0,i.jsx)(M.Z,{tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,i.jsx)("div",{className:a()($.searchBar,{[$.themedHeaderMobile]:d.tq}),children:u?(0,i.jsx)(p.Button,{grow:!0,color:p.Button.Colors.PRIMARY,size:p.Button.Sizes.SMALL,fullWidth:!0,onClick:ea,children:J.intl.string(J.t.LzcpeX)}):(0,i.jsx)("button",{type:"button",className:a()($.searchBarComponent,{[$.themedSearchBarMobile]:d.tq}),onClick:ea,children:J.intl.string(J.t.LzcpeX)})})}),(0,i.jsxs)(Y.Z,{...e,version:c,selectedChannelId:s,showDMHeader:!0,children:[(0,i.jsx)(ee,{selected:null!=c?c===q.Z5c.FRIENDS:r===q.Z5c.FRIENDS},"friends"),n&&t?(0,i.jsx)(et,{selected:null==c?null!=r&&r.startsWith(q.Z5c.APPLICATION_LIBRARY):c.startsWith(q.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:r===q.Z5c.APPLICATION_LIBRARY},"library"):null,h?(0,i.jsx)(O.g,{selected:null==c?l:c.startsWith(q.Z5c.APPLICATION_STORE),route:q.Z5c.APPLICATION_STORE,locationState:{analyticsSource:{page:eo(r),section:q.jXE.NAVIGATION,object:q.qAy.NAVIGATION_LINK}}},"premium"):null,m?(0,i.jsx)(ei,{selected:null==c?null!=r&&r.startsWith(q.Z5c.MESSAGE_REQUESTS):c===q.Z5c.MESSAGE_REQUESTS},"message-requests"):null,(0,i.jsx)(C.i,{selected:c===q.Z5c.COLLECTIBLES_SHOP||(null==r?void 0:r.startsWith(q.Z5c.COLLECTIBLES_SHOP)),locationState:{analyticsSource:{page:eo(r),section:q.jXE.NAVIGATION,object:q.qAy.NAVIGATION_LINK}}},"discord-shop"),g?(0,i.jsx)(er,{selected:null!=r&&r.startsWith(q.Z5c.FAMILY_CENTER)||null!=c&&c.startsWith(q.Z5c.FAMILY_CENTER)},"family-center"):null,u?(0,i.jsx)(ec,{},"section-divider-top"):null,f?(0,i.jsx)(I.Z,{bottomDivider:u?(0,i.jsx)(ec,{}):null},"dm-quick-launcher"):null]})]})};function ec(){return(0,i.jsx)("div",{className:$.sectionDivider})}function ed(){let e=(0,u.e7)([V.Z],()=>V.Z.getHomeLink()),t=(0,u.e7)([H.Z],()=>{if(e===q.Z5c.APPLICATION_STORE)return!0;let t=(0,z.ZK)(e);if(null!=t){var n,i;return null!==(i=null===(n=H.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==i&&i}return!1},[e]),n=!k.bm.useSetting(),{theme:r}=(0,u.cj)([w.Z],()=>({theme:w.Z.theme})),l=(0,u.e7)([U.Z],()=>U.Z.hasLibraryApplication()),a=(0,u.e7)([B.Z],()=>B.Z.getCurrentPath());return(0,i.jsx)(es,{theme:r,showLibrary:n,hasLibraryApplication:l,storeLink:a,homeLink:e,premiumTabSelected:t})}},457094:function(e,t,n){n.r(t),n(47120);var i=n(200651),r=n(192379),l=n(593473),a=n(512969),o=n(442837),s=n(481060),c=n(893776),d=n(943094),u=n(749210),h=n(287734),m=n(401430),p=n(230711),g=n(607070),f=n(627845),_=n(185666),E=n(503737),I=n(513202),C=n(318891),v=n(687751),S=n(912471),N=n(100527),T=n(838134),b=n(77987),x=n(679891),A=n(491575),Z=n(954709),L=n(644679),P=n(314533),y=n(9029),O=n(935347),R=n(560067),j=n(823169),D=n(845767),M=n(620360),w=n(96051),k=n(750995),U=n(696287),G=n(408026),B=n(763916),H=n(306721),V=n(531551),F=n(38618),z=n(972830),W=n(981283),Y=n(584233),K=n(15274),q=n(434404),X=n(543842),Q=n(879064),J=n(315964),$=n(495784),ee=n(975533),et=n(377400),en=n(285865),ei=n(659971),er=n(929809),el=n(122333),ea=n(960275),eo=n(818765),es=n(678492),ec=n(269089),ed=n(380570),eu=n(837689),eh=n(367207),em=n(489977),ep=n(329557),eg=n(304445),ef=n(893607),e_=n(703656),eE=n(298969),eI=n(719256),eC=n(6025),ev=n(897473),eS=n(377368),eN=n(262702),eT=n(639033),eb=n(479313),ex=n(911560),eA=n(703016),eZ=n(171368),eL=n(429974),eP=n(332754),ey=n(507468),eO=n(357269),eR=n(282506),ej=n(444961),eD=n(314897),eM=n(433355),ew=n(592125),ek=n(896797),eU=n(430824),eG=n(819640),eB=n(283595),eH=n(944486),eV=n(914010),eF=n(695103),ez=n(241890),eW=n(897607),eY=n(417363),eK=n(900974),eq=n(358085),eX=n(998502),eQ=n(346329),eJ=n(981631),e$=n(176505),e0=n(701476);function e1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(117240),n(801077),n(967368),n(272053),n(974180),n(574254),n(551428),n(55563),n(882029),n(959457),n(653255),n(663389),n(25990),n(778825),n(999382),n(388610),n(533947),n(277053),n(371398),n(141233),n(471073);let e2=!1;(0,S.D)(),o.ZP.initialize(),eE.Z.loadServer(),eq.isPlatformEmbedded&&(eX.ZP.on("USER_SETTINGS_OPEN",()=>{!eG.Z.getLayers().includes(eJ.S9g.USER_SETTINGS)&&p.Z.open(eJ.oAB.ACCOUNT)}),eX.ZP.on("LAUNCH_APPLICATION",(e,t)=>{let n=eB.Z.getActiveLibraryApplication(t);eQ.playApplication(t,n,{analyticsParams:{location:{page:eJ.ZY5.DIRECT,object:eJ.qAy.WEB_URL}}})}));let e4=o.ZP.connectStores([F.Z,ek.Z,eD.default],()=>({isConnected:F.Z.isConnected(),defaultRoute:ek.Z.defaultRoute,defaultRouteFallback:ek.Z.fallbackRoute,token:eD.default.getToken()}))(class extends r.Component{componentDidMount(){let{match:e}=this.props;null!=e&&null!=e.params.inviteCode&&(0,Y.x)({code:e.params.inviteCode})}render(){let{isConnected:e,defaultRoute:t,token:n,defaultRouteFallback:r}=this.props;if(null==n)return(0,i.jsx)(a.l_,{to:eJ.Z5c.DEFAULT_LOGGED_OUT});if(e){let e=e8(t);return null==e||(e.params.guildId===eJ.ME||null!=eU.Z.getGuild(e.params.guildId))&&null!=ew.Z.getChannel(e.params.channelId)?(0,i.jsx)(a.l_,{to:t}):(0,i.jsx)(a.l_,{to:r})}return null}}),e3=(0,b.e)(A.Z,null,{passProps:!1}),e6=(0,b.e)(T.default,null,{passProps:!1}),e5=[eJ.Z5c.GUILD_BOOSTING_MARKETING(ef.Hw.guildId()),...Array.from(e$.Vg).map(e=>eJ.Z5c.CHANNEL(ef.Hw.guildId(),e))];function e7(e){let{guildId:t,channelId:n=null,messageId:i=null,threadId:r=null}=e.params;return{guildId:null!=t?t:eJ.ME,channelId:n,messageId:i,threadId:r}}let e9=[{path:[eJ.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],render(e){let{match:t}=e;return(0,i.jsx)(e4,{match:t})},isSessionRequired:!0},{path:[eJ.Z5c.APP],render:()=>(0,i.jsx)(e4,{}),isSessionRequired:!0},{path:[eJ.Z5c.USERS(":id")],render:function(e){let{match:t,location:n}=e,{friend_token:r}=(0,l.parse)(n.search),{id:o}=t.params;return(0,z.h)(()=>(0,eZ.openUserProfileModal)({userId:o,friendToken:r,sourceAnalyticsLocations:[N.Z.URI_SCHEME],analyticsLocation:{section:eJ.jXE.DIRECT_ROUTE_ACCESS}})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})}},{path:[eJ.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){let{match:t}=e,{gameId:n,action:r}=t.params;return eY.Z.whenInitialized(()=>{eB.Z.whenInitialized(()=>{switch(r){case"launch":{let e=eB.Z.getActiveLibraryApplication(n);if(null==e)return;eQ.playApplication(e.id,e,{analyticsParams:{location:{page:eJ.ZY5.DIRECT,object:eJ.qAy.WEB_URL}}});break}case"test-mode":eF.Z.whenInitialized(()=>m.Wt(n));break;case"uninstall":{let e=eB.Z.getActiveLibraryApplication(n);if(null==e)return;(0,d.W)(e.id,e.branchId,eJ.Sbl.URI_SCHEME)}}})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.APPLICATION_LIBRARY})}},{path:[eJ.Z5c.GUILD_CREATE],render:function(){return(0,z.h)(()=>R.Z.openCreateGuildModal({location:"External link"})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})}},{path:[eJ.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){let{match:t}=e,{section:n,subsection:r}=t.params,o=(0,l.parse)(location.search).feature;return(0,z.h)(()=>Q.v({section:(0,X.Z)(eJ.pNK,n),subsection:(0,X.Z)(eJ.KsC,r),feature:o})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.SETTINGS(":section",":subsection?")],render:function(e){let{location:t}=e,n=(0,eO.default)(t.pathname);return null!=n&&(0,z.h)(()=>p.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(ef.Hw.guildId())],render:function(e){let{match:t}=e,{guildId:r}=t.params;return(0,z.h)(()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("97984")]).then(n.bind(n,751212));return t=>(0,i.jsx)(e,{...t,guildId:r})})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(r)})},isSessionRequired:!0},{path:[eJ.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){return(0,z.h)(()=>p.Z.open(eJ.oAB.INVENTORY)),(0,i.jsx)(a.l_,{to:ek.Z.defaultRoute})},isSessionRequired:!0},{path:[eJ.Z5c.WELCOME(ef.Hw.guildId({optional:!0}),ef.Hw.channelId({optional:!0}))],render:function(e){let{match:t}=e,{guildId:n,channelId:r}=t.params;(0,er.c)(e0.M5.MARKETING_UNCLAIMED);let l=eJ.Z5c.CHANNEL(n,r);return(0,i.jsx)(a.l_,{to:l})},isSessionRequired:!0},{path:[eJ.Z5c.GUILD_EVENT_DETAILS(ef.Hw.guildId({optional:!0}),":guildEventId")],render:function(e){let{match:t}=e,{guildId:n,guildEventId:r}=t.params;return(0,z.h)(()=>{(0,K.bO)({eventId:r})}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[eJ.Z5c.GUILD_SETTINGS(ef.Hw.guildId(),":section?",":subsection?")],render:function(e){let{match:t}=e,{guildId:n,section:r,subsection:l}=t.params;return(0,z.h)(()=>{q.Z.open(n,(0,X.Z)(eJ.pNK,r),void 0,(0,X.Z)(eJ.KsC,l))}),(0,i.jsx)(a.l_,{to:eJ.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[eJ.Z5c.CHANNEL_THREAD_VIEW(ef.Hw.guildId(),ef.Hw.channelId(),":threadId",":messageId?"),eJ.Z5c.CHANNEL(ef.Hw.guildId(),ef.Hw.channelId({optional:!0}),":messageId?"),eJ.Z5c.ACTIVITY,eJ.Z5c.ACTIVITIES,eJ.Z5c.ACTIVITIES_HAPPENING_NOW,eJ.Z5c.ACTIVITY_DETAILS(":applicationId"),eJ.Z5c.APPLICATION_LIBRARY,eJ.Z5c.APPLICATION_STORE,eJ.Z5c.MESSAGE_REQUESTS,eJ.Z5c.COLLECTIBLES_SHOP,eJ.Z5c.COLLECTIBLES_SHOP_FULLSCREEN,eJ.Z5c.COLLECTIBLES_SHOP_PRODUCT_DETAIL(":skuId"),eJ.Z5c.GUILD_DISCOVERY,eJ.Z5c.QUEST_HOME,eJ.Z5c.GLOBAL_DISCOVERY,eJ.Z5c.GUILD_MEMBER_VERIFICATION(ef.Hw.guildId(),":inviteCode?"),eJ.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(ef.Hw.guildId(),":inviteCode?"),eJ.Z5c.GUILD_BOOSTING_MARKETING(ef.Hw.guildId()),eJ.Z5c.FEATURE(":feature"),eJ.Z5c.FAMILY_CENTER],render:e3,isSessionRequired:!0,isChatRoute:!0},{path:[eJ.Z5c.APPLICATION_DIRECTORY],render:e6,isSessionRequired:!0}];function e8(e){for(let{path:t,isChatRoute:n}of e9){if(!n)continue;let i=(0,a.LX)(e,{path:t});if(null!=i)return i}return null}function te(e){let{channelId:t,guildId:n,pathname:i}=e;if(!F.Z.isConnected())return;let{location:r}=(0,e_.s1)();if(r.pathname===i)null==ew.Z.getChannel(t)?(0,e_.dL)(eJ.Z5c.CHANNEL(n)):(0,e_.dL)(i)}class tt extends r.PureComponent{componentDidMount(){eX.ZP.setZoomFactor(g.Z.zoom),eE.Z.init(),x.Z.initialize(),ed.Z.initialize(),G.Z.initialize(),ej.Z.initialize(),B.Z.initialize(),eh.Z.initialize(),D.Z.initialize(),ee.Z.initialize(),f.Z.init(),V.Z.init(),H.Z.init(),el.Z.initialize(),v.Z.initialize(),k.Z.initialize(),em.Z.initialize(),C.ZP.initialize(),eR.Z.initialize(),ec.Z.initialize(),I.Z.initialize(),W.Z.init(),J.Z.init(),eW.Z.init(),eK.Z.init(),E.Z.initialize(),eA.Z.init(),ez.Z.init(),eP.Z.init(),eN.Z.initialize(),eT.Z.initialize(),eL.Z.initialize(),ey.Z.init(),w.Z.initialize(),_.Z.initialize(),eI.Z.initialize(),eS.Z.initialize(),eo.Z.initialize(),ea.Z.initialize(),es.Z.initialize(),P.Z.initialize(),y.Z.initialize(),$.Z.init({hasModalOpen:s.hasAnyModalOpen,openModal:()=>(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})}),M.Z.init(),et.Z.initialize(),ep.Z.initialize(),eu.Z.initialize(),j.Z.initialize(),Z.Z.initialize(),L.Z.initialize(),this.rewriterUnlisten=eg.Z.addRouteRewriter(this.ensureChannelMatchesGuild),this.historyUnlisten=eg.Z.addRouteChangeListener(this.handleHistoryChange)}componentWillUnmount(){ej.Z.terminate(),eh.Z.terminate(),ed.Z.terminate(),x.Z.terminate(),C.ZP.terminate(),eR.Z.terminate(),I.Z.terminate(),em.Z.terminate(),ec.Z.terminate(),eL.Z.terminate(),E.Z.terminate(),w.Z.terminate(),et.Z.terminate(),_.Z.terminate(),ep.Z.terminate(),eI.Z.terminate(),eS.Z.terminate(),eo.Z.terminate(),ea.Z.terminate(),es.Z.terminate(),P.Z.terminate(),y.Z.terminate(),eu.Z.terminate(),j.Z.terminate(),U.Z.terminate(),Z.Z.terminate(),L.Z.terminate(),this.historyUnlisten(),this.rewriterUnlisten()}handleHistoryChange(e){let{pathname:t,search:n}=e;!function(e){if(F.Z.isConnected()||F.Z.isTryingToConnect())return;let t=eD.default.getToken();if(null!=t)null!=function(e){for(let{path:t,isSessionRequired:n}of e9){if(!n)continue;let i=(0,a.LX)(e,{path:t});if(null!=i)return i}return null}(e)&&c.Z.startSession(t)}(t),!function(e,t){let n=e8(e);if(null==n)return;let{guildId:i,channelId:r,messageId:o,threadId:s}=e7(n),c=(0,ef.Ss)(i),d=(0,ef.cq)(r),m=(0,ef.cq)(s),p=eV.Z.getGuildId(),g=p!==i;if(c&&g&&u.Z.selectGuild(i),c&&d){let n=eH.Z.getChannelId(p),a=n!==r;if(!e2||g||a||null!=o){e2=!0,h.default.selectChannel({guildId:i,channelId:r,messageId:o});let{summaryId:e}=(0,l.parse)(t);null!=e&&eb.ZP.setSelectedSummary(r,e)}if(null!=s&&m){let e=eM.ZP.getCurrentSidebarChannelId(n)!==s,t=null!=eM.ZP.getGuildSidebarState(i);if(null!=r&&null!=s&&e){if(t)(0,e_.dL)(eJ.Z5c.CHANNEL(i,s,o));else{let e={type:ev.Ff.THREAD};null!=o&&(e.initialMessageId=o),eC.Z.openThreadAsSidebar({guildId:i,baseChannelId:r,channelId:s,details:e})}}}else null!=r&&!a&&eC.Z.closeChannelSidebar(r);let c=ei.Z.getIsOpen();if(r===e$.oC.ROLE_SUBSCRIPTIONS)en.Z.closeSidebar();else if(g&&c){let t=null==p&&i===eJ.ME,n=e===eJ.Z5c.GUILD_DISCOVERY;t||n?en.Z.closeSidebar():en.Z.openSidebar()}else(a&&c||!g&&!a)&&en.Z.closeSidebar()}else{var f;if(f=e,!e5.some(e=>{var t;return(null===(t=(0,a.LX)(f,e))||void 0===t?void 0:t.isExact)===!0}))(0,e_.dL)(ek.Z.fallbackRoute)}}(t,n)}ensureChannelMatchesGuild(e){if(!F.Z.isConnected())return null;let{pathname:t}=e,n=e8(t);if(null==n)return null;let{guildId:i,channelId:r,threadId:l}=e7(n),a=(0,ef.Ss)(i)&&i!==eJ.ME&&i!==eJ.I_8;if(null!=r&&(0,ef.cq)(r)&&!(0,e$.AB)(r)&&a){let n=ew.Z.getChannel(r);if(null==n)ex.Z.loadThread(r).then(()=>te({channelId:r,guildId:i,pathname:t}));else if(n.guild_id!==i)return{path:eJ.Z5c.CHANNEL(i),state:e.state};if(null!=l){if(!((0,ef.cq)(l)&&!(0,e$.AB)(r)))return null;let n=ew.Z.getChannel(l);if(null==n)ex.Z.loadThread(l).then(()=>te({channelId:l,guildId:i,pathname:t}));else if((null==n?void 0:n.parent_id)!==r)return eC.Z.closeChannelSidebar(r),{path:eJ.Z5c.CHANNEL(i,r),state:e.state}}}return null}render(){return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),e9.map(e=>{let{path:t,render:n}=e;return(0,i.jsx)(a.AW,{path:t,render:n},t[0])}),(0,i.jsx)(a.l_,{to:"/"})]}),(0,i.jsx)(O.Z,{})]})}constructor(...e){super(...e),e1(this,"historyUnlisten",()=>{}),e1(this,"rewriterUnlisten",()=>{})}}t.default=tt},224336:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(56208);function l(){return(0,i.jsx)("div",{className:r.divider})}},237919:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(570140),d=n(287259),u=n(819640),h=n(490983),m=n(799777),p=n(5967),g=n(346329),f=n(981631),_=n(388032),E=n(860536);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends r.Component{componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){c.Z.wait(()=>d.wX(null)),document.removeEventListener("keydown",this.handleKeyDown)}reset(){d.wX(null),d.JZ("")}focusInput(){let{searchBarRef:e}=this;null!=e&&e.focus()}updateActiveRow(e){let{applicationViewItems:t,activeRowKey:n}=this.props,i=t.findIndex(e=>e.key===n),r=0;i>=0&&(r=(i+e)%t.length)<0&&(r=t.length-1);let l=t[r];d.wX(null!=l?l.key:null,!0)}render(){let{filterQuery:e}=this.props,{focused:t}=this.state;return(0,i.jsx)("div",{className:a()({[E.libraryFilter]:!0,[E.focused]:t}),children:(0,i.jsx)(s.SearchBar,{className:E.searchBar,ref:this.setRef,onChange:d.JZ,onFocus:()=>this.setState({focused:!0}),onBlur:()=>this.setState({focused:!1}),name:"filter",onClear:()=>{this.reset(),this.focusInput()},maxLength:100,query:e,placeholder:_.intl.string(_.t.aSxWSk)})})}constructor(...e){super(...e),I(this,"searchBarRef",null),I(this,"state",{focused:!1}),I(this,"setRef",e=>{this.searchBarRef=e}),I(this,"handleKeyDown",e=>{var t;let{activeRowKey:n,hasModalOpen:i,applicationViewItems:r}=this.props,{searchBarRef:l}=this;if(i||e.ctrlKey||e.altKey||e.metaKey||null==l)return;let a=null===(t=(0,p.uB)(e))||void 0===t?void 0:t.activeElement;if(!(a!==l.inputRef.current&&(0,p.VG)(a)))switch(e.which){case f.yXg.ESCAPE:e.target!==l.inputRef.current?this.reset():null!=l.inputRef.current&&l.blur();break;case f.yXg.ENTER:if(null!=n){e.preventDefault();let t=r.find(e=>e.key===n);if(null==t)return;let i=t.libraryApplication;g.performDefaultLibraryApplicationAction(i,{analyticsParams:{source:f.Sbl.APPLICATION_LIBRARY,location:{page:f.ZY5.LIBRARY,section:f.jXE.LIBRARY_APPLICATION_LIST,object:f.qAy.BUTTON_CTA}}})}break;case f.yXg.ARROW_DOWN:case f.yXg.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.updateActiveRow(e.which===f.yXg.ARROW_DOWN?1:-1);break;default:null!=l.inputRef.current&&e.target!==l.inputRef.current&&l.focus()}})}}function v(){let e=(0,o.e7)([u.Z],()=>u.Z.hasLayers()),t=(0,s.useModalsStore)(s.hasAnyModalOpenSelector);return(0,i.jsx)(C,{activeRowKey:(0,o.e7)([m.Z],()=>m.Z.activeRowKey),hasModalOpen:t||e,filterQuery:(0,o.e7)([h.Z],()=>h.Z.applicationFilterQuery),applicationViewItems:(0,o.e7)([h.Z],()=>h.Z.sortedFilteredLibraryApplicationViewItems)})}},957657:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(984370),o=n(703656),s=n(626135),c=n(804739),d=n(981631),u=n(388032),h=n(144402);let m=(0,c.Q)()||!1;t.Z=r.memo(function(e){let{currentRoute:t,renderToolbar:n}=e,c=r.useContext(s.AnalyticsContext),p=m||t===d.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,i.jsxs)(a.Z,{className:h.libraryHeader,toolbar:null==n?void 0:n(),children:[(0,i.jsx)(a.Z.Icon,{icon:l.InventoryIcon,"aria-hidden":!0}),(0,i.jsx)(a.Z.Title,{children:u.intl.string(u.t.cw57am)}),(0,i.jsx)(a.Z.Divider,{}),(0,i.jsxs)(l.TabBar,{type:"top-pill",selectedItem:t,onItemSelect:function(e){e!==t&&(0,o.uL)(e,{state:{analyticsSource:{...c.location,section:d.jXE.TABS,object:d.qAy.NAVIGATION_LINK}}})},children:[(0,i.jsx)(l.TabBar.Item,{id:d.Z5c.APPLICATION_LIBRARY,children:u.intl.string(u.t.p7ARTE)}),p?(0,i.jsx)(l.TabBar.Item,{id:d.Z5c.APPLICATION_LIBRARY_SETTINGS,children:u.intl.string(u.t["3D5yo6"])}):null]})]})})},425369:function(e,t,n){var i=n(200651),r=n(192379),l=n(512969),a=n(410575),o=n(765717),s=n(252618),c=n(108427),d=n(895991),u=n(993977),h=n(981631),m=n(388032),p=n(833863);function g(){return(0,i.jsxs)(l.rs,{children:[(0,i.jsx)(o.Z,{path:h.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,i.jsxs)(a.Z,{page:h.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,i.jsx)(s.yY,{subsection:m.intl.string(m.t["3D5yo6"])}),(0,i.jsx)(u.Z,{})]})}),(0,i.jsx)(o.Z,{path:h.Z5c.APPLICATION_LIBRARY,children:(0,i.jsxs)(a.Z,{page:h.ZY5.LIBRARY,root:!0,children:[(0,i.jsx)(s.yY,{subsection:m.intl.string(m.t.p7ARTE)}),(0,i.jsx)(d.Z,{})]})})]})}t.Z=r.memo(function(){return r.useEffect(()=>{(0,c.e)("application_library")},[]),(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)(s.yY,{location:m.intl.string(m.t.cw57am)}),(0,i.jsx)(g,{})]})})},645818:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(846519),o=n(481060),s=n(293245),c=n(863969),d=n(563593),u=n(981631),h=n(388032);let m=(0,o.makeIconCompat)(c.Z),p=(0,o.makeIconCompat)(d.Z),g=new Set([u.TzF.PUSHING,u.TzF.PULLING]),f=Object.freeze({[u.TzF.DONE]:m,[u.TzF.PLANNING]:m,[u.TzF.PREPARING]:m,[u.TzF.PUSHING]:o.UploadIcon,[u.TzF.PULLING]:o.DownloadIcon,[u.TzF.CONFLICT]:m,[u.TzF.ERROR]:m});class _ extends r.PureComponent{componentDidMount(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()}componentDidUpdate(e){null!=this.props.cloudSyncState&&this.props.cloudSyncState.type===u.TzF.DONE&&null!=this.props.cloudSyncState.timestamp&&(null==e.cloudSyncState||null==e.cloudSyncState.timestamp)&&this.setRecentlySyncedTimeout()}componentWillUnmount(){this._doneTimer.stop()}setRecentlySyncedTimeout(){this._doneTimer.start(2e3,()=>this.forceUpdate())}getIsRecentlySynced(){let{cloudSyncState:e}=this.props;if(null!=e&&e.type===u.TzF.DONE){let t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1}getStop(e,t){if(t)return 1;if(e.type===u.TzF.PUSHING||e.type===u.TzF.PULLING){let{progress:t,total:n}=e;return t/n}return 0}getTooltip(e,t){switch(e.type){case u.TzF.DONE:if(t)return h.intl.string(h.t.atpo0d);return h.intl.string(h.t.ZCw6zs);case u.TzF.CONFLICT:case u.TzF.ERROR:return h.intl.string(h.t.ZCw6zs);case u.TzF.PLANNING:return h.intl.string(h.t.ERQ0VF);case u.TzF.PREPARING:return h.intl.string(h.t.n5feu7);case u.TzF.PUSHING:return h.intl.string(h.t.oCBh0N);case u.TzF.PULLING:return h.intl.string(h.t.RTLNqK);default:return null}}render(){let{cloudSyncState:e,libraryApplication:t,className:n}=this.props,r=null==e?{type:u.TzF.DONE}:e,l=this.getIsRecentlySynced(),a={};(g.has(r.type)||l)&&(a.gradientConfig={id:t.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(r,l)});let s=l?p:f[r.type];return(0,i.jsx)(o.Tooltip,{text:this.getTooltip(r,l),children:e=>(0,i.jsx)(s,{className:n,...a,...e})})}constructor(...e){var t,n,i;super(...e),t=this,n="_doneTimer",i=new a.V7,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=l.ZP.connectStores([s.Z],e=>{let{libraryApplication:t}=e;return{cloudSyncState:s.Z.getState(t.id,t.branchId)}})(_)},34305:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(325432),s=n(570928),c=n(600164),d=n(579022),u=n(391690),h=n(424218),m=n(358085),p=n(998502),g=n(388032),f=n(762353),_=n(232186);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends r.PureComponent{renderDiskUsageCircle(){let{metadata:e}=this.props;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,i.jsx)(d.Z,{total:e.totalKB,used:e.totalKB-e.availableKB}):null}renderViewing(){let e,t;let{path:n,label:r,editingPath:l,isDefault:o,metadata:d}=this.props;return null!=d&&(e=null!=d.availableKB?(0,h.BU)(d.availableKB,{useKibibytes:!0}):null,t=null!=d.totalKB?(0,h.BU)(d.totalKB,{useKibibytes:!0}):null),(0,i.jsxs)(c.Z,{className:f.installationPath,align:c.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,i.jsxs)(c.Z,{direction:c.Z.Direction.VERTICAL,className:f.__invalid_descriptionWrapper,children:[(0,i.jsxs)(c.Z,{align:c.Z.Align.CENTER,children:[(0,i.jsx)(a.Heading,{className:f.rowTitle,variant:"heading-md/semibold",children:null!=r?r:u.Z.getLabelFromPath(n)}),o?(0,i.jsx)("span",{className:f.defaultIndicator,children:g.intl.string(g.t.bBvAEB)}):null]}),null!=d&&null!=e&&null!=t?(0,i.jsx)(s.Z,{className:f.rowBody,hoverText:g.intl.formatToPlainString(g.t.Fxo9e3,{available:e,total:t}),children:n}):(0,i.jsx)(a.Text,{className:f.rowBody,variant:"text-xs/normal",children:n})]}),(0,i.jsx)(a.Button,{size:a.Button.Sizes.SMALL,disabled:null!=l,color:a.Button.Colors.PRIMARY,onClick:this.handleStartEditing,children:g.intl.string(g.t.bt75u7)})]})}renderEditing(){let{path:e,hasGamesInstalledInPath:t}=this.props,{label:n,isDefault:r}=this.state;return(0,i.jsx)(a.Card,{editable:!0,className:f.installationPathEditing,children:(0,i.jsxs)(c.Z,{children:[this.renderDiskUsageCircle(),(0,i.jsxs)(c.Z.Child,{children:[(0,i.jsx)(a.FormItem,{title:g.intl.string(g.t.AJkKCA),children:(0,i.jsx)(a.TextInput,{value:n,placeholder:u.Z.getLabelFromPath(e),onChange:this.handleLabelChange})}),(0,i.jsx)(a.FormItem,{title:g.intl.string(g.t.lnUCwc),className:_.marginTop20,children:(0,i.jsx)(a.TextInput,{disabled:!0,value:e})}),(0,i.jsx)(a.Checkbox,{type:a.Checkbox.Types.INVERTED,value:null!=r?r:this.props.isDefault,disabled:this.props.isDefault,className:f.defaultLocationCheckbox,onChange:this.handleToggleDefault,children:g.intl.string(g.t.Z2MWuL)}),(0,i.jsx)(a.FormDivider,{className:f.separator}),(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(a.Button,{disabled:t||this.props.isDefault,size:a.Button.Sizes.SMALL,color:a.Button.Colors.RED,look:a.Button.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:g.intl.string(g.t.iBUzS0)}),(0,i.jsxs)(c.Z,{justify:c.Z.Justify.END,children:[(0,i.jsx)(a.Button,{size:a.Button.Sizes.SMALL,color:a.Button.Colors.PRIMARY,look:a.Button.Looks.LINK,onClick:this.handleStopEditing,children:g.intl.string(g.t["ETE/oK"])}),(0,i.jsx)(a.Button,{disabled:e===this.props.path&&n===this.props.label&&r===this.props.isDefault,size:a.Button.Sizes.SMALL,color:a.Button.Colors.GREEN,onClick:this.handleSaveChanges,children:g.intl.string(g.t.R3BPHx)})]})]})]})]})})}render(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()}constructor(...e){super(...e),E(this,"state",{label:void 0,isDefault:null}),E(this,"handleStartEditing",()=>{let{path:e,label:t,isDefault:n,onToggleEditing:i}=this.props;i(e),this.setState({label:t,isDefault:n})}),E(this,"handleStopEditing",()=>{let{onToggleEditing:e}=this.props;e(null),this.setState({label:void 0,isDefault:null})}),E(this,"handleRemoveLocation",()=>{(0,a.openModal)(e=>(0,i.jsx)(a.ConfirmModal,{...e,header:g.intl.string(g.t.iBUzS0),confirmText:g.intl.string(g.t.iBUzS0),cancelText:g.intl.string(g.t["ETE/oK"]),onConfirm:()=>{this.handleStopEditing(),(0,o.iD)(this.props.path)},children:(0,i.jsx)(a.Text,{variant:"text-md/normal",children:g.intl.string(g.t["1XqeW1"])})}))}),E(this,"handleSaveChanges",()=>{(0,o.Tb)(this.props.path,{label:null!=this.state.label?this.state.label:this.props.label,isDefault:null!=this.state.isDefault?this.state.isDefault:this.props.isDefault}),this.handleStopEditing()}),E(this,"handleLabelChange",e=>{this.setState({label:e})}),E(this,"handleToggleDefault",()=>{this.setState({isDefault:!this.state.isDefault})})}}class C extends r.PureComponent{componentDidMount(){(0,o.ec)(this.props.installationPaths.map(e=>{let{path:t}=e;return t}))}render(){let{installationPaths:e,installationPathsMetadata:t,defaultInstallationPath:n}=this.props,{editingPath:r}=this.state;return(0,i.jsxs)(a.FormSection,{className:f.wrapper,title:g.intl.string(g.t.aLszkJ),children:[e.map(e=>{let{path:l,label:a}=e;return(0,i.jsx)(I,{path:l,label:a,metadata:t[l],isDefault:n===l,editingPath:r,hasGamesInstalledInPath:u.Z.hasGamesInstalledInPath(l),onToggleEditing:this.handleToggleEditing},l)}),(0,i.jsx)("div",{className:f.buttonRowWrapper,children:(0,i.jsx)(a.Button,{disabled:!m.isPlatformEmbedded,onClick:this.handleAddInstallationLocation,size:a.Button.Sizes.SMALL,children:g.intl.string(g.t.pnZ2ur)})})]})}constructor(...e){super(...e),E(this,"state",{editingPath:null}),E(this,"handleAddInstallationLocation",()=>{p.ZP.showOpenDialog(["openDirectory"]).then(e=>{if(null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0])(0,o.RY)(e[0])})}),E(this,"handleToggleEditing",e=>{this.setState({editingPath:e})})}}t.Z=l.ZP.connectStores([u.Z],()=>({installationPaths:u.Z.installationPaths,installationPathsMetadata:u.Z.installationPathsMetadata,defaultInstallationPath:u.Z.defaultInstallationPath}))(C)},895991:function(e,t,n){n.d(t,{Z:function(){return S}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(570140),c=n(150063),d=n(274616),u=n(827837),h=n(410575),m=n(3570),p=n(237919),g=n(957657),f=n(665307),_=n(530151),E=n(981631),I=n(186901),C=n(277900);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends r.PureComponent{componentDidMount(){c.Y(E.Z5c.APPLICATION_LIBRARY),(0,m.T)(I.jE.LIBRARY),s.Z.wait(()=>(0,d.o)()),(0,u.N)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)}renderToolbar(){return(0,i.jsx)(p.Z,{})}render(){let{includeUpdatesInScroller:e}=this.state,t=(0,i.jsx)("div",{children:(0,i.jsx)(h.Z,{section:E.jXE.LIBRARY_INSTALL_MODULE,children:(0,i.jsx)(_.Z,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(g.Z,{currentRoute:E.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,i.jsxs)(o.AdvancedScrollerAuto,{className:a()(C.container,C.scroller),ref:this._scrollerRef,children:[e?t:null,(0,i.jsx)(h.Z,{section:E.jXE.LIBRARY_APPLICATION_LIST,children:(0,i.jsx)(f.Z,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})}constructor(...e){super(...e),v(this,"_scrollerRef",r.createRef()),v(this,"_scrollToOnMount",void 0),v(this,"_scrollToPadding",0),v(this,"state",{includeUpdatesInScroller:!1}),v(this,"handleHeightTallerThanHalfViewportChange",e=>{this.setState({includeUpdatesInScroller:e})}),v(this,"scrollToRow",(e,t)=>{let n=this._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoViewRect({start:t,end:t}),this._scrollToOnMount=null):(this._scrollToOnMount=e,this._scrollToPadding=t)})}}},993977:function(e,t,n){n.d(t,{Z:function(){return v}}),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(58642),s=n(600164),c=n(695346),d=n(490983),u=n(626135),h=n(630388),m=n(804739),p=n(957657),g=n(34305),f=n(981631),_=n(388032),E=n(330580);function I(e){let{applicationViewItems:t,restoreApplication:n}=e;if(0===t.length)return null;let r=t.map(e=>{let t=e.libraryApplication.getDistributor();return(0,i.jsxs)("div",{className:E.hiddenLibraryApplication,children:[(0,i.jsxs)(s.Z,{direction:s.Z.Direction.VERTICAL,className:E.hiddenLibraryApplicationContent,children:[(0,i.jsx)("div",{className:E.applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,i.jsx)("div",{className:E.applicationSubText,children:f.EOG[t]}):null]}),(0,i.jsx)(a.Clickable,{className:E.restoreButton,onClick:()=>n(e.libraryApplication),children:(0,i.jsx)(a.XSmallIcon,{size:"md",color:"currentColor",className:E.restoreIcon})})]},e.key)});return(0,i.jsxs)(a.FormSection,{className:E.hiddenLibraryApplications,children:[(0,i.jsx)(a.FormTitle,{className:E.hiddenLibraryApplicationsTitle,children:_.intl.string(_.t["5PJtrK"])}),r]})}class C extends r.PureComponent{handleToggleShortcutDesktop(e){c.Xc.updateSetting(e)}handleToggleShortcutStartMenu(e){c.Pe.updateSetting(e)}trackRestoreApplication(e,t){u.default.track(f.rMx.APPLICATION_SETTINGS_UPDATED,{hidden_enabled:t,...e.getAnalyticsData()})}renderBody(){let{hiddenLibraryApplicationViewItems:e,installShortcutDesktop:t,installShortcutStartMenu:n}=this.props;return(0,i.jsxs)("div",{className:E.body,children:[(0,m.Q)()?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(a.FormSwitch,{value:t,onChange:this.handleToggleShortcutDesktop,note:_.intl.string(_.t.vT61Nz),children:_.intl.string(_.t["9ID+Ki"])}),(0,i.jsx)(a.FormSwitch,{value:n,onChange:this.handleToggleShortcutStartMenu,note:_.intl.string(_.t.cpYp0N),children:_.intl.string(_.t.vNpUMz)}),(0,i.jsx)(g.Z,{})]}):null,(0,i.jsx)(I,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:e})]})}render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{currentRoute:f.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,i.jsx)(a.ScrollerAuto,{className:E.scroller,children:this.renderBody()})]})}constructor(...e){var t,n,i;super(...e),t=this,n="handleRestoreHiddenLibraryApplication",i=e=>{let t=h.x9(e.getFlags(),f.eHb.HIDDEN);o.h(e.id,e.branchId,t),this.trackRestoreApplication(e,h.yE(t,f.eHb.HIDDEN))},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function v(){let e={installShortcutDesktop:c.Xc.useSetting(),installShortcutStartMenu:c.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,l.e7)([d.Z],()=>d.Z.hiddenLibraryApplicationViewItems)};return(0,i.jsx)(C,{...e})}},665307:function(e,t,n){n.d(t,{Z:function(){return k}}),n(411104),n(47120);var i,r=n(200651),l=n(192379),a=n(120356),o=n.n(a),s=n(512969),c=n(442837),d=n(846519),u=n(477690),h=n(481060),m=n(570140),p=n(239091),g=n(287259),f=n(785547),_=n(600164),E=n(167533),I=n(925329),C=n(707409),v=n(490983),S=n(799777),N=n(626135),T=n(780570),b=n(624138),x=n(645818),A=n(981631),Z=n(388032),L=n(399210);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let y=(0,b.Mg)(u.Z.GAME_LIST_ROW_MIN_HEIGHT),O=(0,b.Mg)(u.Z.GAME_LIST_LINKED_TO_GLOW_DURATION),R=Object.freeze({[A.iEv.PLATFORM]:"Platform",[A.iEv.LAST_PLAYED]:"Last Played",[A.iEv.NAME]:"Name"}),j=e=>{let{flag:t,icon:n,item:i,tooltip:l}=e,a=i.libraryApplication.hasFlag(t);return(0,r.jsx)(h.Tooltip,{text:l,children:e=>(0,r.jsx)(n,{className:o()(L.settingIcon,{[L.hidden]:!a}),...e})})},D=[{key:A.iEv.NAME,renderHeader:()=>Z.intl.string(Z.t.dBfWfX),sort:!0,cellClassName:L.nameCell,bodyCellClassName:L.nameBodyCell,render:e=>(0,r.jsxs)(_.Z,{align:_.Z.Align.CENTER,children:[(0,r.jsx)(I.Z,{game:e.application,size:I.Z.Sizes.SMALL,className:L.gameIcon}),(0,r.jsxs)("div",{className:L.nameCellInfo,children:[(0,r.jsx)("div",{className:L.nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(A.eHb.PREMIUM)?(0,r.jsx)(h.Tooltip,{text:Z.intl.string(Z.t.tG2SzM),children:e=>(0,r.jsx)(h.NitroWheelIcon,{size:"md",color:"currentColor",className:L.nitroIcon,...e})}):null]})]})},{key:A.iEv.PLATFORM,renderHeader:()=>Z.intl.string(Z.t.YR4cHB),sort:!0,cellClassName:L.platformCell,bodyCellClassName:L.textCell,render(e){let t=e.libraryApplication.getDistributor();return(0,r.jsx)(_.Z,{align:_.Z.Align.CENTER,children:null!=t?A.EOG[t]:Z.intl.string(Z.t["F+l3Ji"])})}},{key:A.iEv.LAST_PLAYED,renderHeader:()=>Z.intl.string(Z.t.FDDyjY),sort:!0,cellClassName:L.lastPlayedCell,bodyCellClassName:L.textCell,render(e){let t;return t=e.isRunning?Z.intl.string(Z.t.Md326u):e.isNew?Z.intl.string(Z.t["+F0Tho"]):0!==e.lastPlayed?(0,r.jsx)(C.ZP,{end:e.lastPlayed,location:C.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):Z.intl.string(Z.t.EoWLrq),(0,r.jsx)(_.Z,{align:_.Z.Align.CENTER,className:o()({[L.lastPlayedCellNew]:e.isNew}),children:t})}},{key:A.iEv.ACTIONS,renderHeader:()=>null,cellClassName:L.actionsCell,render(e,t,n){var i,a;if(null==t)throw Error("No cell props defined.");let s=e.key===t.activeRowKey;return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("div",{className:L.settingIcons,children:[(0,r.jsx)(j,{flag:A.eHb.PRIVATE,item:e,icon:h.EyeSlashIcon,tooltip:Z.intl.string(Z.t.NozAoq)}),(0,r.jsx)(j,{flag:A.eHb.OVERLAY_DISABLED,item:e,icon:h.ScreenSlashIcon,tooltip:Z.intl.string(Z.t.Az9eqq)}),(0,r.jsx)(x.Z,{className:o()(L.settingIcon,{[L.hidden]:!e.supportsCloudSync}),libraryApplication:e.libraryApplication})]}),(0,T.Je)(e.libraryApplication)?(0,r.jsx)(f.Z,{analyticsListSort:(i=t.sortKey,a=t.sortDirection,"".concat(R[i]," ").concat(a===A.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:A.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?h.Button.Colors.GREEN:h.Button.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===A.apO.PLAY,size:L.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:()=>null!=t&&t.setActiveRowKey(e),onDropdownClose:()=>null!=t&&t.clearActiveRowKey()}):(0,r.jsx)("div",{children:"deprecated!"})]})}}],M=e=>{let{item:t,activeRowKey:n,highlightedApplicationKey:i,onMouseEnter:l,onMouseLeave:a,onContextMenu:s,setRef:c,...d}=e,u=t.key===n,h=t.key===i;return(0,r.jsx)("div",{className:o()({[L.rowWrapperActive]:u&&!h,[L.rowWrapperGlow]:h,[L.rowWrapper]:!u&&!h,[L.rowWrapperDim]:!u&&!t.isLaunchable}),ref:e=>c(e,t.key),onMouseEnter:()=>l(t),onMouseLeave:a,onContextMenu:e=>s(e,t),children:(0,r.jsx)("div",{...d})})};class w extends(i=l.PureComponent){componentDidMount(){let{fetched:e}=this.props;e&&(this.handleHighlightedApplicationKey(),this.trackViewed())}componentWillUnmount(){this._didUnmount=!0}componentDidUpdate(e){!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());let t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){let e=this._rowRefs[t];null!=e&&(m.Z.wait(p.Zy),this.props.scrollToRow(e,y))}}handleHighlightedApplicationKey(){let{highlightedApplicationKey:e}=this.state;null!=e&&null!=this._rowRefs[e]&&(this.props.scrollToRow(this._rowRefs[e],y),new d.V7().start(O,()=>{!this._didUnmount&&this.setState({highlightedApplicationKey:null})}))}trackViewed(){let e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},{analyticsContext:t,applicationViewItems:n}=this.props;for(let t of n){switch(t.libraryApplication.getDistributor()){case A.GQo.DISCORD:e.num_applications_discord++;break;case A.GQo.STEAM:e.num_applications_steam++;break;case A.GQo.BATTLENET:e.num_applications_battlenet++;break;case A.GQo.TWITCH:e.num_applications_twitch++;break;case A.GQo.UPLAY:e.num_applications_uplay++;break;case A.GQo.ORIGIN:e.num_applications_origin++;break;case A.GQo.GOG:e.num_applications_gog++;break;case A.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}N.default.track(A.rMx.LIBRARY_VIEWED,{...e,load_id:t.loadId})}handleSort(e,t){g.fS(e,t)}renderImportHelp(){let e;let{applicationViewItems:t,filterQuery:n}=this.props,i=t.length>0;return i?null:(e=""!==n?Z.intl.format(Z.t["4Q1TAg"],{query:n}):Z.intl.string(Z.t["0Y+0PT"]),(0,r.jsxs)("div",{className:i?L.emptyStateSmall:L.emptyStateLarge,children:[(0,r.jsx)("div",{className:L.emptyWumpus}),(0,r.jsx)(_.Z,{grow:0,shrink:i?1:0,direction:_.Z.Direction.VERTICAL,children:(0,r.jsxs)("div",{className:L.emptyStateText,children:[(0,r.jsx)("div",{className:L.emptyStateHeader,children:Z.intl.string(Z.t.Lw8X2t)}),(0,r.jsx)("div",{className:L.emptyStateDescription,children:e})]})})]}))}render(){let{sortKey:e,sortDirection:t,applicationViewItems:n,activeRowKey:i,stickyHeader:a}=this.props,{overflowMenuRowKey:o,highlightedApplicationKey:s}=this.state;return(0,r.jsxs)(l.Fragment,{children:[n.length>0?(0,r.jsx)(E.Z,{columns:D,data:n,sortData:!1,rowComponent:M,className:L.table,headerClassName:a?L.stickyHeader:L.header,headerCellClassName:L.headerCell,sortedHeaderCellClassName:L.headerCellSorted,bodyCellClassName:L.bodyCell,rowClassName:L.row,sortKey:e,sortDirection:t,stickyHeader:a,rowProps:{activeRowKey:null!=o?o:i,highlightedApplicationKey:s,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=o?o:i,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:e,sortDirection:t},onSort:this.handleSort}):null,this.renderImportHelp()]})}constructor(...e){super(...e),P(this,"_didUnmount",!1),P(this,"_rowRefs",{}),P(this,"state",{overflowMenuRowKey:null,highlightedApplicationKey:null!=this.props.location.state?this.props.location.state.applicationId:null}),P(this,"setActiveRowKey",e=>{this.setState({overflowMenuRowKey:e.key})}),P(this,"clearActiveRowKey",()=>{!this._didUnmount&&this.setState({overflowMenuRowKey:null})}),P(this,"handleRowMouseEnter",e=>{!this.props.isNavigatingByKeyboard&&g.wX(e.key)}),P(this,"handleRowMouseLeave",()=>{!this.props.isNavigatingByKeyboard&&g.wX(null)}),P(this,"setRowRef",(e,t)=>{this._rowRefs[t]=e}),P(this,"handleApplicationContextMenu",(e,t)=>{this.setActiveRowKey(t);let{analyticsContext:i}=this.props;(0,p.jW)(e,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return n=>(0,r.jsx)(e,{...n,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:i})},{onClose:this.clearActiveRowKey})})}}function k(e){let t=l.useContext(N.AnalyticsContext),n=(0,s.TH)(),{applicationViewItems:i,filterQuery:a,fetched:o}=(0,c.cj)([v.Z],()=>({applicationViewItems:v.Z.sortedFilteredLibraryApplicationViewItems,filterQuery:v.Z.applicationFilterQuery,fetched:v.Z.hasFetchedApplications})),{sortKey:d,sortDirection:u,activeRowKey:h,isNavigatingByKeyboard:m}=(0,c.cj)([S.Z],()=>({sortKey:S.Z.sortKey,sortDirection:S.Z.sortDirection,activeRowKey:S.Z.activeRowKey,isNavigatingByKeyboard:S.Z.isNavigatingByKeyboard}));return(0,r.jsx)(w,{...e,analyticsContext:t,location:n,applicationViewItems:i,filterQuery:a,fetched:o,sortKey:d,sortDirection:u,activeRowKey:h,isNavigatingByKeyboard:m})}P(w,"defaultProps",{stickyHeader:!1})},86826:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(44315),o=n(600164),s=n(120998),c=n(353042),d=n(388032),u=n(717242);t.Z=function(e){var t;let{title:n,className:r,color:h,animate:m,gradientStopColor:p,getHistoricalTotalBytes:g}=e,f=(0,a.Sl)(h).hex,_=null===(t=(0,a.Sl)(p))||void 0===t?void 0:t.hex;return(0,i.jsx)(c.Z,{getHistoricalTotalBytes:g,children:(e,t,a)=>{var c;return(0,i.jsx)("div",{className:l()(u.monitor,r),children:(0,i.jsxs)(o.Z,{align:o.Z.Align.CENTER,children:[(0,i.jsxs)(o.Z,{className:u.text,direction:o.Z.Direction.VERTICAL,children:[(0,i.jsx)("div",{className:u.title,children:n}),(0,i.jsx)("div",{className:u.rate,children:(c=e[e.length-1]/t*1e3)>1e3?d.intl.formatToPlainString(d.t["WU+gTU"],{size:Math.round(c/1e3)}):d.intl.formatToPlainString(d.t.wnF6TE,{size:Math.round(c)})})]}),(0,i.jsx)("div",{className:u.overflowContainer,children:(0,i.jsx)(s.Z,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:u.sparkChart,updateInterval:t,color:f,gradientStopColor:_,numUpdatesToShow:a,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})})}})}},530151:function(e,t,n){n(411104),n(47120),n(724458),n(653041);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),d=n(692547),u=n(780384),h=n(481060),m=n(570140),p=n(239091),g=n(51025),f=n(785547),_=n(730749),E=n(112724),I=n(812206),C=n(44315),v=n(600164),S=n(167533),N=n(925329),T=n(707409),b=n(210887),x=n(283595),A=n(417363),Z=n(941128),L=n(451478),P=n(424218),y=n(780570),O=n(353042),R=n(86826),j=n(981631),D=n(388032),M=n(96852);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let k=e=>{let{className:t,children:n,onContextMenu:r,item:l}=e;return(0,i.jsx)("div",{className:t,onContextMenu:e=>r(e,l),children:n})},U=[d.Z.unsafe_rawColors.BLUE_345.css,d.Z.colors.INTERACTIVE_NORMAL.css],G=e=>{let{tooltip:t,onClick:n,icon:r}=e;return(0,i.jsx)(h.Tooltip,{text:t,children:e=>{let{onMouseEnter:l,onMouseLeave:a}=e;return(0,i.jsx)(h.Button,{"aria-label":t,className:M.actionButton,innerClassName:M.actionButtonContents,color:h.Button.Colors.PRIMARY,size:h.Button.Sizes.ICON,onClick:n,onMouseEnter:l,onMouseLeave:a,children:(0,i.jsx)(r,{className:M.actionIcon})})}})};function B(e,t){switch(t){case j.f07.POST_INSTALL_SCRIPTS:case j.f07.PLANNING:case j.f07.FINALIZING:case j.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,P.BU)(e,{useKibibytes:!0})}}let H={[j.vxO.INSTALLING]:{[T.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[T.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:i})},[j.vxO.UPDATING]:{[T.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JsqXXF,{percent:e,progress:t,total:n}),[T.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3BvVeX"],{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.rwULn5,{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.adcitL,{percent:e,progress:t,total:n,timeRemaining:i})},[j.vxO.REPAIRING]:{[T.J6.NONE]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.JfJt9f,{percent:e,progress:t,total:n}),[T.J6.SECONDS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["1z3c6e"],{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.MINUTES]:(e,t,n,i)=>D.intl.formatToPlainString(D.t.PCX509,{percent:e,progress:t,total:n,timeRemaining:i}),[T.J6.HOURS]:(e,t,n,i)=>D.intl.formatToPlainString(D.t["3VG9s7"],{percent:e,progress:t,total:n,timeRemaining:i})}};function V(e,t,n,i,r){let l=H[t],a=null!=l?Object.keys(l):[],{unit:o,time:s}=(0,T.CI)(null!=e?e/60:null,a);if(null!=l&&null!=o){let e=l[o];return null!=e?e(n,i,r,s):null}return null}function F(e){let{type:t,stage:n,percent:i,progress:r,total:l,secondsRemaining:a}=e,o=B(l,n),s=B(r,n);switch(n){case j.f07.QUEUED:if(0===r)return D.intl.string(D.t.RpfBqa);return D.intl.formatToPlainString(D.t.uNjCXV,{percent:i,progress:s,total:o});case j.f07.PLANNING:return D.intl.formatToPlainString(D.t.sfuCUV,{percent:i});case j.f07.ALLOCATING_DISK:return D.intl.formatToPlainString(D.t.XigoJy,{percent:i});case j.f07.PATCHING:return V(a,t,i,s,o);case j.f07.FINALIZING:return D.intl.formatToPlainString(D.t["6PHDUF"],{percent:i});case j.f07.PAUSING:return D.intl.formatToPlainString(D.t.vjxhWl,{percent:i,progress:s,total:o});case j.f07.VERIFYING:return D.intl.formatToPlainString(D.t.bbilvr,{percent:i,progress:s,total:o});case j.f07.POST_INSTALL_SCRIPTS:return D.intl.formatToPlainString(D.t.c5vRUl,{percent:i,progress:s,total:o});case j.f07.REPAIRING:if(t===j.vxO.REPAIRING)return V(a,t,i,s,o);return D.intl.formatToPlainString(D.t.OCzETU,{percent:i,progress:s,total:o})}throw Error("Invalid Dispatch stage")}let z="name",W="progress",Y="actions";class K extends r.PureComponent{get isFocused(){let{cellProps:e}=this.props;return null!=e&&e.isFocused}renderBody(e){let{percent:t,foregroundColor:n,foregroundGradientColor:r,message:l}=e;return(0,i.jsxs)(v.Z,{direction:v.Z.Direction.VERTICAL,children:[(0,i.jsx)(h.Progress,{percent:t,size:h.Progress.Sizes.SMALL,foregroundColor:(0,C.Lq)(n),foregroundGradientColor:null!=r?[(0,C.Lq)(r[0]),(0,C.Lq)(r[1])]:void 0,animate:this.isFocused}),(0,i.jsx)("div",{className:M.progressCellText,children:null!=l?l:""})]})}renderStackedProgress(e){let{percents:t,message:n}=e;return(0,i.jsxs)(v.Z,{direction:v.Z.Direction.VERTICAL,children:[(0,i.jsx)(h.StackedProgress,{percents:t,size:h.StackedProgress.Sizes.SMALL,foregroundColors:U,animate:this.isFocused}),(0,i.jsx)("div",{className:M.progressCellText,children:null!=n?n:""})]})}renderFinished(){let{item:e}=this.props;return this.renderBody({message:D.intl.format(D.t.z1oxGB,{remove:()=>g.wi(e.applicationId,e.branchId)}),foregroundColor:(0,u.ap)(e.theme)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,percent:100})}renderQueued(){let e,t;let{item:{state:n,theme:i}}=this.props;if(null!=n){let{progress:i,total:r,stage:l}=n;if(null!=i&&null!=r){let n=B(r,l),a=B(i,l),o=Math.floor(t=y.xI(i,r));e=l===j.f07.PAUSING?D.intl.formatToPlainString(D.t.vjxhWl,{percent:o,progress:a,total:n}):D.intl.formatToPlainString(D.t.voT3Bg,{percent:o,progress:a,total:n})}}return(null==t||null==e)&&(t=0,e=D.intl.string(D.t["qS+iKS"])),this.renderBody({percent:t,foregroundColor:(0,u.ap)(i)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,message:e})}renderPaused(){let{item:{state:e,theme:t}}=this.props;if(null==e)return null;let{progress:n,total:i}=e;if(null==n||null==i)return null;let r=y.xI(n,i),l=Math.floor(r),a=0===n&&1===i?D.intl.string(D.t["+pfsFR"]):D.intl.formatToPlainString(D.t["+feX8f"],{percent:l,progress:(0,P.BU)(n),total:(0,P.BU)(i)});return this.renderBody({message:a,foregroundColor:(0,u.ap)(t)?j.Ilk.PRIMARY_300:j.Ilk.PRIMARY_500,percent:r})}renderProgressPatching(){return(0,i.jsx)(O.Z,{getHistoricalTotalBytes:A.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})}renderProgressDefault(){let{state:e}=this.props.item;if(null==e)return null;let{total:t,progress:n,stage:i,type:r}=e;if(null==t||null==n||null==i)return null;let l=y.xI(n,t),a=Math.floor(l);return this.renderBody({percent:l,message:F({type:r,stage:i,percent:a,progress:n,total:t}),foregroundColor:j.Ilk.BLUE_345})}renderProgress(){let{state:e}=this.props.item;switch(null!=e?e.stage:null){case j.f07.PATCHING:case j.f07.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}}render(){let{item:e,cellProps:t}=this.props;if(e.finished)return this.renderFinished();if(e.index>0)return this.renderQueued();if(null!=e.state&&(e.state.type===j.vxO.UPDATING||e.state.type===j.vxO.REPAIRING||e.state.type===j.vxO.INSTALLING))return null!=t&&t.paused?this.renderPaused():this.renderProgress();return null}constructor(...e){super(...e),w(this,"renderProgressPatchingBody",(e,t)=>{let{item:{state:n}}=this.props;if(null==n)return null;let{stage:i,progress:r,total:l,type:a,readerProgress:o}=n;if(null==r||null==l||null==i)return null;let s=y.xI(r,l),c=y.xI(null!=o?o:0,l),d=e[e.length-1]/t*1e3,u=l-r,h=F({type:a,stage:i,percent:Math.floor(s),progress:r,total:l,secondsRemaining:0!==d?Math.max(1,u/d):null});return this.renderStackedProgress({percents:[s,c],message:h})})}}let q=()=>(0,i.jsx)(G,{icon:h.PlayIcon,tooltip:D.intl.string(D.t.YGm6SU),onClick:()=>g.v4()}),X=()=>(0,i.jsx)(G,{icon:h.PauseIcon,tooltip:D.intl.string(D.t.TVAd5O),onClick:()=>g.wO()}),Q=e=>{let{item:t}=e;return(0,i.jsx)(G,{icon:h.ArrowSmallUpIcon,tooltip:D.intl.string(D.t["Eqb+LC"]),onClick:()=>g.A1(t.applicationId,t.branchId)})},J=e=>{let{item:t}=e;return(0,i.jsx)(G,{icon:h.XSmallIcon,tooltip:D.intl.string(D.t["0lFmCw"]),onClick:()=>g.al(t.applicationId,t.branchId)})},$=[{key:z,cellClassName:M.nameCell,render:e=>(0,i.jsxs)(v.Z,{align:v.Z.Align.CENTER,children:[(0,i.jsx)(N.Z,{game:e.application,className:M.__invalid_gameIcon,size:N.Z.Sizes.SMALL}),(0,i.jsx)("div",{className:M.nameCellText,children:e.application.name})]})},{key:W,cellClassName:M.progressCell,headerCellClassName:M.progressCellHeader,bodyCellClassName:M.progressCellBody,render:(e,t)=>(0,i.jsx)(K,{item:e,cellProps:t})},{key:Y,cellClassName:M.actionsCell,render(e,t){let n,r;return e.finished?n=null!=e.libraryApplication?(0,i.jsx)(f.Z,{libraryApplication:e.libraryApplication,size:h.Button.Sizes.SMALL,className:M.gameActionButton,source:j.Sbl.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==j.vxO.UP_TO_DATE&&(n=e.index>0?(0,i.jsx)(Q,{item:e}):null!=t&&t.paused?(0,i.jsx)(q,{}):(0,i.jsx)(X,{item:e}),r=(0,i.jsx)(J,{item:e})):r=(0,i.jsx)(J,{item:e}),(0,i.jsxs)(v.Z,{justify:v.Z.Justify.END,children:[n,r]})}}];class ee extends r.PureComponent{componentDidMount(){window.addEventListener("resize",this.throttledUpdateHeight)}componentDidUpdate(e){this.props.height!==e.height&&this.throttledUpdateHeight()}componentWillUnmount(){let{applications:e}=this.props;e.forEach(e=>{e.finished&&m.Z.wait(()=>{g.wi(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0}render(){let{applications:e,paused:t,isFocused:r,theme:l,analyticsContext:o}=this.props;return 0===e.length?null:(0,i.jsxs)("div",{className:M.gameUpdates,children:[(0,i.jsxs)("div",{className:M.headerRow,children:[(0,i.jsx)(R.Z,{className:a()(M.headerCell,M.networkProgress),title:D.intl.string(D.t.ytoXKi),getHistoricalTotalBytes:A.Z.getHistoricalTotalBytesDownloaded,color:j.Ilk.GREEN_360,animate:r}),(0,i.jsx)(R.Z,{className:a()(M.headerCell,M.diskProgress),title:D.intl.string(D.t.SjohhI),getHistoricalTotalBytes:A.Z.getHistoricalTotalBytesWritten,color:j.Ilk.BLUE_345,animate:r})]}),(0,i.jsx)(S.Z,{hasHeader:!1,columns:$,data:e,className:M.table,rowClassName:M.row,rowComponent:k,cellProps:{paused:t,isFocused:r,theme:l},rowProps:{onContextMenu:(e,t)=>{var r,l,a;return r=e,l=t,a=o,void p.jW(r,async()=>{let{default:e}=await n.e("98335").then(n.bind(n,485292));return t=>(0,i.jsx)(e,{...t,applicationId:l.applicationId,branchId:l.branchId,analyticsContext:a})})}},bodyCellClassName:M.cell})]})}constructor(...e){super(...e),w(this,"isUnmounted",!1),w(this,"isTallerThanHalfViewport",!1),w(this,"throttledUpdateHeight",s().throttle(()=>{if(this.isUnmounted)return;let{height:e,onHeightTallerThanHalfViewportChange:t}=this.props,n=e>window.innerHeight/2;this.isTallerThanHalfViewport!==n&&(this.isTallerThanHalfViewport=n,t(n))},1e3))}}function et(e,t,n,i){return e.reduce((e,r,l)=>{let{applicationId:a,branchId:o}=r,s=n.getApplication(a),c=i.getState(a,o);return null!=s&&e.push({key:"".concat(a,":").concat(o),applicationId:a,branchId:o,state:c,application:s,libraryApplication:x.Z.getLibraryApplication(a,o),finished:t,index:l}),e},[])}t.Z=(0,E.Z)(c.ZP.connectStores([I.Z,A.Z,Z.Z,b.Z,L.Z],()=>{let e=et(Z.Z.activeItems,!1,I.Z,A.Z);return{applications:[...e,...et(Z.Z.finishedItems,!0,I.Z,A.Z)],paused:Z.Z.paused,isFocused:L.Z.isFocused(),theme:b.Z.theme}})((0,_.Z)(ee)))},689796:function(e,t,n){var i=n(200651),r=n(192379),l=n(77878),a=n(770146),o=n(600164),s=n(981631),c=n(388032),d=n(454072);class u extends r.PureComponent{renderContentRatingImage(){let{contentRating:e,contentRatingAgency:t}=this.props.sku;return null==e||null==t?null:(0,i.jsx)(l.Z,{className:d.rating,agency:t,rating:e.rating})}render(){let{sku:{contentRating:e,contentRatingAgency:t},className:n}=this.props;if(null==e||null==t)return null;let r={[s.aIt.ESRB]:{1:c.intl.string(c.t.ErVezc),2:c.intl.string(c.t.xLyerK),3:c.intl.string(c.t.UmB6j4),4:c.intl.string(c.t.NHOQIy),5:c.intl.string(c.t.U6xTOz),6:c.intl.string(c.t["51xJIy"]),7:c.intl.string(c.t.uayp6u),8:c.intl.string(c.t.c1GtKi),9:c.intl.string(c.t.Hz8vra),10:c.intl.string(c.t.qSyzdX),11:c.intl.string(c.t.K68q8f),12:c.intl.string(c.t.Yb0n6O),13:c.intl.string(c.t.IIFZqq),14:c.intl.string(c.t["NZ/JGR"]),15:c.intl.string(c.t["5qETTU"]),16:c.intl.string(c.t.kJGLz8),17:c.intl.string(c.t.cB2QRE),18:c.intl.string(c.t.g9SiEx),19:c.intl.string(c.t["Xe0T5+"]),20:c.intl.string(c.t["4k6sY2"]),21:c.intl.string(c.t.cxFiDA),22:c.intl.string(c.t.YvpQKy),23:c.intl.string(c.t.i2gbpa),24:c.intl.string(c.t["LooT/f"]),25:c.intl.string(c.t["/AIXho"]),26:c.intl.string(c.t.oo09Hx),27:c.intl.string(c.t.XCUBe3),28:c.intl.string(c.t.g6dipa),29:c.intl.string(c.t.YYGUqq),30:c.intl.string(c.t.WsqFnJ),31:c.intl.string(c.t.zePEoq),32:c.intl.string(c.t.bGErw8),33:c.intl.string(c.t["imoY9/"]),34:c.intl.string(c.t["Z+VBdn"]),35:c.intl.string(c.t.eBgo0N),36:c.intl.string(c.t["6SVTt7"]),37:c.intl.string(c.t["8Lme6e"]),38:c.intl.string(c.t.ettX4O),39:c.intl.string(c.t.nnVZFx),40:c.intl.string(c.t.TWlbXl),41:c.intl.string(c.t.CAGgEx),42:c.intl.string(c.t["jRZf+f"]),43:c.intl.string(c.t["4Vg0mp"])},[s.aIt.PEGI]:{1:c.intl.string(c.t.VcO2U1),2:c.intl.string(c.t["wt264+"]),3:c.intl.string(c.t["5yzEJS"]),4:c.intl.string(c.t.NBQZX1),5:c.intl.string(c.t["4UG90d"]),6:c.intl.string(c.t.Cf5CtL),7:c.intl.string(c.t.ai9C3d)}},l=e.descriptors.map(e=>r[t][e]).join(", ");return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(a.Z,{children:c.intl.string(c.t.q9Zqgo)}),(0,i.jsxs)(o.Z,{className:d.content,children:[this.renderContentRatingImage(),(0,i.jsx)("div",{className:d.__invalid_info,children:l})]})]})}}t.Z=u},506648:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(770146),o=n(863969),s=n(38761),c=n(6074),d=n(39377),u=n(981631),h=n(388032),m=n(270690);let p=[{feature:u.Qa3.SINGLE_PLAYER,getText:()=>h.intl.string(h.t["V+/FjI"]),getTooltip:()=>h.intl.string(h.t["w+X9sb"]),IconComponent:l.UserIcon},{feature:u.Qa3.LOCAL_MULTIPLAYER,getText:()=>h.intl.string(h.t.srnWrq),getTooltip:()=>h.intl.string(h.t.sDdLWF),IconComponent:l.GroupIcon},{feature:u.Qa3.ONLINE_MULTIPLAYER,getText:()=>h.intl.string(h.t.xPHbgI),getTooltip:()=>h.intl.string(h.t.g6kR4O),IconComponent:l.GroupIcon},{feature:u.Qa3.PVP,getText:()=>h.intl.string(h.t.qhgwx8),getTooltip:()=>h.intl.string(h.t["5jGrhI"]),IconComponent:l.ModerationIcon},{feature:u.Qa3.LOCAL_COOP,getText:()=>h.intl.string(h.t.FqbalJ),getTooltip:()=>h.intl.string(h.t.vIgDgY),IconComponent:l.GroupIcon},{feature:u.Qa3.ONLINE_COOP,getText:()=>h.intl.string(h.t.lDHO4e),getTooltip:()=>h.intl.string(h.t.VXDpho),IconComponent:l.GroupIcon},{feature:u.Qa3.CROSS_PLATFORM,getText:()=>h.intl.string(h.t.SWo2HR),getTooltip:()=>h.intl.string(h.t.ll2wzc),IconComponent:l.RefreshIcon},{feature:u.Qa3.RICH_PRESENCE,getText:()=>h.intl.string(h.t.PVSVtL),getTooltip:()=>h.intl.string(h.t.O6Yp4e),IconComponent:c.Z},{feature:u.Qa3.DISCORD_GAME_INVITES,getText:()=>h.intl.string(h.t.agm68P),getTooltip:()=>h.intl.string(h.t.kS2vFB),IconComponent:s.Z},{feature:u.Qa3.SPECTATOR_MODE,getText:()=>h.intl.string(h.t["ZtiU7+"]),getTooltip:()=>h.intl.string(h.t.kUtiKS),IconComponent:l.VideoIcon},{feature:u.Qa3.CONTROLLER_SUPPORT,getText:()=>h.intl.string(h.t.UlBQ8P),getTooltip:()=>h.intl.string(h.t.iG00jI),IconComponent:l.DpadIcon},{feature:u.Qa3.CLOUD_SAVES,getText:()=>h.intl.string(h.t.rOcNrK),getTooltip:()=>h.intl.string(h.t.kvw18P),IconComponent:o.Z},{feature:u.Qa3.SECURE_NETWORKING,getText:()=>h.intl.string(h.t.GKFWLy),getTooltip:()=>h.intl.string(h.t.VudViI),IconComponent:d.Z}],g=e=>{let{IconComponent:t,text:n,tooltip:r}=e;return(0,i.jsxs)("div",{className:m.row,children:[(0,i.jsx)(l.Tooltip,{text:r,children:e=>(0,i.jsx)(t,{className:m.featureIcon,...e})}),(0,i.jsx)("span",{className:m.featureText,children:n}),(0,i.jsx)(l.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:m.checkmarkIcon})]})};class f extends r.PureComponent{render(){let{sku:e}=this.props,t=p.filter(t=>{let{feature:n}=t;return e.features.has(n)}).map(e=>{let{feature:t,IconComponent:n,getText:r,getTooltip:l}=e;return(0,i.jsx)(g,{IconComponent:n,text:r(),tooltip:l()},t)});return 0===t.length?null:(0,i.jsxs)("div",{className:m.features,children:[(0,i.jsx)(a.Z,{children:h.intl.string(h.t.XXENra)}),t]})}}t.Z=f},449275:function(e,t,n){var i=n(200651),r=n(192379),l=n(770146),a=n(388032),o=n(238939);class s extends r.PureComponent{render(){let{className:e,sku:t}=this.props;return null==t.legalNotice?null:(0,i.jsxs)("div",{className:e,children:[(0,i.jsx)(l.Z,{children:a.intl.string(a.t.m8OiMj)}),(0,i.jsx)("div",{className:o.content,children:t.legalNotice})]})}}t.Z=s},733789:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(100527),c=n(707409),d=n(184301),u=n(347475),h=n(237583),m=n(51144),p=n(981631),g=n(388032),f=n(563364);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E={[p.AzA.NOW_PLAYING]:{single:(e,t)=>g.intl.format(g.t.NEckzc,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t["6uWulZ"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t["8fMgRU"],{count:e})},[p.AzA.RECENTLY_PLAYED]:{single:(e,t)=>g.intl.format(g.t["nB/JND"],{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t.AZCcHR,{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t.yNuaTU,{count:e})},[p.AzA.EVER_PLAYED]:{single:(e,t)=>g.intl.format(g.t.Fecf3N,{user1:e.username,user1Hook:()=>t(e)}),double:(e,t,n)=>g.intl.format(g.t["0LiGbG"],{user1:e.username,user1Hook:()=>n(e),user2:t.username,user2Hook:()=>n(t)}),other:e=>g.intl.format(g.t.Yx1rjY,{count:e})}};class I extends r.PureComponent{renderDescription(e,t){let n=E[e];return 1===t.length?n.single(t[0].user,e=>this.renderActivityDiscordTag(e)):2===t.length?n.double(t[0].user,t[1].user,e=>this.renderActivityDiscordTag(e)):n.other(t.length)}renderActivityDiscordTag(e){return(0,i.jsx)(o.Popout,{preload:()=>(0,d.Z)(e),renderPopout:t=>(0,i.jsx)(u.Z,{...t,userId:e.id,newAnalyticsLocations:[s.Z.USERNAME]}),position:"right",children:t=>(0,i.jsx)("span",{className:f.username,...t,children:e.username})},e.id)}render(){let{reason:e,className:t}=this.props,{type:n,userInfo:r}=e;return 0===r.length?null:(0,i.jsxs)("div",{className:a()(f.recommendationActivity,t),children:[(0,i.jsx)(h.Z,{className:f.players,users:r.map(e=>{let{user:t}=e;return t}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),(0,i.jsx)("div",{className:f.description,children:this.renderDescription(n,r)})]})}constructor(...e){super(...e),_(this,"renderUserTooltip",(e,t,n)=>(0,i.jsxs)("div",{className:f.tooltip,children:[(0,i.jsx)("div",{children:m.ZP.getUserTag(e)}),(0,i.jsx)(c.ZP,{className:f.tooltipTimestamp,start:t,end:n,location:c.ZP.Locations.ACTIVITY_FEED})]})),_(this,"renderPlayer",(e,t,n,r)=>{if(null==e)return null;let l=this.props.reason.userInfo.find(t=>t.user===e);return null==l?null:(0,i.jsx)(o.Popout,{preload:()=>(0,d.Z)(e),renderPopout:t=>(0,i.jsx)(u.Z,{...t,userId:e.id,newAnalyticsLocations:[s.Z.AVATAR]}),position:"right",children:t=>(0,i.jsx)(o.Tooltip,{text:this.renderUserTooltip(e,l.startTime,l.endTime),"aria-label":(0,m.W5)(e,{decoration:"never"}),children:n=>(0,i.jsx)(o.Avatar,{className:a()(f.playerAvatar,{[f.avatarMasked]:!r}),src:e.getAvatarURL(void 0,32),"aria-label":e.username,size:o.AvatarSizes.SIZE_32,...n,...t})})},e.id)}),_(this,"renderPlayerOverflow",(e,t,n)=>(0,i.jsx)("div",{className:f.playerOverflow,children:e},n))}}t.Z=I},4962:function(e,t,n){n(411104);var i,r,l=n(200651);n(192379);var a=n(120356),o=n.n(a),s=n(442837),c=n(481060),d=n(700582),u=n(451478),h=n(388032),m=n(99238);(r=i||(i={}))[r.STAFF_NOTES=1]="STAFF_NOTES";let p=s.ZP.connectStores([u.Z],()=>({animate:u.Z.isFocused()}))(e=>{let{user:t,className:n,animate:i}=e;return(0,l.jsxs)("div",{className:o()(m.staffReviewHeader,n),children:[(0,l.jsx)(d.Z,{size:c.AvatarSizes.SIZE_32,user:t,animate:i}),(0,l.jsxs)("div",{className:m.headerText,children:[(0,l.jsx)("div",{className:m.label,children:h.intl.string(h.t.vmzMZG)}),(0,l.jsx)("div",{className:m.username,children:t.username})]})]})}),g=e=>{let{data:t,className:n}=e;if(1===t.type){if(null==t.staffNotes)return null;let{user:e,content:i}=t.staffNotes;return null==e?null:(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)(p,{user:e,className:m.header}),(0,l.jsx)("div",{className:m.notes,children:i})]})}throw Error("Unknown type")};g.Types=i,t.Z=g},911314:function(e,t,n){var i=n(200651);n(192379);var r=n(512969),l=n(730749),a=n(928207),o=n(981631);t.Z=(0,l.Z)(function(){return(0,i.jsxs)(r.rs,{children:[(0,i.jsx)(r.AW,{path:o.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(a.Z,{})}),(0,i.jsx)(r.l_,{to:o.Z5c.APP})]})})},928207:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(512969),o=n(674746),s=n(442837),c=n(780384),d=n(481060),u=n(410575),h=n(730749),m=n(666743),p=n(410030),g=n(100527),f=n(906732),_=n(600164),E=n(984370),I=n(278605),C=n(299657),v=n(594174),S=n(74538),N=n(981631),T=n(474936),b=n(388032),x=n(707858);let A=s.ZP.connectStores([v.default],()=>({user:v.default.getCurrentUser()}))((0,m.Z)((0,h.Z)(e=>{let{isAuthenticated:t,user:n}=e,{analyticsLocations:r}=(0,f.ZP)(g.Z.HOME_PAGE_PREMIUM_TAB),s=(0,I.xP)("ApplicationStoreHome"),h=(0,S.I5)(n),m=s&&!h,v=(0,p.ZP)();return t?(0,i.jsxs)("div",{className:x.homeWrapperNormal,children:[(0,i.jsx)(u.Z,{section:N.jXE.NAVIGATION,children:(0,i.jsxs)(E.Z,{isAuthenticated:t,className:l()(x.headerBar,{[x.headerBarV2LightBackground]:m&&!(0,c.wj)(v),[x.headerBarV2DarkBackground]:m&&(0,c.wj)(v)}),children:[(0,i.jsx)(E.Z.Icon,{icon:d.NitroWheelIcon,"aria-hidden":!0,color:m?o.Z.PREMIUM_TIER_2_PINK:void 0}),(0,i.jsx)(E.Z.Title,{children:b.intl.string(b.t.Ipxkoq)})]})}),(0,i.jsx)(f.Gt,{value:r,children:null==n?(0,i.jsx)(_.Z,{align:_.Z.Align.CENTER,justify:_.Z.Justify.CENTER,children:(0,i.jsx)(d.Spinner,{className:x.spinner})}):(0,i.jsx)(C.Z,{entrypoint:T.EZ.ApplicationStoreHome})})]}):(0,i.jsx)(a.l_,{to:N.Z5c.LOGIN})})));t.Z=A},613311:function(e,t,n){n(411104),n(724458),n(653041),n(733860),n(47120),n(789020);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(846519),c=n(780384),d=n(481060),u=n(570140),h=n(659429),m=n(496929),p=n(558381),g=n(410575),f=n(224336),_=n(730749),E=n(666743),I=n(115130),C=n(812206),v=n(770146),S=n(600164),N=n(606081),T=n(252618),b=n(100159),x=n(646288),A=n(984370),Z=n(706454),L=n(210887),P=n(430824),y=n(496675),O=n(525395),R=n(558314),j=n(580130),D=n(55563),M=n(551428),w=n(695103),k=n(451478),U=n(626135),G=n(572004),B=n(630388),H=n(937615),V=n(73346),F=n(3570),z=n(689796),W=n(15470),Y=n(506648),K=n(449275),q=n(445986),X=n(119520),Q=n(450233),J=n(726581),$=n(74153),ee=n(125930),et=n(178071),en=n(176055),ei=n(843445),er=n(981631),el=n(186901),ea=n(388032),eo=n(358636);function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ec extends r.PureComponent{get isChannelType(){return null!=this.props.channel}componentDidMount(){let{sku:e,storeListing:t,isFetchingEntitlements:n,shouldFetchStatistics:i,didFetchEntitlements:r,location:l,fetchStoreListing:a}=this.props;if(null!=l.state){let{analyticsSource:e,analyticsProperties:t}=l.state;this._analyticsSource=e,this._extraAnalyticsProperties=t}else this._analyticsSource=er.SaU;(null==t||t.isSlimDirectoryVersion())&&a(),null!=e&&(!n&&!r&&(0,m.yD)(e.applicationId),i&&u.Z.wait(()=>(0,h.$)(e.applicationId))),this.trackViewed(),this.replaceUrlWithSlug()}componentDidUpdate(e){let{locale:t,sku:n,shouldFetchStatistics:i,skuId:r,storeListingId:l,slug:a,storeListing:o,fetchStoreListing:s}=this.props;if(o!==e.storeListing&&null!=o&&(0,F.s)(el.jE.STORE_LISTING,{skuId:r,slug:a}),(t!==e.locale||r!==e.skuId)&&s(),i&&!e.shouldFetchStatistics){if(null==n)throw Error("Unexpected missing sku");u.Z.wait(()=>(0,h.$)(n.applicationId))}(r!==e.skuId||l!==e.storeListingId)&&(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()}componentWillUnmount(){this.showCopyLinkTextTimeout.stop();let{analyticsContext:{loadId:e,loadDate:t}}=this.props;null!=t&&U.default.track(er.rMx.STORE_LISTING_EXITED,{load_id:e,duration_ms:Date.now()-t})}replaceUrlWithSlug(){}trackViewed(){let{sku:e,storeListing:t,hasFetchedNews:n,analyticsContext:i}=this.props;if(this._trackedViewed||null==e||null==t||null==t.description||!(this.isChannelType||n))return;let r=t.carouselItems.reduce((e,t)=>(null!=t.assetId?e.images++:e.videos++,e),{images:0,videos:0});U.default.track(er.rMx.STORE_LISTING_VIEWED,{...this._extraAnalyticsProperties,load_id:i.loadId,has_description:null!=t.description&&t.description.length>0,has_staff_review:null!=t.staffNotes,carousel_image_count:r.images,carousel_video_count:r.videos,location:i.location.page,source:this._analyticsSource,...(0,b.Z)(e,!0)}),this._trackedViewed=!0}renderHeader(e,t){let{channel:n,isAuthenticated:l}=this.props;return(0,i.jsx)(A.Z,{isAuthenticated:l,toolbar:this.renderHeaderToolbar(e,t),children:null!=n?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.TagIcon,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,i.jsx)(A.Z.Title,{children:n.name})]}):null!=t&&t.premium?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.NitroWheelIcon,"aria-label":ea.intl.string(ea.t.Ipxkoq)}),(0,i.jsx)($.Z,{sku:t})]}):null!=t?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(A.Z.Icon,{icon:d.TagIcon,"aria-label":ea.intl.string(ea.t["P1/Erq"])}),(0,i.jsx)(A.Z.Title,{children:t.name})]}):null})}parseMediaItems(e,t,n){let{assetId:i,youtubeVideoId:r}=t;if(null!=i){let t=n.find(e=>e.id===i);if(null!=t){let{width:n,height:i}=t;if(null==n||null==i)throw Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return t.mimeType.startsWith("video/")?{type:er.s9s.VIDEO,thumbnailSrc:(0,V._W)(e.id,t,1024,"webp"),src:(0,V._W)(e.id,t),height:i,width:n}:{type:er.s9s.IMG,src:(0,V._W)(e.id,t,1024),height:i,width:n}}}if(null!=r)return{type:er.s9s.YOUTUBE_VIDEO,youtubeVideoId:r};throw Error("Store carousel item must have one of assetId or youtubeVideoId")}renderHeaderAssets(e,t,n){let{theme:r}=this.props,l=t.headerBackground,a=(0,c.ap)(r)?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==l||null==a?(0,i.jsx)("div",{className:eo.noHeaderSpacer}):(0,i.jsxs)("div",{className:eo.headerAssets,children:[(0,i.jsx)("div",{className:eo.headerBackground,style:{backgroundImage:"url(".concat((0,V._W)(e.id,l,1024,"png"),")")}}),(0,i.jsx)("img",{className:eo.headerLogo,src:(0,V._W)(e.id,a,1024,"png"),alt:n.name})]})}renderWhyYouMightLikeThis(e,t){return(0,i.jsx)(J.Z,{sku:e,storeListing:t,className:eo.whyYouMightLikeIt})}renderVerifiedGuildInvite(e,t){if(null==e.guild)return null;let{channel:n,pageSize:r}=this.props;return(0,i.jsx)(en.Z,{skuId:t.id,guild:e.guild,className:eo.guildInvite,inChannel:null!=n,pageSize:r})}renderFeatures(e){return(0,i.jsx)(Y.Z,{sku:e})}renderSystemRequirements(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:(0,i.jsx)(ee.Z,{className:eo.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})}renderDescription(e,t,n){let{description:l}=t;if(null==l)throw Error("Rendering ApplicationStoreListing without description");return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(v.Z,{tag:"h1",children:ea.intl.format(ea.t.tluX4O,{name:n.name})}),(0,i.jsx)(f.Z,{}),(0,i.jsx)(W.Z,{applicationId:e.id,blurb:t.summary,description:l,className:eo.description,assets:t.assets})]})}renderApplicationContentRating(e){return(0,i.jsx)(z.Z,{sku:e,className:eo.contentRating})}renderApplicationLegalInfo(e){return(0,i.jsx)(K.Z,{sku:e,className:eo.legalInfo})}renderJsonLD(){let{sku:e,storeListing:t,application:n}=this.props;if(null==e||null==t||null==n)return null;let r=[],l=n.getSplashURL(1024);null!=l&&r.push(l),null!=t.headerLogoLightTheme&&r.unshift((0,V._W)(n.id,t.headerLogoLightTheme,1024,"jpg"));let a=N.Z.Product({name:e.name,description:null!=e.summary&&""!==e.summary?e.summary:t.tagline,image:N.Z.Product.Image(r),sku:e.id}),o=e.getPrice();if(null!=o){let{amount:e,currency:t}=o;a.offers=N.Z.Offer({priceCurrency:t.toUpperCase(),price:(0,H.T4)(e,t,{style:"decimal"})})}let s=N.Z.ItemPage({mainEntity:a});return(0,i.jsx)(N.Z,{data:s})}renderSmall(e,t,n){return(0,i.jsxs)("div",{className:a()(eo.listing,eo.listingSmall),children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]})}renderLarge(e,t,n){return(0,i.jsxs)("div",{className:eo.listing,children:[this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),(0,i.jsx)("div",{className:eo.listingLarge,children:(0,i.jsxs)("div",{className:eo.body,children:[(0,i.jsxs)("div",{className:eo.leftColumn,children:[this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)]}),(0,i.jsxs)("div",{className:eo.rightColumn,children:[this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n)]})]})})]})}render(){let{application:e,sku:t,storeListing:n,matureAgree:l,isAuthenticated:a}=this.props;if(null==e||null==t||null==n||n.isSlimDirectoryVersion())return(0,i.jsxs)(r.Fragment,{children:[this.renderHeader(e,t),(0,i.jsx)(S.Z,{align:S.Z.Align.CENTER,justify:S.Z.Justify.CENTER,children:(0,i.jsx)(d.Spinner,{className:eo.spinner})})]});if(!l&&t.showAgeGate){let n=a?null:(0,i.jsx)("div",{className:eo.gatedListing,children:this.renderListing()});return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(T.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),(0,i.jsx)(X.Z,{game:e}),n]})}return a?(0,i.jsxs)("div",{className:eo.listingWrapper,children:[(0,i.jsx)(T.yY,{location:e.name}),this.renderJsonLD(),(0,i.jsx)(g.Z,{section:er.jXE.NAVIGATION,children:this.renderHeader(e,t)}),(0,i.jsx)(g.Z,{section:er.jXE.BODY,children:this.renderListing()})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(T.yY,{location:e.name}),this.renderJsonLD(),this.renderHeader(e,t),this.renderListing()]})}constructor(...e){super(...e),es(this,"showCopyLinkTextTimeout",new s.V7),es(this,"_trackedViewed",!1),es(this,"_analyticsSource",null),es(this,"_extraAnalyticsProperties",null),es(this,"state",{showHeaderPurchaseUnit:!1,showLinkCopied:!1}),es(this,"trackCarouselScroll",(e,t,n)=>{let{sku:i}=this.props;null!=i&&U.default.track(er.rMx.STORE_LISTING_MEDIA_SCROLLED,{...(0,b.Z)(i),card_index:n,card_type:e.type===er.s9s.IMG?"image":"video"})}),es(this,"copyCurrentUrl",()=>{var e;let{location:t}=this.props;(0,G.JG)((e=t.pathname,"".concat(location.protocol,"//").concat(location.host).concat(e))),this.setState({showLinkCopied:!0},()=>{this.showCopyLinkTextTimeout.start(1500,()=>{this.setState({showLinkCopied:!1})})})}),es(this,"handleCreateInstantInvite",()=>{let{channel:e,guild:t}=this.props;null!=e&&null!=t&&(0,d.openModalLazy)(async()=>{let{default:r}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(r,{...n,guild:t,channel:e,source:er.t4x.GUILD_CHANNELS})})}),es(this,"renderInviteLink",()=>{let{channel:e,guild:t}=this.props;return null!=e&&null!=t&&(y.Z.can(er.Plq.CREATE_INSTANT_INVITE,t)||null!=t.vanityURLCode)?(0,i.jsx)(d.Button,{"aria-label":ea.intl.string(ea.t.zJrgTE),look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onClick:this.handleCreateInstantInvite,className:eo.link,children:(0,i.jsx)(d.LinkIcon,{size:"md",color:"currentColor",className:eo.linkIcon})}):null}),es(this,"renderCopyLink",()=>{let{showLinkCopied:e}=this.state;return this.isChannelType?this.renderInviteLink():(0,i.jsx)(d.Tooltip,{text:e?ea.intl.string(ea.t.uvTCOT):null,position:"left",forceOpen:e,children:t=>{let{onMouseEnter:n,onMouseLeave:r}=t;return(0,i.jsx)(d.Button,{"aria-label":e?ea.intl.string(ea.t.uvTCOT):ea.intl.string(ea.t.WqhZsr),look:d.Button.Looks.BLANK,size:d.Button.Sizes.NONE,onClick:this.copyCurrentUrl,onMouseEnter:n,onMouseLeave:r,className:eo.link,children:(0,i.jsx)(d.LinkIcon,{size:"md",color:"currentColor",className:eo.linkIcon})})}})}),es(this,"renderHeaderToolbar",(e,t)=>{let{isInTestMode:n,slug:r,storeListing:l,analyticsContext:{location:o}}=this.props,{showHeaderPurchaseUnit:s}=this.state;return(0,i.jsxs)("div",{className:eo.headerBarListing,children:[(0,i.jsx)("div",{className:eo.headerSection,children:n&&null!=t?(0,i.jsx)(et.Z,{size:et.y.Sizes.MIN,dropdownSize:et.y.DropdownSizes.MEDIUM,look:et.y.Looks.OUTLINED,color:et.y.Colors.RED,skuId:t.id,className:eo.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:e=>{null!=t&&(0,p.yt)(t.id,{slug:r,analyticsSource:{page:o.page,section:er.jXE.NAVIGATION,object:null},storeListingId:e.id})}}):null}),(0,i.jsx)("div",{className:eo.headerSection,children:(0,i.jsxs)("div",{className:a()(eo.headerPurchase,{[eo.active]:s}),children:[null!=t?(0,x.Z)(t):null,null!=e&&null!=t?(0,i.jsx)("div",{children:"deprecated!"}):null,(0,i.jsx)(Q.Z,{messageStyle:Q.G.SHORT,className:eo.purchaseError})]})}),this.renderCopyLink()]})}),es(this,"renderCarousel",(e,t)=>{if(0===t.carouselItems.length)return null;let{pageSize:n,isFocused:r}=this.props;return(0,i.jsx)(g.Z,{section:er.jXE.HERO,children:(0,i.jsx)(q.Z,{pageSize:n,items:t.carouselItems.map(n=>this.parseMediaItems(e,n,t.assets)),autoplayInterval:8e3,paused:!r,onIntentionalChange:this.trackCarouselScroll})})}),es(this,"renderListing",()=>{let{application:e,storeListing:t,sku:n,pageSize:r}=this.props;return null==e||null==n||null==t||t.isSlimDirectoryVersion()?(0,i.jsx)(S.Z,{align:S.Z.Align.CENTER,justify:S.Z.Justify.CENTER,children:(0,i.jsx)(d.Spinner,{})}):r===ei.b.SMALL?this.renderSmall(e,t,n):this.renderLarge(e,t,n)})}}t.Z=(0,_.Z)((0,E.Z)(o.ZP.connectStores([R.Z,L.Z,Z.default,k.Z,M.Z,D.Z,w.Z,I.Z,C.Z,O.Z,P.Z,j.Z],e=>{let t,n,i,{inputSkuId:r,applicationId:l,storeListingId:a,isAuthenticated:o,channel:s}=e;if(null==l){if(null==r)throw Error("Needs applicationId or skuId");t=r,null!=(l=null!=(n=D.Z.get(r))?n.applicationId:null)&&(i=C.Z.getApplication(l))}else if(null==r){if(null==l)throw Error("Needs applicationId or skuId");null!=(i=C.Z.getApplication(l))&&(t=i.destinationSkuId),n=null!=t?D.Z.get(t):null}(null==n?void 0:n.flags)!=null&&(0,B.yE)(n.flags,er.l4R.STICKER_PACK)&&(n=null);let c=null!=l&&(w.Z.inTestModeForApplication(l)||I.Z.inDevModeForApplication(l));return{skuId:t,application:null!=l?C.Z.getApplication(l):null,isFetchingEntitlements:null!=l&&j.Z.applicationIdsFetching.has(l),didFetchEntitlements:null!=l&&j.Z.applicationIdsFetched.has(l),shouldFetchStatistics:o&&null!=l&&O.Z.shouldFetchStatisticsForApplication(l),sku:n,isFocused:k.Z.isFocused(),storeListing:M.Z.getStoreListing({storeListingId:a,skuId:t,channelId:null!=s?s.id:null,isTestMode:c}),isInTestMode:null!=l&&c,matureAgree:R.Z.didMatureAgree,theme:L.Z.theme,locale:Z.default.locale,guild:null!=s?P.Z.getGuild(s.getGuildId()):null}})(ec)))},119520:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(558381),a=n(986035),o=n(388032),s=n(55144);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{render(){let{game:{name:e}}=this.props;return(0,i.jsx)("div",{className:s.matureListing,children:(0,i.jsx)(a.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:o.intl.formatToPlainString(o.t.n5PGER,{name:e}),description:o.intl.string(o.t["bJx/aG"]),agreement:o.intl.string(o.t.odZq8f),disagreement:o.intl.string(o.t.hieTsL)})})}constructor(...e){super(...e),c(this,"handleDisagree",()=>{(0,l.M9)()}),c(this,"handleAgree",()=>{(0,l.cj)()})}}t.Z=d},450233:function(e,t,n){n.d(t,{G:function(){return o}});var i,r,l,a,o,s,c=n(200651),d=n(192379),u=n(442837),h=n(570140),m=n(16084),p=n(855775),g=n(388032);(i=o||(o={})).SHORT="SHORT",i.LONG="LONG";class f extends(s=d.PureComponent){getText(e,t){if(429===e.status)switch(t){case"SHORT":return g.intl.string(g.t.T15lqq);case"LONG":return g.intl.string(g.t.XFShdH)}switch(t){case"SHORT":return g.intl.string(g.t["+XstBw"]);case"LONG":return g.intl.string(g.t.epyCur)}}componentWillUnmount(){null!=this.props.purchaseError&&h.Z.wait(()=>m.pB())}render(){let{className:e,purchaseError:t,messageStyle:n}=this.props;return null==t?null:(0,c.jsx)("div",{className:e,children:this.getText(t,n)})}}a={messageStyle:"LONG"},(l="defaultProps")in(r=f)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,t.Z=u.ZP.connectStores([p.Z],()=>({purchaseError:p.Z.error}))(f)},601564:function(e,t,n){n.r(t),n.d(t,{getPageSize:function(){return Z}}),n(47120);var i=n(200651),r=n(192379),l=n(593473),a=n(512969),o=n(442837),s=n(930118),c=n(355467),d=n(410575),u=n(666743),h=n(112724),m=n(447269),p=n(612226),g=n(714338),f=n(663993),_=n(628123),E=n(703656),I=n(108427),C=n(911314),v=n(429899),S=n(843445),N=n(981631),T=n(388032),b=n(32304);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let A=(0,f.Un)({createPromise:()=>Promise.all([n.e("1868"),n.e("99838")]).then(n.bind(n,496691)),webpackId:496691});function Z(e){return e<S.x?S.b.SMALL:S.b.LARGE}o.ZP.initialize();class L extends r.PureComponent{componentDidMount(){(0,s.Y)(this.props.location),this.stopListeningToHistory=(0,E.s1)().listen(e=>{e.pathname.startsWith(N.Z5c.APPLICATION_STORE)&&(0,s.Y)(e)}),this.props.isAuthenticated&&(0,c.tZ)(),g.Z.disable(),g.Z.setLayout(m.r),g.Z.enable(),(0,I.e)("application_store")}componentWillUnmount(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),g.Z.disable(),g.Z.setLayout(p.oT),g.Z.enable()}renderCustomErrorMessage(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:T.intl.string(T.t["1PZdFx"])}),(0,i.jsx)("p",{children:T.intl.string(T.t.CvQlAA)})]})}render(){let{isAuthenticated:e,location:t}=this.props,n=e?(0,i.jsx)("div",{className:b.applicationStore,children:this.renderContent()}):(0,i.jsx)(A,{className:b.applicationStore,location:t,render:this.renderContent});return(0,i.jsx)(_.Z,{renderCustomMessage:this.renderCustomErrorMessage,children:n})}constructor(...e){super(...e),x(this,"stopListeningToHistory",void 0),x(this,"renderStoreListing",e=>{let{match:{params:{skuId:t,applicationId:n,slug:r}},location:a}=e,{width:o}=this.props,s=(0,l.parse)(a.search);return(0,i.jsx)(d.Z,{page:N.ZY5.STORE_LISTING,root:!0,children:(0,i.jsx)(v.Z,{skuId:t,applicationId:n,slug:r,location:a,storeListingId:s.store_listing_id,pageSize:Z(o)})})}),x(this,"renderContent",()=>(0,i.jsxs)(a.rs,{children:[(0,i.jsx)(a.AW,{path:N.Z5c.APPLICATION_STORE,exact:!0,render:()=>(0,i.jsx)(d.Z,{page:N.ZY5.STORE_DIRECTORY_HOME,root:!0,children:(0,i.jsx)(C.Z,{})})}),(0,i.jsx)(a.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:this.renderStoreListing}),(0,i.jsx)(a.AW,{path:N.Z5c.APPLICATION_STORE_LISTING_SKU(":skuId"),render:this.renderStoreListing}),(0,i.jsx)(a.l_,{to:N.Z5c.APP})]}))}}t.default=(0,a.EN)((0,u.Z)((0,h.Z)(L)))},726581:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(304106),c=n(649974),d=n(246946),u=n(594174),h=n(525395),m=n(55563),p=n(551428),g=n(73346),f=n(733789),_=n(4962),E=n(388032),I=n(846523);class C extends r.Component{renderReasons(e,t,n){return 0===e.length&&0===t.length?null:(0,i.jsx)("div",{className:I.section,children:(0,i.jsxs)("div",{className:I.sectionContent,children:[e.map(e=>(0,i.jsx)("div",{className:I.unit,children:(0,i.jsx)(f.Z,{reason:e,hidePersonalInformation:n})},e.type)),t.map(e=>(0,i.jsx)("div",{className:I.unit,children:(0,i.jsx)(s.Z,{reason:e})},e.type))]})})}getReviewToRender(){let{storeListing:e}=this.props;return null!=e.staffNotes?{type:_.Z.Types.STAFF_NOTES,staffNotes:e.staffNotes}:null}render(){let{socialReasons:e,nonSocialReasons:t,storeListing:n,hidePersonalInformation:r,className:l}=this.props;if(0===e.length&&0===t.length&&null==n.staffNotes)return null;let o=this.getReviewToRender();return(0,i.jsxs)("div",{className:a()(I.root,l),children:[(0,i.jsx)("div",{className:I.header,children:E.intl.string(E.t.qABFpa)}),this.renderReasons(e,t,r),null!=o?(0,i.jsx)(_.Z,{data:o,className:I.review}):null]})}}t.Z=o.ZP.connectStores([m.Z,u.default,p.Z,c.Z,h.Z,d.Z],e=>{let{sku:t}=e;return{socialReasons:(0,g.Gg)(t.id,m.Z,u.default,c.Z,h.Z),nonSocialReasons:(0,g.Ww)(t.id,m.Z,p.Z),hidePersonalInformation:d.Z.hidePersonalInformation}})(C)},74153:function(e,t,n){n(653041),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(16084),s=n(730749),c=n(812206),d=n(984370),u=n(703656),h=n(55563),m=n(981631),p=n(95702);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends r.PureComponent{componentDidMount(){let{sku:e,primarySkuId:t,isFetchingPrimarySku:n}=this.props;null!=t&&!n&&null!=e&&(0,o.$N)(e.applicationId,t)}render(){let{sku:e,primarySku:t}=this.props,n=[],r=null;if(null!=e){let i=m.Z5c.APPLICATION_STORE_LISTING_SKU(e.id,e.slug);r=i,null!=t&&n.push({id:m.Z5c.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),label:t.name}),n.push({id:i,label:e.name})}return(0,i.jsx)(a.Breadcrumbs,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:n,activeId:r})}constructor(...e){super(...e),g(this,"handleClick",e=>{let{sku:t}=this.props;(0,u.uL)(e.id,{state:{analyticsSource:{object:m.qAy.NAVIGATION_LINK,section:m.jXE.NAVIGATION,page:null==t?m.ZY5.STORE_DIRECTORY_BROWSE:m.ZY5.STORE_LISTING}}})}),g(this,"renderCustomBreadcrumb",(e,t)=>(0,i.jsx)(d.Z.Title,{className:t?null:p.breadcrumb,muted:!t,children:e.label}))}}t.Z=(0,s.Z)(l.ZP.connectStores([c.Z,h.Z],e=>{let{sku:t}=e,n=null!=t?c.Z.getApplication(t.applicationId):null,i=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{primarySkuId:i,isFetchingPrimarySku:null!=i&&h.Z.isFetching(i),primarySku:null!=i?h.Z.get(i):null}})(f))},429899:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(558381),a=n(613311);class o extends r.Component{componentDidMount(){this.fetchStoreListing()}render(){let{skuId:e,applicationId:t,slug:n,storeListingId:r,pageSize:l,location:o}=this.props;return(0,i.jsx)(a.Z,{inputSkuId:e,applicationId:t,fetchStoreListing:this.fetchStoreListing,slug:n,storeListingId:r,location:o,pageSize:l})}constructor(...e){var t,n,i;super(...e),t=this,n="fetchStoreListing",i=e=>{let{storeListingId:t,skuId:n,applicationId:i}=this.props,r=null!=e?e:n;if(null!=t)return(0,l.rV)(t);if(null!=r)return(0,l.km)(r);if(null!=i)return(0,l.Hq)(i)},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=o},715702:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>Promise.resolve().then(n.bind(n,601564)),webpackId:601564})},125930:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(770146),c=n(600164),d=n(424218),u=n(823379),h=n(358085),m=n(843445),p=n(981631),g=n(388032),f=n(803157);let _={[p.TaA.WINDOWS]:h.PlatformTypes.WINDOWS,[p.TaA.MACOS]:h.PlatformTypes.OSX,[p.TaA.LINUX]:h.PlatformTypes.LINUX};class E extends r.PureComponent{render(){let{active:e,children:t,pageSize:n,onClick:r}=this.props,l=n===m.b.LARGE;return(0,i.jsx)(o.Button,{size:l?o.Button.Sizes.MIN:o.Button.Sizes.LARGE,fullWidth:!l,color:e?f.tabSelectedColor:f.tabNotSelectedColor,className:a()({[f.tabPageLarge]:l,[f.tabPageSmall]:!l,[f.tabSelected]:e,[f.tabNotSelected]:!e}),onClick:r,children:t})}}let I=e=>[{key:g.intl.string(g.t["0TcHzs"]),value:e.operating_system_version},{key:g.intl.string(g.t.eOX6Hh),value:e.cpu},{key:g.intl.string(g.t["+WJ5XV"]),value:null!=e.ram?g.intl.formatToPlainString(g.t.RNRSl5,{size:(0,d.BU)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:g.intl.string(g.t["+3s/V1"]),value:e.gpu},{key:g.intl.string(g.t["L+x5wM"]),value:null!=e.disk?(0,d.BU)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:g.intl.string(g.t["Ghp2/P"]),value:e.sound_card},{key:g.intl.string(g.t["+w6nJi"]),value:e.network},{key:g.intl.string(g.t.Au3Vbm),value:e.notes}];class C extends r.PureComponent{static getDerivedStateFromProps(e,t){let{systemRequirements:n}=e,{selectedOperatingSystem:i}=t,r=Object.keys(n);return r.includes(i)?null:{selectedOperatingSystem:r[0]}}renderTabs(){let{pageSize:e,systemRequirements:t}=this.props,{selectedOperatingSystem:n}=this.state,r=Object.keys(t);return 1===r.length?null:(0,i.jsxs)(c.Z,{className:f.tabs,children:[(0,i.jsx)("div",{className:f.separator}),r.map(t=>(0,i.jsx)(E,{active:t===n,onClick:()=>this.handleSelectOperatingSystem(t),pageSize:e,children:function(e){switch(e){case p.TaA.WINDOWS:return g.intl.string(g.t["0/xHFB"]);case p.TaA.MACOS:return g.intl.string(g.t.E4u4n5);case p.TaA.LINUX:return g.intl.string(g.t.tcawo6)}}(t)},t))]})}renderRequirementsSection(e,t){if(null==e)return null;let n=I(e).map((e,t)=>{let n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:(0,i.jsxs)("div",{className:f.requirement,children:[(0,i.jsxs)("span",{className:f.requirementKey,children:[e.key,":"]}),n]},t)}).filter(u.lm);return(0,i.jsxs)("div",{className:f.requirements,children:[(0,i.jsx)(s.Z,{tag:"h4",children:t}),n]})}renderBody(){let{minimum:e,recommended:t}=this.props.systemRequirements[this.state.selectedOperatingSystem];return(0,i.jsxs)("div",{className:f.requirementsContainer,children:[this.renderRequirementsSection(e,g.intl.string(g.t.QCCMXF)),this.renderRequirementsSection(t,g.intl.string(g.t.He39ws))]})}render(){return(0,i.jsxs)("div",{className:this.props.className,children:[(0,i.jsx)(s.Z,{children:g.intl.string(g.t.IkOAoq)}),this.renderTabs(),this.renderBody()]})}constructor(e){var t,n,i;super(e),t=this,n="handleSelectOperatingSystem",i=e=>{this.setState({selectedOperatingSystem:e})},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i;let r=(0,h.getPlatform)(),l=Object.keys(e.systemRequirements),a=l[0];for(let e of l)_[e]===r&&(a=e);this.state={selectedOperatingSystem:a}}}t.Z=C},178071:function(e,t,n){n.d(t,{y:function(){return h}}),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(239091),s=n(585237),c=n(551428),d=n(388032);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={DropdownSizes:s.Z.DropdownSizes,Sizes:s.Z.Sizes,Colors:s.Z.Colors,Looks:s.Z.Looks};class m extends r.PureComponent{render(){let{storeListings:e,primaryStoreListing:t,skuId:n,onStoreListingSelect:r,currentStoreListingId:l,...a}=this.props,o=null!=t?1:0;return(o+=e.length)<2?null:(0,i.jsx)(s.Z,{onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu,...a,children:d.intl.string(d.t.hElye3)})}constructor(...e){super(...e),u(this,"renderContextMenu",()=>{let{storeListings:e,onStoreListingSelect:t,currentStoreListingId:n,onMenuSelect:r}=this.props,l=e.map(e=>e.id!==n?(0,i.jsx)(a.MenuItem,{id:"".concat(e.id),label:e.id,action:()=>{o.Zy(),null==t||t(e)}}):null);return(0,i.jsx)(a.Menu,{onSelect:r,navId:"test-store-listing","aria-label":d.intl.string(d.t.ogxXGh),onClose:o.Zy,children:l})}),u(this,"handleContextMenu",e=>{e.stopPropagation(),o.vq(e,this.renderContextMenu)})}}t.Z=l.ZP.connectStores([c.Z],e=>{let{skuId:t}=e;return{storeListings:c.Z.getUnpublishedForSKU(t),primaryStoreListing:c.Z.getForSKU(t)}})(m)},176055:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(593473),s=n(442837),c=n(481060),d=n(749210),u=n(558381),h=n(666743),m=n(770146),p=n(600164),g=n(565138),f=n(41776),_=n(703656),E=n(769654),I=n(601964),C=n(430824),v=n(843445),S=n(981631),N=n(388032),T=n(106269);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends r.PureComponent{renderMemberInfo(){let{approximateMemberCount:e,approximatePresenceCount:t}=this.props.guild;return null==e||null==t?null:(0,i.jsxs)(p.Z,{className:T.memberInfo,align:p.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:T.dotOnline}),(0,i.jsx)("span",{className:T.memberText,children:N.intl.format(N.t["LC+S+v"],{membersOnline:t})}),(0,i.jsx)("div",{className:T.dotOffline}),(0,i.jsx)("span",{className:T.memberText,children:N.intl.format(N.t.zRl6XV,{count:e})})]})}render(){let{guild:e,inChannel:t,isInGuild:n,isLurking:r,isAuthenticated:l,className:o,pageSize:s}=this.props;if(t&&n)return null;let d=new I.ZP(e),u=N.intl.string(N.t.pxwdrK),h=this.handleJoinOrView,f=c.Button.Looks.FILLED,_=c.Button.Colors.PRIMARY;return l?n?(f=c.Button.Looks.OUTLINED,_=T.buttonColorInGuild,u=(0,i.jsxs)(p.Z,{align:p.Z.Align.CENTER,children:[(0,i.jsx)("div",{children:N.intl.string(N.t.cEnaW1)}),(0,i.jsx)(c.CheckmarkLargeIcon,{size:"md",color:"currentColor",className:T.joinedCheckmark})]})):r&&t&&(u=N.intl.string(N.t.XpeFYm)):(u=N.intl.string(N.t.dKhVQE),h=this.handleLogin),(0,i.jsxs)("div",{className:a()(o,s===v.b.SMALL?T.inviteSmall:T.inviteLarge),children:[(0,i.jsx)(m.Z,{children:N.intl.string(N.t.s1KcLi)}),(0,i.jsxs)("div",{className:T.content,children:[(0,i.jsxs)("div",{className:T.info,children:[(0,i.jsx)(g.Z,{guild:d,active:!0,size:g.Z.Sizes.LARGE,className:T.guildIcon}),(0,i.jsxs)("div",{className:T.infoText,children:[(0,i.jsx)("div",{className:T.name,children:e.name}),this.renderMemberInfo()]})]}),(0,i.jsx)(c.Button,{size:c.Button.Sizes.SMALL,className:T.actionButton,fullWidth:!0,color:_,look:f,onClick:h,children:u})]})]})}constructor(...e){super(...e),b(this,"handleJoinOrView",async()=>{let{guild:e,skuId:t,isInGuild:n,isLurking:i}=this.props,r=()=>(0,E.X)(e.id);if(i)(0,u.Oj)(t).then(r);else if(n)r();else try{await d.Z.joinGuild(e.id,{lurker:!0,source:S.vtS.APPLICATION_STORE}),r()}catch{}}),b(this,"handleLogin",()=>{let e={redirect_to:S.Z5c.APPLICATION_STORE_LISTING_SKU(this.props.skuId)};(0,_.uL)(S.Z5c.LOGIN,{search:(0,o.stringify)(e)})})}}t.Z=(0,h.Z)(s.ZP.connectStores([C.Z,f.Z],e=>{let{guild:t}=e,n=f.Z.isLurking(t.id);return{isInGuild:null!=C.Z.getGuild(t.id)&&!n,isLurking:n}})(x))},476669:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(239091),o=n(129861),s=n(600164),c=n(484010);class d extends r.PureComponent{handleContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}renderUser(e){return null==e?null:(0,i.jsxs)(s.Z,{className:c.user,align:s.Z.Align.CENTER,onContextMenu:t=>{null!=e&&this.handleContextMenu(t,e)},children:[(0,i.jsx)(l.Avatar,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.AvatarSizes.SIZE_24,className:c.avatar}),(0,i.jsx)(o.Z,{user:e,className:c.tag,usernameClass:c.username,discriminatorClass:c.discriminator})]},e.id)}render(){let{party:e,header:t}=this.props,n=e.map(e=>this.renderUser(e));return(0,i.jsxs)("div",{className:c.userList,children:[(0,i.jsx)("div",{className:c.header,children:t}),(0,i.jsx)(l.ScrollerThin,{className:c.content,fade:!0,children:n})]})}}t.Z=d},512847:function(e,t,n){n.d(t,{Z:function(){return k}});var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(442837),s=n(317381),c=n(258609),d=n(569545),u=n(106301),h=n(590415),m=n(131704),p=n(199902),g=n(314897),f=n(592125),_=n(430824),E=n(131951),I=n(292959),C=n(19780),v=n(944486),S=n(606304),N=n(979651),T=n(938475),b=n(823379),x=n(557177),A=n(981631);function Z(e,t,n,i){r.useEffect(()=>{let r=t(),l=new o.Fh(e,()=>{let e=t(),l=n(r,e);null!=l&&!I.Z.isSoundDisabled(l)&&(0,x.GN)(l,null!=i?i:.4),r=e});return l.attach("useSound"),()=>l.detach()})}function L(){return Z([E.Z,v.Z],()=>({inVoiceChannel:null!=v.Z.getVoiceChannelId(),selfMute:E.Z.isSelfMute(),selfDeaf:E.Z.isSelfDeaf(),audioPermissionReady:E.Z.isNativeAudioPermissionReady(),shouldSkipMuteUnmuteSound:E.Z.shouldSkipMuteUnmuteSound()}),(e,t)=>{let{inVoiceChannel:n,selfMute:i,selfDeaf:r,audioPermissionReady:l,shouldSkipMuteUnmuteSound:a}=t;if(e.selfDeaf!==r)return r?"deafen":"undeafen";if(!!l&&(!!n||!!e.audioPermissionReady)){if(e.selfMute!==i){if(a){E.Z.notifyMuteUnmuteSoundWasSkipped();return}return i?"mute":"unmute"}}}),null}function P(){return Z([f.Z,C.Z,v.Z,c.Z],()=>{let e=f.Z.getChannel(v.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=null==e?void 0:e.getGuildId(),i=C.Z.getWasEverRtcConnected(),r=C.Z.getState();return{channelType:t,guildId:n,connected:r===A.hes.RTC_CONNECTED,connectHasStarted:!i&&r!==A.hes.DISCONNECTED||r===A.hes.RTC_CONNECTED,awaitingRemote:null!=c.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=c.Z.getRemoteSessionId()}},(e,t)=>{let{channelType:n,connected:i,connectHasStarted:r,awaitingRemote:l,connectedRemote:a}=t,o=e.channelType,s=e.connectedRemote,c=e.connected,d=e.connectHasStarted;if(!d&&r||a&&!s){if(null!=n&&m.Lr.has(n))return;return"user_join"}if(c&&!i){if(l||a||null!=o&&m.Lr.has(o))return;return"disconnect"}}),null}function y(){return Z([S.Z],()=>S.Z.isCurrentUserSpeaking(),(e,t)=>{if(e!==t){let e=E.Z.isSelfMute();if(E.Z.getMode()===A.pM4.PUSH_TO_TALK&&!e)return t?"ptt_start":"ptt_stop"}}),null}function O(){return Z([E.Z],()=>E.Z.isSelfMutedTemporarily(),(e,t)=>{if(e!==t){let e=E.Z.isSelfMute();if(E.Z.getMode()===A.pM4.VOICE_ACTIVITY&&!e)return t?"ptt_stop":"ptt_start"}}),null}function R(){return Z([N.Z],()=>N.Z.userHasBeenMovedVersion,(e,t)=>{if(e!==t)return"user_moved"}),null}function j(){return Z([v.Z,N.Z],()=>{let e=v.Z.getVoiceChannelId();if(null==e)return h.xO.NONE;let t=N.Z.getVoiceStateForChannel(e);return(0,h.gf)(t)},(e,t)=>{if(e!==t&&t===h.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}),null}function D(){return Z([v.Z,p.Z,g.default,N.Z,f.Z],()=>{let e,t;let n=v.Z.getVoiceChannelId(),i=g.default.getId();let r=[],l=null,a=0,o=p.Z.getAllActiveStreams();if(null!=n){let i=f.Z.getChannel(n);null!=i&&(e=i.type,t=T.ZP.countVoiceStatesForChannel(i.id)-(N.Z.isInChannel(i.id)?1:0),r=p.Z.getAllApplicationStreamsForChannel(i.id).map(e=>e.ownerId))}let s=null;return(null==(s=1===o.length?o[0]:p.Z.getCurrentUserActiveStream())?void 0:s.state)===A.jm8.CONNECTING&&(s=null),null!=s&&(l=(0,d.V9)(s),a=p.Z.getViewerIds(l).filter(e=>e!==i).length),{channelType:e,voiceChannelId:n,voiceChannelUserCount:t,streamingUserIds:r,singleActiveStreamKey:l,singleActiveStreamViewerCount:a,currentUserId:i,allActiveStreams:o}},(e,t)=>{let{channelType:n,voiceChannelId:i,voiceChannelUserCount:r,streamingUserIds:l,singleActiveStreamKey:a,singleActiveStreamViewerCount:o,currentUserId:s}=t;if(e.voiceChannelId!==i||null==i||function(e){let t=f.Z.getChannel(e);if(null==t)return!1;let n=t.getGuildId();if(null==n)return!1;let i=_.Z.getGuild(n);return null!=i&&i.afkChannelId===t.id}(i)||null!=n&&m.Lr.has(n))return;let c=null!=a&&e.singleActiveStreamKey===a,d=l.some(t=>!e.streamingUserIds.includes(t)),u=e.allActiveStreams.map(e=>e.ownerId),h=e.streamingUserIds.some(e=>!l.includes(e)&&(e===s||u.includes(e)));if(d)return"stream_started";if(h)return"stream_ended";if(e.singleActiveStreamViewerCount<=25&&c&&o>e.singleActiveStreamViewerCount)return"stream_user_joined";else if(null!=e.voiceChannelUserCount&&null!=r&&e.voiceChannelUserCount<=25&&r>e.voiceChannelUserCount)return"user_join";else if(null!=e.voiceChannelUserCount&&null!=r&&e.voiceChannelUserCount<=25&&r<e.voiceChannelUserCount)return"user_leave";else if(e.singleActiveStreamViewerCount<=25&&c&&o<e.singleActiveStreamViewerCount)return"stream_user_left"}),null}function M(){return Z([v.Z,s.ZP,g.default],()=>{let e=v.Z.getVoiceChannelId(),t=v.Z.getChannelId(),n=s.ZP.getConnectedActivityChannelId(),i=g.default.getId(),r=(0,b.lm)(t)?s.ZP.getEmbeddedActivitiesForChannel(t):s.i6,l=(0,b.lm)(e)?s.ZP.getEmbeddedActivitiesForChannel(e):s.i6,a=(0,b.lm)(n)?s.ZP.getEmbeddedActivitiesForChannel(n):s.i6;return{voiceChannelId:e,currentUserId:i,channelActivities:r,connectedChannelActivities:a,userConnectedActivity:(0,b.lm)(n)?s.ZP.getSelfEmbeddedActivityForChannel(n):null,voiceChannelActivities:l}},(e,t)=>{let n,{voiceChannelId:i,currentUserId:r,channelActivities:l,connectedChannelActivities:a,userConnectedActivity:o,voiceChannelActivities:s}=t;let c=s.some(e=>e.applicationId===(null==o?void 0:o.applicationId)&&e.launchId===o.launchId);if((0,b.lm)(i)){let t=e.voiceChannelActivities.find(e=>e.userIds.has(r)),i=s.find(e=>e.userIds.has(r));e.voiceChannelActivities.length<s.length&&(0,b.lm)(e.voiceChannelId)&&(n="activity_launch"),void 0===i&&(0,b.lm)(t)&&(n="activity_end"),void 0===t&&(0,b.lm)(i)&&i.userIds.size>1&&(n="activity_user_join"),(0,b.lm)(i)&&(0,b.lm)(t)&&(i.userIds.size>t.userIds.size&&(n="activity_user_join"),i.userIds.size<t.userIds.size&&(n="activity_user_left"))}if(!c){e.connectedChannelActivities.length<a.length&&e.channelActivities.length<l.length&&(n="activity_launch");let t=e.userConnectedActivity;null==o&&(0,b.lm)(t)&&(n="activity_end"),(0,b.lm)(o)&&(0,b.lm)(t)&&(o.userIds.size>t.userIds.size&&(n="activity_user_join"),o.userIds.size<t.userIds.size&&(n="activity_user_left"))}return n}),null}function w(){return Z([u.Z,v.Z],()=>({hangStatus:u.Z.getCurrentHangStatus(),customHangStatus:u.Z.getCustomHangStatus(),inVoice:null!=v.Z.getVoiceChannelId()}),(e,t)=>{var n,i;let{hangStatus:r,customHangStatus:l}=t;if(e.inVoice&&(null!=r&&r!==e.hangStatus||null!=l&&(l.status!==(null===(n=e.customHangStatus)||void 0===n?void 0:n.status)||!a().isEqual(l.emoji,null===(i=e.customHangStatus)||void 0===i?void 0:i.emoji))))return"hang_status_select"},.15),null}function k(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{}),(0,i.jsx)(P,{}),(0,i.jsx)(y,{}),(0,i.jsx)(O,{}),(0,i.jsx)(R,{}),(0,i.jsx)(D,{}),(0,i.jsx)(j,{}),(0,i.jsx)(M,{}),(0,i.jsx)(w,{})]})}},666743:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(200651),r=n(192379),l=n(314897);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return class extends r.Component{componentDidMount(){l.default.addChangeListener(this.onStoreChange)}componentWillUnmount(){l.default.removeChangeListener(this.onStoreChange)}render(){return(0,i.jsx)(e,{...this.props,isAuthenticated:this.state.isAuthenticated})}constructor(...e){super(...e),a(this,"state",{isAuthenticated:l.default.isAuthenticated()}),a(this,"onStoreChange",()=>{this.setState({isAuthenticated:l.default.isAuthenticated()})})}}}},400354:function(e,t,n){n.d(t,{l:function(){return o}});var i=n(200651),r=n(192379),l=n(709014);let a={deafen:{name:"deafen",start:0,duration:70},undeafen:{name:"undeafen",start:110,duration:70},hover_undeafened:{name:"hover_undeafened",start:200,duration:70},hover_deafened:{name:"hover_deafened",start:300,duration:70}},o=e=>{let t=r.useRef(null),o=r.useRef(e);o.current=e;let s=r.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=r.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.play(n)},[e]),d=r.useCallback(()=>{if(null==t.current)return;let n="deafen"===e?"hover_undeafened":"hover_deafened";t.current.stopIfPlaying(n)},[e]);return{events:{onClick:s,onMouseEnter:c,onMouseLeave:d},play:s,Component:r.useCallback(e=>(0,i.jsx)(l.L,{...e,src:()=>n.e("68449").then(n.t.bind(n,406785,19)),ref:t,initialAnimation:o.current,markers:a}),[])}}},789639:function(e,t,n){n.d(t,{i:function(){return o}});var i=n(200651),r=n(192379),l=n(709014);let a={all:{name:"all",start:0,duration:66}},o=()=>{let e=r.useRef(null),t=r.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),o=r.useCallback(()=>{null!=e.current&&e.current.play("all")},[]),s=r.useCallback(()=>{null!=e.current&&e.current.stopIfPlaying("all")},[]);return{events:{onMouseEnter:o,onMouseLeave:s},play:t,Component:r.useCallback(t=>(0,i.jsx)(l.L,{...t,src:()=>n.e("2199").then(n.t.bind(n,71307,19)),ref:e,markers:a}),[])}}},382600:function(e,t,n){n.d(t,{P:function(){return o}});var i=n(200651),r=n(192379),l=n(709014);let a={disable:{name:"disable",start:0,duration:70},enable:{name:"enable",start:100,duration:70},hover_enabled:{name:"hover_enabled",start:200,duration:70},hover_disabled:{name:"hover_disabled",start:300,duration:70}},o=e=>{let t=r.useRef(null),o=r.useRef(e);o.current=e;let s=r.useMemo(()=>()=>{null!=t.current&&t.current.play(e)},[e]),c=r.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.play(n)},[e]),d=r.useCallback(()=>{if(null==t.current)return;let n="enable"===e?"hover_disabled":"hover_enabled";t.current.stopIfPlaying(n)},[e]);return{events:{onClick:s,onMouseEnter:c,onMouseLeave:d},play:s,Component:r.useCallback(e=>(0,i.jsx)(l.L,{...e,src:()=>n.e("7584").then(n.t.bind(n,883488,19)),ref:t,initialAnimation:o.current,markers:a}),[])}}},785697:function(e,t,n){n.d(t,{D2:function(){return s},SE:function(){return c}});var i=n(442837),r=n(818083),l=n(496675),a=n(981631);let o=(0,r.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function s(e){return o.useExperiment({guildId:e,location:"dd4beb_1"},{autoTrackExposure:!0})}function c(e){var t;let n=(0,i.e7)([l.Z],()=>l.Z.can(a.Plq.MANAGE_GUILD,e)),{enabled:r}=o.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:a.lds,location:"dd4beb_3"},{autoTrackExposure:!0});if(null==e)return!1;let s=e.hasFeature(a.oNc.COMMUNITY);return n&&s&&r}},711237:function(e,t,n){n.d(t,{J_:function(){return o},R6:function(){return l}});var i=n(818083),r=n(987338);let l=(0,i.B)({kind:"user",id:r.fL,label:"Trigger Debugging User AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),a=(0,i.B)({kind:"guild",id:r.nz,label:"Trigger Debugging Guild AA Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]}),o=e=>{let t="guild trigger debug",n="user trigger debug";a.useExperiment({location:t,guildId:e},{autoTrackExposure:!1}),a.trackExposure({location:t,guildId:e}),l.useExperiment({location:n},{autoTrackExposure:!1}),l.trackExposure({location:n})}},532835:function(e,t,n){n.d(t,{t:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,label:"On",config:{inUse:!0}}]});function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.useExperiment({location:"a9e81b_1"},{autoTrackExposure:e})}},941129:function(e,t,n){n.d(t,{S:function(){return r},u:function(){return l}});let i=(0,n(818083).B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});function r(){return i.useExperiment({location:"b85a21_1"},{autoTrackExposure:!0}).enabled}function l(){return i.useExperiment({location:"b85a21_2"},{autoTrackExposure:!1}).bucket}},826004:function(e,t,n){n.d(t,{h:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2023-04_consumer_education_launch__reporting",label:"Consumer Education Launch - Reporting",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Reporting",config:{bucket:1,enabled:!0}}]});function r(){return i.useExperiment({location:"183c74_1"},{autoTrackExposure:!0}).enabled}},183126:function(e,t,n){n.d(t,{N:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function r(){return i.useExperiment({location:"c10bec_1"},{autoTrackExposure:!0}).enabled}},447269:function(e,t,n){n.d(t,{r:function(){return a}});var i=n(817718),r=n(612226),l=n(981631);let a={...r.oT,[l.EkH.CAROUSEL_NEXT]:i.lI,[l.EkH.CAROUSEL_PREV]:i.hd}},611577:function(e,t,n){n.d(t,{z:function(){return l}});var i=n(481060),r=n(531826);function l(e){let{application:t,channelId:n}=e;return null!=(0,r.ZP)({application:t,channelId:n})?i.POPOUT_MODAL_CONTEXT:i.DEFAULT_MODAL_CONTEXT}},596223:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}},258220:function(e,t,n){n.r(t),n.d(t,{ACTIVITY_ENCOURAGES_HW_ACCELERATION:function(){return p},default:function(){return g}}),n(47120);var i=n(200651),r=n(192379),l=n(481060),a=n(153867),o=n(835473),s=n(600164),c=n(626135),d=n(998502),u=n(981631),h=n(388032),m=n(920008);let p="Activity Encourages Hardware Acceleration";function g(e){var t;let{applicationId:n,...g}=e,[f,_]=r.useState(!1),[E]=(0,o.Z)([n]),I=null!==(t=null==E?void 0:E.name)&&void 0!==t?t:"This Activity";r.useEffect(()=>{c.default.track(u.rMx.OPEN_MODAL,{type:p})},[]);let C=()=>{let e="temporary";f&&(e="permanent",a.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})),c.default.track(u.rMx.MODAL_DISMISSED,{type:p,dismiss_type:e}),g.onClose()};return(0,i.jsxs)(l.ModalRoot,{className:m.root,"aria-label":h.intl.string(h.t.NQkK4u),...g,children:[(0,i.jsxs)(l.ModalHeader,{separator:!1,children:[(0,i.jsx)(l.Text,{className:m.__invalid_header,variant:"text-lg/normal",children:h.intl.string(h.t.NQkK4u)}),(0,i.jsx)(l.ModalCloseButton,{onClick:C,className:m.closeButton})]}),(0,i.jsx)(l.ModalContent,{className:m.content,children:(0,i.jsx)(l.Text,{variant:"text-md/normal",className:m.__invalid_ratingBody,children:h.intl.format(h.t.B9eiaG,{applicationName:I})})}),(0,i.jsxs)(l.ModalFooter,{className:m.footer,direction:s.Z.Direction.HORIZONTAL,children:[(0,i.jsx)(l.Checkbox,{type:l.Checkbox.Types.INVERTED,size:18,value:f,onChange:()=>_(!f),children:(0,i.jsx)(l.Text,{variant:"text-sm/normal",children:h.intl.string(h.t["5E9SBw"])})}),(0,i.jsx)(l.Button,{color:l.Button.Colors.PRIMARY,onClick:C,children:h.intl.string(h.t["Ibf5/v"])}),(0,i.jsx)(l.Button,{color:l.Button.Colors.BRAND,onClick:()=>{c.default.track(u.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n}),d.ZP.setEnableHardwareAcceleration(!0)},children:h.intl.string(h.t["/wlDqq"])})]})]})}},279240:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>Promise.all([n.e("47593"),n.e("84517")]).then(n.bind(n,139230)),webpackId:139230})},230487:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var r=n(481060),l=n(740492),a=n(626135),o=n(358085),s=n(998502),c=n(258220),d=n(981631);let u="activity-hardware-acceleration-modal";function h(e){!l.ZP.disableActivityHardwareAccelerationPrompt&&o.isPlatformEmbedded&&!s.ZP.getEnableHardwareAcceleration()&&(0,r.openModalLazy)(async()=>{let{default:t}=await Promise.resolve().then(n.bind(n,258220));return n=>(0,i.jsx)(t,{applicationId:e,...n})},{modalKey:u,onCloseRequest:()=>{a.default.track(d.rMx.MODAL_DISMISSED,{type:c.ACTIVITY_ENCOURAGES_HW_ACCELERATION}),(0,r.closeModal)(u)}})}},838195:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var r=n(481060),l=n(812206),a=n(531826);function o(e){let{applicationId:t,channelId:o,mediaUrl:s}=e,c=l.Z.getApplication(t),d=null!=(0,a.ZP)({application:c,channelId:o})?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT;(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("4530").then(n.bind(n,899201));return n=>(0,i.jsx)(e,{applicationId:t,channelId:o,mediaUrl:s,...n})},{modalKey:"activity-share-moment-modal",contextKey:d})}},687751:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(317770),o=n(592125),s=n(944486),c=n(914010),d=n(594174),u=n(758119),h=n(920644),m=n(208381),p=n(723359),g=n(981631);function f(e,t){var n;if(null==e)return;let i=d.default.getCurrentUser();(null===(n=o.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=i&&null==i.nsfwAllowed&&(0,u.mN)(p.L0.NSFW_CHANNEL)}class _ extends a.Z{_initialize(){l.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}_terminate(){l.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),l.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect),l.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen),l.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose),l.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess),l.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)}handleChannelSelect(e){let{guildId:t,channelId:n}=e;f(t,n)}handleConnectionOpen(){let e=c.Z.getGuildId();f(e,s.Z.getChannelId())}handleAgeGateModalOpen(e){let{source:t}=e;(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("1337"),n.e("16764")]).then(n.bind(n,746882));return n=>(0,i.jsx)(e,{source:t,...n})},{modalKey:p.dG,onCloseRequest:g.dG4})}handleAgeGateSuccess(){(0,r.updateModal)(p.dG,e=>(0,i.jsx)(m.Z,{...e}))}handleAgeGateFailure(e){let{underageMessage:t}=e;(0,r.updateModal)(p.dG,e=>(0,i.jsx)(h.Z,{underageMessage:t,...e}))}handleAgeGateModalClose(){(0,r.closeModal)(p.dG)}}t.Z=new _},920644:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var r=n(990547),l=n(481060),a=n(313201),o=n(703656),s=n(63063),c=n(758119),d=n(981631),u=n(388032),h=n(529500);function m(){(0,c.qV)(),(0,o.uL)(d.Z5c.LOGIN)}function p(e){let{underageMessage:t,transitionState:o}=e,c=(0,a.Dt)();return(0,i.jsxs)(l.ModalRoot,{transitionState:o,size:l.ModalSize.SMALL,"aria-labelledby":c,impression:{impressionName:r.ImpressionNames.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(l.ModalContent,{children:(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)("img",{alt:"",src:n(231443),className:h.img}),(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",className:h.title,id:c,children:u.intl.string(u.t["NR/zrK"])}),(0,i.jsx)(l.Text,{color:"header-secondary",className:h.subtitle,variant:"text-sm/normal",children:u.intl.format(u.t.b0QzXV,{underageMessage:null!=t?t:u.intl.string(u.t.WqEH4O),helpURL:s.Z.getArticleURL(d.BhN.AGE_GATE)})}),(0,i.jsx)(l.Text,{color:"header-secondary",className:h.subtitle,variant:"text-sm/normal",children:u.intl.format(u.t["3axQdH"],{days:30})})]})}),(0,i.jsx)(l.ModalFooter,{children:(0,i.jsx)(l.Button,{size:l.ButtonSizes.SMALL,fullWidth:!0,onClick:m,children:u.intl.string(u.t.szzQ6O)})})]})}},208381:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(990547),l=n(481060),a=n(313201),o=n(758119),s=n(388032),c=n(675335);function d(e){let{transitionState:t}=e,d=(0,a.Dt)();return(0,i.jsxs)(l.ModalRoot,{transitionState:t,size:l.ModalSize.SMALL,"aria-labelledby":d,impression:{impressionName:r.ImpressionNames.USER_AGE_GATE,impressionProperties:{existing_user:!0}},children:[(0,i.jsx)(l.ModalContent,{children:(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsx)("img",{alt:"",src:n(863181),className:c.img}),(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",className:c.title,id:d,children:s.intl.string(s.t.gUiIGR)}),(0,i.jsx)(l.Text,{color:"header-secondary",className:c.subtitle,variant:"text-sm/normal",children:s.intl.string(s.t.susqq6)})]})}),(0,i.jsx)(l.ModalFooter,{children:(0,i.jsx)(l.Button,{size:l.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,o.qV)()},autoFocus:!0,children:s.intl.string(s.t.cpT0Cg)})})]})}},912471:function(e,t,n){n.d(t,{D:function(){return x}}),n(411104);var i=n(903772),r=n(433517),l=n(570140),a=n(188471),o=n(581567),s=n(594190),c=n(19780),d=n(626135),u=n(70956),h=n(848479),m=n(960048),p=n(844889),g=n(981631);let f="LATEST_HEARTBEAST_EVENT_TIMESTAMP",_=null,E=null,I=!1;async function C(){if(I)return;I=!0,(0,p.fr)(!0),m.Z.addBreadcrumb({message:"Start Analytics Heartbeat"});let e=await r.K.getAfterRefresh(f).then(p.Hg);if(!I)return;let t=Date.now(),n=15*u.Z.Millis.MINUTE+e-t;n>u.Z.Millis.HOUR&&m.Z.addBreadcrumb({message:"Received invalid Date.now() when generating a heartbeat. Date.now() = ".concat(t,", timeUntilNextHeartbeat = ").concat(n,", latestHeartbeatEventTimestamp = ").concat(e)}),e>t&&(n=0),m.Z.addBreadcrumb({message:"Received Last Heartbeat Event Timestamp. Time Until Next Heartbeat: ".concat(n/1e3," seconds. Scheduling Heartbeat")}),v(),E=setTimeout(()=>{S(),_=setInterval(()=>{S()},15*u.Z.Millis.MINUTE)},Math.max(n,0))}function v(){null!=E&&(clearTimeout(E),E=null),null!=_&&(clearInterval(_),_=null)}async function S(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Date.now(),n=await (0,p.Gg)(),l=Date.now();if(null==n){m.Z.captureException(Error("Null session when tracking session heartbeat. Waited ".concat(l-t,"ms")));return}if(!I&&!e){m.Z.captureException(Error("Heartbeat scheduler not started when tracking session heartbeat.")),v();return}m.Z.addBreadcrumb({message:"Tracking Heartbeat",data:{initialized:n.initialized}});let c={client_heartbeat_initialization_timestamp:n.initialized,client_heartbeat_version:17},u=h.Z.getMemoryUsageElectronRenderer();null!=u&&(c.client_heartbeat_renderer_memory=u);let _=h.Z.getMemoryUsageElectronRendererUsedHeapSize();null!=_&&(c.client_heartbeat_renderer_memory_used_heap=_);{let e=s.ZP.getCurrentGameForAnalytics();null!=e&&(c.client_heartbeat_current_game_id=e.id,c.client_heartbeat_current_game_name=e.name,c.client_heartbeat_current_game_executable=(0,o.N6)(e.exePath),c.client_heartbeat_current_game_distributor=e.distributor,c.uses_client_mods=(0,i.e)())}d.default.track(g.rMx.CLIENT_HEARTBEAT,c),r.K.set(f,Date.now().toString()),(0,a.Z)()}let N=null,T=!0;function b(){if(T||null!=N&&N!==g.hes.DISCONNECTED&&N!==g.hes.RTC_DISCONNECTED)try{C()}catch(e){m.Z.captureException(e)}else!function(){if(!!I)I=!1,m.Z.addBreadcrumb({message:"Stopping Analytics Heartbeat"}),(0,p.fr)(!1),v(),(0,a.Z)()}()}function x(){m.Z.addBreadcrumb({message:"Initializing SessionHeartbeatScheduler"}),c.Z.addChangeListener(Z),l.Z.subscribe("WINDOW_FOCUS",L),l.Z.subscribe("APP_STATE_UPDATE",P),l.Z.subscribe("LOGIN_SUCCESS",A),b()}function A(){S(!0)}function Z(){let e=c.Z.getState();N!==e&&(N=e,b())}function L(e){let{focused:t}=e;T=t,b()}function P(e){let{state:t}=e;T=t===g.$7l.ACTIVE,b()}},360347:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(699516),r=n(453542);function l(){return{num_friends:i.Z.getFriendCount(),num_outgoing_requests:i.Z.getOutgoingCount(),num_incoming_requests:i.Z.getPendingCount(),...(0,r.X)()}}},176881:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(626135),r=n(188471),l=n(360347),a=n(981631);function o(e){var t,n,o;let{tab_opened:s,source:c}=e,d=(0,l.Z)();i.default.track(a.rMx.FRIENDS_LIST_VIEWED,{tab_opened:s,source:c,...d}),(0,r.a)(a.rMx.FRIENDS_LIST_VIEWED_CLICKSTREAM,{tab_opened:null!=s?s:"tabless",num_friends:null!==(t=d.num_friends)&&void 0!==t?t:0,now_playing_visible:null!==(n=d.now_playing_visible)&&void 0!==n&&n,now_playing_num_cards:null!==(o=d.now_playing_num_cards)&&void 0!==o?o:0})}},141233:function(e,t,n){n(40455),n(430198),n(353926),n(893966),n(734307),n(803141),n(355298),n(333984),n(914788),n(869765),n(621853),n(706454),n(210887),n(581883),n(592125),n(324067),n(984933),n(271383),n(93093),n(888369),n(430824),n(375954),n(496675),n(306680),n(771845),n(9156),n(594174),n(55589)},371398:function(e,t,n){n(590965),n(317381),n(40455),n(458772),n(368321),n(541099),n(174212),n(213459),n(998698),n(812206),n(344532),n(758182),n(358221),n(12498),n(430198),n(719247),n(353647),n(146282),n(281320),n(339085),n(174065),n(353926),n(934401),n(735020),n(774863),n(238349),n(660189),n(682474),n(581036),n(208970),n(5254),n(317632),n(972830),n(331114),n(537883),n(356164),n(487419),n(223606),n(580079),n(937111),n(893966),n(45966),n(819553),n(240864),n(408042),n(289393),n(687476),n(924301),n(734307),n(803141),n(994752),n(41776),n(487554),n(48929),n(584731),n(748902),n(355298),n(333984),n(726745),n(140155),n(109497),n(601992),n(390289),n(371651),n(610394),n(46145),n(541692),n(502087),n(114064),n(485731),n(441623),n(823385),n(455199),n(432496),n(807092),n(869765),n(98369),n(729303),n(768943),n(359119),n(452369),n(768419),n(565799),n(88751),n(742738),n(427679),n(926491),n(765104),n(601070),n(344185),n(920303),n(569471),n(159299),n(260483),n(144140),n(10401),n(575356),n(151662),n(706454),n(210887),n(581883),n(243852),n(450795),n(543882),n(199902),n(314897),n(523746),n(680089),n(237904),n(439170),n(624453),n(184107),n(592125),n(58468),n(553795),n(480294),n(906467),n(857192),n(703558),n(831506),n(82142),n(165630),n(486472),n(324067),n(984933),n(650774),n(720202),n(271383),n(93093),n(888369),n(430824),n(797316),n(607744),n(674985),n(341165),n(131951),n(542578),n(375954),n(722086),n(649974),n(209590),n(496675),n(571474),n(158776),n(358652),n(544610),n(878884),n(19780),n(306680),n(699516),n(768119),n(944486),n(914010),n(885110),n(797258),n(771845),n(606304),n(215427),n(959457),n(558724),n(111583),n(62817),n(9156),n(23434),n(594174),n(33039),n(979651),n(351402),n(192513),n(456065),n(173747),n(55589),n(938475),n(974042),n(417363),n(941128),n(556296),n(974180),n(808506),n(237997)},333861:function(e,t,n){n.d(t,{M:function(){return s},s:function(){return o}});var i=n(200651);n(192379);var r=n(481060),l=n(522474),a=n(981631);let o="command-share-modal";function s(e){let{applicationId:t,channel:s,command:c,previewMessage:d}=e,u=l.Z.getWindowOpen(a.KJ3.ACTIVITY_POPOUT)?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT;(0,r.openModalLazy)(async()=>{let{ApplicationCommandShareModal:e}=await n.e("53682").then(n.bind(n,683958));return n=>(0,i.jsx)(e,{applicationId:t,channel:s,command:c,previewMessage:d,...n})},{modalKey:o,contextKey:u})}},924489:function(e,t,n){n.d(t,{Z:function(){return C},x:function(){return i}}),n(653041);var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(442837),d=n(477690),u=n(481060),h=n(686546),m=n(706454),p=n(768581),g=n(624138),f=n(388032),_=n(484759);(r=i||(i={}))[r.SMALL=(0,g.Mg)(d.Z.GUILD_COUNT_SMALL_ICON_SIZE)]="SMALL",r[r.LARGE=(0,g.Mg)(d.Z.GUILD_COUNT_LARGE_ICON_SIZE)]="LARGE";let E={[i.SMALL]:_.moreGuildsSmall,[i.LARGE]:_.moreGuildsLarge},I={[i.SMALL]:_.iconSmall,[i.LARGE]:_.iconLarge};function C(e){var t,n,r;let{application:o,mutualGuilds:d,mutualGuildShownMax:g=4,className:C,textVariant:v="text-sm/normal",compact:S,guildIconSize:N=i.LARGE,guildsClassName:T}=e,b=(0,c.e7)([m.default],()=>m.default.locale),x=new Intl.ListFormat(b),A=null!==(n=null===(t=o.directory_entry)||void 0===t?void 0:t.guild_count)&&void 0!==n?n:0,Z=null!==(r=null==d?void 0:d.length)&&void 0!==r?r:0,L=Math.max(0,A-Z),{shownMutualGuilds:P,hiddenMutualGuilds:y}=a.useMemo(()=>{let e=[],t=[];return null==d||d.forEach(n=>{e.length<g&&null!=n.icon?e.push(n):t.push(n)}),e.length===g&&t.length>0&&(t.push(e[g-1]),e=e.slice(0,g-1)),{shownMutualGuilds:e,hiddenMutualGuilds:t}},[d,g]),O=y.length,R=function(e,t,n,i,r){if(0===t&&0===e)return null;if(t>0&&0===n)return f.intl.formatToPlainString(f.t.pnzE1t,{mutualGuildCount:t});let l=t>0?f.t.YR8PSE:f.t.GQjq6e,a=new Intl.NumberFormat(i,{notation:r?"compact":"standard",compactDisplay:"short"});return f.intl.formatToPlainString(l,{guildCount:a.format(e),mutualGuildCount:t,nonMutualGuildCount:a.format(n)})}(A,Z,L,b,S);return 0===P.length&&null==R?null:(0,l.jsxs)("div",{className:s()(C,_.wrapper),children:[(0,l.jsx)("div",{className:s()(_.icons,T),children:P.length>0?(0,l.jsxs)(l.Fragment,{children:[P.map((e,t)=>{let n=t===P.length-1&&0===O,i=p.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:N,canAnimate:!1}),r=(0,l.jsx)(u.Tooltip,{text:e.name,position:"top",children:e=>(0,l.jsx)("img",{...e,className:s()(_.icon,I[N]),src:i,alt:""})});return n?(0,l.jsx)(a.Fragment,{children:r},e.id):(0,l.jsx)(h.ZP,{className:_.iconMask,height:N,width:N,mask:h.ZP.Masks.VOICE_USER_SUMMARY_ITEM,children:r},e.id)}),O>0?(0,l.jsx)(u.Tooltip,{text:f.intl.formatToPlainString(f.t.m6oRrK,{appNames:x.format(y.map(e=>e.name))}),position:"top",children:e=>(0,l.jsxs)("div",{...e,className:s()(_.moreGuilds,E[N]),children:["+",O]})}):null]}):(0,l.jsx)(u.ServerIcon,{size:"custom",color:"currentColor",width:N,height:N,className:_.defaultIcon})}),null!=R?(0,l.jsx)(u.Text,{variant:v,color:"header-secondary",children:R}):null]})}},125909:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(496008);function s(e){let{loading:t,children:n}=e;return(0,i.jsxs)("div",{className:o.container,children:[t?(0,i.jsx)("div",{className:o.spinnerContainer,children:(0,i.jsx)(a.Spinner,{className:o.spinner,type:a.Spinner.Type.SPINNING_CIRCLE})}):null,(0,i.jsx)("div",{className:l()({[o.loading]:t}),children:n})]})}},838134:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var i=n(200651),r=n(192379),l=n(512969),a=n(608787),o=n(442837),s=n(765717),c=n(926061),d=n(314897),u=n(156482),h=n(272242),m=n(981631);let p=r.lazy(()=>(0,a.wE)({createPromise:()=>Promise.all([n.e("73503"),n.e("6380"),n.e("56630"),n.e("72181"),n.e("65840"),n.e("74891"),n.e("21628"),n.e("18101"),n.e("24207"),n.e("77803"),n.e("77642"),n.e("64676"),n.e("9808")]).then(n.bind(n,753450)),webpackId:753450})),g=r.lazy(()=>(0,a.wE)({createPromise:()=>Promise.all([n.e("6380"),n.e("56630"),n.e("65840"),n.e("18101"),n.e("24207"),n.e("77642"),n.e("14835")]).then(n.bind(n,74438)),webpackId:74438})),f=r.lazy(()=>(0,a.wE)({createPromise:()=>Promise.all([n.e("6380"),n.e("56630"),n.e("65840"),n.e("18101"),n.e("24207"),n.e("77642"),n.e("37235")]).then(n.bind(n,675869)),webpackId:675869}));function _(){let e=(0,o.e7)([d.default],()=>d.default.isAuthenticated()),t=(0,c.YP)({location:"ApplicationDirectoryRoutes"});return e&&t?(0,i.jsx)(l.AW,{path:m.Z5c.APPLICATION_DIRECTORY,component:u.Z}):(0,i.jsxs)(l.rs,{children:[(0,i.jsx)(s.Z,{path:m.Z5c.APPLICATION_DIRECTORY,exact:!0,component:g}),(0,i.jsx)(s.Z,{path:m.Z5c.APPLICATION_DIRECTORY_SEARCH,component:f}),(0,i.jsx)(l.l_,{path:m.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",h.ApplicationDirectoryProfileSections.PREMIUM_DEPRECATED),to:m.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",h.ApplicationDirectoryProfileSections.STORE)}),(0,i.jsx)(s.Z,{path:m.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",":section?"),component:p})]})}},156482:function(e,t,n){n.d(t,{Z:function(){return s}}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(200651);n(192379);var r=n(512969),l=n(272242),a=n(981631),o=n(979007);function s(){let e=new URLSearchParams(location.search),t=e.get("q"),n=e.get("category_id");return e.delete("page"),(0,i.jsxs)(r.rs,{children:[null!=n&&null==t?(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(a.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY("".concat(n)))}):(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY_SEARCH,to:"".concat(a.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,"?").concat(e.toString())}),(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE_STORE_SKU(":applicationId",":skuId"),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId")}),(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",l.ApplicationDirectoryProfileSections.STORE),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",o.GlobalDiscoveryAppsSections.STORE)}),(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId"),to:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId")}),(0,i.jsx)(r.l_,{path:a.Z5c.APPLICATION_DIRECTORY,to:a.Z5c.GLOBAL_DISCOVERY_APPS})]})}},509451:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(200651);n(192379);var r=n(512969),l=n(272242),a=n(981631),o=n(979007);function s(){let e=new URLSearchParams(location.search);return e.delete("page"),(0,i.jsxs)(r.rs,{children:[(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(":categoryId"),to:"".concat(a.Z5c.APPLICATION_DIRECTORY_SEARCH,"?category_id=:categoryId")}),(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,to:"".concat(a.Z5c.APPLICATION_DIRECTORY_SEARCH,"?").concat(e.toString())}),(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId"),to:a.Z5c.APPLICATION_DIRECTORY_PROFILE_STORE_SKU(":applicationId",":skuId")}),(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(":applicationId",o.GlobalDiscoveryAppsSections.STORE),to:a.Z5c.APPLICATION_DIRECTORY_PROFILE_SECTION(":applicationId",l.ApplicationDirectoryProfileSections.STORE)}),(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(":applicationId"),to:a.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId")}),(0,i.jsx)(r.l_,{path:a.Z5c.GLOBAL_DISCOVERY_APPS,to:a.Z5c.APPLICATION_DIRECTORY})]})}},143757:function(e,t,n){n.d(t,{Z:function(){return k},n:function(){return w}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(493683),d=n(239091),u=n(317381),h=n(122613),m=n(16609),p=n(100527),g=n(906732),f=n(87005),_=n(753972),E=n(895924),I=n(812236),C=n(82295),v=n(740492),S=n(973616),N=n(592125),T=n(626135),b=n(823379),x=n(404295),A=n(728345),Z=n(812206),L=n(981631),P=n(388032),y=n(914333),O=n(312565);async function R(e,t,n){t(e.id);let i=e.bot;if(null==i)try{var r,l,a;i=null!==(a=null===(r=Z.Z.getApplication(e.id))||void 0===r?void 0:r.bot)&&void 0!==a?a:null===(l=S.ZP.createFromServer(await (0,A.UM)(e.id)))||void 0===l?void 0:l.bot}catch(e){t(void 0);return}if(null!=i){let r,l=null==N.Z.getDMFromUserId(i.id);try{r=await c.Z.openPrivateChannel([i.id],!1,!1,p.Z.APP_DMS_QUICK_LAUNCHER)}catch(e){t(void 0)}if(T.default.track(L.rMx.APP_DMS_QUICK_LAUNCHER_CLICKED,{application_id:e.id,is_new_dm:l,channel_id:r}),null==r){t(void 0);return}try{await (0,I.ZP)(r,e.id)}catch(e){if(e.message===I.sV){t(void 0);return}}await (0,h.Z)({targetApplicationId:e.id,channelId:r,analyticsLocations:n,commandOrigin:E.bB.APP_DMS_ENTRY_POINT_COMMAND_BUTTON,onExecutedCallback(){t(void 0)}})}else t(void 0)}function j(e){let{application:t,loadingAppId:n,setLoadingAppId:r,botUserId:l,analyticsLocations:c}=e,d=(0,o.e7)([N.Z],()=>N.Z.getDMFromUserId(l)),h=(0,o.e7)([u.ZP],()=>u.ZP.getCurrentEmbeddedActivity()),p=null!=h&&h.applicationId===t.id&&(0,m.p)(h.location)===d,g=n===t.id,f=null!=n;return(0,i.jsx)(s.Clickable,{className:a()(y.clickable,{[y.disabledClickable]:f}),onClick:()=>p||f?null:R(t,r,c),"aria-label":P.intl.formatToPlainString(P.t["zLhr9/"],{applicationName:t.name,applicationDescription:t.description}),children:(0,i.jsx)(s.Tooltip,{tooltipContentClassName:y.tooltipContent,text:t.name,children:e=>{let{...n}=e;return(0,i.jsxs)("div",{className:y.iconContainer,...n,children:[(0,i.jsx)(_.Z,{application:t,className:y.iconCard,"aria-hidden":!0,rendersPlaceholder:!0}),g||p?(0,i.jsx)(s.Spinner,{type:s.Spinner.Type.PULSING_ELLIPSIS,className:y.spinner,itemClassName:p?y.spinnerInnerRunning:void 0}):null]})}})})}function D(e){let{frecentApps:t,loadingAppId:n,setLoadingAppId:r,analyticsLocations:l}=e;return(0,i.jsx)("div",{className:y.itemContainer,children:t.map(e=>{var t;return(0,i.jsx)(j,{application:e,loadingAppId:n,setLoadingAppId:r,botUserId:null===(t=e.bot)||void 0===t?void 0:t.id,analyticsLocations:l},e.id)})})}let M=e=>{(0,d.jW)(e,async()=>{let{default:e}=await n.e("40706").then(n.bind(n,610909));return t=>(0,i.jsx)(e,{...t})})};function w(){let e=(0,x.en)(p.Z.APP_DMS_QUICK_LAUNCHER),t=(0,o.e7)([v.ZP],()=>v.ZP.showPlayAgain),{frecentApps:n}=(0,f.f)({channel:void 0,onlyActivityApps:!0,allowCommandFetch:e,includeAuthorizedAppsAndFetch:!1});return t&&e&&n.length>0}function k(e){let{bottomDivider:t}=e,n=(0,x.en)(p.Z.APP_DMS_QUICK_LAUNCHER),{frecentApps:l}=(0,f.f)({channel:void 0,onlyActivityApps:!0,allowCommandFetch:n,includeAuthorizedAppsAndFetch:!1}),[o,s]=r.useState(void 0),{analyticsLocations:c}=(0,g.ZP)(p.Z.APP_DMS_QUICK_LAUNCHER),d=w(),[u,h]=r.useState(!1),m=r.useMemo(()=>l.map(e=>e.application).filter(b.lm).slice(0,5),[l]);return r.useLayoutEffect(()=>{var e;if(!u&&!!d)h(!0),T.default.track(L.rMx.APP_DMS_QUICK_LAUNCHER_IMPRESSION,{apps_dm_quick_launcher_application_ids:null!==(e=m.map(e=>Number(e.id)))&&void 0!==e?e:[]})},[d,m,u]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:y.container,onContextMenu:M,children:[(0,i.jsx)(C.Z,{className:a()(y.headerContainer,O.privateChannelsHeaderContainer),children:(0,i.jsx)("div",{className:y.textContainer,children:(0,i.jsx)("span",{className:O.headerText,children:P.intl.string(P.t.vayAzs)})})}),(0,i.jsx)(D,{frecentApps:m,loadingAppId:o,setLoadingAppId:s,analyticsLocations:c})]}),t]})}},77987:function(e,t,n){n.d(t,{e:function(){return s}});var i=n(200651);n(192379);var r=n(314897),l=n(449934),a=n(857458),o=n(981631);function s(e,t){var n,s;let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0};function d(n){if(!(0,l.$8)()&&r.default.getLoginStatus()!==o.u34.LOGGING_IN&&r.default.allowLogoutRedirect())return null!=t?(0,i.jsx)(t,{renderRedirect:(0,i.jsx)(a.Z,{})}):(0,i.jsx)(a.Z,{});return(0,i.jsx)(e,{...c.passProps?n:null})}return d.displayName="Authenticated(".concat(null!==(s=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==s?s:"<Unknown>",")"),d}},571250:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(388032);function r(e,t,n){return n?i.intl.string(i.t["2Ne/Y2"]):t?i.intl.string(i.t.QZ7WSU):e?i.intl.string(i.t["2US87+"]):i.intl.string(i.t.wjcRFR)}},679891:function(e,t,n){n(47120);var i=n(570140),r=n(846027),l=n(317770),a=n(594190),o=n(928518),s=n(131951),c=n(451478),d=n(981631),u=n(65154);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let m=new Set,p=new Set,g=null;function f(){for(let e of m)r.Z.setDisableLocalVideo(e,d.ZUi.MANUAL_ENABLED,u.Yn.DEFAULT,!1);p.clear(),m.clear()}class _ extends l.Z{_initialize(){i.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.subscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.addChangeListener(this.handlePopoutChange)}_terminate(){i.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo),i.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle),i.Z.unsubscribe("WINDOW_VISIBILITY_CHANGE",this.handleWindowVisibilityChange),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect),o.Z.removeChangeListener(this.handlePopoutChange),f(),g=null}handleIncomingVideo(e){let{userId:t,context:n,streamId:i}=e;if(n!==u.Yn.DEFAULT||null==i)return;let l=null!=a.ZP.getVisibleGame(),h=c.Z.isVisible(),g=o.Z.getWindowVisible(d.KJ3.CHANNEL_CALL_POPOUT),f=s.Z.isLocalVideoDisabled(t,n),_=p.has(t);l&&!h&&!g&&!f&&!_&&(m.add(t),r.Z.setDisableLocalVideo(t,d.ZUi.DISABLED,n,!1))}handleManualLocalVideoToggle(e){let{userId:t,persist:n}=e;n&&(p.add(t),m.delete(t))}constructor(...e){super(...e),h(this,"handleWindowVisibilityChange",e=>{let{visible:t}=e;t&&f()}),h(this,"handleVoiceChannelSelect",e=>{let{channelId:t}=e;t!==g&&(f(),g=t)}),h(this,"handlePopoutChange",()=>{o.Z.getWindowVisible(d.KJ3.CHANNEL_CALL_POPOUT)&&f()})}}t.Z=new _},55311:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(481060),l=n(846027),a=n(468026),o=n(388032);function s(e,t){if(e){(0,r.openModal)(e=>(0,i.jsx)(a.default,{...e,title:o.intl.string(o.t.QZ7WSU),body:o.intl.string(o.t.Tl9JpK)}));return}l.Z.toggleSelfDeaf({location:t})}},599857:function(e,t,n){n.d(t,{_:function(){return d}});var i=n(200651),r=n(192379),l=n(29978),a=n(780384),o=n(481060),s=n(756148),c=n(981631);function d(e){return r.useEffect(()=>{s.I.loadRecaptchaScript(e.sitekey,()=>{var t,n,i;return null===(i=window)||void 0===i?void 0:null===(n=i.grecaptcha)||void 0===n?void 0:null===(t=n.enterprise)||void 0===t?void 0:t.ready(async()=>{var t;let n=await (null===(t=window)||void 0===t?void 0:t.grecaptcha).enterprise.execute(e.sitekey,null!=e.action?{action:e.action}:void 0);e.onVerify(n)})})},[e]),(0,i.jsx)(o.Spinner,{})}let u=e=>{let{theme:t,...n}=e,r=(0,a.wj)(t)?"dark":"light";return(0,i.jsx)(l.Z,{sitekey:c.OL7,...n,theme:r})};u.Themes={LIGHT:"light",DARK:"dark"},u.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"},t.Z=u},756148:function(e,t,n){n.d(t,{I:function(){return i}});class i{static getSiteKey(e){return null!=e?e:"production"===window.GLOBAL_ENV.PROJECT_ENV?"6LeYqFcqAAAAAD6iZesmNgVulsO4PkpBdr6NVG6M":"6LdtfVMqAAAAAMurhtf2pDhK0oqD4eLqeQPh025y"}static loadRecaptchaScript(e,t){if(null!=document.getElementById("recaptcha-script-".concat(this.getSiteKey(e)))){null!=t&&t();return}let n=document.createElement("script");n.src="https://www.google.com/recaptcha/enterprise.js?render=".concat(this.getSiteKey(e)),n.id="recaptcha-script-".concat(this.getSiteKey(e)),n.async=!0,n.defer=!0,document.body.appendChild(n),null!=t&&(n.onload=()=>{t()})}}},320149:function(e,t,n){n.d(t,{Z:function(){return N}});var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(541716),s=n(665149),c=n(910611),d=n(355298),u=n(333984),h=n(26373),m=n(486622),p=n(718538),g=n(359110),f=n(6025),_=n(433355),E=n(933557),I=n(287746),C=n(388032),v=n(837199),S=n(215191);function N(e){let{channel:t,baseChannelId:n}=e,N=(0,E.ZP)(t),T=(0,h.K)(),b=(0,h.V)(),x=(0,l.e7)([d.Z],()=>d.Z.isMessageRequest(t.id)),A=(0,l.e7)([u.Z],()=>u.Z.isSpam(t.id)),Z=(0,p.V)(t.id,t.getRecipientId()),L=r.useCallback(()=>{f.Z.closeChannelSidebar(_.uZ),x&&T&&(0,g.Kh)(t.id),A&&b&&(0,g.Kh)(t.id)},[t.id,A,b,x,T]),P=r.useCallback(()=>{(0,a.showToast)((0,a.createToast)(C.intl.string(C.t.pIQ3h4),a.ToastType.FAILURE))},[]),{markAsNotSpam:y}=(0,m.m)({onAcceptSuccess:L,onError:P});if(null==t||!t.isDM())return null;let O=[(0,i.jsx)(s.ZP.Icon,{icon:a.XSmallIcon,tooltip:C.intl.string(C.t.cpT0Cg),onClick:()=>f.Z.closeChannelSidebar(n)},"close")];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ZP,{toolbar:O,"aria-label":C.intl.string(C.t.BIYAqa),children:(0,c.ud)({channel:t,channelName:N,inSidebar:!0})}),A&&(0,i.jsxs)("div",{className:S.hamBanner,children:[(0,i.jsx)(a.Text,{className:S.__invalid_hamBannerText,variant:"text-sm/normal",children:C.intl.string(C.t.XVOKgo)}),(0,i.jsx)(a.Button,{className:S.hamBannerButton,size:a.ButtonSizes.SMALL,onClick:()=>y(t,Z),children:C.intl.string(C.t.koqL3d)})]}),(0,i.jsx)("div",{className:v.chat,children:(0,i.jsx)(I.Z,{channel:t,guild:null,chatInputType:o.Ie.SIDEBAR},t.id)})]})}},626421:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(399606),s=n(243778),c=n(914010),d=n(566840),u=n(921944),h=n(913208);let m=r.memo(function(e){var t,n,l;let{state:o,markAsDismissed:s}=e,{name:c,guildId:d,boundingRect:u}=o,m=r.useMemo(()=>(function(e,t,n){return null})(c,0,0),[c,d,s]);if(null==m)return null;return(0,i.jsx)("div",{className:a()(h.upsell,!(null!=(t=u)&&!(t.y<0))&&h.hidden),style:(n=c,null==(l=u)?{}:{top:l.top,left:l.right-l.x}),children:m})});function p(){let e=(0,o.e7)([c.Z],()=>c.Z.getGuildId()),t=(0,d.Eg)(e),[n,r]=(0,s.US)(Object.values(t).filter(e=>{let{disabled:t}=e;return!t}).map(e=>{let{name:t}=e;return t}),u.R.SIDEBAR);if(null==n)return null;let l=t[n];return null==l?null:(0,i.jsx)("div",{className:h.container,children:(0,i.jsx)(m,{state:l,markAsDismissed:r})})}},986332:function(e,t,n){n.d(t,{o:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}=i.useExperiment({location:"c0d6eb_1"},{autoTrackExposure:e});return{showRedesignedChannelNotice:t,showRedesignedLiveChannelNotice:n}}},428695:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n(481060),c=n(367907),d=n(626135),u=n(981631),h=n(388032),m=n(173549);let p=(0,o.debounce)(c.ZP.trackWithMetadata,500);t.Z=function(e){let{guild:t,title:n,message:l,image:o,type:g,imageStyles:f,imageMarginX:_,imageMarginTop:E,trackingSource:I,undismissable:C,onDismissed:v,onClick:S,cta:N,ctaColor:T,centerText:b,className:x}=e;r.useEffect(()=>{p(u.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:g,guild_id:t.id})},[t.id,g]);let A=null;"function"==typeof N?A=N():null!=N&&(A=(0,i.jsx)(s.Button,{className:m.button,size:s.Button.Sizes.SMALL,onClick:()=>{null!=g&&d.default.track(u.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:I,guild_id:t.id,notice_type:g}),null==S||S()},fullWidth:!0,color:T,children:N}));let Z=null;"function"==typeof n?Z=n():null!=n&&(Z=(0,i.jsx)(s.Text,{variant:"text-md/medium",color:"header-primary",className:a()(m.title,{[m.noImageTitle]:null==o},{[m.center]:b}),children:n}));let L=null;"function"==typeof l?L=l():null!=l&&(L=(0,i.jsx)(s.Text,{className:a()({[m.center]:b}),variant:"text-sm/normal",color:"text-muted",children:l}));let P=null!=_?"".concat(_,"px"):"16px";return(0,i.jsxs)("div",{className:a()(m.container,x),children:[!0===C?null:(0,i.jsx)(s.Clickable,{onClick:()=>{c.ZP.trackWithMetadata(u.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:g}),null==v||v()},className:m.close,"aria-label":h.intl.string(h.t.WAI6xs),children:(0,i.jsx)(s.XSmallIcon,{size:"md",color:"currentColor",className:m.closeIcon})}),null!=o&&(0,i.jsx)("div",{className:m.imageContainer,style:{marginTop:"".concat(E,"px"),marginLeft:P,marginRight:P},children:(0,i.jsx)("img",{className:m.image,style:f,src:o,alt:""})}),(0,i.jsxs)("div",{className:m.message,children:[Z,L,A]})]})}},122611:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(704215),o=n(433517),s=n(705348),c=n(243778),d=n(360453),u=n(377743),h=n(834743),m=n(862099),p=n(704631),g=n(819792),f=n(919285),_=n(118470),E=n(413307),I=n(849688),C=n(374023),v=n(661599),S=n(617899),N=n(8521),T=n(760326),b=n(785203),x=n(652785),A=n(921944);function Z(e){e.stopPropagation()}function L(e){var t;let{guild:n}=e,[d,m]=r.useState(null!==(t=o.K.get(x.Iv))&&void 0!==t?t:0),g=e=>{o.K.set(x.Iv,e),m(e)},f=(0,l.Wu)(x.HG,()=>x.XN.filter(e=>{let{store:t}=e;return null==t?void 0:t.channelNoticePredicate(n,d)}).map(e=>e.dismissibleContentType));return(0,i.jsx)(c.ZP,{contentTypes:f,groupName:A.R.CHANNEL_NOTICES,children:e=>{let{visibleContent:t,markAsDismissed:r}=e,l=()=>{g(Date.now()),r(A.L.UNKNOWN)},o=(()=>{switch(t){case a.z.CHANNEL_NOTICE_HUBLINK:return(0,i.jsx)(p.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_INVITE:return(0,i.jsx)(S.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,i.jsx)(h.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_QUICKSWITCHER:return(0,i.jsx)(T.Z,{guild:n,markAsDismissed:l});case a.z.CHANNEL_NOTICE_GUILD_BANNER:return(0,i.jsx)(u.Z,{guild:n,markAsDismissed:l});case a.z.LINKED_ROLE_ADMIN_GUILD:return(0,i.jsx)(s.Z,{guild:n,markAsDismissed:()=>r(A.L.UNKNOWN)});default:return null}})();return null==o?null:(0,i.jsx)("div",{onContextMenu:Z,children:o})}})}t.Z=e=>{let{guild:t}=e;switch((0,b.Z)(t)){case b.R.ENABLE_PUBLIC_GUILD:return(0,i.jsx)(E.Z,{guild:t});case b.R.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,i.jsx)(d.Z,{guild:t});case b.R.MAX_MEMBER_COUNT:return(0,i.jsx)(N.Z,{guild:t});case b.R.GUILD_LIVE_CHANNEL:return(0,i.jsx)(m.ZP,{guild:t});case b.R.GUILD_MFA_WARNING:return(0,i.jsx)(v.Z,{guild:t});case b.R.COMMANDS_MIGRATION:return(0,i.jsx)(f.Z,{guild:t});case b.R.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,i.jsx)(_.Z,{guild:t});case b.R.HUB_STUDY_ROOM:return(0,i.jsx)(g.Z,{guild:t});case b.R.SIGNUP:return(0,i.jsx)(I.Z,{guild:t})}return C.s.isDisallowPopupsSet()?null:(0,i.jsx)(L,{guild:e.guild})}},652785:function(e,t,n){n.d(t,{HG:function(){return m},Iv:function(){return u},XN:function(){return h}});var i=n(704215),r=n(823385),l=n(327689),a=n(421176),o=n(456065),s=n(683743),c=n(823379),d=n(981631);let u="lastHiddenChannelNotice",h=[{type:d.vID.CLAN_ADMIN_UPSELL,dismissibleContentType:i.z.CHANNEL_LIST_CLAN_ADMIN_UPSELL},{type:d.vID.GUILD_BOOSTING,store:a.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:d.vID.GUILD_BANNER,store:l.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_GUILD_BANNER},{type:d.vID.INVITE,store:s.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_INVITE},{type:d.vID.HUB_LINK,store:o.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_HUBLINK},{type:d.vID.QUICKSWITCHER,store:r.Z,dismissibleContentType:i.z.CHANNEL_NOTICE_QUICKSWITCHER},{type:d.vID.LINKED_ROLES_ADMIN,dismissibleContentType:i.z.LINKED_ROLE_ADMIN_GUILD}],m=h.map(e=>e.store).filter(c.lm)},661599:function(e,t,n){var i=n(200651),r=n(192379),l=n(230711),a=n(324262),o=n(981631),s=n(388032),c=n(510342);class d extends r.PureComponent{render(){return(0,i.jsx)(a.Z,{guild:this.props.guild,onClick:()=>l.Z.open(o.oAB.ACCOUNT),message:s.intl.format(s.t["oCd+am"],{}),cta:s.intl.string(s.t["8dCrV1"]),trackingSource:o.PsQ.GUILD_MFA_WARNING,type:o.vID.MFA_WARNING,image:c,imageMarginX:54,undismissable:!0})}}t.Z=d},617899:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(481060),a=n(904245),o=n(944486),s=n(324262),c=n(981631),d=n(921944),u=n(388032),h=n(589148);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{render(){let e="".concat(u.intl.string(u.t.VWqWZW),"\n").concat(u.intl.string(u.t["0Lgb/P"]));return(0,i.jsx)(s.Z,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:u.intl.string(u.t.BN75l5),trackingSource:c.PsQ.INVITE_NOTICE,type:c.vID.INVITE,image:h,imageMarginX:46})}constructor(...e){super(...e),m(this,"handleInvite",()=>{let{guild:e}=this.props;(0,l.openModalLazy)(async()=>{let{default:t}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(t,{...n,guild:e,source:c.t4x.INVITE_NOTICE})})}),m(this,"handleClose",()=>{let e=o.Z.getChannelId();this.props.markAsDismissed(d.L.UNKNOWN),null!=e&&a.Z.sendBotMessage(e,u.intl.formatToPlainString(u.t.DEn7np,{invitePeople:u.intl.string(u.t.BN75l5)}))})}}t.Z=p},662842:function(e,t,n){n.d(t,{Z:function(){return U}}),n(47120);var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(442837),d=n(692547),u=n(481060),h=n(232567),m=n(100527),p=n(471445),g=n(15274),f=n(924301),_=n(504160),E=n(151864),I=n(725436),C=n(497656),v=n(554747),S=n(230900),N=n(854698),T=n(703656),b=n(922482),x=n(565799),A=n(501655),Z=n(427679),L=n(448206),P=n(184301),y=n(347475),O=n(496675),R=n(594174),j=n(662868),D=n(981631),M=n(765305),w=n(388032),k=n(173549);(r=i||(i={}))[r.STAGE=0]="STAGE",r[r.EVENT_EXTERNAL=1]="EVENT_EXTERNAL",r[r.EVENT_VOICE=2]="EVENT_VOICE",r[r.STUDY_ROOM=3]="STUDY_ROOM";function U(e){let{guild:t,isStudyRoomNotice:n=!1}=e,i=(0,C.y)(t.id),r=(0,v.k5)(t.id),o=(0,c.e7)([Z.Z],()=>Z.Z.getStageInstanceByChannel(null==i?void 0:i.id),[i]),{isStageNoticeHidden:U,isEventNoticeHidden:G}=(0,c.cj)([E.Z],()=>({isStageNoticeHidden:E.Z.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:E.Z.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}),[o,r]),B=null==i?void 0:i.id,H=(0,c.Wu)([x.Z],()=>[...new Set(x.Z.getMutableParticipants(B,A.pV.SPEAKER).map(e=>e.user))],[B]),V=(0,c.e7)([x.Z],()=>null!=B?x.Z.getParticipantCount(B,A.pV.AUDIENCE):0,[B]),F=(0,c.e7)([O.Z],()=>O.Z.can(D.Plq.CONNECT,i)),z=(0,L.Z)(null==i?void 0:i.id),W=null==r?void 0:r.creator_id,Y=(0,c.e7)([R.default],()=>R.default.getUser(W),[W]);a.useEffect(()=>{null!=W&&(0,h.PR)(W)},[W]);let{noticeType:K,title:q,location:X,locationIcon:Q,canListenIn:J,buttonText:$,users:ee,overflowUsers:et,onClose:en}=a.useMemo(()=>(function(e){let{guildEvent:t,stageInstance:n,activeChannel:i,canConnect:r,myRole:a,eventCreator:o,speakers:s,listenerCount:c,isEventNoticeHidden:d,isStageNoticeHidden:h,isStudyRoomNotice:m}=e,g=null!=n&&null!=i&&!h,E=null!=t?(0,N.DK)(t):null;if(m&&null!=i){let e=(0,p.KS)(i);return{noticeType:3,title:"\uD83D\uDCDA ".concat(i.name),location:w.intl.string(w.t.LZA6NT),locationIcon:null!=e?(0,l.jsx)(e,{size:"xs",color:"currentColor",className:k.locationIcon}):null,canListenIn:r,buttonText:w.intl.string(w.t.wBoE6O),users:[],overflowUsers:null}}if(null==t||d){if(g){let e=w.intl.string(w.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=w.intl.string(w.t["/cnSFR"]):null!=a&&(e=w.intl.string(w.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,l.jsx)(u.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:k.locationIcon}),canListenIn:r,buttonText:e,onClose:()=>(0,_.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:c<1?null:(0,l.jsxs)("div",{className:k.pill,children:[(0,l.jsx)(u.HeadphonesIcon,{size:"custom",color:"currentColor",width:12,height:12,className:k.pillIcon}),(0,l.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:k.pillLabel,children:c})]})}}}else{if(t.entity_type===M.WX.STAGE_INSTANCE&&g){let e=w.intl.string(w.t.ZYO5OD);return(null==a?void 0:a.speaker)?e=w.intl.string(w.t["/cnSFR"]):null!=a&&(e=w.intl.string(w.t.btSGOj)),{noticeType:0,title:n.topic,location:i.name,locationIcon:(0,l.jsx)(u.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:k.locationIcon}),canListenIn:r,buttonText:e,onClose:()=>(0,_.ji)({stageId:null==n?void 0:n.id}),users:s.length>5?s.slice(0,5):s,overflowUsers:c<1?null:(0,l.jsxs)("div",{className:k.pill,children:[(0,l.jsx)(u.HeadphonesIcon,{size:"custom",color:"currentColor",width:12,height:12,className:k.pillIcon}),(0,l.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:k.pillLabel,children:c})]})}}if(t.entity_type===M.WX.EXTERNAL){let e=(0,S.cS)(t);if(null==e)return{noticeType:null};let n=f.ZP.getUserCount(t.id,E);return{noticeType:1,title:t.name,location:(0,I.m)(e,!0),locationIcon:(0,l.jsx)(u.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:k.locationIcon}),canListenIn:!1,buttonText:w.intl.string(w.t.iW6Xur),onClose:()=>(0,_.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,l.jsxs)("div",{className:k.pill,children:[(0,l.jsx)(u.StarIcon,{size:"custom",color:"currentColor",width:12,height:12,className:k.pillIcon}),(0,l.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:k.pillLabel,children:n})]})}}else if(t.entity_type===M.WX.VOICE&&null!=i){let e=(0,p.KS)(i),n=f.ZP.getUserCount(t.id,E);return{noticeType:2,title:t.name,location:i.name,locationIcon:null!=e?(0,l.jsx)(e,{size:"xs",color:"currentColor",className:k.locationIcon}):null,canListenIn:r,buttonText:w.intl.string(w.t.nxUtoa),onClose:()=>(0,_.ji)({eventId:null==t?void 0:t.id}),users:null==o?[]:[o],overflowUsers:n<1?null:(0,l.jsxs)("div",{className:k.pill,children:[(0,l.jsx)(u.StarIcon,{size:"custom",color:"currentColor",width:12,height:12,className:k.pillIcon}),(0,l.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:k.pillLabel,children:n})]})}}}return{noticeType:null}})({guildEvent:r,stageInstance:o,activeChannel:i,canConnect:F,myRole:z,eventCreator:Y,speakers:H,listenerCount:V,isEventNoticeHidden:G,isStageNoticeHidden:U,isStudyRoomNotice:n}),[r,o,i,F,z,Y,H,V,G,U,n]);return null==K?null:(0,l.jsxs)("div",{className:k.container,children:[null!=en?(0,l.jsx)(u.Clickable,{onClick:en,className:k.close,"aria-label":w.intl.string(w.t.WAI6xs),children:(0,l.jsx)(u.XSmallIcon,{size:"md",color:"currentColor",className:k.closeIcon})}):null,(0,l.jsxs)("div",{className:k.header,children:[(0,l.jsx)(j.Z,{color:d.Z.unsafe_rawColors.GREEN_230.css,width:16,height:16}),(0,l.jsx)(u.Text,{variant:"text-xs/semibold",color:"text-positive",children:w.intl.string(w.t.dI3q4u)})]}),(ee.length>0||null!=et)&&(0,l.jsxs)("div",{className:k.participants,children:[ee.map(e=>(0,l.jsx)(u.Popout,{preload:()=>(0,P.Z)(e,{guildId:t.id}),renderPopout:n=>(0,l.jsx)(y.Z,{...n,userId:e.id,guildId:t.id,newAnalyticsLocations:[m.Z.AVATAR]}),position:"right",children:n=>(0,l.jsx)(u.Avatar,{...n,src:e.getAvatarURL(t.id,24),"aria-label":e.username,size:u.AvatarSizes.SIZE_24,className:k.avatar})},e.id)),et]}),(0,l.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:s()(k.title,k.live),children:q}),(0,l.jsxs)("div",{className:k.locationContainer,children:[Q,(0,l.jsx)(u.Text,{variant:"text-xs/normal",color:"text-muted",className:k.location,children:X})]}),J||1===K?(0,l.jsx)(u.Button,{size:u.Button.Sizes.SMALL,color:u.Button.Colors.GREEN,onClick:()=>{if(J)null!=i&&null!=i.getGuildId()&&((0,b.Cq)(i),(0,T.XU)(i.getGuildId(),i.id));else{if(null==r)return;(0,g.bO)({eventId:r.id})}},className:k.button,fullWidth:!0,children:$}):null]})}},8521:function(e,t,n){var i=n(200651),r=n(192379),l=n(949389),a=n(63063),o=n(324262),s=n(981631),c=n(388032),d=n(511189);t.Z=e=>{let{guild:t}=e,n=r.useCallback(()=>{(0,l.xm)(t.id)},[t.id]);return(0,i.jsx)(o.Z,{guild:t,onDismissed:n,message:c.intl.format(c.t["+QqO3d"],{maxMemberCount:t.maxMembers,maxMembersUrl:a.Z.getArticleURL(s.BhN.MAX_MEMBERS)}),type:s.vID.MAX_MEMBER_COUNT,image:d,imageMarginX:61})}},324262:function(e,t,n){var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(481060),s=n(367907),c=n(626135),d=n(986332),u=n(428695),h=n(981631),m=n(388032),p=n(3030);let g=a().debounce(s.ZP.trackWithMetadata,500),f=e=>{let{guild:t,title:n,message:l,image:a,type:d,imageMarginX:u,imageMarginTop:f,trackingSource:_,undismissable:E,onDismissed:I,onClick:C,cta:v,ctaColor:S}=e;r.useEffect(()=>{g(h.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:d,guild_id:t.id})},[t.id,d]);let N=null;"function"==typeof v?N=v():null!=v&&(N=(0,i.jsx)(o.Button,{className:p.btn,size:o.Button.Sizes.SMALL,onClick:()=>{null!=d&&c.default.track(h.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:_,guild_id:t.id,notice_type:d}),null==C||C()},fullWidth:!0,color:S,children:v}));let T=null!=u?"".concat(u,"px"):"16px";return(0,i.jsxs)("div",{className:p.channelNotice,children:[!0===E?null:(0,i.jsx)(o.Clickable,{onClick:()=>{s.ZP.trackWithMetadata(h.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:d}),null==I||I()},className:p.close,"aria-label":m.intl.string(m.t.WAI6xs),children:(0,i.jsx)(o.XSmallIcon,{size:"md",color:"currentColor",className:p.closeIcon})}),(0,i.jsx)("div",{className:p.imageContainer,style:{marginTop:"".concat(f,"px"),marginLeft:T,marginRight:T},children:(0,i.jsx)("img",{className:p.image,src:a,alt:""})}),(0,i.jsxs)("div",{className:p.message,children:[null!=n?(0,i.jsx)(o.Heading,{variant:"heading-md/semibold",className:p.title,children:n}):null,(0,i.jsx)(o.Text,{variant:"text-sm/normal",children:l}),N]})]})};t.Z=function(e){let{showRedesignedChannelNotice:t}=(0,d.o)(!0);return t?(0,i.jsx)(u.Z,{...e}):(0,i.jsx)(f,{...e})}},760326:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(771935),a=n(51596),o=n(324262),s=n(981631),c=n(921944),d=n(388032),u=n(932478);t.Z=e=>{let t=l.$.binds["0"].split("+").map(e=>null!=r.PRETTY_KEYS[e]?r.PRETTY_KEYS[e]():e).join(" + ").toUpperCase();return(0,i.jsx)(o.Z,{guild:e.guild,onDismissed:()=>e.markAsDismissed(c.L.UNKNOWN),onClick:()=>(0,a.$Z)("CHANNEL_NOTICE"),message:d.intl.string(d.t.Qhk8cn),cta:t,trackingSource:s.PsQ.QUICK_SWITCHER_NOTICE,type:s.vID.QUICKSWITCHER,image:u,imageMarginX:50})}},785203:function(e,t,n){n.d(t,{R:function(){return r},Z:function(){return T}});var i,r,l=n(192379),a=n(442837),o=n(179360),s=n(897285),c=n(300213),d=n(554747),u=n(499137),h=n(929507),m=n(270144),p=n(400271),g=n(678513),f=n(899667),_=n(496675),E=n(541566),I=n(192513),C=n(255791),v=n(70956),S=n(267642),N=n(981631);function T(e){var t;let n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:N.lds,{lastFetchedAt:i}=(0,a.cj)([f.Z],()=>({appliedGuildBoosts:f.Z.getAppliedGuildBoostsForGuild(n),lastFetchedAt:f.Z.getLastFetchedAtForGuild(n)})),{lastDismissedGracePeriod:r,isGracePeriodVisible:T}=(0,a.cj)([E.Z],()=>({lastDismissedGracePeriod:E.Z.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:E.Z.isVisible(n)})),b=(0,a.e7)([p.Z],()=>p.Z.isVisible(e)),x=(0,a.e7)([C.Z],()=>C.Z.isVisible(e)),A=(0,a.e7)([_.Z],()=>_.Z.can(N.Plq.ADMINISTRATOR,e)),Z=null!=r&&Date.now()-r<=N.Dge,L=null!=e?e.premiumSubscriberCount:0,P=(0,S.rF)(L,n)!==N.Eu4.NONE,y=null!=i&&Date.now()-i<=432e5,O=!y&&!Z&&A&&P,R=(0,c.m)(n),j=(0,a.e7)([I.Z],()=>I.Z.isVisible(e)),D=h.Z.useShouldShowChannelNotice(n),M=(0,m.h6)(e),{enableStudyGroup:w}=(0,u.s)(e),k=M.length>0,U=w&&!(null==e?void 0:e.hasFeature(N.oNc.HUB)),G=(0,d.Vm)(n),B=(0,a.e7)([g.Z],()=>null!=g.Z.getActiveGuildSignUp(n));if(l.useEffect(()=>{s.Z.getGuildEventsForCurrentUser(n)},[n]),l.useEffect(()=>{let e=-1;return O&&(e=window.setTimeout(()=>{null!=n&&(0,o.C0)(n)},30*Math.random()*v.Z.Millis.SECOND)),()=>{window.clearTimeout(e)}},[n,O]),b)return 0;if(T)return 1;if(x)return 2;else if(R||null!=G)return 3;else if(j)return 4;else if(D)return 5;else if(k)return 6;else if(U)return 7;else if(B)return 8;return null}(i=r||(r={}))[i.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD",i[i.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD",i[i.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT",i[i.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL",i[i.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING",i[i.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION",i[i.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION",i[i.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM",i[i.SIGNUP=8]="SIGNUP",i[i.CLAN_UPSELL=9]="CLAN_UPSELL"},491575:function(e,t,n){var i=n(200651),r=n(192379),l=n(512722),a=n.n(l),o=n(481060),s=n(176299),c=n(512847),d=n(612226),u=n(714338),h=n(607070),m=n(317858),p=n(635395),g=n(5560),f=n(451478),_=n(585483),E=n(145604),I=n(718813),C=n(981631),v=n(224239);t.Z=r.memo(function(){let e=r.useRef(null),t=r.useCallback(t=>{let{duration:n,intensity:i}=t;if(h.Z.useReducedMotion||!f.Z.isFocused())return;let{current:r}=e;a()(null!=r,"Shakeable is shaken when not mounted"),r.shake(n,i)},[]);return r.useEffect(()=>(u.Z.setLayout(d.ZP),u.Z.enable(),()=>u.Z.disable()),[]),r.useEffect(()=>(_.S.subscribe(C.CkL.SHAKE_APP,t),()=>{_.S.unsubscribe(C.CkL.SHAKE_APP,t)}),[t]),(0,m.Z)(),(0,i.jsxs)(o.Shakeable,{ref:e,className:v.app,children:[(0,i.jsx)(I.Z,{className:v.layers,children:(0,i.jsx)(s.Z,{})}),(0,i.jsx)(p.Z,{}),(0,i.jsx)(c.Z,{}),(0,i.jsx)(E.Z,{}),(0,i.jsx)(g.Z,{}),(0,i.jsx)(o.DnDKeyboardHelpBar,{})]})})},145604:function(e,t,n){n.d(t,{Z:function(){return q}}),n(789020),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(224706),o=n(615287),s=n(593472),c=n(603113),d=n(367907),u=n(731429),h=n(188471),m=n(176881),p=n(318885),g=n(358221),f=n(710845),_=n(581567),E=n(594190),I=n(38618),C=n(501640),v=n(924301),S=n(734307),N=n(355298),T=n(371651),b=n(829907),x=n(427679),A=n(695346),Z=n(592125),L=n(77498),P=n(271383),y=n(430824),O=n(131951),R=n(375954),j=n(19780),D=n(944486),M=n(914010),w=n(885110),k=n(9156),U=n(594174),G=n(774343),B=n(974042),H=n(808506),V=n(237997),F=n(626135),z=n(630388),W=n(823379),Y=n(981631);class K extends r.PureComponent{componentDidMount(){let{selectedChannelId:e,connected:t,isNSFWChannel:n,isTextInVoice:i}=this.props;t&&null!=e&&((0,d.yw)(Y.rMx.CHANNEL_OPENED,{...(0,d.$H)(e)}),(0,h.a)(Y.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:e}),i&&(0,d.yw)(Y.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:n}))}componentDidUpdate(e){var t,n,i;let{voiceChannelId:r,voiceChannelGuildId:l,voiceChannelType:c,voiceChannelBitrate:I,videoEnabled:C,isScreenSharing:N,runningGame:P,runningGamePid:O,selectedChannelId:D,selectedGuildId:U,connected:G,homeLink:B,friendsTabSection:K,isNSFWChannel:q,isMemberPending:X,hasPreviewEnabled:Q,postableChannelCount:J,isTextInVoice:$,numMessageRequests:ee}=this.props;if(e.voiceChannelId!==r&&null!=e.voiceChannelId){let t=E.ZP.getCurrentGameForAnalytics(),n=null!=t?t.name:"",i=x.Z.getStageInstanceByChannel(e.voiceChannelId),r=v.ZP.getActiveEventByChannel(e.voiceChannelId);F.default.track(Y.rMx.LEAVE_VOICE_CHANNEL,{channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:j.Z.getRTCConnectionId(),game_name:n,duration:j.Z.getDuration(),game_platform:this.props.gamePlatform,game_id:this.props.gameId,media_session_id:j.Z.getMediaSessionId(),stage_instance_id:null==i?void 0:i.id,guild_scheduled_event_id:null==r?void 0:r.id,...(0,d.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),...j.Z.getVoiceStateStats(),...g.Z.getSelectedParticipantStats(e.voiceChannelId)})}if(e.voiceChannelId!==r&&null!=r){let e=E.ZP.getCurrentGameForAnalytics(),t=null!=e?e.name:"",n=x.Z.getStageInstanceByChannel(r),i=v.ZP.getActiveEventByChannel(r);(0,d.yw)(Y.rMx.CHANNEL_OPENED,{...(0,d.$H)(r)}),(0,h.a)(Y.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:r});let a=null,s=V.Z.getFocusedPID();null!=s&&T.Z.getOverlayMethod(s)!==o.gl.Disabled&&(V.Z.isInstanceLocked()?a=Y.ADE.OVERLAY_LOCKED_ACTIVATED:!V.Z.isInstanceLocked()&&(a=V.Z.isPinned(Y.Odu.TEXT)?Y.ADE.OVERLAY_UNLOCKED_PINNED:Y.ADE.OVERLAY_UNLOCKED)),F.default.track(Y.rMx.JOIN_VOICE_CHANNEL,{location:a,channel_id:r,channel_type:c,channel_bitrate:I,guild_id:l,game_name:t,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==n?void 0:n.id,guild_scheduled_event_id:null==i?void 0:i.id,...(0,d.oG)(l,r),...(0,d.kO)(l,r,C)})}if(e.runningGame!==P&&null!=P&&!P.isLauncher){let e=L.Z.getGameByName(P.name),t=E.ZP.getOverrideForGame(P),n=y.Z.getGuildIds(),i=A.SE.getSetting(),d=n.filter(e=>!i.includes(e)).slice(0,200),u=null;u=null!=t?"custom_override":null!=e?"verified_game":"launcher";let h=(0,E.b6)(P);if(setTimeout(async()=>{var t;let n=await (0,b.hj)(P.pid),{gameName:i,gameId:a,exe:m,distributor:p}=(0,_.G8)(P);F.default.track(Y.rMx.LAUNCH_GAME,{game:i,game_id:a,verified:null!=e&&(0,_.vp)(m,null==e?void 0:e.executables),elevated:P.elevated,is_launcher:null!==(t=null==P?void 0:P.isLauncher)&&void 0!==t&&t,game_platform:Y.M7m.DESKTOP,detection_method:u,distributor:p,is_overlay_enabled:H.Z.enabled,is_overlay_game_enabled:h.enabled,is_overlay_game_source:h.source,fullscreen_type:null!=n?s.Jx[n]:s.Jx.UNKNOWN.toString(),overlay_method:o.gl[h.overlayMethod],activity_status_enabled:A.G6.getSetting(),activity_status_shared_guilds:d,current_user_status:w.Z.getStatus(),game_detection_enabled:(0,E.ik)(P),executable_path:m,voice_channel_id:r,voice_channel_type:c,voice_channel_bitrate:I,voice_channel_guild_id:l}),null!=m&&E.ZP.addExecutableTrackedByAnalytics(m)},1e4),null!=P.name&&null!=O&&L.Z.shouldReport(P.name)){let e=P.name;a.Z.identifyGame(O,e).then(e=>a.Z.reportUnverifiedGame(e)).catch(e=>new f.Z("AutoAnalytics").error("Cannot identify game",e))}}if((e.videoEnabled!==C||e.isScreenSharing!==N)&&null!=r){let e="none",t=[N?"screen":null,C?"camera":null].filter(W.lm),n=null;N?(e="screen",n=(0,p.t)()):C&&(e="camera"),F.default.track(Y.rMx.VIDEO_INPUT_TOGGLED,{video_input_type:e,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:t,preview_enabled:A.qF.getSetting(),...n,...this.getGameMetadata(),...(0,d.AB)(r)})}if(G&&null!=U&&(U!==e.selectedGuildId||!e.connected||X&&!e.isMemberPending)){let e={...X?{is_pending:X,preview_enabled:Q}:{},postable_channels:J,premium_progress_bar_enabled:null!==(n=null===(t=y.Z.getGuild(M.Z.getGuildId()))||void 0===t?void 0:t.premiumProgressBarEnabled)&&void 0!==n&&n,viewing_all_channels:!k.ZP.isOptInEnabled(U),num_recent_channels:S.Z.recentsChannelCount(U)};(0,d.yw)(Y.rMx.GUILD_VIEWED,e),(0,h.a)(Y.rMx.GUILD_VIEWED_CLICKSTREAM,{guildId:U})}else G&&null==U&&B===Y.Z5c.FRIENDS&&(!e.connected||K!==e.friendsTabSection||B!==e.homeLink)?(0,m.Z)({tab_opened:K}):G&&null==U&&B===Y.Z5c.MESSAGE_REQUESTS&&(!e.connected||B!==e.homeLink)&&!this.isMessageRequestsInitialized&&(this.isMessageRequestsInitialized=!0,F.default.track(Y.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:ee}));if(G&&null!=D&&(!e.connected||D!==e.selectedChannelId||U!==e.selectedGuildId)){let t=e.selectedChannelId,n=Z.Z.getChannel(t),r=y.Z.getGuild(null==n?void 0:n.getGuildId());if(null!=t&&null!=n&&null!=r&&r.publicUpdatesChannelId===t){let e=R.Z.getMessages(t),l=e.toArray().reverse().find(e=>{var t;return(0,z.yE)(e.flags,Y.iLy.IS_CROSSPOST)&&(null===(t=e.messageReference)||void 0===t?void 0:t.guild_id)==="667560445975986187"});F.default.track(Y.rMx.ACK_COMMUNITY_MESSAGES,{last_message_id:null==l?void 0:l.id,last_message_reference_message_id:null==l?void 0:null===(i=l.messageReference)||void 0===i?void 0:i.message_id,messages_loaded:e.hasFetched,...(0,d.v_)(n),...(0,d.hH)(r.id)})}let l=(0,u.K)(Z.Z.getChannel(D),!0);(0,d.yw)(Y.rMx.CHANNEL_OPENED,{...l,...(0,d.$H)(D)}),(0,h.a)(Y.rMx.CHANNEL_OPENED_CLICKSTREAM,{channelId:D}),$&&(0,d.yw)(Y.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:q})}}getGameMetadata(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}}render(){return null}constructor(...e){var t,n,i;super(...e),t=this,i=!1,(n="isMessageRequestsInitialized")in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}function q(){let[e,t]=(0,l.Wu)([D.Z],()=>[D.Z.getVoiceChannelId(),D.Z.getChannelId()],[]),n=(0,l.e7)([Z.Z],()=>Z.Z.getChannel(t),[t]),r=(0,l.e7)([g.Z],()=>(null==n?void 0:n.id)!=null&&g.Z.getChatOpen(n.id),[n]),a=null==n?void 0:n.nsfw,o=(0,l.e7)([Z.Z],()=>Z.Z.getChannel(e),[e]),s=(0,l.e7)([M.Z],()=>M.Z.getGuildId(),[]),d=(0,l.e7)([y.Z],()=>y.Z.getGuild(s),[s]),u=(0,l.e7)([U.default],()=>U.default.getCurrentUser(),[]),h=(0,l.e7)([P.ZP],()=>{var e,t;return null!=u&&null!=s&&null!==(t=null===(e=P.ZP.getMember(s,u.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t},[u,s]),m=(0,l.e7)([B.ZP],()=>B.ZP.getState().section,[]),p=(0,l.e7)([G.Z],()=>G.Z.getHomeLink(),[]),f=(0,l.e7)([I.Z],()=>I.Z.isConnected(),[]),[_,v]=(0,l.Wu)([O.Z],()=>[O.Z.isVideoEnabled(),O.Z.isScreenSharing()],[]),S=(0,l.e7)([w.Z],()=>w.Z.getPrimaryActivity(),[]),T=(0,l.e7)([E.ZP],()=>E.ZP.getCurrentGameForAnalytics(),[]),b=(0,C.Z)(s),x=(0,l.e7)([N.Z],()=>N.Z.getMessageRequestsCount(),[]),A={selectedChannelId:t,isNSFWChannel:a,selectedGuildId:s,friendsTabSection:m,homeLink:p,connected:f,videoEnabled:_,isScreenSharing:v,voiceChannelId:null==o?void 0:o.id,voiceChannelGuildId:null==o?void 0:o.getGuildId(),voiceChannelType:null==o?void 0:o.type,voiceChannelBitrate:null==o?void 0:o.bitrate,runningGame:T,runningGamePid:null!=T?T.pid:null,gamePlatform:(0,c.Z)(S),gameName:null!=S?S.name:null,gameId:null!=S?S.application_id:null,gameExeName:null!=T?T.exeName:null,hasPreviewEnabled:null==d?void 0:d.features.has(Y.oNc.PREVIEW_ENABLED),isMemberPending:h,postableChannelCount:b,isTextInVoice:r,numMessageRequests:x};return(0,i.jsx)(K,{...A})}},718813:function(e,t,n){n.d(t,{Z:function(){return j}}),n(653041);var i,r=n(200651),l=n(192379),a=n(120356),o=n.n(a),s=n(748780),c=n(442837),d=n(215569),u=n(481060),h=n(37234),m=n(134616),p=n(714338),g=n(663993),f=n(84615),_=n(210887),E=n(819640),I=n(585483),C=n(981631),v=n(294981);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let N=(0,g.Un)({createPromise:()=>Promise.all([n.e("23217"),n.e("33053"),n.e("8016"),n.e("17298"),n.e("76540"),n.e("17938"),n.e("22646"),n.e("3940"),n.e("48923"),n.e("30419"),n.e("8821"),n.e("18824"),n.e("38175"),n.e("43697")]).then(n.bind(n,989804)),webpackId:989804,name:"UserSettings"}),T=(0,g.Un)({createPromise:()=>Promise.all([n.e("33053"),n.e("7654"),n.e("31113"),n.e("88403")]).then(n.bind(n,869779)),webpackId:869779,name:"ChannelSettings"}),b=(0,g.Un)({createPromise:()=>n.e("18249").then(n.bind(n,838819)),webpackId:838819,name:"CollectiblesShop"}),x=(0,g.Un)({createPromise:()=>Promise.all([n.e("63288"),n.e("33053"),n.e("17298"),n.e("7654"),n.e("98479"),n.e("31113"),n.e("60696"),n.e("58227"),n.e("16114"),n.e("62278")]).then(n.bind(n,994763)),webpackId:994763,name:"GuildSettings"}),A={[C.S9g.USER_SETTINGS]:()=>(0,r.jsx)(N,{}),[C.S9g.CHANNEL_SETTINGS]:()=>(0,r.jsx)(T,{}),[C.S9g.GUILD_SETTINGS]:()=>(0,r.jsx)(x,{}),[C.S9g.COLLECTIBLES_SHOP]:()=>(0,r.jsx)(b,{})},Z="SHOWN",L="HIDDEN",P={friction:10,tension:100};function y(){return l.useEffect(()=>(p.Z.enable(),p.Z.enableTemp(m.u),()=>p.Z.disableTemp()),[]),null}class O extends(i=l.PureComponent){static getDerivedStateFromProps(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null}componentDidUpdate(e){let{mode:t}=this.props,{mode:n}=e;return t===n?void 0:t===Z&&n===L?this.animateIn():t===L&&n===Z?this.animateUnder():void 0}componentWillEnter(e){let{opacity:t,scale:n}=this.state;n.setValue(1.1),t.setValue(0),e(),this.setState({animating:!0},()=>this.animateIn())}componentWillLeave(e){this.setState({animating:!0},()=>this.animateOut(e))}animateIn(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;s.Z.parallel([s.Z.spring(t,{toValue:1,...P}),s.Z.spring(n,{toValue:1,...P})]).start(()=>this.animateComplete(e))}animateOut(e){c.ZP.Emitter.pause(500);let{opacity:t,scale:n}=this.state;I.S.dispatch(C.CkL.LAYER_POP_START),s.Z.parallel([s.Z.spring(t,{toValue:0,...P}),s.Z.spring(n,{toValue:1.1,...P})]).start(()=>{e(),I.S.dispatch(C.CkL.LAYER_POP_COMPLETE)})}animateUnder(){c.ZP.Emitter.pause(500);let{opacity:e,scale:t}=this.state;s.Z.parallel([s.Z.spring(e,{toValue:0,...P}),s.Z.spring(t,{toValue:.93,...P})]).start(()=>this.animateComplete())}animateComplete(e){this.setState({animating:!1},e)}render(){let{animating:e}=this.state,{mode:t,children:n,baseLayer:i,...l}=this.props,a=e||t===L?this.getAnimatedStyle():null,c=(0,r.jsx)(s.Z.div,{ref:e=>this.containerRef.current=null!=e?e.refs.node:void 0,"aria-hidden":t===L,className:o()(v.layer,{[v.baseLayer]:i,[v.animating]:e,"stop-animations":t===L}),style:a,...l,children:n});return i?c:(0,r.jsx)(u.FocusLock,{containerRef:this.containerRef,children:c})}getAnimatedStyle(){let{opacity:e,scale:t}=this.state,{reducedMotion:n}=this.context;return{opacity:e,transform:n.enabled?void 0:[{scale:t},{translateZ:0}]}}constructor(e){super(e),S(this,"containerRef",l.createRef());let t=1,n=1;e.mode===L&&(t=.93,n=0),this.state={animating:!1,scale:new s.Z.Value(t),opacity:new s.Z.Value(n),mode:e.mode}}}S(O,"defaultProps",{baseLayer:!1}),S(O,"contextType",u.AccessibilityPreferencesContext);class R extends l.PureComponent{componentDidMount(){I.S.subscribe(C.CkL.LAYER_POP_ESCAPE_KEY,h.xf)}componentWillUnmount(){I.S.unsubscribe(C.CkL.LAYER_POP_ESCAPE_KEY,h.xf)}renderLayers(){let{children:e,layers:t,hasFullScreenLayer:n}=this.props,{length:i}=t,l=[];return l.push((0,r.jsx)(O,{mode:0!==i||n?L:Z,baseLayer:!0,children:e},"layer-base")),t.forEach((e,t)=>l.push(this.renderComponent(e,t,i))),l}renderComponent(e,t,n){let i;return i="string"==typeof e?A[e]():(0,r.jsx)(e,{}),(0,r.jsxs)(O,{mode:t===n-1?Z:L,children:[(0,r.jsx)(y,{}),i]},"layer-".concat(t))}renderArtisanalHack(){return(0,r.jsx)(u.ThemeProvider,{theme:this.props.sidebarTheme,children:e=>(0,r.jsx)("div",{className:o()(v.bg,e)})})}render(){return(0,r.jsxs)(r.Fragment,{children:[this.renderArtisanalHack(),(0,r.jsx)(d.W,{component:"div",className:o()(v.layers,this.props.className),children:this.renderLayers()})]})}}function j(e){let t=(0,c.e7)([_.Z],()=>_.Z.darkSidebar)?C.BRd.DARK:void 0,n=(0,c.e7)([E.Z],()=>E.Z.getLayers()),i=(0,f.QP)(e=>e.fullScreenLayers.length>0);return(0,r.jsx)(R,{...e,sidebarTheme:t,layers:n,hasFullScreenLayer:i})}},745837:function(e,t,n){n.d(t,{Z:function(){return S}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(442837),o=n(481060),s=n(547972),c=n(556296),d=n(63063),u=n(13140),h=n(435064),m=n(39604),p=n(356659),g=n(981631),f=n(332325),_=n(388032),E=n(690924);function I(e){(0,s.Z)(f.Z.CLIPS),(0,m.UW)(e)}function C(){let e=(0,a.e7)([c.Z],()=>c.Z.getKeybindForAction(g.kg4.SAVE_CLIP));if(null==e)return(0,i.jsx)(i.Fragment,{children:_.intl.string(_.t.miecxM)});let t=u.BB(e.shortcut,!0);return(0,i.jsx)(i.Fragment,{children:_.intl.format(_.t.a3HdiI,{keybind:t,keybindHook:()=>(0,i.jsx)("span",{className:E.keyCombo,children:(0,i.jsx)(o.KeyCombo,{shortcut:t})})})})}let v={[p.D5.Error]:{textColor:"text-primary",buttonLook:o.Button.Looks.FILLED,buttonColor:o.Button.Colors.PRIMARY,bodyCopy:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.WarningIcon,{size:"xs",color:"currentColor",className:E.errorWarningIcon}),_.intl.string(_.t.Sr64AA)]}),buttonCopy:()=>_.intl.string(_.t.vDGv9f),ctaOnClick:()=>{window.open(d.Z.getArticleURL(g.BhN.CLIPS),"_blank")},containerClass:E.container},[p.D5.Disabled]:{textColor:"text-primary",buttonLook:o.Button.Looks.FILLED,buttonColor:o.Button.Colors.BRAND,bodyCopy:()=>_.intl.string(_.t.MhrVg4),buttonCopy:()=>_.intl.string(_.t.GMLBKS),ctaOnClick:()=>I(p.D5.Disabled),containerClass:E.container},[p.D5.Enabled]:{textColor:"always-white",buttonLook:o.Button.Looks.FILLED,buttonColor:o.Button.Colors.BRAND_INVERTED,bodyCopy:()=>(0,i.jsx)(C,{}),buttonCopy:()=>_.intl.string(_.t.GMLBKS),ctaOnClick:()=>I(p.D5.Enabled),containerClass:l()(E.container,E.containerEnabled)}};function S(){var e;let{decoupledClipsEnabled:t,clipsError:n}=(0,a.cj)([h.Z],()=>({decoupledClipsEnabled:h.Z.getSettings().decoupledClipsEnabled,clipsError:h.Z.getLastClipsError()}));let r=(e=t,null!=n?p.D5.Error:e?p.D5.Enabled:p.D5.Disabled),{bodyCopy:l,buttonCopy:s,ctaOnClick:c,textColor:d,buttonColor:u,buttonLook:g,containerClass:f}=v[r];return(0,i.jsxs)("div",{className:f,children:[(0,i.jsx)(o.Text,{color:d,variant:"text-sm/medium",children:l()}),(0,i.jsx)(o.Button,{onClick:()=>(0,m.UW)(r),size:o.Button.Sizes.NONE,look:o.Button.Looks.BLANK,className:E.buttonClose,children:(0,i.jsx)(o.XSmallIcon,{size:"xs",color:"currentColor",className:E.dismissIcon})}),(0,i.jsx)(o.Button,{onClick:c,className:E.buttonCTA,color:u,look:g,fullWidth:!0,size:o.Button.Sizes.SMALL,children:s()})]})}},13228:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(442837),r=n(594190),l=n(480294),a=n(131951),o=n(924557),s=n(435064),c=n(779618),d=n(356659),u=n(981631);function h(e){let t=(0,o.nM)({autoTrackExposure:!0}),n=s.Z.isDecoupledGameClippingEnabled();return(0,i.e7)([s.Z,r.ZP,l.Z,a.Z],()=>{if(!(0,c.Z)(a.Z)||!t||!n)return!1;if(null!=s.Z.getLastClipsError())return!0;if(!l.Z.hasConsented(u.pjP.PERSONALIZATION)||null==r.ZP.getVisibleGame())return!1;let{clipsEducationState:{dismissedAt:i,numberOfGamesLaunchedSinceDismissal:h,numberOfTimesDismissed:m},hasTakenDecoupledClip:p,clipsSettings:{clipsEnabled:g}}=s.Z.getState();if(null===i)return!0;if(!(null!=e&&(0,o.xt)(e)))return!1;let f=Date.now()-i>d.xx,_=h>=d._U,E=g?d.xd:d.A5;return f&&_&&m<E&&!p})}},954709:function(e,t,n){var i=n(664081),r=n(570140),l=n(317770),a=n(863750),o=n(335131);class s extends l.Z{_initialize(){r.Z.subscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}_terminate(){r.Z.unsubscribe("POST_CONNECTION_OPEN",this.handlePostConnectionOpen)}handlePostConnectionOpen(){let e=a.Z.get("shop_include_unpublished");(0,o.R2)({release:e?i.P.BETA:i.P.PROD})}}t.Z=new s},699910:function(e,t,n){n.d(t,{v:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2024-08_collectibles_expiry_modal",label:"Collectibles Expiry Experiment",defaultConfig:{expiryModalEnabled:!1},treatments:[{id:1,label:"Enable collectibles expiry modal",config:{expiryModalEnabled:!0}}]}),r=e=>i.getCurrentConfig({location:e}).expiryModalEnabled},67696:function(e,t,n){n.d(t,{n:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2024-12_shop_home_experiment",label:"Shop Home API Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Use Shop Home API",config:{enabled:!0}}]}),r=e=>i.useExperiment({location:e}).enabled},744112:function(e,t,n){n.d(t,{b:function(){return r}});let i=(0,n(818083).B)({kind:"user",id:"2024-09_collectibles_shop_preload",label:"Collectibles Shop Preload",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Preloads collectible shop payload",config:{enabled:!0}}]}),r=e=>i.useExperiment({location:e}).enabled},364111:function(e,t,n){n.d(t,{E:function(){return u}}),n(47120);var i=n(192379),r=n(442837),l=n(353926),a=n(358085),o=n(335131),s=n(52030),c=n(67696),d=n(228624);function u(e){let t=(0,r.e7)([l.Z],()=>l.Z.hasLoadedExperiments),n=(0,d.hv)("useMaybeFetchCollectiblesShopHome"),u=(0,c.n)("useMaybeFetchCollectiblesShopHome"),h=(0,a.isDesktop)()||(0,a.isWeb)(),[m,p,g,f,_,E]=(0,r.Wu)([s.Z],()=>{var e,t;return[s.Z.shopBlocks,null!==(e=s.Z.lastSuccessfulFetch)&&void 0!==e?e:0,null!==(t=s.Z.lastErrorTimestamp)&&void 0!==t?t:0,s.Z.lastFetchOptions,s.Z.fetchShopHomeError,s.Z.isFetchingShopHome]}),I=(0,i.useMemo)(()=>({...e,variantsReturnStyle:n,includeBundles:h}),[e,n,h]),C=(0,i.useMemo)(()=>!(0,o.oc)(f,I),[f,I]),v=(0,i.useMemo)(()=>Date.now()-p<6e5,[p]);return(0,i.useEffect)(()=>{if(!t||!u||E)return;let e=Date.now()-g<6e5;if(null==_||!e)(C||!v)&&(0,o.Ov)(I)},[t,u,E,_,g,v,C,I]),{isFetchingShopHome:E,fetchShopHomeError:_,shopBlocks:m,refreshShopHome:(0,i.useCallback)(()=>{(0,o.Ov)(I)},[I])}}},644679:function(e,t,n){n(47120);var i=n(200651),r=n(481060),l=n(570140),a=n(317770),o=n(19780),s=n(594174),c=n(979651),d=n(960048),u=n(699910),h=n(981631);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p="CollectiblesExpiryModal";class g extends a.Z{_initialize(){l.Z.subscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal)}_terminate(){l.Z.unsubscribe("POST_CONNECTION_OPEN",this.handleMaybeOpenModal),l.Z.unsubscribe("CURRENT_USER_UPDATE",this.handleMaybeOpenModal),null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}constructor(...e){super(...e),m(this,"timeout",null),m(this,"handleMaybeOpenModal",()=>{var e,t;let n=s.default.getCurrentUser(),i=null==n?void 0:null===(e=n.avatarDecoration)||void 0===e?void 0:e.skuId,r=null==n?void 0:null===(t=n.avatarDecoration)||void 0===t?void 0:t.expiresAt;if(("1251324401459265537"===i||"1252353273256480818"===i)&&(r=1726106879),null!=r&&!!(0,u.v)("CollectiblesExpiryManager"))!this.maybeOpenModal()&&(null!=this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.maybeOpenModal,1e3*r-Date.now()+1e3))}),m(this,"maybeOpenModal",()=>{var e,t,l,a,u;let m=s.default.getCurrentUser(),g=o.Z.getState(),f=null==m?void 0:null===(e=m.avatarDecoration)||void 0===e?void 0:e.skuId,_=null==m?void 0:null===(t=m.avatarDecoration)||void 0===t?void 0:t.expiresAt;if(("1251324401459265537"===f||"1252353273256480818"===f)&&(_=1726106879),null==m)return!1;let E=c.Z.getVoiceStateForUser(m.id);return null!=_&&1e3*_<Date.now()&&g!==h.hes.RTC_CONNECTED?((0,r.closeModal)(p),(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("77370").then(n.bind(n,83950));return t=>(0,i.jsx)(e,{...t,skuId:f})},{modalKey:p}),d.Z.captureMessage("Collectible expiry modal shown"),!0):(("1251324401459265537"===f||"1252353273256480818"===f)&&d.Z.captureMessage("Collectible expiry modal not shown",{tags:{isExpired:(null!=_&&1e3*_<Date.now()).toString(),rtcConnected:(g===h.hes.RTC_CONNECTED).toString(),decoExpiresAt:null!==(a=null==_?void 0:_.toString())&&void 0!==a?a:"N/A",voiceStateAvailable:(null!=E).toString(),selfStream:null!==(u=null==E?void 0:null===(l=E.selfStream)||void 0===l?void 0:l.toString())&&void 0!==u?u:"N/A"}}),!1)})}}t.Z=new g},64220:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(200651),r=n(192379),l=n(481060),a=n(921944),o=n(388032),s=n(760312);function c(e){let{markAsDismissed:t}=e;return r.useEffect(()=>{let e=setTimeout(()=>{t(a.L.AUTO_DISMISS)},8e3);return()=>{clearTimeout(e)}},[t]),(0,i.jsxs)(l.Clickable,{className:s.container,onClick:()=>{t(a.L.USER_DISMISS)},children:[(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"always-white",children:o.intl.string(o.t.fJNqJi)}),(0,i.jsx)("div",{className:s.pointer})]})}function d(e){let{children:t,markAsDismissed:n}=e,[a,o]=r.useState(!1);return r.useEffect(()=>{let e=setTimeout(()=>{o(!0)},1e3);return()=>{clearTimeout(e)}},[o]),(0,i.jsx)(l.Popout,{position:"top",align:"left",shouldShow:a,renderPopout:()=>(0,i.jsx)(c,{markAsDismissed:n}),children:t})}},463119:function(e,t,n){n.d(t,{i:function(){return G}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(91192),s=n(442837),c=n(780384),d=n(481060),u=n(596454),h=n(515753),m=n(410030),p=n(607070),g=n(100527),f=n(906732),_=n(821982),E=n(377171),I=n(633302),C=n(153066),v=n(335131),S=n(67696),N=n(744112),T=n(267097),b=n(364111),x=n(81136),A=n(141594),Z=n(302800),L=n(981631),P=n(388032),y=n(335907);let O=e=>{let{color:t}=e;return(0,i.jsx)(d.TextBadge,{className:y.newBadge,color:null!=t?t:E.Z.STATUS_DANGER_BACKGROUND,text:P.intl.string(P.t.y2b7CA)})},R=()=>{let{noCache:e,includeUnpublished:t}=(0,x.Z)();return(0,b.E)({noCache:e,includeUnpublished:t,includeBundles:!0}),null},j=e=>{let{selected:t,locationState:n,icon:l,onMouseEnter:a,onMouseLeave:s,children:c,...u}=e,m=(0,o.JA)("shop"),p=g.Z.HOME_PAGE_SHOP_TAB,{analyticsLocations:_}=(0,f.ZP)(p),E=(0,S.n)("ShopLinkButton"),[I,C]=r.useState(!1),N=r.useCallback(()=>{E&&C(!0),(0,v.Sm)({analyticsSource:p,analyticsLocations:_})},[p,_,E,C]);return(0,i.jsxs)(i.Fragment,{children:[I&&(0,i.jsx)(R,{}),(0,i.jsx)(h.Qj,{selected:t,route:L.Z5c.COLLECTIBLES_SHOP,icon:null!=l?l:d.ShopIcon,text:P.intl.string(P.t.pWG4zc),locationState:n,...m,...u,onMouseEnter:a,onMouseLeave:s,onClick:N,children:c})]})},D=e=>{let{selected:t,locationState:n}=e;return(0,i.jsx)(j,{selected:t,locationState:n,children:(0,i.jsx)(O,{})})},M=r.memo(function(e){var t;let{displayOptions:n,assetId:r,reducedMotion:l=!1}=e,a=null!=r?(0,_.Z)(r,d.AvatarSizes.SIZE_80,!l):void 0,o=n.title(),s=null===(t=n.body)||void 0===t?void 0:t.call(n),c=null==s||""===s;return(0,i.jsxs)("div",{className:y.shopMarketingTooltipContent,children:[(0,i.jsx)("div",{className:y.avatarContainer,children:(0,i.jsx)(d.Avatar,{className:y.avatar,src:n.imageSrc,avatarDecoration:a,size:d.AvatarSizes.SIZE_80,"aria-hidden":!0})}),(0,i.jsxs)("div",{className:y.shopMarketingTooltipText,children:[(0,i.jsx)(d.Heading,{variant:c?"heading-sm/medium":"heading-sm/bold",children:o}),!c&&(0,i.jsx)(d.Text,{variant:"text-xs/normal",className:y.marketingBadgeTooltipContent,children:s})]})]})}),w=e=>{var t,n,l,o,u,h,g,f,_,E,I,v;let S,N;let{selected:T,locationState:b,displayOptions:x}=e,A=(0,s.e7)([p.Z],()=>p.Z.useReducedMotion),[Z,L]=r.useState(0),[R,D]=r.useState(!1),w=(0,m.ZP)(),k=x.entrypointDecorationAssets,U=(0,c.wj)(w);R?U?(S=null===(t=x.entryPointBackgroundAssets)||void 0===t?void 0:t.srcDarkHovered,N=null===(l=x.entrypointBackgroundStyle)||void 0===l?void 0:null===(n=l.hovered)||void 0===n?void 0:n.dark):(S=null===(o=x.entryPointBackgroundAssets)||void 0===o?void 0:o.srcLightHovered,N=null===(h=x.entrypointBackgroundStyle)||void 0===h?void 0:null===(u=h.hovered)||void 0===u?void 0:u.light):U?(S=null===(g=x.entryPointBackgroundAssets)||void 0===g?void 0:g.srcDark,N=null===(_=x.entrypointBackgroundStyle)||void 0===_?void 0:null===(f=_.resting)||void 0===f?void 0:f.dark):(S=null===(E=x.entryPointBackgroundAssets)||void 0===E?void 0:E.srcLight,N=null===(v=x.entrypointBackgroundStyle)||void 0===v?void 0:null===(I=v.resting)||void 0===I?void 0:I.light);let G=r.useCallback(e=>{L(e=>(e+1)%x.assetIds.length),D(!0),null==e||e()},[x.assetIds.length]),B=r.useCallback(e=>{D(!1),null==e||e()},[]),H=x.title();return(0,i.jsx)(d.Tooltip,{text:(0,i.jsx)(M,{displayOptions:x,assetId:x.assetIds[Z],reducedMotion:A}),tooltipClassName:y.marketingBadgeTooltip,position:"right",delay:100,allowOverflow:!0,hideOnClick:!1,"aria-label":"string"==typeof H?H:P.intl.string(P.t.rSXaxc),children:e=>(0,i.jsxs)(j,{className:null!=x.entryPointClassName?(0,C.l)(y,x.entryPointClassName):void 0,selected:T,locationState:b,icon:x.entryPointIcon,...e,onMouseEnter:()=>G(e.onMouseEnter),onMouseLeave:()=>B(e.onMouseLeave),children:[(0,i.jsx)("div",{className:y.marketingButtonBackground,style:{background:N},children:null!=S&&(0,i.jsx)("img",{src:S,className:y.marketingButtonBackgroundImage,alt:"","aria-hidden":!0})}),null!=k&&!A&&(0,i.jsx)("img",{src:(0,c.wj)(w)?k.srcDark:k.srcLight,className:a()(y.marketingButtonImage,{[y.marketingButtonImageHovered]:R}),alt:"","aria-hidden":!0}),(0,i.jsx)(O,{color:x.badgeColor})]})})},k=e=>{let{selected:t,locationState:n,displayOptions:l}=e,a=r.useMemo(()=>{var e;let t=null!=l.emojiName?null===(e=I.ZP.getByName(l.emojiName))||void 0===e?void 0:e.surrogates:null;return(0,i.jsxs)(d.Text,{variant:"text-sm/medium",className:y.marketingBadgeTooltipContent,children:[null!=t&&(0,i.jsx)(u.Z,{emojiName:t}),l.title()]})},[l]);return(0,i.jsx)(d.Tooltip,{text:a,tooltipClassName:y.marketingBadgeTooltip,position:"right",delay:100,hideOnClick:!1,"aria-label":l.title(),children:e=>(0,i.jsx)(j,{selected:t,locationState:n,...e,children:(0,i.jsx)(O,{color:l.badgeColor})})})},U=()=>((0,T.Z)(),null),G=e=>{let{selected:t,locationState:n}=e,{collectiblesShopTabNewBadgeDisplayOptions:r}=(0,A.Z)(),l=(0,N.b)("Collectibles Shop Button");if(null!=r)switch(r.type){case Z.k2.TOOLTIP:return(0,i.jsx)(k,{selected:t,locationState:n,displayOptions:r});case Z.k2.COACHTIP:return(0,i.jsx)(w,{selected:t,locationState:n,displayOptions:r});case Z.k2.BADGE:return(0,i.jsx)(D,{selected:t,locationState:n})}return(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(U,{}),(0,i.jsx)(j,{selected:t,locationState:n})]})}},118379:function(e,t,n){var i=n(663993);t.Z=(0,i.Un)({createPromise:()=>n.e("18249").then(n.bind(n,838819)),webpackId:838819})},81136:function(e,t,n){var i=n(580747);t.Z=()=>{let e=(0,i.Z)("shop_disable_cache");return{noCache:e,includeUnpublished:(0,i.Z)("shop_include_unpublished")}}},141594:function(e,t,n){n(47120);var i=n(192379),r=n(115434),l=n(264181),a=n(442837),o=n(704215),s=n(243778),c=n(594174),d=n(51144),u=n(874703),h=n(302800),m=n(921944);t.Z=()=>{var e,t,n,p,g,f,_;let E=(0,a.e7)([c.default],()=>c.default.getCurrentUser()),I=(0,a.e7)([u.Z],()=>u.Z.getMarketingBySurface(r.K.DESKTOP_SHOP_BUTTON)),C=(null==I?void 0:I.dismissibleContent)===o.z.COLLECTIBLES_SHOP_ENTRY_MARKETING,v=i.useMemo(()=>(0,d.Fc)(E)&&null!=I&&!C?[I.dismissibleContent]:[],[E,I,C]),[S,N]=(0,s.US)(v,void 0,!0),[T,b]=(0,s.XR)(C&&(null==I?void 0:I.type)===l.Z.COACHTIP?o.z.COLLECTIBLES_SHOP_ENTRY_MARKETING:null,null!==(e=null==I?void 0:I.version)&&void 0!==e?e:0,void 0,!0),x=null;if((null!=S||null!=T)&&null!=I&&I.type===l.Z.COACHTIP){x={type:h.k2.COACHTIP,title:()=>I.title,body:()=>I.body,imageSrc:I.avatar,assetIds:I.decorations,entrypointBackgroundStyle:null===(t=I.refTargetBackground)||void 0===t?void 0:t.style};let e=null===(n=I.refTargetBackground)||void 0===n?void 0:n.asset;null!=e&&(x.entryPointBackgroundAssets={srcDark:null===(p=e.resting)||void 0===p?void 0:p.dark,srcLight:null===(g=e.resting)||void 0===g?void 0:g.light,srcDarkHovered:null===(f=e.hovered)||void 0===f?void 0:f.dark,srcLightHovered:null===(_=e.hovered)||void 0===_?void 0:_.light})}return{collectiblesShopTabNewBadgeDisplayOptions:x,dismissCollectiblesShopTabNewBadge:()=>{let e=C?b:N;null!=x&&e(m.L.AUTO)}}}},314533:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(317770);let o="CONNECTIONS_GRID_MODAL_KEY";class s extends a.Z{_initialize(){l.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}_terminate(){l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow),l.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)}handleShow(e){let{onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c}=e;!(0,r.hasModalOpen)(o)&&(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("28538").then(n.bind(n,51299));return n=>(0,i.jsx)(e,{onComplete:t,excludedPlatformTypes:l,includedPlatformTypes:a,integrations:s,onCompleteApplication:c,...n})})}handleHide(){(0,r.closeModal)(o)}}t.Z=new s},507294:function(e,t,n){n.r(t),n.d(t,{openGuildRoleConnectionsConnectAccountModal:function(){return L}}),n(47120),n(536091);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(780384),c=n(481060),d=n(239091),u=n(749210),h=n(410030),m=n(726542),p=n(884338),g=n(367907),f=n(313201),_=n(598077),E=n(314897),I=n(271383),C=n(430824),v=n(626135),S=n(63063),N=n(134433),T=n(225104),b=n(981631),x=n(388032),A=n(698948),Z=n(795661);function L(e,t){(0,c.openModalLazy)(async()=>{let{default:r}=await Promise.all([n.e("56630"),n.e("82412"),n.e("83953")]).then(n.bind(n,107807));return n=>(0,i.jsx)(r,{role:e,guildId:t,...n})})}t.default=function(e){let{guildId:t,transitionState:l,onClose:P}=e,y=(0,o.e7)([C.Z],()=>C.Z.getRoles(t)),O=(0,o.e7)([E.default],()=>E.default.getId()),R=(0,o.e7)([I.ZP],()=>I.ZP.getMember(t,O)),[j,D]=r.useState([]),M=(0,h.ZP)(),w=(0,f.Dt)();if(r.useEffect(()=>{if(0!==j.length)v.default.track(b.rMx.PASSPORT_ENTRY_VIEWED,{role_ids:j.map(e=>{let{role_id:t}=e;return t}),...(0,g.hH)(t)})},[t,j]),r.useEffect(()=>{u.Z.getGuildRoleConnectionsConfigurations(t).then(e=>D(e))},[t]),null==R)return null;let k=Object.values(y).filter(e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.guild_connections)===null});return(0,i.jsxs)(c.ModalRoot,{transitionState:l,"aria-labelledby":w,className:A.modal,children:[(0,i.jsxs)(c.ModalHeader,{separator:!1,children:[(0,i.jsx)(N.Z,{className:A.headerIcon,size:24}),(0,i.jsx)(c.Heading,{variant:"text-md/medium",color:"header-primary",children:x.intl.string(x.t.ghtnsr)}),(0,i.jsx)(c.ModalCloseButton,{className:A.modalCloseButton,onClick:P})]}),(0,i.jsxs)(c.ModalContent,{className:A.container,children:[(0,i.jsx)(c.Heading,{variant:"heading-md/semibold",color:"header-primary",children:x.intl.format(x.t["Y+TsER"],{helpdeskArticleUrl:S.Z.getArticleURL(b.BhN.CONNECTION_DETAILS)})}),(0,i.jsx)("div",{className:A.verifiedRoles,children:k.map(e=>{let l=R.roles.includes(e.id),o=function(e){let n=j.find(t=>{let{role_id:n}=t;return n===e});if(null==n)return[];let r={};for(let e of n.rules.flat()){let o;if(null!=e.application_id){var l;let r=null===(l=n.applications)||void 0===l?void 0:l[e.application_id];o=(null==r?void 0:r.bot)!=null?(0,i.jsx)("img",{src:new _.Z(r.bot).getAvatarURL(t,24),alt:"",className:a()(A.botAvatar,Z.avatar)}):null}else{let t=m.Z.get(e.connection_type);o=(0,i.jsx)("img",{src:(0,s.ap)(M)?t.icon.lightSVG:t.icon.darkSVG,alt:"",className:Z.avatar})}if(null!=o)r["".concat(e.connection_type,":").concat(e.application_id)]=o}return Object.values(r)}(e.id);return(0,i.jsxs)(c.Clickable,{className:a()(A.verifiedRole,l?A.verifiedRoleHasRole:null),onClick:l?void 0:()=>L(e,t),onContextMenu:l?r=>{var l,a,o;return l=t,a=e.id,o=r,void(0,d.jW)(o,async()=>{let{default:e}=await n.e("60079").then(n.bind(n,850902));return t=>(0,i.jsx)(e,{...t,roleId:a,onLeaveRole:()=>u.Z.unassignGuildRoleConnection(l,a)})})}:void 0,children:[l?(0,i.jsx)("div",{className:A.roleCheckmark,children:(0,i.jsx)(c.CheckmarkSmallIcon,{size:"xs",color:"currentColor"})}):null,(0,i.jsx)(T.Z,{guildId:t,role:e,size:24}),(0,i.jsxs)("div",{className:A.verifiedRoleNameDescriptionContainer,children:[(0,i.jsx)(c.Text,{variant:"text-md/medium",color:"header-primary",className:A.verifiedRoleName,children:e.name}),void 0!==e.description?(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",className:A.verifiedRoleDescription,children:e.description}):null]}),(0,i.jsx)(p.Z,{showUserPopout:!1,guildId:t,users:o.map(()=>null),renderUser:(e,t,n)=>(0,i.jsx)(r.Fragment,{children:o[n]},n),max:3})]},e.id)})})]})]})}},9029:function(e,t,n){var i=n(481060),r=n(570140),l=n(317770),a=n(507294),o=n(458034);class s extends l.Z{_initialize(){r.Z.subscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}_terminate(){r.Z.unsubscribe("GUILD_ROLE_CONNECTIONS_MODAL_SHOW",this.handleShow)}handleShow(e){let{role:t,guildId:n}=e;if(!(0,i.hasModalOpen)("GUILD_ROLE_CONNECTIONS_MODAL_KEY")){var r;null!=t&&(null===(r=t.tags)||void 0===r?void 0:r.guild_connections)===null?(0,a.openGuildRoleConnectionsConnectAccountModal)(t,n):(0,o.Am)(n)}}}t.Z=new s},705348:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(324262),l=n(63063),a=n(981631),o=n(921944),s=n(388032),c=n(157476);function d(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(r.Z,{image:c,guild:t,onDismissed:()=>n(o.L.UNKNOWN),onClick:()=>{open(l.Z.getArticleURL(a.BhN.CONNECTION_DETAILS)),n(o.L.UNKNOWN)},title:s.intl.string(s.t.YMgaJi),message:s.intl.string(s.t["AV/9eX"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.LINKED_ROLES_ADMIN_NUX,type:a.vID.LINKED_ROLES_ADMIN})}},225104:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var r=n(866442),l=n(91218),a=n(518738),o=n(134433),s=n(981631);function c(e){var t;let{guildId:n,role:c,size:d,className:u}=e,h=(0,a.p9)({guildId:n,roleId:c.id,size:d});return null!=h?(0,i.jsx)(l.Z,{className:u,...h}):(0,i.jsx)(o.Z,{color:null!==(t=c.colorString)&&void 0!==t?t:(0,r.Rf)(s.p6O),className:u,size:d})}},77878:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(981631),o=n(368043);let s={EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},c={THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"},d={[a.aIt.ESRB]:{[s.EVERYONE]:o.esrbEveryone,[s.EVERYONE_TEN_PLUS]:o.esrbEveryoneTenPlus,[s.TEEN]:o.esrbTeen,[s.MATURE]:o.esrbMature,[s.ADULT]:o.esrbAdult,[s.RATING_PENDING]:o.esrbRatingPending},[a.aIt.PEGI]:{[c.THREE]:o.pegiThree,[c.SEVEN]:o.pegiSeven,[c.TWELVE]:o.pegiTwelve,[c.SIXTEEN]:o.pegiSixteen,[c.EIGHTEEN]:o.pegiEighteen}};t.Z=e=>{let{agency:t,rating:n,className:r}=e,a=d[t][n];return null==a?null:(0,i.jsx)("div",{className:l()(o.contentRating,a,r)})}},317858:function(e,t,n){n.d(t,{Z:function(){return C}}),n(47120);var i=n(192379),r=n(166516),l=n.n(r),a=n(525654),o=n.n(a),s=n(442837),c=n(888369),d=n(292959),u=n(699516),h=n(340895),m=n(358085),p=n(998502),g=n(252618),f=n(981631),_=n(388032);let E=new Set(["Blink","Gecko","WebKit"]),I=f.dG4;if(m.isPlatformEmbedded)I=e=>p.ZP.setBadge(e);else if(E.has(o().layout)){let e=new(l())({animation:"none"});I=t=>{try{(0,g.PR)(t),e.badge(-1===t?"":t)}catch(e){}}}function C(){let e=(0,s.e7)([h.Z],()=>h.Z.hasIncomingCalls()),t=(0,s.e7)([c.default,u.Z,d.Z],()=>{let e=c.default.getTotalMentionCount(),t=u.Z.getPendingCount(),n=c.default.hasAnyUnread(),i=d.Z.getDisableUnreadBadge(),r=e+t;return 0===r&&n&&!i&&(r=-1),r});i.useEffect(()=>{if(!e)return;let t=p.ZP.bounceDock("critical"),n=(0,g.EM)({messages:[_.intl.string(_.t["fk1/bW"])],count:50});return()=>{null==t||t(),n()}},[e]),i.useEffect(()=>{I(t)},[t]),i.useEffect(()=>()=>I(0),[])}},267161:function(e,t,n){n.r(t),n.d(t,{default:function(){return x},useAppSidebarState:function(){return T}});var i=n(200651),r=n(192379),l=n(15729),a=n(442837),o=n(481060),s=n(230711),c=n(174556),d=n(540059),u=n(565138),h=n(300986),m=n(314451),p=n(35583),g=n(141321),f=n(592125),_=n(430824),E=n(944486),I=n(998502),C=n(950796),v=n(981631),S=n(741764),N=n(553512);let T=(0,l.U)(()=>({isOpen:!0}));function b(){let e=(0,a.e7)([E.Z],()=>E.Z.getChannelId()),t=(0,a.e7)([f.Z],()=>f.Z.getChannel(e),[e]),n=_.Z.getGuild(null==t?void 0:t.guild_id);return null!=n&&(0,i.jsxs)("div",{className:N.guild,children:[(0,i.jsx)(u.Z,{guild:n,size:u.Z.Sizes.SMALLER,active:!0,className:N.guildIcon}),(0,i.jsx)(o.Text,{variant:"text-sm/medium",children:n.name})]})}function x(){r.useLayoutEffect(()=>{I.ZP.setMinimumSize(S.J,S.N)},[]);let e=(0,d.TH)("AppTitleBar"),t=T(e=>e.isOpen),{hasBugReporterAccess:n}=c.Z.useExperiment({location:"HeaderBar"},{autoTrackExposure:!1});return r.useLayoutEffect(()=>{I.ZP.setMinimumSize(S.J,S.N)},[]),(0,i.jsx)(C.T,{leading:!t&&e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Clickable,{className:N.button,onClick:()=>{T.setState({isOpen:!T.getState().isOpen})},children:(0,i.jsx)(A,{})}),(0,i.jsx)(o.Clickable,{className:N.button,onClick:()=>{s.Z.open(v.oAB.ACCOUNT)},children:(0,i.jsx)(o.SettingsIcon,{size:"xs",color:"currentColor"})})]}),title:!1,trailing:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{className:N.button}),n?(0,i.jsx)(m.Z,{className:N.button}):(0,i.jsx)(h.Z,{className:N.button}),(0,i.jsx)(p.Z,{className:N.button})]})})}function A(){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:N.icon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[(0,i.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,i.jsx)("path",{d:"M9 3v18"})]})}},635395:function(e,t,n){n(47120);var i,r,l=n(192379),a=n(442837),o=n(846027),s=n(230711),c=n(888369),d=n(131951),u=n(292959),h=n(19780),m=n(699516),p=n(606304),g=n(358085),f=n(998502),_=n(981631);(r=i||(i={})).DEFAULT="DEFAULT",r.UNREAD="UNREAD",r.CONNECTED="CONNECTED",r.SPEAKING="SPEAKING",r.MUTED="MUTED",r.DEAFENED="DEAFENED";let E=(0,g.isMac)()?null:"DEFAULT";class I extends l.PureComponent{componentDidMount(){f.ZP.setSystemTrayIcon(this.getIcon())}componentDidUpdate(){f.ZP.setSystemTrayIcon(this.getIcon())}componentWillUnmount(){f.ZP.setSystemTrayIcon(E)}render(){return null}constructor(...e){var t,n,i;super(...e),t=this,n="getIcon",i=()=>{let{deafened:e,muted:t,speaking:n,connected:i,unread:r}=this.props,l=E;return(0,g.isMac)()&&!i?l:(0,g.isLinux)()||!i?(r&&(l="UNREAD"),l):l=e?"DEAFENED":t?"MUTED":n?"SPEAKING":"CONNECTED"},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}let C=()=>null;g.isPlatformEmbedded&&(f.ZP.on("SYSTEM_TRAY_TOGGLE_MUTE",()=>o.Z.toggleSelfMute({location:"System Tray"})),f.ZP.on("SYSTEM_TRAY_TOGGLE_DEAFEN",()=>o.Z.toggleSelfDeaf()),f.ZP.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",()=>{s.Z.open(_.oAB.VOICE)}),C=a.ZP.connectStores([h.Z,d.Z,p.Z,c.default,m.Z,u.Z],()=>{let e=c.default.getTotalMentionCount(),t=c.default.hasAnyUnread(),n=m.Z.getPendingCount(),i=u.Z.getDisableUnreadBadge();return{connected:h.Z.isConnected(),speaking:p.Z.isCurrentUserSpeaking(),muted:d.Z.isSelfMute()||d.Z.isSelfMutedTemporarily(),deafened:d.Z.isSelfDeaf(),unread:!i&&!!(t||e+n>0)}})(I)),t.Z=C},264165:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(261535);t.Z=e=>{let{aspectRatio:t,style:n,className:r,children:o}=e;return(0,i.jsx)("div",{className:l()(a.outer,r),style:{paddingTop:"".concat(1/t*100,"%"),...n},children:(0,i.jsx)("div",{className:a.inner,children:o})})}},935347:function(e,t,n){n(653041);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(442837),d=n(433517),u=n(481060),h=n(205355),m=n(607070),p=n(38618),g=n(197344),f=n(474873),_=n(706454),E=n(215427),I=n(820254),C=n(358085),v=n(557177),S=n(998502),N=n(905656),T=n(981631),b=n(388032),x=n(38179);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends r.PureComponent{createSound(){let{soundpack:e}=this.props,t=(0,v.uk)("discodo",e);return t.volume=1,t}componentDidMount(){this.setProblemsTimeout()}componentDidUpdate(e,t){let{ready:n,hide:i,problems:r}=this.state,{connected:l,soundpack:a}=this.props,o=l&&n&&!i&&!r;e.soundpack!==a&&(this._connectedSound=this.createSound()),e.connected!==l||o?(l&&null!=this.videoRef&&d.K.get(T.wli)&&this._connectedSound.play(),this.setState({problems:!1,hide:l})):t.hide!==i?(i?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),setTimeout(()=>this.setState({shouldRender:!i}),200)):t.problems!==r&&r&&h.Z.checkIncidents()}componentWillUnmount(){this.clearProblemsTimeout()}render(){let{connected:e,incident:t}=this.props,{hide:n}=this.state;if(!this.state.shouldRender)return null;{let r=this._loadingText,l=null;return null!=this._eventLoadingText&&(r=this._eventLoadingText),null!=t&&(r=t.name,l=t.incident_updates[0].body),(0,i.jsxs)("div",{className:x.container,"data-fade":n,style:{"--connecting-container-fade-duration":"".concat(200,"ms"),"--connecting-content-fade-duration":"".concat(150,"ms")},children:[(0,i.jsxs)("div",{className:x.content,children:[(0,i.jsx)(N.Z,{autoPlay:!0,loop:!e,setRef:this.setVideoRef,onReady:this.handleReady,className:a()(x.spinner,this.state.ready?x.ready:"")}),(0,i.jsxs)("div",{className:x.text,children:[null!=t?null:(0,i.jsx)("div",{className:x.tipTitle,children:b.intl.string(b.t.v0R1Li)}),(0,i.jsx)("div",{className:null!=t?x.title:x.tip,children:r}),(0,i.jsx)("div",{className:x.body,children:l})]})]}),(0,i.jsxs)("div",{className:a()(x.problems,{[x.slideIn]:this.state.problems}),children:[(0,i.jsx)("div",{className:x.problemsText,children:b.intl.string(b.t.AG2zPD)}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(u.Anchor,{className:x.twitterLink,href:T.yXt.TWITTER_SUPPORT,target:"_blank",children:[(0,i.jsx)(u.XNeutralIcon,{size:"xs",color:"currentColor",className:x.icon}),b.intl.string(b.t.KlyTbm)]}),(0,i.jsxs)(u.Anchor,{className:x.statusLink,href:T.yXt.STATUS,target:"_blank",children:[(0,i.jsx)(I.Z,{className:x.icon}),b.intl.string(b.t.AgXXy8)]})]})]})]})}}constructor(e){super(e),A(this,"videoRef",null),A(this,"_noProblemsTimeout",null),A(this,"_problemsTimeout",null),A(this,"_connectedSound",this.createSound()),A(this,"_loadingText",function(){let e=[b.intl.string(b.t.Ex79Ky),b.intl.string(b.t["+v5zsb"]),b.intl.string(b.t["RLx6+f"]),b.intl.string(b.t.Q1PZkJ),b.intl.string(b.t.x7sfVl),b.intl.format(b.t.PHuQsb,{tabHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"tab",className:x.keybind},t)}),b.intl.string(b.t.UorX4e),b.intl.string(b.t["il/GZm"]),b.intl.string(b.t.HKBJv7),b.intl.format(b.t["FVVp7+"],{F6Hook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"f6",className:x.keybind},t),tabHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"tab",className:x.keybind},t)}),b.intl.string(b.t["7Y1hFB"]),b.intl.string(b.t["UcCW7+"]),b.intl.string(b.t.E5GhfX),b.intl.string(b.t.bANqo6),b.intl.string(b.t.yOEVDg),b.intl.string(b.t["u0Ra/P"]),b.intl.string(b.t.un4cQ0),b.intl.string(b.t["2cyYx8"]),b.intl.string(b.t.KCmze3),b.intl.string(b.t["C+hUc3"]),b.intl.string(b.t.I98MEB),b.intl.format(b.t.c0YCIy,{}),b.intl.string(b.t.z8AvIC),b.intl.string(b.t.IjX3Pz),b.intl.string(b.t.lg3CkZ),b.intl.string(b.t["4GaLhY"]),b.intl.string(b.t.qHKbU1),b.intl.string(b.t.mJxKDw),b.intl.string(b.t.iiQBXF),b.intl.string(b.t.YPD46e),b.intl.string(b.t.O8BpgY),b.intl.string(b.t.xzFwfn),b.intl.string(b.t["4G3fsb"]),b.intl.string(b.t["/jPyKC"]),b.intl.string(b.t["8x7D5e"]),b.intl.string(b.t.G6Q8Hx),b.intl.string(b.t["9Cx+xM"]),b.intl.string(b.t.WsZ8dX),b.intl.string(b.t.btoe7O),b.intl.string(b.t.E6Y0j4),b.intl.string(b.t["7KZ819"]),b.intl.string(b.t.hm7OKi),b.intl.string(b.t.H535i4),b.intl.string(b.t["08WJUV"]),b.intl.string(b.t.hhtfys),b.intl.string(b.t.on980d),b.intl.string(b.t.AL6c09),b.intl.string(b.t.iLTeFx),b.intl.string(b.t.b3vSu7),b.intl.string(b.t["f8ao5+"]),b.intl.format(b.t["1v1h8v"],{asterisks:"**"}),b.intl.format(b.t.MUlAVV,{quickSwitcherHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"mod+k",className:x.keybind},t)}),b.intl.format(b.t.aes5VF,{markUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"alt+click",className:x.keybind},t)}),b.intl.format(b.t.md9Svr,{markServerUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+esc",className:x.keybind},t)}),b.intl.format(b.t["X0Tu+v"],{navigateUnreadHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+alt+up",className:x.keybind},t),downHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"down",className:x.keybind},t)}),b.intl.format(b.t.AkoeIS,{keyboardShortcutsHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"mod+/",className:x.keybind},t)}),b.intl.format(b.t.P9sfAA,{messageNewlineHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift+return",className:x.keybind},t)}),b.intl.format(b.t["3Ox33d"],{shiftHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"shift",className:x.keybind},t)}),b.intl.format(b.t.enCV6e,{upHook:(e,t)=>(0,i.jsx)(u.KeyCombo,{shortcut:"up",className:x.keybind},t)})];return _.default.locale.startsWith("en-")&&e.push(b.intl.string(b.t.dQ9Wqq)),e[s().random(e.length-1)]}()),A(this,"_eventLoadingText",function(){let e=g.Z.getLoadingTips();if(null!=e&&e.length>0)return e[s().random(e.length-1)]}()),A(this,"handleReady",()=>{this.setState({ready:!0}),(0,C.isDesktop)()&&(S.ZP.send("UPDATED_QUOTES",["Hold Tight  Loading Discord"]),S.ZP.send("UPDATE_OPEN_ON_STARTUP"))}),A(this,"setVideoRef",e=>{this.videoRef=e}),A(this,"setProblemsTimeout",()=>{null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(()=>this.setState({problems:!0}),1e4))}),A(this,"clearProblemsTimeout",()=>{clearTimeout(this._problemsTimeout),this._problemsTimeout=null});let{connected:t}=e;this.state={ready:t,hide:t,problems:!1,shouldRender:!t},this._connectedSound.volume=1}}t.Z=c.ZP.connectStores([p.Z,E.Z,f.Z,m.Z],()=>({isTryingToConnect:p.Z.isTryingToConnect(),connected:p.Z.isConnected(),incident:E.Z.getIncident(),soundpack:f.Z.getSoundpack(),reducedMotion:m.Z.useReducedMotion}))(e=>{let{isTryingToConnect:t,connected:n,incident:r,soundpack:l,reducedMotion:a}=e;return t?(0,i.jsx)(Z,{reducedMotion:a,soundpack:l,connected:n,incident:r}):null})},606081:function(e,t,n){n(411104);var i,r,l,a,o,s,c,d,u,h=n(200651),m=n(192379);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(s=i||(i={})).THING="Thing",s.PERSON="Person",s.PRODUCT="Product",s.OFFER="Offer",s.AGGREGATE_OFFER="AggregateOffer",s.RATING="Rating",s.AGGREGATE_RATING="AggregateRating",s.ORGANIZATION="Organization",s.ITEM_PAGE="ItemPage",s.UNIT_PRICE_SPECIFICATION="UnitPriceSpecification",s.QUANTITATIVE_VALUE="QuantitativeValue";function g(e,t){return{"@type":e,...function e(t){return Object.keys(t).forEach(n=>{null==t[n]?delete t[n]:"object"==typeof t[n]&&(t[n]=e(t[n]))}),t}(function(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw Error("[JSONLD] Invalid object format")}return t}(t))}}function f(e){return g("Thing",e)}function _(e){return g("Product",e)}_.Image=function(e){if(null==e)return null;let t=e.filter(e=>null!=e&&""!==e);return 0===t.length?null:1===t.length?t[0]:t};function E(e){return g("Offer",e)}function I(e){return g("QuantitativeValue",e)}(c=r||(r={})).DAMAGED="http://schema.org/DamagedCondition",c.NEW="http://schema.org/NewCondition",c.REFURBISHED="http://schema.org/RefurbishedCondition",c.USED="http://schema.org/UsedCondition",(d=l||(l={})).DISCONTINUED="http://schema.org/Discontinued",d.IN_STOCK="http://schema.org/InStock",d.IN_STORE_ONLY="http://schema.org/InStoreOnly",d.LIMITED_AVAILABILITY="http://schema.org/LimitedAvailability",d.ONLINE_ONLY="http://schema.org/OnlineOnly",d.OUT_OF_STOCK="http://schema.org/OutOfStock",d.PREORDER="http://schema.org/PreOrder",d.PRESALE="http://schema.org/PreSale",d.SOLD_OUT="http://schema.org/SoldOut",E.ItemConditions=r,E.ItemAvailability=l,(u=a||(a={})).YEARLY="ANN",u.MONTHLY="MON",I.UnitCodes=a;class C extends(o=m.Component){render(){let{debug:e,data:t}=this.props,n=JSON.stringify({"@context":"http://schema.org",...t});return(0,h.jsx)("script",{type:"application/ld+json",children:n})}}p(C,"Thing",f),p(C,"Brand",f),p(C,"Person",function(e){return g("Person",e)}),p(C,"Organization",function(e){return g("Organization",e)}),p(C,"ItemPage",function(e){return g("ItemPage",e)}),p(C,"Product",_),p(C,"Offer",E),p(C,"Rating",function(e){return g("Rating",e)}),p(C,"AggregateRating",function(e){return g("AggregateRating",e)}),p(C,"AggregateOffer",function(e){return g("AggregateOffer",e)}),p(C,"QuantitativeValue",I),p(C,"UnitPriceSpecification",function(e){return g("UnitPriceSpecification",e)}),t.Z=C},950796:function(e,t,n){n.d(t,{T:function(){return I}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(428548),c=n(679219),d=n(939039),u=n(358085),h=n(998502),m=n(388032),p=n(565923);let g=e=>h.ZP.close(e),f=e=>h.ZP.minimize(e),_=(e,t)=>{(0,u.isMac)()&&!t.altKey?h.ZP.fullscreen(e):h.ZP.maximize(e)};function E(e){let{windowKey:t,showDivider:n}=e,r=(0,i.jsx)(o.Clickable,{className:a()(p.winButton,p.winButtonClose),onClick:()=>g(t),"aria-label":m.intl.string(m.t.ZdNUj4),tabIndex:-1,children:(0,i.jsx)(s.Z,{})}),l=(0,i.jsx)(o.Clickable,{className:a()(p.winButton,p.winButtonMinMax),onClick:e=>_(t,e),"aria-label":m.intl.string(m.t.G1u0hI),tabIndex:-1,children:(0,i.jsx)(c.Z,{})}),u=(0,i.jsx)(o.Clickable,{className:a()(p.winButton,p.winButtonMinMax),onClick:()=>f(t),"aria-label":m.intl.string(m.t.CxOC4e),tabIndex:-1,children:(0,i.jsx)(d.Z,{})});return(0,i.jsxs)("div",{className:a()(p.winButtons,{[p.winButtonsWithDivider]:n}),children:[u,l,r]})}function I(e){let{leading:t,title:n,trailing:l,windowKey:a}=e,o=(0,u.getPlatform)()===u.PlatformTypes.WINDOWS,s=r.useCallback(()=>{(0,u.isMac)()&&h.ZP.maximize()},[]);function c(e){e.stopPropagation()}return(0,i.jsxs)("div",{className:p.bar,onDoubleClick:s,children:[(0,i.jsx)("div",{className:p.title,children:n}),(0,i.jsx)("div",{className:p.leading,onDoubleClick:c,children:t}),(0,i.jsxs)("div",{className:p.trailing,onDoubleClick:c,children:[l,o&&(0,i.jsx)(E,{windowKey:a,showDivider:null!=l})]})]})}},548816:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(517055);function s(e){let{padded:t=!0,inset:n=!1,active:r=!1,className:s,children:c,onClick:d,...u}=e;return null!=d?(0,i.jsx)(a.Clickable,{onClick:d,tabIndex:null!=d?0:-1,className:l()(s,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:r,[o.interactive]:null!=d}),...u,children:c}):(0,i.jsx)("div",{className:l()(s,{[o.outer]:!n,[o.inset]:n,[o.padded]:t,[o.active]:r}),...u,children:c})}},120998:function(e,t,n){n(47120);var i,r=n(200651),l=n(192379),a=n(392711),o=n.n(a),s=n(302221),c=n(911785);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends(i=l.PureComponent){onDataUpdate(e,t){let{maxValue:n,data:i,animate:r}=this.props,l=null==e||e.data!==t.data&&!o().isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=n?n:Math.max(...i)),l||null==e||!e.animate&&r||e.color!==this.props.color){let e=s.oo(this.props.color);this.fillColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", 0.5)"),window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}}componentDidMount(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)}componentDidUpdate(e){this.onDataUpdate(e,this.props)}componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0}render(){let{className:e,pixelWidth:t,pixelHeight:n}=this.props;return(0,r.jsx)("div",{className:e,children:(0,r.jsx)("canvas",{ref:this.canvas,className:c.canvas,width:t,height:n})})}constructor(...e){super(...e),d(this,"dataChangedAt",void 0),d(this,"fillColor",void 0),d(this,"maxValue",void 0),d(this,"canvas",l.createRef()),d(this,"animationFrameRequestId",void 0),d(this,"updateAnimation",e=>{let t,n;let i=this.canvas.current;if(null==i)return;let{data:r,updateInterval:l,color:a,numUpdatesToShow:o,lineWidth:c,animate:d,gradientStopColor:u}=this.props;if(r.length<2)return;let h=Math.max(Math.min((e-this.dataChangedAt)/l,1),0),m=i.getContext("2d"),p=this.maxValue;m.strokeStyle=a,m.lineWidth=c;let g=i.height-m.lineWidth,f=m.createLinearGradient(0,0,0,g);if(null!=u)f.addColorStop(0,u);else{let{r:e,g:t,b:n}=s.oo(a);f.addColorStop(0,"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0)"))}f.addColorStop(1,this.fillColor),m.fillStyle=f;let _=r.length>=o?o:r.length;m.setTransform(1,0,0,-1,0,i.height),m.clearRect(0,0,i.width,i.height),m.translate(0,.5*m.lineWidth);let E=Math.floor(i.width/(_-3)),I=.5*E;m.translate(E-E*h,0),m.beginPath();let C=-E;r.forEach((e,i)=>{t={x:C,y:g*e/p},0===i?m.moveTo(t.x,t.y):m.bezierCurveTo(n.x+I,n.y,t.x-I,t.y,t.x,t.y),n=t,C+=E}),m.stroke(),m.lineTo(C-E,0),m.lineTo(0,0),m.fill(),d&&h<1&&(this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation))})}}d(u,"defaultProps",{animate:!0}),t.Z=u},423e3:function(e,t,n){n.d(t,{M:function(){return c}});var i=n(927723),r=n(703656),l=n(896797),a=n(984933),o=n(944486),s=n(981631);function c(e,t){if((0,i.k)({kind:"channel"}),o.Z.getChannelId(e)===t){var n;(0,r.dL)(s.Z5c.CHANNEL(e,null===(n=a.ZP.getDefaultChannel(e))||void 0===n?void 0:n.id))}else(0,r.dL)(l.Z.defaultRoute)}},823169:function(e,t,n){n(47120);var i=n(570140),r=n(317770),l=n(430824),a=n(594174),o=n(358085),s=n(53365),c=n(981631);class d extends r.Z{_initialize(){i.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}_terminate(){i.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)}constructor(...e){var t,n,i;super(...e),t=this,n="maybeFetchEligiblity",i=async()=>{if((0,o.isDesktop)()||(0,o.isWeb)()){let e=Object.values(l.Z.getGuilds()),t=a.default.getCurrentUser(),n=e.filter(e=>e.isOwner(t)&&!e.hasFeature(c.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(c.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.hasFeature(c.oNc.CREATOR_MONETIZABLE)||e.hasFeature(c.oNc.CREATOR_MONETIZABLE_PROVISIONAL)));n.length>0&&await (0,s.av)(n.map(e=>e.id))}},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=new d},427217:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(788307),o=n(874751);function s(e){let{activity:t,className:n,emojiClassName:r,textClassName:s,placeholderText:c,soloEmojiClassName:d,animate:u=!0,hideTooltip:h=!1,hideEmoji:m=!1,children:p}=e;if(null==t)return null;let{emoji:g}=t,f=null!=t.state&&""!==t.state?t.state:c;return(0,i.jsxs)("div",{className:l()(o.__invalid_container,n),children:[m||null==g?null:(0,i.jsx)(a.Iv,{emoji:g,className:l()(o.emoji,r,null!=d?{[d]:null==f||""===f}:null),animate:u,hideTooltip:h}),null!=f&&f.length>0?(0,i.jsx)("span",{className:s,children:f}):null,p]})}},741764:function(e,t,n){n.d(t,{J:function(){return i},N:function(){return r}});let i=320,r=500},845767:function(e,t,n){n(47120);var i=n(570140),r=n(317770),l=n(594174);class a extends r.Z{_initialize(){i.Z.subscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),i.Z.subscribe("LOGOUT",this._maybeStopDevSession)}_terminate(){i.Z.unsubscribe("POST_CONNECTION_OPEN",this._maybeStartDevSession),i.Z.unsubscribe("LOGOUT",this._maybeStopDevSession)}_maybeStartDevSession(){if(null==window.DiscordDevSession||!0!==window.__METICULOUS_ENABLED)return;let e=l.default.getCurrentUser();if((null==e?void 0:e.email)==null||e.isStaff())return;let[t]=e.email.split("@"),n=t.includes("+"),i=e.username.startsWith("mtcls");n&&i?window.DiscordDevSession.start():window.DiscordDevSession.stop()}_maybeStopDevSession(){null!=window.DiscordDevSession&&window.DiscordDevSession.started&&window.DiscordDevSession.stop()}}t.Z=new a},176787:function(e,t,n){n.d(t,{bG:function(){return l},bY:function(){return c}});var i,r,l,a,o=n(358085),s=n(75060);(i=l||(l={}))[i.UNHANDLED=-1]="UNHANDLED",i[i.NOMINAL=0]="NOMINAL",i[i.FAIR=1]="FAIR",i[i.SERIOUS=2]="SERIOUS",i[i.CRITICAL=3]="CRITICAL",(r=a||(a={}))[r.NONE=0]="NONE",r[r.LIGHT=1]="LIGHT",r[r.MODERATE=2]="MODERATE",r[r.SEVERE=3]="SEVERE",r[r.CRITICAL=4]="CRITICAL",r[r.EMERGENCY=5]="EMERGENCY",r[r.SHUTDOWN=6]="SHUTDOWN";function c(){return function(e){if(null==e)return -1;if((0,o.isIOS)())return e;if(!(0,o.isAndroid)())return -1;else switch(e){case 0:return 0;case 1:case 2:return 1;case 3:return 2;case 4:case 5:case 6:return 3;default:return -1}}(s.Z.getRawThermalState())}},620360:function(e,t,n){var i=n(570140),r=n(211644);t.Z={init(){i.Z.subscribe("CONNECTION_OPEN",()=>{(0,r.mc)()}),i.Z.subscribe("LOGOUT",()=>{(0,r.mc)()})}}},934401:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(353926),d=n(160462);function u(){d.W.trigger()}class h extends(a=o.ZP.Store){initialize(){this.waitFor(c.Z)}constructor(){super(s.Z,{CONNECTION_OPEN:u},s.c.Early)}}l="ExperimentTriggerPointStore",(r="displayName")in(i=h)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,new h},160462:function(e,t,n){n.d(t,{W:function(){return Z}});var i=n(214629),r=n(424602),l=n(291574),a=n(574410),o=n(162461),s=n(539746),c=n(926061),d=n(216742),u=n(330791),h=n(982330),m=n(621012),p=n(907877),g=n(278788),f=n(646476),_=n(522558),E=n(599659),I=n(163684),C=n(857753),v=n(722932),S=n(125900),N=n(922611),T=n(91641),b=n(598984),x=n(987338);let A=[b.NR,b.ZI,b.Ob,b.uc,b.m1,s.J$,u.bb,I.g,E.O,_.w,r._f,l.Z,d.g,a.w,N.S2,m.m,p.Q,S.J2,c.Zq,v.zv,h.Yu,i.ZP,o.mN,f.ZP,f.Ys,g.HZ,C.Y],Z=new T.E(A,x.$P.CONNECTION_OPEN,{location:"app open"})},96051:function(e,t,n){var i=n(570140),r=n(317770),l=n(117984);function a(e){let{channel:{id:t}}=e;(0,l.oC)(t)}class o extends r.Z{_initialize(){i.Z.subscribe("CHANNEL_DELETE",a)}_terminate(){i.Z.unsubscribe("CHANNEL_DELETE",a)}}t.Z=new o},750995:function(e,t,n){var i=n(200651);n(192379);var r=n(704215),l=n(481060),a=n(570140),o=n(317770),s=n(605236),c=n(650774),d=n(430824),u=n(496675),h=n(228392),m=n(981631),p=n(921944);let g=e=>{var t;let n=d.Z.getGuild(e),i=!!(null==n?void 0:n.hasFeature(m.oNc.COMMUNITY)),l=u.Z.can(m.Plq.MANAGE_CHANNELS,n),a=(0,s.un)(r.z.FORUM_CHANNEL_UPSELL_MODAL),o=null!==(t=c.Z.getMemberCount(e))&&void 0!==t?t:0;return i&&l&&!a&&o>=200};class f extends o.Z{_initialize(){a.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)}_terminate(){a.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)}handleChannelSelect(e){let{guildId:t}=e;if(null==t||!g(t))return;(0,h.qz)(),(0,s.kk)(r.z.FORUM_CHANNEL_UPSELL_MODAL);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.L.DISMISS;(0,s.EW)(r.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})};(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("18417").then(n.bind(n,740696));return n=>(0,i.jsx)(e,{...n,onClose:e=>{a(e),n.onClose()},guildId:t,shouldUpsellCreation:!0})},{onCloseCallback:()=>(0,s.EW)(r.z.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:p.L.DISMISS}),onCloseRequest:m.VqG})}}t.Z=new f},388380:function(e,t,n){var i=n(544891),r=n(570140),l=n(981631);t.Z={async fetch(){try{let e=await i.tn.get({url:l.ANM.FRIEND_SUGGESTIONS,rejectWithError:!0});r.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body})}catch(e){r.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"})}},ignore(e){i.tn.del({url:l.ANM.FRIEND_SUGGESTION(e),rejectWithError:!0})}}},5254:function(e,t,n){n(47120);var i,r,l,a,o=n(392711),s=n.n(o),c=n(442837),d=n(570140),u=n(598077),h=n(594174),m=n(388380),p=n(72937);let g={},f=0,_=!1,E=!1;function I(e){var t;let n=null!=e.contact_names&&e.contact_names.length>=2?e.contact_names.slice(0,2):[];return{key:e.suggested_user.id,name:null===(t=s().first(e.reasons))||void 0===t?void 0:t.name,user:new u.Z(e.suggested_user),mutualFriendsCount:e.mutual_friends_count,contactNames:n}}class C extends(i=c.ZP.Store){initialize(){this.waitFor(h.default)}getSuggestionCount(){return f}getSuggestions(){return Object.entries(g).map(e=>{let[t,n]=e;return n})}getSuggestion(e){return g[e]}}a="FriendSuggestionStore",(l="displayName")in(r=C)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,t.Z=new C(d.Z,{CONNECTION_OPEN:function(e){g={},(f=e.friendSuggestionCount)>0?(E=!0,_||!E||(_=!0,E=!1,m.Z.fetch())):(0,p.Z)()},FRIEND_SUGGESTION_CREATE:function(e){let t=I(e.suggestion);if(null!=g[t.key])return!1;f++,g={...g,[t.key]:t}},FRIEND_SUGGESTION_DELETE:function(e){f=Math.max(0,--f),delete g[e.suggestedUserId]},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){var t;_=!1,t=e.suggestions,g=s().chain(t).map(e=>I(e)).keyBy(e=>e.key).value(),f=s().keys(g).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){_=!1,g={}}})},72937:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(570140),r=n(594174);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.MAX_VALUE}},935261:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(442837),o=n(481060),s=n(797258),c=n(374129),d=n(639351),u=n(565473),h=n(927923),m=n(388032),p=n(531524);function g(e){let{platform:t}=e;return t===h.YE.XBOX?(0,i.jsx)(d.Z,{className:p.icon}):t===h.YE.PLAYSTATION?(0,i.jsx)(c.Z,{className:p.icon}):null}function f(e){let{voiceState:t,awaitingRemoteSessionInfo:n}=e,r=null!=n?(0,u.y)(n.type):null,c=(0,a.e7)([s.Z],()=>{var e,n;return null===(e=s.Z.getSessionById(null!==(n=null==t?void 0:t.sessionId)&&void 0!==n?n:""))||void 0===e?void 0:e.clientInfo.os}),d=null!=r?r:c;if(null==d||!h.al.has(d))return null;let f=null!=n,_=f?d===h.YE.XBOX?m.intl.string(m.t.UjA4HR):m.intl.string(m.t.QCw1oa):d===h.YE.XBOX?m.intl.format(m.t["ynEs/f"],{}):m.intl.format(m.t.TZ17Bg,{});return(0,i.jsxs)("div",{className:l()(p.root,f?p.connecting:p.connected),children:[(0,i.jsx)(g,{platform:d}),(0,i.jsx)(o.Text,{color:f?"header-primary":"always-white",variant:"text-xs/medium",children:_})]})}},408026:function(e,t,n){n(47120);var i=n(570140),r=n(224706),l=n(710845),a=n(77498);let o={};function s(e){let{name:t,hash:n,missingData:i}=e;for(let e of(a.Z.markGameReported(t),i)){if("icon"===e){let e=o[t];null!=e&&r.Z.uploadIcon(t,n,e);return}new l.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(e))}}function c(e){let{gameName:t,icon:n}=e;o[t]=n}t.Z={initialize(){i.Z.subscribe("UNVERIFIED_GAME_UPDATE",s),i.Z.subscribe("GAME_ICON_UPDATE",c)}}},763916:function(e,t,n){var i=n(570140),r=n(812206),l=n(877481),a=n(592745);function o(e){let{gameId:t}=e;!function(e){let t;let n=a.Z.launchableGames[e],o=r.Z.getApplication(e);(t=null!=o?l.Z.isLaunchable(o):l.Z.isGameLaunchable(e)).then(t=>{t!==n&&i.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:t})})}(t)}t.Z={initialize(){i.Z.subscribe("CHECK_LAUNCHABLE_GAME",o)}}},306721:function(e,t,n){var i=n(401430),r=n(283595),l=n(695103);t.Z={init(){r.Z.whenInitialized(()=>{null!=l.Z.testModeApplicationId&&(0,i.Wt)(l.Z.testModeApplicationId,l.Z.testModeOriginURL)})}}},531551:function(e,t,n){n(411104);var i=n(570140),r=n(51025),l=n(314897),a=n(804739);function o(){if(!(0,a.Q)())return;let e=l.default.getToken(),t=l.default.getId();if(null==e)throw Error("missing user token");r.S1(e,t)}function s(){r.ob()}t.Z={init(){i.Z.subscribe("CONNECTION_OPEN",o),i.Z.subscribe("LOGOUT",s)}}},304106:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(55935),c=n(981631),d=n(388032),u=n(409367);let h=e=>{let{IconComponent:t,className:n}=e;return(0,i.jsx)("div",{className:a()(u.iconCircle,n),children:(0,i.jsx)(t,{className:u.icon,color:"currentColor"})})},m=e=>{let{circle:t,smallHeader:n,text:r,className:l}=e;return(0,i.jsxs)("div",{className:a()(u.recommendationReason,l),children:[t,(0,i.jsxs)("div",{className:u.description,children:[null!=n?(0,i.jsx)("div",{className:u.smallHeader,children:n}):null,(0,i.jsx)("div",{className:u.text,children:r})]})]})};class p extends r.Component{render(){let{reason:e,className:t}=this.props;if(e.type===c.AzA.RECENT_RELEASE_DATE)return(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:o.CalendarIcon}),smallHeader:d.intl.string(d.t.u81aYW),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.RELEASE_DATE)return(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:o.CalendarIcon}),smallHeader:d.intl.string(d.t.qpwaNT),text:(0,s.vc)(e.releaseDate,"LL")});if(e.type===c.AzA.EARLY_ACCESS)return null!=e.releaseDate?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:o.LockUnlockedIcon,className:u.earlyAccess}),smallHeader:d.intl.string(d.t.HYys0t),text:(0,s.vc)(e.releaseDate,"LL")}):(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:o.LockUnlockedIcon,className:u.earlyAccess}),text:d.intl.string(d.t.HYys0t)});return e.type===c.AzA.FLAVOR_TEXT?(0,i.jsx)(m,{circle:(0,i.jsx)(h,{IconComponent:o.CheckmarkLargeIcon}),text:e.flavorText,className:t}):e.type===c.AzA.HAS_FREE_PREMIUM_CONTENT?(0,i.jsx)(m,{className:t,circle:(0,i.jsx)(h,{IconComponent:o.NitroWheelIcon,className:u.premiumCircle}),text:d.intl.string(d.t.R9SwVl)}):null}}},766219:function(e,t,n){n.d(t,{I:function(){return o},s:function(){return a}});var i=n(823379),r=n(49898),l=n(388032);function a(e){switch(e){case r.GlobalDiscoveryTab.SERVERS:return l.intl.string(l.t["+Anbp6"]);case r.GlobalDiscoveryTab.APPS:return l.intl.string(l.t.bGwCoa);case r.GlobalDiscoveryTab.QUESTS:return l.intl.string(l.t.EcaD4e);default:(0,i.vE)(e)}}function o(e){if(e.startsWith("/discovery/applications"))return r.GlobalDiscoveryTab.APPS;switch(e){case"/discovery/quests":return r.GlobalDiscoveryTab.QUESTS;case"/discovery/servers":return r.GlobalDiscoveryTab.SERVERS;default:return r.GLOBAL_DISCOVERY_DEFAULT_TAB}}},724383:function(e,t,n){var i=n(200651),r=n(192379),l=n(512969),a=n(509451),o=n(252618),s=n(926061),c=n(319443),d=n(106075),u=n(121711),h=n(823379),m=n(571457),p=n(836768),g=n(766219),f=n(49898),_=n(156212);t.Z=function(){let e=(0,s.YP)({location:"DiscoveryUISelectedTab"}),t=p.Z.useField("selectedTab"),n=function(e){switch(e){case f.GlobalDiscoveryTab.SERVERS:return(0,i.jsx)(d.Z,{});case f.GlobalDiscoveryTab.APPS:return(0,i.jsx)(c.Z,{});case f.GlobalDiscoveryTab.QUESTS:return(0,i.jsx)(u.Z,{});default:(0,h.vE)(e)}}(t),E=(0,l.TH)(),I=!e&&t===f.GlobalDiscoveryTab.APPS;return(r.useEffect(()=>{let e=E.pathname,t=(0,g.I)(e);t!==p.Z.getField("selectedTab")&&p.Z.setState({selectedTab:t})},[e,E.pathname]),r.useEffect(()=>{I||(0,m.RI)({selectedTab:t})},[I,t]),I)?(0,i.jsx)(a.default,{}):(0,i.jsxs)("section",{className:_.container,children:[(0,i.jsx)(o.yY,{location:(0,g.s)(t)}),(0,i.jsx)("div",{className:_.dragRegion}),n]})}},648113:function(e,t,n){n.d(t,{C:function(){return s}});var i=n(120356),r=n.n(i),l=n(442837),a=n(514361),o=n(358459);function s(e){let t=(0,l.e7)([a.Z],()=>null!=a.Z.gradientPreset);return r()(o.gradient,e,{[o.clientThemes]:t})}},979233:function(e,t,n){n.d(t,{M:function(){return l}});var i=n(192379),r=n(397341);function l(){let e=i.useRef(new r.Z),t=i.useCallback(t=>{e.current.handleScroll(t)},[]);return{resetScrollPosition:i.useCallback(()=>{e.current.scrollPosition.set(0)},[]),scrollPosition:e.current.scrollPosition,onScroll:t}}},88693:function(e,t,n){n.d(t,{U:function(){return s}});var i=n(192379),r=n(49898),l=n(406014);let a=20+r.GLOBAL_DISCOVERY_SEARCH_BAR_WIDTH_PX-r.GLOBAL_DISCOVERY_SEARCH_BAR_ICON_WIDTH_PX,o=20+r.GLOBAL_DISCOVERY_SEARCH_BAR_WIDTH_PX+r.GLOBAL_DISCOVERY_SEARCH_BAR_ICON_WIDTH_PX;function s(e){let{isSearchBarVisible:t,isSearchBarEmpty:n,searchBarState:s,setSearchBarState:c}=e,d=i.useCallback(e=>{if(!t)return;let i=Math.round(e);switch(s){case r.GlobalDiscoverySearchBarState.DEFAULT:i<20&&c(n?r.GlobalDiscoverySearchBarState.COLLAPSED:r.GlobalDiscoverySearchBarState.FLOATING);break;case r.GlobalDiscoverySearchBarState.COLLAPSED:i>a&&c(r.GlobalDiscoverySearchBarState.DEFAULT);break;case r.GlobalDiscoverySearchBarState.FLOATING:i>o&&c(r.GlobalDiscoverySearchBarState.DEFAULT)}},[n,t,s,c]),u=i.useCallback(()=>{c(r.GlobalDiscoverySearchBarState.FLOATING)},[c]),h=i.useCallback(()=>{s===r.GlobalDiscoverySearchBarState.FLOATING&&n&&c(r.GlobalDiscoverySearchBarState.COLLAPSED)},[n,s,c]);return{onTabsAvailableWidthChange:d,tabsClassName:s===r.GlobalDiscoverySearchBarState.FLOATING?l.floatingSearchTabsMask:void 0,onCollapsedSearchBarClick:u,onSearchBarBlur:h}}},322665:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(200651),r=n(648113),l=n(358459);function a(){let e=(0,r.C)();return(0,i.jsxs)("div",{className:l.gradientBackground,children:[(0,i.jsx)("div",{className:e}),(0,i.jsx)("div",{className:l.gradientOverlay})]})}},175307:function(e,t,n){n.d(t,{u:function(){return s}});var i=n(200651);n(192379);var r=n(780384),l=n(481060),a=n(410030),o=n(656867);function s(e){let{text:t,onClick:n}=e,s=(0,a.ZP)(),c=(0,r.wj)(s);return(0,i.jsxs)(l.Button,{size:"medium",color:c?l.ButtonColors.TRANSPARENT:l.ButtonColors.WHITE,className:o.button,onClick:n,innerClassName:o.innerButton,children:[(0,i.jsx)(l.Text,{variant:"text-sm/semibold",color:"header-primary",children:t}),(0,i.jsx)(l.LinkExternalSmallIcon,{size:"sm",color:l.tokens.colors.HEADER_PRIMARY})]})}},17845:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(780384),s=n(481060),c=n(410030),d=n(358459);function u(e){let{title:t}=e;return(0,i.jsx)(s.Heading,{className:a()(d.title,d.uppercase),variant:"display-lg",color:"header-primary",children:t})}function h(e){let{title:t,description:n,button:l,className:h,children:m}=e,p=(0,c.ZP)(),g=(0,o.wj)(p),f=r.useMemo(()=>Array.isArray(t)?t.map((e,t)=>(0,i.jsx)(u,{title:e},t)):(0,i.jsx)(u,{title:t}),[t]);return(0,i.jsxs)("div",{className:a()(d.container,h),children:[(0,i.jsx)("div",{className:d.content,children:(0,i.jsxs)("div",{className:d.textContainer,children:[f,null!=n&&(0,i.jsx)(s.Text,{className:d.description,variant:"text-md/medium",color:g?"text-muted":"header-primary",children:n}),null!=l&&(0,i.jsx)("div",{className:d.buttonContainer,children:l})]})}),m]})}},374939:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(278741);function l(e){let{children:t}=e;return(0,i.jsx)("section",{className:r.contentSection,children:(0,i.jsx)("div",{className:r.content,children:t})})}},233374:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(578451);t.Z=function(e){let{tabs:t,onTabSelect:n,selectedTab:r,className:s}=e;return(0,i.jsx)(a.TabBar,{type:"top-pill",selectedItem:r,onItemSelect:n,className:s,children:t.map((e,t)=>{let{id:n,label:r,count:s}=e;return(0,i.jsx)(a.TabBar.Item,{id:n,className:l()(o.tabItem,{[o.firstChildSpacingFix]:0===t}),"aria-label":r,children:null!=s&&s>0?"".concat(r," (").concat(s,")"):r},n)})})}},611928:function(e,t,n){n.d(t,{Cm:function(){return p},ZP:function(){return g},_6:function(){return r},aV:function(){return m},z6:function(){return h}});var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(752877),d=n(481060),u=n(406014);function h(e){let{scrollPosition:t}=e;return(0,l.jsx)(c.animated.div,{className:u.backdrop,style:{opacity:null==t?void 0:t.to([0,100],[0,1])}})}function m(e){let{icon:t}=e;return(0,l.jsx)(t,{className:u.icon,color:d.tokens.colors.HEADER_PRIMARY,size:"md"})}function p(e){let{onClick:t,icon:n}=e;return(0,l.jsx)(d.Clickable,{className:u.iconButton,onClick:t,children:(0,l.jsx)(n,{color:"currentColor",size:"sm"})})}(i=r||(r={})).OVERLAY="overlay",i.RELATIVE="relative";function g(e){let{className:t,variant:n,children:i}=e,r=a.useMemo(()=>(function(e){if("overlay"===e)return u.overlay;return u.relative})(n),[n]);return(0,l.jsx)("div",{className:s()(u.headerBar,r,t),children:i})}},397341:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(752877);class r{handleScroll(e){this.top.set(e.currentTarget.scrollTop)}get scrollPosition(){return this.top}constructor(){var e,t,n;e=this,t="top",n=new i.SpringValue(0),"top"in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}},922122:function(e,t,n){n.d(t,{Z:function(){return _}}),n(47120),n(724458);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(21260),s=n(780384),c=n(481060),d=n(410030),u=n(540059),h=n(889711),m=n(79707),p=n(388032),g=n(333078);function f(e){let{onTabSelect:t,tabs:n,selectedTab:l}=e,o=(0,d.ZP)(),h=(0,s.wj)(o),f=(0,u.Q3)("GlobalDiscoveryHeaderMoreTab"),_=r.useMemo(()=>null!=n.find(e=>{let{id:t}=e;return t===l}),[l,n]),[E,I]=r.useState(!1),C=function(e){let{selected:t,isVisualRefreshEnabled:n,isDarkTheme:i,isHovered:r}=e;if(n)return r?"text-primary":t?"text-brand":"text-normal";return!t&&r?"interactive-hover":t?"header-primary":i?"interactive-normal":"header-primary"}({selected:_,isVisualRefreshEnabled:f,isDarkTheme:h,isHovered:E}),v=function(e){let{selected:t,isVisualRefreshEnabled:n,isDarkTheme:i,isHovered:r}=e;if(n)return r?c.tokens.colors.TEXT_PRIMARY:t?c.tokens.colors.TEXT_BRAND:c.tokens.colors.INTERACTIVE_NORMAL;return!t&&r?c.tokens.colors.INTERACTIVE_HOVER:t?c.tokens.colors.HEADER_PRIMARY:i?c.tokens.colors.TEXT_MUTED:c.tokens.colors.HEADER_PRIMARY}({selected:_,isVisualRefreshEnabled:f,isDarkTheme:h,isHovered:E}),S=r.useCallback(()=>I(!0),[]),N=r.useCallback(()=>I(!1),[]);return(0,i.jsx)(c.Popout,{renderPopout:e=>{let{closePopout:r}=e;return(0,i.jsx)(m.Z,{selectedTab:l,onClose:r,tabs:n,onTabSelect:t})},position:"bottom",align:"left",children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(c.TabBar.Item,{...e,id:"more",look:"brand",selectedItem:f&&_?"more":void 0,className:a()(g.tab,{[g.selected]:!f&&_}),"aria-label":p.intl.string(p.t.UKOtz8),children:(0,i.jsxs)("div",{className:g.more,onMouseEnter:S,onMouseLeave:N,children:[(0,i.jsx)(c.Text,{variant:f?"text-sm/semibold":"text-md/medium",color:C,children:p.intl.string(p.t.UKOtz8)}),n?(0,i.jsx)(c.ChevronSmallUpIcon,{size:"xs",color:v}):(0,i.jsx)(c.ChevronSmallDownIcon,{size:"xs",color:v})]})})}})}function _(e){let{className:t,selectedTab:n,tabs:l,onTabSelect:s,onAvailableWidthChange:d}=e,[m,p]=r.useState(0),_=r.useRef(m),{lastVisibleIndex:E,onItemLayout:I,overflowItemsRef:C,itemWidthsRef:v}=(0,o.zP)({items:l,itemGapPx:20,maxLines:1,containerWidth:m}),S=r.useMemo(()=>l.slice(0,E+1),[E,l]),N=r.useMemo(()=>l.slice(E+1),[E,l]),T=r.useRef(null),b=r.useCallback(()=>{var e;let t=null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect();if(null==t||_.current===t.width)return;p(t.width),_.current=t.width;let n=v.current.reduce((e,t,n)=>e+t+(0===n?0:20)),i=t.width-n;null==d||d(i)},[v,d]);r.useEffect(()=>{let e=(0,h.pP)(b);return(0,h.YP)(e,document.body),()=>(0,h.UC)(e,document.body)},[b]);let x=0!==m,A=(0,u.Q3)("GlobalDiscoveryHeaderTabs");return(0,i.jsxs)("div",{className:a()(g.container,t),ref:T,children:[(0,i.jsxs)("div",{className:g.measurements,children:[l.map((e,t)=>(0,i.jsx)(o.AJ,{index:t,onItemLayout:I,children:(0,i.jsx)(c.TabBar.Item,{id:e.id,"aria-label":e.label,className:g.tab,children:(0,i.jsx)(c.Text,{variant:"text-md/medium",children:e.label})})},e.id)),(0,i.jsx)("div",{ref:C,children:(0,i.jsx)(f,{tabs:N,onTabSelect:s,selectedTab:n})})]}),x&&(0,i.jsxs)(c.TabBar,{type:"top",look:"brand",selectedItem:n,onItemSelect:s,className:g.tabs,children:[S.map(e=>(0,i.jsx)(c.TabBar.Item,{id:e.id,look:"brand","aria-label":e.label,className:a()(g.tab,{[g.selected]:!A&&n===e.id}),children:e.label},e.id)),0!==N.length?(0,i.jsx)(f,{tabs:N,onTabSelect:s,selectedTab:n}):null]})]})}},79707:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(200651);n(192379);var r=n(481060),l=n(388032);function a(e){let{tabs:t,selectedTab:n,onTabSelect:a,onClose:o}=e;return(0,i.jsx)(r.Menu,{navId:"global-discovery-tabs-overflow-menu","aria-label":l.intl.string(l.t.riPnr6),hideScroller:!0,onClose:o,onSelect:o,children:(0,i.jsx)(r.MenuGroup,{children:t.map(e=>{let{id:t,label:l}=e;return(0,i.jsx)(r.MenuItem,{id:t,label:l,icon:t===n?r.CircleCheckIcon:void 0,action:()=>a(t)},t)})},"overflow-tabs")})}},283293:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(789560);t.Z=r.forwardRef(function(e,t){let{onScroll:n,children:r}=e;return(0,i.jsx)(l.AdvancedScroller,{onScroll:n,className:a.scroller,ref:t,children:r})})},680180:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(49898),c=n(149025);function d(e){let{state:t,query:n,placeholder:l,onTextChange:d,onCollapsedClick:u,onClear:h,onBlur:m,onSubmit:p}=e,g=r.useRef(null),f=r.useCallback(e=>{"Enter"===e.key&&p()},[p]),_=r.useCallback(()=>{u(),setTimeout(()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.focus()})},[u]);return t===s.GlobalDiscoverySearchBarState.COLLAPSED?(0,i.jsx)(o.Clickable,{className:c.searchIcon,onClick:_,children:(0,i.jsx)(o.MagnifyingGlassIcon,{size:"md",color:o.tokens.colors.INTERACTIVE_NORMAL})}):(0,i.jsx)(o.SearchBar,{ref:g,className:a()(c.searchBar,{[c.searchFloating]:t===s.GlobalDiscoverySearchBarState.FLOATING}),size:o.SearchBar.Sizes.MEDIUM,query:n,placeholder:l,onChange:d,onClear:h,onKeyDown:f,onBlur:m})}},89182:function(e,t,n){n.d(t,{PA:function(){return r},ZP:function(){return p},iG:function(){return m}});var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(481060),d=n(706454),u=n(600419);function h(e){let{items:t,onClose:n,onSelect:i,selected:r,...a}=e;return(0,l.jsx)(c.Menu,{className:u.menu,navId:"global-discovery-search-filter-options","aria-label":a["aria-label"],hideScroller:!0,onClose:n,onSelect:n,children:(0,l.jsx)(c.MenuGroup,{children:t.map(e=>{let{id:t,label:n}=e;return(0,l.jsx)(c.MenuItem,{id:t,label:n,icon:t===r?c.CircleCheckIcon:void 0,action:()=>i(t)},t)})},"overflow-tabs")})}function m(e){let{count:t,name:n}=e,i=t.toLocaleString(d.default.locale);return(0,l.jsxs)("div",{className:u.categoryLabel,children:[(0,l.jsx)(c.Text,{variant:"text-sm/medium",color:"header-primary",children:n}),(0,l.jsx)(c.Text,{variant:"text-sm/normal",color:"text-muted",children:i})]})}(i=r||(r={})).FILLED="FILLED",i.TRANSPARENT="TRANSPARENT";function p(e){let{items:t,title:n,onSelect:i,selected:r,variant:o="TRANSPARENT",...d}=e,m=a.useMemo(()=>(function(e){switch(e){case"FILLED":return u.filterBackground;case"TRANSPARENT":return}})(o),[o]);return(0,l.jsx)(c.Popout,{renderPopout:e=>{let{closePopout:n}=e;return(0,l.jsx)(h,{selected:r,onClose:n,items:t,onSelect:i,"aria-label":d["aria-label"]})},position:"bottom",align:"left",children:(e,t)=>{let{isShown:i}=t;return(0,l.jsxs)("div",{...e,className:s()(u.filter,m),children:[(0,l.jsx)(c.Text,{variant:"text-sm/medium",color:"interactive-normal",children:n}),i?(0,l.jsx)(c.ChevronSmallUpIcon,{size:"xs",color:c.tokens.colors.INTERACTIVE_NORMAL}):(0,l.jsx)(c.ChevronSmallDownIcon,{size:"xs",color:c.tokens.colors.INTERACTIVE_NORMAL})]})}})}},135864:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(636977),s=n(481060),c=n(132871),d=n(147890),u=n(926061),h=n(31569),m=n(164991),p=n(859921),g=n(220068),f=n(836768),_=n(766219),E=n(749681),I=n(49898),C=n(46140),v=n(388032),S=n(729922);function N(e){let{tab:t}=e,n=f.Z.useField("selectedTab"),l=r.useMemo(()=>(function(e){switch(e){case I.GlobalDiscoveryTab.SERVERS:return(0,i.jsx)(s.ServerIcon,{color:"currentColor"});case I.GlobalDiscoveryTab.APPS:return(0,i.jsx)(s.AppsIcon,{color:"currentColor"});case I.GlobalDiscoveryTab.QUESTS:return(0,i.jsx)(s.QuestsIcon,{color:"currentColor"})}})(t),[t]),u=r.useMemo(()=>(0,_.s)(t),[t]),v=n===t,N=r.useCallback(()=>{switch(t){case I.GlobalDiscoveryTab.QUESTS:return v&&g.Z.resetState(),(0,E.transitionToGlobalDiscovery)({tab:I.GlobalDiscoveryTab.QUESTS,location:C.dr.DISCOVERY_SIDEBAR,questContent:o.j.DISCOVERY_SIDEBAR});case I.GlobalDiscoveryTab.APPS:if(!v)return(0,d.goToAppDirectory)({restorePreviousView:!0,entrypoint:{name:c.ApplicationDirectoryEntrypointNames.GLOBAL_DISCOVERY_SIDEBAR}});h.Z.resetState(),(0,E.transitionToGlobalDiscovery)({tab:t});return;case I.GlobalDiscoveryTab.SERVERS:if(!v)return(0,E.transitionToGlobalDiscovery)({tab:t});m.Z.resetState(),p.Z.resetState();return;default:return(0,E.transitionToGlobalDiscovery)({tab:t})}},[t,v]);return(0,i.jsxs)(s.Clickable,{onClick:N,className:a()(S.navItem,{[S.selected]:v}),children:[(0,i.jsx)("div",{className:S.navItemIcon,children:l}),(0,i.jsx)(s.Text,{variant:"text-md/medium",color:"none",children:u})]})}t.Z=function(){let e=(0,u.YP)({location:"GlobalDiscoverySidebar"});return(0,i.jsxs)("div",{className:S.container,children:[(0,i.jsx)("div",{className:S.header,children:(0,i.jsx)(s.Heading,{variant:"text-lg/semibold",children:v.intl.string(v.t["1KqYnp"])})}),(0,i.jsx)("nav",{className:S.nav,children:I.GLOBAL_DISCOVERY_TABS.map(t=>t!==I.GlobalDiscoveryTab.APPS||e?(0,i.jsx)(N,{tab:t},t):null)})]})}},66637:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(704839);t.Z=r.memo(function(e){let{onClick:t,onContextMenu:n,className:r,disabled:l,children:c}=e;return(0,i.jsx)(o.Clickable,{className:a()(s.card,r,{[s.clickable]:null!=t,[s.disabled]:l}),onContextMenu:n,onClick:l?void 0:t,children:c})})},782738:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(704839);t.Z=r.memo(function(e){let{className:t}=e;return(0,i.jsx)("div",{className:a()(t,o.cardPlaceholder)})})},371260:function(e,t,n){var i=n(200651),r=n(192379),l=n(752877),a=n(442837),o=n(481060),s=n(607070),c=n(704839);let d={mass:1,tension:600,friction:60,clamp:!0};t.Z=function(e){let{animate:t,state:n,cleanUp:u,children:h}=e,m=(0,a.e7)([s.Z],()=>s.Z.useReducedMotion),p=r.useMemo(()=>{var e,i,r;return e=!1!==t&&!m,i=n,r=u,e?i===o.TransitionStates.ENTERED||i===o.TransitionStates.MOUNTED?{from:{opacity:0},to:{opacity:1},config:d}:{from:{opacity:1},to:{opacity:0},config:d,onRest:()=>{r()}}:{opacity:1}},[t,u,m,n]),g=(0,o.useSpring)(p);return(0,i.jsx)(l.animated.div,{style:g,className:c.transitionItem,children:h})}},31569:function(e,t,n){var i=n(972959);let r=Object.freeze({query:"",searchBarState:n(49898).GlobalDiscoverySearchBarState.DEFAULT}),l=(0,i.H)(()=>r);t.Z=l},493646:function(e,t,n){n.d(t,{K:function(){return a},v:function(){return l}});var i=n(979007),r=n(388032);function l(e){switch(e.id){case 4:return r.intl.string(r.t["3m9EgY"]);case 6:return r.intl.string(r.t.VJRr3d);case 8:return r.intl.string(r.t.Uv7mFR);case 9:return r.intl.string(r.t.TEK9Aw);case 10:return r.intl.string(r.t.lfBt2d)}return""}function a(){return{id:i.GLOBAL_DISCOVERY_APPS_FEATURED_CATEGORY_ID,name:r.intl.string(r.t.ijDDw8)}}},319443:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n(442837),c=n(481060),d=n(674588),u=n(264043),h=n(894653),m=n(34674),p=n(132871),g=n(979233),f=n(88693),_=n(611928),E=n(922122),I=n(680180),C=n(726115),v=n(703656),S=n(594174),N=n(626135),T=n(31569),b=n(881294),x=n(975907),A=n(119014),Z=n(258971),L=n(133743),P=n(726941),y=n(666697),O=n(548514),R=n(370648),j=n(569527),D=n(979007),M=n(981631),w=n(388032),k=n(544973);function U(e){let{applicationId:t,hideDetailHeaderButtons:n,onClickBack:l}=e,o=(0,s.e7)([u.Z],()=>u.Z.getApplication(t)),[d,h]=r.useState(n),m=r.useCallback(()=>{h(n)},[n]);return(0,i.jsxs)("div",{className:k.detailHeaderContainer,children:[(0,i.jsx)("div",{className:k.detailHeaderSection,children:(0,i.jsx)(_.Cm,{icon:c.ArrowLargeLeftIcon,onClick:l})}),(0,i.jsx)(c.Heading,{variant:"heading-lg/semibold",color:"header-primary",className:k.detailHeader,lineClamp:1,children:null==o?void 0:o.name}),(0,i.jsx)("div",{className:a()(k.detailHeaderSection,k.detailHeaderButtonsContainer,{[k.visible]:!n,[k.hide]:n&&!d,[k.hidden]:n&&d}),onTransitionEnd:m,children:null!=o?(0,i.jsx)(O.Z,{application:o,size:"sm"}):null})]})}t.Z=function(){var e;let{onScroll:t,scrollPosition:n,resetScrollPosition:l}=(0,g.M)(),a=(0,Z.Xh)(),u=(null==a?void 0:a.type)===Z.m_.CATEGORY?a.categoryId:void 0,{applicationId:O,section:G}=(null==a?void 0:a.type)===Z.m_.APPLICATION?a:{},{query:B,categoryId:H}=(null==a?void 0:a.type)===Z.m_.SEARCH?a:{},V=(0,s.e7)([h.Z],()=>h.Z.getCategories()),F=r.useMemo(()=>[(0,m.KQ)(),...V],[V]),z=r.useMemo(()=>F.find(e=>e.id===Number(H)),[F,H]),{tabs:W,selectedTab:Y,onSelectTab:K}=(0,A.i)(null==u?void 0:u.toString()),[q,X]=r.useState(!0),Q=Z.z8.useField("trackedOpenedFromExternalEntrypoint"),J=Z.z8.useField("sessionId"),$=(0,s.e7)([S.default],()=>S.default.getCurrentUser());r.useEffect(()=>{if(!Q&&null==J){let e=(0,C.PM)();N.default.track(M.rMx.APP_DIRECTORY_OPENED,{source:p.ApplicationDirectoryEntrypointNames.EXTERNAL,session_id:e,user_id:null==$?void 0:$.id}),Z.z8.setState({trackedOpenedFromExternalEntrypoint:!0,sessionId:e,entrypoint:{name:p.ApplicationDirectoryEntrypointNames.EXTERNAL},guildId:null})}},[J,Q,null==$?void 0:$.id]),r.useEffect(()=>{d.CP()},[]),r.useEffect(()=>{d.g5()},[]),r.useEffect(()=>Z.aQ.setState({lastItem:a}),[a]);let ee=null!=O,et=(null==a?void 0:a.type)===Z.m_.SEARCH,{searchQuery:en,onSearchTextChange:ei,onClearSearch:er,onSearchSubmit:el}=(0,x.M)({initialQuery:null!=B?B:""}),ea=T.Z.useField("searchBarState"),{onTabsAvailableWidthChange:eo,onCollapsedSearchBarClick:es,onSearchBarBlur:ec}=(0,f.U)({isSearchBarVisible:!0,isSearchBarEmpty:""===en.trim(),searchBarState:ea,setSearchBarState:e=>T.Z.setState({searchBarState:e})}),ed=r.useCallback(e=>{K(e),et&&er(),l()},[et,er,K,l]),eu=r.useCallback(e=>(0,L.ph)({applicationId:e}),[]),eh=ee||et,em=r.useCallback(()=>{null!=(0,Z.Uc)()?(0,v.op)():(0,L.Yp)()},[]),ep=(0,o.debounce)(e=>{let{scrollTop:t,offsetHeight:n,scrollHeight:i,location:r}=e;t>0&&(0,b.z)(M.rMx.APP_DIRECTORY_PAGE_SCROLLED,{scroll_visible_percentile:(t+n)/i,current_page:r})},200),eg=r.useCallback((e,n)=>{t(e),ep({scrollTop:e.currentTarget.scrollTop,offsetHeight:e.currentTarget.offsetHeight,scrollHeight:e.currentTarget.scrollHeight,location:n})},[ep,t]);return(0,i.jsxs)("div",{className:k.container,children:[(0,i.jsxs)(_.ZP,{variant:eh?_._6.RELATIVE:_._6.OVERLAY,children:[!eh&&(0,i.jsx)(_.z6,{scrollPosition:n}),ee?(0,i.jsx)(U,{applicationId:O,hideDetailHeaderButtons:q,onClickBack:em}):(0,i.jsxs)(i.Fragment,{children:[et?(0,i.jsx)(_.Cm,{icon:c.ArrowLargeLeftIcon,onClick:em}):(0,i.jsx)(_.aV,{icon:c.AppsIcon}),et?(0,i.jsx)(c.Heading,{variant:"heading-lg/semibold",color:"header-primary",className:k.searchHeader,children:null!=B&&""!==B?w.intl.formatToPlainString(w.t.zHdzqa,{query:B}):w.intl.formatToPlainString(w.t.Qhj5Bg,{categoryName:null!==(e=null==z?void 0:z.name)&&void 0!==e?e:w.intl.string(w.t.E407b2)})}):(0,i.jsx)(E.Z,{tabs:W,selectedTab:Y,onTabSelect:ed,onAvailableWidthChange:eo}),(0,i.jsx)(I.Z,{query:en,placeholder:w.intl.string(w.t.HPQXEB),onTextChange:ei,onClear:er,onSubmit:el,onCollapsedClick:es,state:ea,onBlur:ec})]})]}),ee?(0,i.jsx)(y.Z,{onScroll:e=>eg(e,Z.m_.APPLICATION),onSelectApplication:eu,applicationId:O,initialTab:G,onButtonsVisibilityChange:X}):et?(0,i.jsx)(j.Z,{onSelectApplication:eu,onScroll:e=>eg(e,Z.m_.SEARCH)}):Y===D.GLOBAL_DISCOVERY_APPS_FEATURED_CATEGORY_ID.toString()?(0,i.jsx)(R.Z,{onScroll:e=>eg(e,Z.m_.HOME),onSelectApplication:eu}):(0,i.jsx)(P.Z,{tabId:Number(Y),onScroll:e=>eg(e,Z.m_.CATEGORY),onSelectApplication:eu})]})}},881294:function(e,t,n){n.d(t,{z:function(){return a}});var i=n(594174),r=n(626135),l=n(258971);function a(e,t){var n;let a=l.z8.getField("sessionId"),o=l.z8.getField("guildId"),s=null===(n=l.z8.getField("entrypoint"))||void 0===n?void 0:n.name,c=i.default.getCurrentUser();return r.default.track(e,{...t,guild_id:o,directory_session_id:a,source:s,user_id:null==c?void 0:c.id})}},956965:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(607070),c=n(361213),d=n(778569),u=n(783097),h=n(70097),m=n(768581),p=n(829409),g=n(226944);let f=16/9,_=325/72;function E(e){let{application:t,isHovered:n,botBannerUrl:l,botBannerUrlAnimated:o,iconURL:s}=e,m=(0,d.Z)({applicationId:t.id,size:600,names:["embedded_cover"]}),p=r.useMemo(()=>{let e=(0,u.yJ)(t);return null!=e&&null!=e.activity_preview_video_asset_id?(0,c.Z)(t.id,e.activity_preview_video_asset_id):null},[t]),{imageUrl:f,imageUrlAnimated:_}=r.useMemo(()=>"fetched"===m.state&&null!=m.url?{imageUrl:m.url}:{imageUrl:l,imageUrlAnimated:o},[m.state,m.url,l,o]),E=null!=f,S=null!=p;return"loading"===m.state?null:S?(0,i.jsxs)(i.Fragment,{children:[E?(0,i.jsx)(I,{isHovered:n,url:f,animatedUrl:void 0}):(0,i.jsx)(h.Z,{src:p,className:a()(g.bannerImage,g.bannerContent),muted:!0}),(0,i.jsx)(C,{isHovered:n,url:p,isVideo:!0})]}):E?(0,i.jsx)(I,{isHovered:n,url:f,animatedUrl:_}):(0,i.jsx)(v,{iconURL:s})}function I(e){let{isHovered:t,url:n,animatedUrl:l}=e,[o,s]=r.useState(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{src:n,alt:"",className:a()(g.bannerImage,g.bannerContent,{[g.loaded]:o}),onLoad:()=>s(!0)}),null!=l?(0,i.jsx)(C,{isHovered:t,url:l,isVideo:!1}):null]})}function C(e){let{isHovered:t,url:n,isVideo:l}=e,[o,s]=r.useState(!1),[c,d]=r.useState(t);return(r.useEffect(()=>{t&&d(!0)},[t]),c)?(0,i.jsx)("div",{className:a()(g.bannerAnimatedContainer,{[g.videoFadeOut]:!t,[g.videoFadeIn]:t&&o}),onAnimationEnd:()=>t?null:d(!1),children:l?(0,i.jsx)(h.Z,{src:n,loop:!0,autoPlay:!0,muted:!0,className:g.bannerContent,onLoadedData:()=>s(!0)}):(0,i.jsx)("img",{src:n,alt:"",className:g.bannerContent,onLoad:()=>s(!0)})}):null}function v(e){let{iconURL:t}=e,{backgroundGradient:n,hasFetchedColors:r}=(0,p.u)(t);return(0,i.jsx)("div",{className:a()(g.bannerContent,g.bannerGradient,{[g.loaded]:r}),style:{backgroundImage:n}})}t.Z=function(e){let{application:t,bannerType:n,iconURL:l}=e,a=(0,o.e7)([s.Z],()=>s.Z.useReducedMotion),[c,d]=r.useState(!1),h=r.useCallback(()=>{d(!0)},[]),p=r.useCallback(()=>d(!1),[]),C=(0,u.ye)(t),S=t.bot,{botBannerUrl:N,botBannerUrlAnimated:T}=r.useMemo(()=>(null==S?void 0:S.id)==null||(null==S?void 0:S.banner)==null?{}:{botBannerUrl:(0,m.aN)({id:S.id,banner:S.banner,canAnimate:!1,size:600}),botBannerUrlAnimated:a?void 0:(0,m.aN)({id:S.id,banner:S.banner,canAnimate:!0,size:600})},[null==S?void 0:S.id,null==S?void 0:S.banner,a]);return(0,i.jsx)("div",{className:g.bannerContainer,style:{aspectRatio:"card"===n?f:_},onMouseEnter:h,onFocus:h,onMouseLeave:p,onBlur:p,children:"card"===n&&C?(0,i.jsx)(E,{application:t,isHovered:c,botBannerUrl:null==N?void 0:N,botBannerUrlAnimated:null==T?void 0:T}):null!=N?(0,i.jsx)(I,{isHovered:c,url:N,animatedUrl:T}):(0,i.jsx)(v,{iconURL:l})})}},797908:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(622535),a=n(481060),o=n(783097),s=n(924489),c=n(824606),d=n(66637),u=n(768581),h=n(956965),m=n(388032),p=n(833643);let g=28;t.Z=function(e){var t,n,f,_,E;let{application:I,onSelectApplication:C,showCategory:v=!1}=e,S=(0,c.Z)({application:I}),N=null===(t=I.categories)||void 0===t?void 0:t[0],[T,b]=r.useState(!1),x=r.useCallback(e=>{e&&b(!0)},[]),A=(0,o.lf)(I),Z=r.useCallback(()=>{C(I.id)},[C,I.id]),L=r.useMemo(()=>T?u.ZP.getApplicationIconURL({id:I.id,icon:I.icon,size:48}):void 0,[T,I]),P=(null!==(_=null===(n=I.directory_entry)||void 0===n?void 0:n.guild_count)&&void 0!==_?_:0)>0||S.length>0,y=(0,i.jsx)(s.Z,{application:I,textVariant:"text-xs/medium",mutualGuilds:S,mutualGuildShownMax:3,guildIconSize:s.x.SMALL,compact:!0}),O=v&&null!=N;return(0,i.jsx)(l.$,{onChange:x,active:!T,children:(0,i.jsx)("div",{className:p.container,children:(0,i.jsxs)(d.Z,{className:p.card,onClick:Z,onContextMenu:()=>{},children:[(0,i.jsxs)("div",{className:p.header,children:[(0,i.jsx)("div",{style:{width:"100%",display:"block",aspectRatio:16/9},children:T?(0,i.jsx)(h.Z,{application:I,bannerType:"card",iconURL:L}):null}),(0,i.jsx)("div",{className:p.avatarContainer,style:{height:g},children:T?(0,i.jsx)("img",{src:L,alt:"",className:p.avatar,height:48,width:48,style:{borderWidth:4,marginLeft:12}}):null})]}),(0,i.jsxs)("div",{className:p.appDetails,children:[(0,i.jsx)("div",{className:p.titleContainer,children:(0,i.jsx)("div",{className:p.title,children:(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",color:"header-primary",className:p.appName,children:I.name})})}),O||A?(0,i.jsxs)("div",{className:p.infoContainer,children:[O?(0,i.jsx)(a.Text,{className:p.appCategory,variant:"text-xs/medium",color:"text-normal",children:N.name}):null,O&&A?(0,i.jsx)(a.Text,{variant:"text-xs/medium",color:"text-secondary",children:""}):null,A?(0,i.jsx)(a.Text,{variant:"text-xs/medium",color:"text-secondary",children:m.intl.string(m.t["/eVltr"])}):null]}):null,(0,i.jsx)(a.Text,{className:p.description,variant:"text-sm/medium",color:"header-secondary",lineClamp:O||A?2:3,children:null!==(E=null===(f=I.directory_entry)||void 0===f?void 0:f.short_description)&&void 0!==E?E:I.description}),P?(0,i.jsx)("div",{className:p.memberDetails,children:y}):null]})]})})})}},292191:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(388032),c=n(928261),d=n(902294);function u(e){let{heading:t=s.intl.string(s.t.NGw8v7),body:n=s.intl.string(s.t["1XZRY2"]),className:l}=e;return(0,i.jsxs)("div",{className:a()(c.container,l),children:[(0,i.jsx)("div",{className:c.imageContainer,children:(0,i.jsx)("img",{className:c.image,src:d,alt:s.intl.string(s.t["/UJaIy"])})}),(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o.Heading,{variant:"heading-xl/semibold",className:c.header,children:t}),(0,i.jsx)(o.Text,{variant:"text-md/normal",color:"header-secondary",children:n})]})]})}},975907:function(e,t,n){n.d(t,{M:function(){return d}});var i=n(192379),r=n(31569),l=n(493646),a=n(881294),o=n(258971),s=n(133743),c=n(981631);function d(e){let{initialQuery:t=""}=e,n=r.Z.useField("query");i.useEffect(()=>r.Z.setState({query:t}),[t]);let d=i.useCallback(e=>{r.Z.setState({query:e})},[]),u=i.useCallback(()=>{r.Z.setState({query:""})},[]),h=i.useCallback(()=>{let e=(0,l.K)();(0,a.z)(c.rMx.APP_DIRECTORY_SEARCH_STARTED,{search_term:n,category:e.name,current_page:o.m_.HOME,category_id:e.id}),(0,s.pR)({query:n})},[n]);return{searchQuery:n,onSearchTextChange:d,onClearSearch:u,onSearchSubmit:h}}},119014:function(e,t,n){n.d(t,{i:function(){return u}}),n(47120);var i=n(192379),r=n(442837),l=n(894653),a=n(493646),o=n(881294),s=n(258971),c=n(133743),d=n(981631);function u(e){let t=(0,r.e7)([l.Z],()=>l.Z.getCategories()),n=(0,a.K)(),u=i.useMemo(()=>[{id:n.id.toString(),label:n.name},...t.map(e=>({id:e.id.toString(),label:e.name}))],[t,n]),h=(0,s.Xh)(),m=i.useCallback(e=>{let t=u.find(t=>t.id===e);null!=t&&((0,o.z)(d.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{category:t.label,category_id:Number(t.id),current_page:null==h?void 0:h.type}),(0,c.O4)({categoryId:e}))},[null==h?void 0:h.type,u]),p=null!=e&&u.some(t=>t.id===e)?e:u[0].id;return{tabs:u,selectedTab:p,onSelectTab:m}}},829409:function(e,t,n){n.d(t,{u:function(){return r}}),n(47120);var i=n(220082);function r(e){let[t,n,r]=(0,i.Cf)(e,"transparent"),l=(0,i.Dq)(e);return{backgroundGradient:"linear-gradient(45deg, ".concat(t,", ").concat(null!=r?r:n,")"),hasFetchedColors:l}}},133743:function(e,t,n){n.d(t,{Gp:function(){return u},O4:function(){return s},Yp:function(){return o},pR:function(){return d},ph:function(){return c}}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(34674),r=n(703656),l=n(258971),a=n(981631);let o=()=>{let e={previousView:(0,l.Xh)()};(0,r.uL)(a.Z5c.GLOBAL_DISCOVERY_APPS,{state:e})},s=e=>{let{categoryId:t}=e,n={previousView:(0,l.Xh)()};(0,r.uL)(a.Z5c.GLOBAL_DISCOVERY_APPS_CATEGORY(t),{state:n})},c=e=>{let{applicationId:t}=e,n={previousView:(0,l.Xh)()};(0,r.uL)(a.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(t),{state:n})},d=function(){let{query:e,categoryId:t,page:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={previousView:(0,l.Xh)()},s=new URLSearchParams;null!=e&&""!==e&&s.set("q",e),null!=t&&t!==i.MU&&s.set("category_id",t.toString()),null!=n&&n>1&&s.set("page",n.toString()),(0,r.uL)(a.Z5c.GLOBAL_DISCOVERY_APPS_SEARCH,{state:o,search:s.toString()})},u=e=>{let{location:{state:t}}=(0,r.s1)();(0,r.dL)(e,t)}},726941:function(e,t,n){var i=n(200651),r=n(192379),l=n(442837),a=n(894653),o=n(322665),s=n(17845),c=n(374939),d=n(283293),u=n(493646),h=n(292191),m=n(683544),p=n(863375);t.Z=function(e){var t;let{tabId:n,onSelectApplication:g,onScroll:f}=e,_=r.useRef(null),E=r.useCallback(()=>{var e;null===(e=_.current)||void 0===e||e.scrollTo({to:0})},[]),I=(0,l.e7)([a.Z],()=>a.Z.getCategories()),C=r.useMemo(()=>I.find(e=>e.id===n),[I,n]),v=r.useMemo(()=>null!=C?(0,u.v)(C):"",[C]);return(0,i.jsxs)(d.Z,{onScroll:f,ref:_,children:[(0,i.jsx)(s.Z,{title:null!==(t=null==C?void 0:C.name)&&void 0!==t?t:"",description:v,children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(c.Z,{children:null==C?(0,i.jsx)("div",{className:p.errorContainer,children:(0,i.jsx)(h.Z,{className:p.error})}):(0,i.jsx)(m.Z,{categoryId:C.id,onSelectApplication:g,resetScroll:E})})]})}},683544:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(209173),a=n(399606),o=n(481060),s=n(699682),c=n(674588),d=n(368862),u=n(809547),h=n(125909),m=n(881294),p=n(797908),g=n(292191),f=n(258971),_=n(979007),E=n(981631),I=n(76413);let C={results:[],totalPages:0,loadId:""};t.Z=function(e){var t;let{categoryId:n,onSelectApplication:v,resetScroll:S}=e,[N,T]=r.useState(1),b=r.useCallback(e=>{T(e)},[]);r.useEffect(()=>{T(1)},[n]);let x=r.useMemo(()=>({query:_.EMPTY_QUERY,page:N,pageSize:_.PAGE_SIZE,categoryId:n}),[N,n]),A=(0,a.e7)([u.Z],()=>u.Z.getFetchState({query:_.EMPTY_QUERY,page:N,pageSize:_.PAGE_SIZE,categoryId:n})),Z=(0,a.cj)([u.Z],()=>{var e;return null!==(e=u.Z.getSearchResults(x))&&void 0!==e?e:C}),L=null!==(t=(0,s.Z)(Z))&&void 0!==t?t:C,{results:P,totalPages:y,loadId:O}=r.useMemo(()=>A===d.M.FETCHING?L:Z,[A,L,Z]),R=r.useMemo(()=>null==P?void 0:P.filter(e=>!(e.type!==l.s.APPLICATION)),[P]),j=r.useCallback(e=>{let{page:t,activeCategoryId:n,onSuccessCallback:i,guildId:r,fetchCounts:l}=e;l&&c.yC({query:_.EMPTY_QUERY,guildId:r}),c.yC({query:_.EMPTY_QUERY,guildId:r,options:{page:t,pageSize:_.PAGE_SIZE,categoryId:n},onSuccessCallback:i})},[]);r.useEffect(()=>{S(),j({page:N,activeCategoryId:n,onSuccessCallback:()=>{}})},[n,S,j,N]);let D=r.useCallback((e,t)=>{(0,m.z)(E.rMx.APP_DIRECTORY_SEARCH_RESULT_CLICKED,{current_page:f.m_.SEARCH,application_id:e,load_id:O,position:t}),v(e)},[O,v]);return A===d.M.ERROR?(0,i.jsx)("div",{className:I.errorContainer,children:(0,i.jsx)(g.Z,{className:I.error})}):(0,i.jsxs)(h.Z,{loading:A===d.M.FETCHING,children:[(0,i.jsx)("div",{className:I.content,children:null==R?void 0:R.map((e,t)=>{if(e.type===l.s.APPLICATION){let n=e.data;return(0,i.jsx)(p.Z,{application:n,onSelectApplication:e=>D(e,t)},n.id)}return null})}),(0,i.jsx)(o.Paginator,{className:I.paginationInput,totalCount:Math.min(y*_.PAGE_SIZE,_.MAX_PAGES*_.PAGE_SIZE),pageSize:_.PAGE_SIZE,disablePaginationGap:!0,hideMaxPage:!0,currentPage:N,onPageChange:b})]})}},666697:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(674588),o=n(264043),s=n(303383),c=n(125909),d=n(283836),u=n(374939),h=n(233374),m=n(283293),p=n(881294),g=n(292191),f=n(258971),_=n(133743),E=n(680474),I=n(571737),C=n(101400),v=n(946542),S=n(213746),N=n(979007),T=n(981631),b=n(388032),x=n(890030);t.Z=function(e){let{applicationId:t,onSelectApplication:n,onScroll:A,initialTab:Z,onButtonsVisibilityChange:L}=e,P=r.useRef(null),y=(0,l.e7)([o.Z],()=>o.Z.getApplication(t)),O=(0,l.e7)([o.Z],()=>o.Z.getApplicationFetchState(t));r.useEffect(()=>{null!=t&&null==y&&a.i6(t)},[t,y]),r.useEffect(()=>{a.T4({applicationId:t})},[t]),r.useEffect(()=>()=>L(!0),[L]);let R=null==y?void 0:y.storefront_available,[j,D]=r.useState(null!=Z?Z:N.GlobalDiscoveryAppsSections.ABOUT),M=r.useCallback(e=>{var t;null===(t=P.current)||void 0===t||t.scrollTo({to:0}),D(N.GlobalDiscoveryAppsSections.ABOUT),n(e)},[n]);r.useEffect(()=>{(null==y?void 0:y.storefront_available)&&null!=t&&(0,d.Z)(t)},[null==y?void 0:y.storefront_available,t]);let w=(0,f.Uc)(),k=(0,l.e7)([s.Z],()=>s.Z.getFetchState({applicationId:null==y?void 0:y.id})),U=(0,l.e7)([s.Z],()=>s.Z.getSimilarApplications({applicationId:null==y?void 0:y.id})),G=r.useMemo(()=>null==U?void 0:U.applications.slice(0,3),[U]);r.useEffect(()=>{(null==y?void 0:y.id)!=null&&k!==s.M.FETCHING&&(0,p.z)(T.rMx.APP_DIRECTORY_PAGE_VIEWED,{current_page:f.m_.APPLICATION,previous_page:null==w?void 0:w.type,application_id:y.id,referrer:document.referrer,suggested_application_ids:null==G?void 0:G.map(e=>e.id)})},[null==y?void 0:y.id,k]);let B=r.useMemo(()=>[{id:N.GlobalDiscoveryAppsSections.ABOUT,label:b.intl.string(b.t.DkyHMD)},{id:N.GlobalDiscoveryAppsSections.STORE,label:b.intl.string(b.t.jgEXGB)}],[]),H=r.useMemo(()=>{if(null==y)return null;switch(j){case N.GlobalDiscoveryAppsSections.ABOUT:return(0,i.jsx)(E.Z,{application:y});case N.GlobalDiscoveryAppsSections.STORE:return(0,i.jsx)(S.Z,{application:y})}},[j,y]),V=r.useCallback(e=>{(0,p.z)(T.rMx.APP_DIRECTORY_PROFILE_TAB_CLICKED,{application_id:t,tab_name:e}),D(e),e===N.GlobalDiscoveryAppsSections.ABOUT?(0,_.Gp)(T.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(t)):(0,_.Gp)(T.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(t,e))},[t]),F=r.useCallback(e=>{(0,p.z)(T.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{category:e.name,category_id:e.id,current_page:f.m_.APPLICATION}),(0,_.pR)({categoryId:e.id})},[]),z=j===N.GlobalDiscoveryAppsSections.ABOUT;return(0,i.jsx)(m.Z,{onScroll:A,ref:P,children:(0,i.jsx)(u.Z,{children:null==y?null==O||O===o.M.FETCHING?(0,i.jsx)("div",{className:x.centerContainer,children:(0,i.jsx)(c.Z,{loading:!0})}):(0,i.jsx)("div",{className:x.centerContainer,children:(0,i.jsx)(g.Z,{className:x.error})}):(0,i.jsxs)("div",{className:x.detailContainer,children:[(0,i.jsx)(I.Z,{application:y,onButtonsVisibilityChange:L}),(0,i.jsxs)("div",{className:x.contentContainer,children:[(0,i.jsxs)("div",{className:x.contentTabsContainer,children:[R&&(0,i.jsx)("div",{className:x.contentTabs,children:(0,i.jsx)(h.Z,{tabs:B,onTabSelect:V,selectedTab:j})}),H,(0,i.jsx)(v.Z,{applicationId:t,fetchState:k,similarApplications:G,onSelectApplication:M,similarLoadId:null==U?void 0:U.loadId})]}),z&&(0,i.jsx)(C.Z,{className:x.sidebar,application:y,onSelectCategory:F})]})]})})})}},680474:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651),r=n(192379),l=n(34674),a=n(823379),o=n(448021),s=n(405411),c=n(215453),d=n(24746),u=n(669401),h=n(609396);function m(e){let{application:t}=e,n=r.useMemo(()=>{var e,n,i;return null!==(i=(null!==(n=null===(e=t.directory_entry)||void 0===e?void 0:e.carousel_items)&&void 0!==n?n:[]).map(l.RF).filter(a.lm))&&void 0!==i?i:[]},[t]);return(0,i.jsxs)("div",{className:h.aboutContainer,children:[(0,i.jsx)(o.Z,{application:t,carouselItems:n}),(0,i.jsx)(d.Z,{application:t}),(0,i.jsx)(s.Z,{application:t}),(0,i.jsx)(u.Z,{application:t}),(0,i.jsx)(c.Z,{application:t})]})}},548514:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(782568),d=n(326135),u=n(299206),h=n(706454),m=n(572004),p=n(135431),g=n(881294),f=n(981631),_=n(388032),E=n(914045);t.Z=function(e){var t;let{application:n,size:l}=e,I=r.useCallback(()=>{(0,g.z)(f.rMx.APP_DIRECTORY_INSTALL_CLICKED,{application_id:n.id}),(0,p.LO)({applicationId:n.id,customInstallUrl:n.custom_install_url,installParams:n.install_params,integrationTypesConfig:n.integration_types_config,guildId:void 0,source:"product_page"})},[n]),C=r.useMemo(()=>(0,p.Eb)({customInstallUrl:n.custom_install_url,installParams:n.install_params,integrationTypesConfig:n.integration_types_config}),[n]),v=e=>"".concat(location.protocol,"//").concat(location.host).concat(f.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE(e)),S=r.useCallback(()=>{(0,g.z)(f.rMx.APP_DIRECTORY_APPLICATION_LINK_COPIED,{application_id:n.id}),(0,m.JG)(v(n.id)),(0,s.showToast)((0,s.createToast)(_.intl.string(_.t["L/PwZW"]),s.ToastType.SUCCESS))},[n.id]),N=(0,o.e7)([h.default],()=>h.default.locale),T=r.useCallback(()=>{null!=n&&(0,c.Z)((0,d.G)({id:n.id,name:n.name,locale:N}))},[N,n]),b=(0,u.Z)({id:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:"",label:_.intl.string(_.t["FfCL+/"]),onSuccess:()=>(0,s.showToast)((0,s.createToast)(_.intl.string(_.t.eNjAam),s.ToastType.SUCCESS))}),x=r.useCallback(e=>(0,i.jsxs)(s.Menu,{navId:"application-directory-profile","aria-label":_.intl.string(_.t["/7I4/P"]),onClose:e,onSelect:void 0,children:[(0,i.jsx)(s.MenuGroup,{children:(0,i.jsx)(s.MenuItem,{id:"report",label:_.intl.string(_.t.NgA5vr),color:"danger",action:T})}),null!=b?(0,i.jsx)(s.MenuGroup,{children:b}):null]}),[b,T]);return(0,i.jsxs)("div",{className:E.actionContainer,children:[(0,i.jsx)(s.Button,{size:"sm"===l?s.Button.Sizes.SMALL:s.Button.Sizes.MEDIUM,color:s.Button.Colors.BRAND,onClick:I,disabled:!C,children:_.intl.string(_.t.NgXl3N)}),m.wS?(0,i.jsx)(s.Button,{look:s.Button.Looks.FILLED,size:s.Button.Sizes.ICON,color:s.Button.Colors.PRIMARY,className:a()(E.iconButton,{[E.small]:"sm"===l}),innerClassName:E.innerIconButton,"aria-label":_.intl.string(_.t.z4sP5O),onClick:S,children:(0,i.jsx)(s.LinkIcon,{size:"xs",color:"currentColor"})}):null,(0,i.jsx)(s.Popout,{renderPopout:e=>{let{closePopout:t}=e;return x(t)},position:"left",align:"top",animation:s.Popout.Animation.NONE,children:e=>(0,i.jsx)(s.Button,{look:s.Button.Looks.FILLED,size:s.Button.Sizes.ICON,color:s.Button.Colors.PRIMARY,className:a()(E.iconButton,{[E.small]:"sm"===l}),innerClassName:E.innerIconButton,"aria-label":_.intl.string(_.t.UKOtz8),...e,children:(0,i.jsx)(s.MoreHorizontalIcon,{size:"xs",color:"currentColor"})})})]})}},448021:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),r=n(192379),l=n(793030),a=n(442837),o=n(445986),s=n(9807),c=n(341176),d=n(312097),u=n(451478),h=n(981631),m=n(388032),p=n(520432),g=n(902294);function f(e){let{application:t,carouselItems:n}=e,f=(0,a.e7)([u.Z],()=>u.Z.isFocused()),_=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{className:p.errorImage,src:g,"aria-hidden":!0,alt:""}),(0,i.jsx)(l.X6,{variant:"heading-xl/semibold",children:m.intl.string(m.t.UvDfMz)})]});n.forEach((e,i)=>{e.alt=m.intl.formatToPlainString(m.t.sSEhHR,{index:i+1,totalImages:n.length,name:t.name})});let E=r.useCallback((e,t)=>{if(e.type===h.s9s.IMG){let t=n.filter(e=>e.type===h.s9s.IMG),i=t.findIndex(t=>t===e);if(i<0)return;let r=t.map(e=>({url:(0,o.Q)(e.src),original:e.src,width:e.width,height:e.height,type:"IMAGE"}));(0,d.K)({items:r,startingIndex:i,fit:c.D.CONTAIN,shouldHideMediaOptions:!0,shouldAnimateCarousel:!0,location:"GlobalDiscoveryAppsDetailCarousel"})}},[n]);return 0===n.length?null:(0,i.jsx)(s.Z,{className:p.carousel,themedPagination:!0,items:n,autoplayInterval:8e3,paused:!f,videoAutoPlay:!0,onCurrentItemClick:E,errorComponent:_})}},405411:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651),r=n(192379),l=n(481060),a=n(581364),o=n(665692),s=n(388032),c=n(765853);function d(e){let{application:t}=e,n=r.useMemo(()=>{var e;let n=null===(e=t.directory_entry)||void 0===e?void 0:e.popular_application_commands;return null!=n?n.map(e=>(0,a.Z8)({rootCommand:e,command:e,applicationId:e.application_id})):[]},[t]);return 0===n.length?null:(0,i.jsxs)("div",{className:c.sectionContainer,children:[(0,i.jsx)(l.Heading,{variant:"heading-lg/semibold",color:"header-primary",children:s.intl.string(s.t.swIgTE)}),(0,i.jsx)("div",{className:c.contentContainer,children:n.map(e=>(0,i.jsxs)("div",{className:c.commandContainer,children:[(0,i.jsxs)(l.Text,{className:c.commandName,variant:"code",color:"header-primary",children:[o.GI,e.displayName]}),(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"text-normal",children:e.displayDescription})]},e.id))})]})}},215453:function(e,t,n){n.d(t,{Z:function(){return m}}),n(789020);var i=n(200651),r=n(192379),l=n(481060),a=n(860719),o=n(63063),s=n(49012),c=n(981631),d=n(388032),u=n(349778);let h=o.Z.getArticleURL(c.BhN.BOT_DATA_ACCESS);function m(e){let{application:t}=e,{hasMessageContent:n,hasGuildPresences:o,hasGuildMembers:c,hasIntents:m}=(0,a.w)({flags:null==t?void 0:t.flags}),g=r.useCallback(()=>{null!=t.privacy_policy_url&&(0,s.q)({href:t.privacy_policy_url})},[t.privacy_policy_url]);return(0,i.jsxs)("div",{className:u.sectionContainer,children:[(0,i.jsx)(l.Heading,{variant:"heading-lg/semibold",color:"header-primary",children:d.intl.string(d.t.QzDgMj)}),(0,i.jsxs)("div",{className:u.contentContainer,children:[m&&(0,i.jsxs)("ul",{className:u.intentsList,children:[(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-secondary",children:d.intl.string(d.t.U6KH5e)}),n&&(0,i.jsx)(p,{icon:l.ChatIcon,heading:d.intl.string(d.t.gJpBOz),body:d.intl.string(d.t["L+QVbm"])}),o&&(0,i.jsx)(p,{icon:l.UserCircleStatusIcon,heading:d.intl.string(d.t.jo0oj4),body:d.intl.string(d.t.Dm0jq6)}),c&&(0,i.jsx)(p,{icon:l.GroupIcon,heading:d.intl.string(d.t.QZql7O),body:d.intl.string(d.t["ez/N/f"])})]}),(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:d.intl.format(d.t.b6nqk5,{helpCenterUrl:h})}),null!=t.privacy_policy_url&&(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",className:u.privacyPolicy,children:d.intl.format(d.t.agYVY2,{onClick:g})})]})]})}function p(e){let{icon:t,heading:n,body:r}=e;return(0,i.jsxs)("li",{className:u.intentContainer,children:[(0,i.jsx)(t,{color:"currentColor",size:"md"}),(0,i.jsxs)("div",{className:u.intentTextContainer,children:[(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-secondary",children:n}),(0,i.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:r})]})]})}},571737:function(e,t,n){n(653041);var i=n(200651),r=n(192379),l=n(622535),a=n(481060),o=n(783097),s=n(768581),c=n(956965),d=n(548514),u=n(388032),h=n(137762);let m=52;t.Z=function(e){let{application:t,onButtonsVisibilityChange:n}=e,p=r.useMemo(()=>s.ZP.getApplicationIconURL({id:t.id,icon:t.icon,size:96}),[t]),g=r.useMemo(()=>{let e=[];return(0,o.vJ)(t)&&e.push(u.intl.string(u.t.LO4f0N)),(0,o.Cb)(t)&&(0!==e.length&&e.push(""),e.push(u.intl.string(u.t["8z5B2d"]))),(0,o.Hu)(t)&&(0!==e.length&&e.push(""),e.push(u.intl.string(u.t["5khEk5"]))),e},[t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{application:t,bannerType:"detail",iconURL:p}),(0,i.jsx)("div",{className:h.avatarContainer,style:{height:m},children:(0,i.jsx)("img",{src:p,alt:"",className:h.avatar,height:96,width:96,style:{borderWidth:4,marginLeft:28}})}),(0,i.jsxs)("div",{className:h.infoContainer,children:[(0,i.jsxs)("div",{className:h.metadataContainer,children:[(0,i.jsx)(a.Heading,{variant:"heading-xxl/bold",color:"header-primary",children:t.name}),(0,i.jsx)("div",{className:h.disclosuresContainer,children:g.map((e,t)=>(0,i.jsx)(a.Text,{className:h.disclosuresText,variant:"text-xs/normal",color:"text-muted",children:e},t))})]}),(0,i.jsx)(l.$,{onChange:n,active:!0,children:(0,i.jsx)(d.Z,{application:t,size:"md"})})]})]})}},682807:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(780384),o=n(481060),s=n(794295),c=n(410030),d=n(726542),u=n(887706),h=n(388032),m=n(140577);function p(e){var t,n;let{application:r,className:a}=e,s=null!==(n=null===(t=r.directory_entry)||void 0===t?void 0:t.external_urls)&&void 0!==n?n:[];return null!=r.terms_of_service_url||null!=r.privacy_policy_url||s.length>0?(0,i.jsxs)("div",{className:l()(m.list,a),children:[(0,i.jsx)(o.Heading,{variant:"heading-sm/semibold",color:"header-primary",children:h.intl.string(h.t.l6DP2t)}),s.map((e,t)=>(0,i.jsx)(g,{url:e.url,children:e.name},t)),null!=r.terms_of_service_url?(0,i.jsx)(f,{icon:o.FileIcon,url:r.terms_of_service_url,children:h.intl.string(h.t.s7STcX)}):null,null!=r.privacy_policy_url?(0,i.jsx)(f,{icon:o.LockIcon,url:r.privacy_policy_url,children:h.intl.string(h.t.kH3JR0)}):null]}):null}function g(e){var t,n;let{url:r,children:l}=e,s=(0,c.ZP)(),u=d.Z.getByUrl(r),h=(0,a.wj)(s)?null==u?void 0:null===(t=u.icon)||void 0===t?void 0:t.darkSVG:null==u?void 0:null===(n=u.icon)||void 0===n?void 0:n.lightSVG;return(0,i.jsx)(f,{icon:void 0===h?o.LinkIcon:void 0,imageSrc:h,url:r,children:l})}function f(e){let{icon:t,imageSrc:n,iconColor:r,url:a,children:c}=e,d=(0,u.Z)(),h=null;null!=t?h=(0,i.jsx)(t,{className:m.listIcon,color:null!=r?r:"currentColor",width:20,height:20,size:"custom"}):null!=n&&(h=(0,i.jsx)("img",{className:m.listImage,src:n,alt:""}));let p=(0,i.jsxs)(i.Fragment,{children:[h,(0,i.jsx)(o.Text,{className:m.listText,variant:"text-sm/medium",selectable:!0,children:c})]});return(0,i.jsx)(s.Z,{href:a,className:l()(m.listItem,m.linkItem),trusted:!d,useDefaultUnderlineStyles:!1,children:p})}},24746:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(477660),s=n.n(o),c=n(481060),d=n(939893),u=n(241209),h=n(388032),m=n(285136);let p=s().parserFor(d.Z),g=s().reactFor(s().ruleOutput(d.Z,"react"));function f(e){let{description:t,supportsMarkdown:n}=e,[l,o]=r.useState(!1),s=r.useRef(null);r.useEffect(()=>{if(null==s.current)return;let e=new ResizeObserver(()=>{var e,t,n,i;let r=null!==(n=null===(e=s.current)||void 0===e?void 0:e.scrollHeight)&&void 0!==n?n:0;o(r-(null!==(i=null===(t=s.current)||void 0===t?void 0:t.clientHeight)&&void 0!==i?i:0)>1)});return e.observe(s.current),()=>e.disconnect()},[]);let[d,h]=r.useState(!1),f=r.useCallback(()=>{h(e=>!e)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:s,className:a()({[m.descriptionClamp]:!d,[m.descriptionClampSafari]:!d&&"Safari"===platform.name}),children:n?(0,i.jsx)(u.Z,{className:m.detailedDescription,parser:p,output:g,state:{allowLinks:!0},children:t}):(0,i.jsx)(c.Text,{variant:"text-md/normal",color:"text-normal",children:t})}),l||d?(0,i.jsx)(_,{isShowingMore:d,onToggle:f}):null]})}function _(e){let{onToggle:t,isShowingMore:n}=e,l=r.useMemo(()=>(0,i.jsxs)("div",{className:m.showMoreContent,children:[(0,i.jsx)(c.Text,{variant:"text-md/semibold",color:"interactive-normal",children:n?h.intl.string(h.t["vtfc4+"]):h.intl.string(h.t.ZDRyur)}),n?(0,i.jsx)(c.ChevronSmallUpIcon,{size:"md",color:"currentColor",className:m.showMoreButtonIcon}):(0,i.jsx)(c.ChevronSmallDownIcon,{size:"md",color:"currentColor",className:m.showMoreButtonIcon})]}),[n]);return(0,i.jsxs)(c.Clickable,{className:m.showMoreButton,onClick:t,children:[(0,i.jsx)("div",{className:m.divider}),l,(0,i.jsx)("div",{className:m.divider})]})}t.Z=function(e){var t,n;let{application:l}=e,a=null===(t=l.directory_entry)||void 0===t?void 0:t.detailed_description,o=null===(n=l.directory_entry)||void 0===n?void 0:n.short_description,s=r.useMemo(()=>null!=a&&a.length>0?(0,i.jsx)(f,{description:a,supportsMarkdown:!0}):null!=o&&o.length>0?(0,i.jsx)(f,{description:o,supportsMarkdown:!1}):null,[a,o]);return null==s?null:(0,i.jsxs)("div",{className:m.overviewContainer,children:[(0,i.jsx)(c.Heading,{variant:"heading-lg/semibold",color:"header-primary",children:h.intl.string(h.t.txraKS)}),s]})}},669401:function(e,t,n){var i=n(200651),r=n(192379),l=n(149765),a=n(481060),o=n(995648),s=n(422559),c=n(388032),d=n(878744);t.Z=function(e){var t;let{application:n}=e,u=r.useMemo(()=>{var e;let t=null==n?void 0:null===(e=n.install_params)||void 0===e?void 0:e.permissions;if(null!=t)return s.VY.filter(e=>l.e$(l.vB(t),e))},[null==n?void 0:null===(t=n.install_params)||void 0===t?void 0:t.permissions]);return null!=u&&u.length>0?(0,i.jsxs)("div",{className:d.sectionContainer,children:[(0,i.jsx)(a.Heading,{variant:"heading-lg/semibold",color:"header-primary",children:c.intl.string(c.t.runNFx)}),(0,i.jsx)(o.Z,{className:d.contentContainer,grantedPermissions:u,grantedPermissionsHeader:c.intl.string(c.t.SLgiND)})]}):null}},101400:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651),r=n(192379),l=n(793030),a=n(481060),o=n(924489),s=n(214912),c=n(824606),d=n(900849),u=n(881294),h=n(682807),m=n(953989),p=n(981631),g=n(388032),f=n(37903);function _(e){let{className:t,application:n,onSelectCategory:_}=e,E=(0,c.Z)({application:n}),I=r.useCallback(async()=>{try{var e;let t=null==n?void 0:null===(e=n.guild)||void 0===e?void 0:e.id;if(null!=t){(0,u.z)(p.rMx.APP_DIRECTORY_SUPPORT_SERVER_JOINED,{application_id:n.id,support_guild_id:t});let e={page:p.ZY5.APPLICATION_DIRECTORY};await (0,d.Ub)(t,e,{setsHistorySnapshot:!1})}}catch{}},[n]),C=r.useCallback(()=>{var e;null!=(null==n?void 0:null===(e=n.guild)||void 0===e?void 0:e.id)&&I()},[n,I]);return(0,i.jsxs)("div",{className:t,children:[(0,i.jsx)(o.Z,{application:n,mutualGuilds:E,mutualGuildShownMax:3,className:f.guildCountContainer,guildIconSize:o.x.SMALL,guildsClassName:f.guildsIconContainer,compact:!0}),(0,i.jsxs)("div",{className:f.sidebar,children:[null!=n.categories&&n.categories.length>0&&(0,i.jsxs)("div",{className:f.sidebarSection,children:[(0,i.jsx)(l.X6,{variant:"heading-sm/semibold",color:"header-primary",children:g.intl.string(g.t.s7ialZ)}),(0,i.jsx)("div",{className:f.categories,children:n.categories.map(e=>(0,i.jsx)(a.Clickable,{className:f.category,onClick:()=>_(e),children:(0,i.jsx)(l.xv,{variant:"text-sm/semibold",color:"redesign-button-tertiary-text",children:e.name})},e.id))})]}),(0,i.jsx)(m.Z,{application:n,className:f.sidebarSection}),(0,i.jsx)(h.Z,{application:n,className:f.sidebarSection}),null!=n.guild&&n.guild.features.includes(p.oNc.DISCOVERABLE)&&(0,i.jsxs)("div",{className:f.sidebarSection,children:[(0,i.jsx)(l.X6,{variant:"heading-sm/semibold",color:"header-primary",children:g.intl.string(g.t.KJEO29)}),(0,i.jsx)(s.Z,{guild:n.guild,onClick:C})]})]})]})}},946542:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(481060),a=n(434650),o=n(303383),s=n(924489),c=n(125909),d=n(824606),u=n(768581),h=n(881294),m=n(981631),p=n(388032),g=n(69812);function f(e){let{applicationId:t,similarApplications:n,onSelectApplication:l,similarLoadId:o}=e,s=function(e){let{applicationId:t,similarAppIds:n}=e,[i,l]=r.useState(),o=(0,a.O)(e=>{e&&l(t)});return r.useEffect(()=>{i===t&&(0,h.z)(m.rMx.APP_DIRECTORY_RECOMMENDATIONS_VIEWED,{application_id:t,suggested_application_ids:n})},[i,t,n]),o}({applicationId:t,similarAppIds:r.useMemo(()=>n.map(e=>e.id),[n])});return(0,i.jsx)("div",{className:g.contentContainer,ref:s,children:n.map((e,n)=>(0,i.jsx)(_,{applicationId:t,similarApplication:e,onSelectApplication:l,similarLoadId:o,position:n},e.id))})}function _(e){var t,n,a;let{applicationId:o,similarApplication:c,onSelectApplication:p,position:f,similarLoadId:_}=e,E=(0,d.Z)({application:c}),I=null===(t=c.categories)||void 0===t?void 0:t[0],C=r.useMemo(()=>u.ZP.getApplicationIconURL({id:c.id,icon:c.icon,size:48}),[c]),v=r.useCallback(()=>{(0,h.z)(m.rMx.APP_DIRECTORY_RECOMMENDATION_CLICKED,{current_page:"product",application_id:o,suggested_application_id:c.id,position:f,load_id:_,shown_mutual_guilds_count:E.length}),p(c.id)},[p,c.id,o,E.length,_,f]);return(0,i.jsxs)(l.Clickable,{onClick:v,className:g.appContainer,children:[(0,i.jsxs)("div",{className:g.appHeader,children:[(0,i.jsx)("img",{src:C,alt:"",className:g.avatar,height:48,width:48}),(0,i.jsxs)("div",{className:g.titleContainer,children:[(0,i.jsx)("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:(0,i.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-primary",className:g.appName,children:c.name})}),null!=I?(0,i.jsx)(l.Text,{className:g.appCategory,variant:"text-xs/medium",color:"text-muted",children:I.name}):null]})]}),(0,i.jsx)(l.Text,{className:g.appDescription,variant:"text-sm/medium",color:"header-secondary",lineClamp:2,children:null!==(a=null===(n=c.directory_entry)||void 0===n?void 0:n.short_description)&&void 0!==a?a:c.description}),(0,i.jsx)(s.Z,{application:c,textVariant:"text-xs/medium",mutualGuilds:E,mutualGuildShownMax:3,guildIconSize:s.x.SMALL,compact:!0})]})}t.Z=function(e){let{applicationId:t,fetchState:n,similarApplications:r,onSelectApplication:a,similarLoadId:s}=e;return n!==o.M.FETCHING&&(null==r||0===r.length)?null:(0,i.jsxs)("div",{className:g.sectionContainer,children:[(0,i.jsx)("div",{className:g.divider}),(0,i.jsx)(l.Heading,{variant:"heading-sm/semibold",color:"header-primary",className:g.sectionHeader,children:p.intl.string(p.t.E8wCnp)}),(0,i.jsx)(c.Z,{loading:n===o.M.FETCHING,children:null!=r?(0,i.jsx)(f,{applicationId:t,similarApplications:r,onSelectApplication:a,similarLoadId:s}):null})]})}},213746:function(e,t,n){n.d(t,{Z:function(){return C}}),n(789020);var i=n(200651),r=n(192379),l=n(793030),a=n(442837),o=n(481060),s=n(794295),c=n(765717),d=n(283836),u=n(507608),h=n(955335),m=n(171246),p=n(55563),g=n(133743),f=n(979007),_=n(981631),E=n(388032),I=n(272680);function C(e){let{application:t}=e;return(0,i.jsxs)("div",{className:I.storeContainer,children:[(0,i.jsx)(v,{application:t}),(0,i.jsx)(N,{application:t})]})}function v(e){let{application:t}=e,{subscriptions:n,otps:r}=(0,d.q)(t.id);return(0,i.jsxs)("div",{className:I.storeContainer,children:[n.length>0&&(0,i.jsxs)("div",{className:I.productSection,children:[(0,i.jsx)(h.r,{subscriptions:n,color:"header-primary"}),(0,i.jsx)("div",{className:I.products,children:n.map(e=>{let n=(0,m.KW)(e.skuFlags)?"user":"guild";return(0,i.jsx)(u.zz,{appId:t.id,listing:e,subscriptionType:n,onDetails:()=>(0,g.Gp)(_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(t.id,e.skuId))},e.id)})})]}),r.length>0&&(0,i.jsxs)("div",{className:I.productSection,children:[(0,i.jsx)(l.X6,{variant:"heading-lg/semibold",color:"header-primary",children:E.intl.string(E.t.yUGTs7)}),(0,i.jsx)("div",{className:I.products,children:r.map(e=>(0,i.jsx)(u.hd,{skuId:e.skuId,appId:t.id,onDetails:()=>(0,g.Gp)(_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(t.id,e.skuId))},e.id))})]}),(0,i.jsx)(c.Z,{path:_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_STORE_SKU(":applicationId",":skuId"),exact:!0,render:e=>(0,i.jsx)(S,{...e})})]})}function S(e){let{match:{params:{applicationId:t,skuId:l}}}=e,s=(0,a.e7)([p.Z],()=>p.Z.get(l),[l]),c=(0,a.e7)([p.Z],()=>null!=l?p.Z.getParentSKU(l):void 0,[l]),d=r.useId(),u=r.useCallback(()=>(0,g.Gp)(_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(t,f.GlobalDiscoveryAppsSections.STORE)),[t]);return r.useLayoutEffect(()=>{var e,r,a,d,u;switch(null==s?void 0:s.type){case _.epS.CONSUMABLE:case _.epS.DURABLE:;e=t,r=l,(0,o.openModalLazy)(async()=>{let{ItemDetailsModal:t}=await Promise.resolve().then(n.bind(n,147496));return n=>(0,i.jsx)(t,{appId:e,skuId:r,...n})},{onCloseCallback:()=>(0,g.Gp)(_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(e,f.GlobalDiscoveryAppsSections.STORE))});break;case _.epS.SUBSCRIPTION:;if((null==c?void 0:c.flags)==null)return;a=t,d=l,u=(0,m.KW)(c.flags)?"user":"guild",(0,o.openModalLazy)(async()=>{let{SubscriptionDetailsModal:e}=await Promise.resolve().then(n.bind(n,519896));return t=>(0,i.jsx)(e,{appId:a,subscriptionType:u,skuId:d,guildId:void 0,...t})},{onCloseCallback:()=>(0,g.Gp)(_.Z5c.GLOBAL_DISCOVERY_APPS_PROFILE_SECTION(a,f.GlobalDiscoveryAppsSections.STORE))})}},[t,d,u,null==c?void 0:c.flags,null==s?void 0:s.flags,null==s?void 0:s.type,l]),r.useLayoutEffect(()=>()=>{(0,o.closeModal)(d)},[d]),null}function N(e){let{application:t}=e,n=t.terms_of_service_url,r=t.privacy_policy_url;if(null==n&&null==r)return null;let a=(e,t)=>(0,i.jsx)(s.Z,{href:t,children:e});return(0,i.jsx)("div",{className:I.legalContainer,children:(0,i.jsx)(l.xv,{color:"header-primary",variant:"text-sm/normal",children:null!=n&&null!=r?E.intl.format(E.t.nylPOT,{termsHook:e=>a(e,n),privacyHook:e=>a(e,r)}):null!=n?E.intl.format(E.t["0cPyDw"],{termsHook:e=>a(e,n)}):null!=r?E.intl.format(E.t.loYGCw,{privacyHook:e=>a(e,r)}):null})})}},953989:function(e,t,n){n.d(t,{Z:function(){return m}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(706454),d=n(388032),u=n(181169);let h=(0,d.getAvailableLocales)();function m(e){let{application:t,className:n}=e,l=(0,o.e7)([c.default],()=>c.default.locale),{supportedLanguages:m,usersLanguageIsFirst:p}=r.useMemo(()=>{var e;if((null===(e=t.directory_entry)||void 0===e?void 0:e.supported_locales)!=null){let e=new Set(t.directory_entry.supported_locales),n=e.has(l),i=h.filter(t=>e.has(t.value));return n&&i.sort((e,t)=>e.value===l?-1:t.value===l?1:0),{supportedLanguages:i.map(e=>d.intl.string(e.localizedName)),usersLanguageIsFirst:n}}return{supportedLanguages:[],usersLanguageIsFirst:!1}},[t.directory_entry,l]);return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)(s.Heading,{variant:"heading-sm/semibold",color:"header-primary",children:d.intl.string(d.t.Fbjlu7)}),(0,i.jsx)("ul",{className:u.outerContainer,children:m.map((e,t)=>(0,i.jsx)("li",{className:a()(u.innerContainer,u.languageItem),children:(0,i.jsx)(s.Text,{variant:0===t&&p?"text-sm/bold":"text-sm/normal",children:e})},e))})," "]})}},370648:function(e,t,n){var i=n(200651);n(192379);var r=n(105862),l=n(322665),a=n(17845),o=n(374939),s=n(283293),c=n(499692),d=n(388032),u=n(894183);t.Z=function(e){let{onScroll:t,onSelectApplication:n}=e;return(0,i.jsxs)(s.Z,{onScroll:t,children:[(0,i.jsx)(a.Z,{title:d.intl.format(d.t["kEcZ9/"],{}),description:d.intl.string(d.t.XxFts7),children:(0,i.jsx)(l.Z,{})}),(0,i.jsx)(o.Z,{children:(0,i.jsxs)("div",{className:u.contentContainer,children:[(0,i.jsx)(c.Z,{onSelectApplication:n}),(0,i.jsx)(r.Z,{showImage:!1,padding:!0})]})})]})}},499692:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(873199),s=n(442837),c=n(481060),d=n(434650),u=n(674588),h=n(368862),m=n(125909),p=n(857192),g=n(881294),f=n(797908),_=n(292191),E=n(981631),I=n(318708);function C(e){let{collection:t,index:n,onSelectApplication:l}=e,o=function(e){let{collectionId:t,index:n}=e,[i,l]=r.useState(!1),a=(0,d.O)(e=>{e&&l(!0)});return r.useEffect(()=>{i&&(0,g.z)(E.rMx.APP_DIRECTORY_COLLECTION_VIEWED,{collection_id:t,collection_position:n})},[i,t,n]),a}({collectionId:t.id,index:n}),s=r.useCallback((e,i)=>{(0,g.z)(E.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:t.id,item_position:i,collection_position:n,application_id:e}),l(e)},[t.id,n,l]);return(0,i.jsxs)("div",{ref:o,children:[(0,i.jsx)(c.Heading,{className:a()(I.sectionTitle,{[I.titleExtraPadding]:0===n}),variant:"heading-lg/semibold",color:"header-primary",children:t.title}),(0,i.jsx)("div",{className:I.content,children:t.application_directory_collection_items.map((e,t)=>{let{id:n,application:r}=e;return null==r?null:(0,i.jsx)(f.Z,{application:r,onSelectApplication:()=>s(r.id,t),showCategory:!0},n)})})]})}t.Z=function(e){let{onSelectApplication:t}=e,n=(0,s.e7)([p.default],()=>p.default.appDirectoryIncludesInactiveCollections),l=(0,s.e7)([h.Z],()=>h.Z.getFetchState({includesInactive:n})),a=(0,s.e7)([h.Z],()=>h.Z.getCollections({includesInactive:n}));r.useEffect(()=>{u.bG({includesInactive:n})},[n]);let c=r.useMemo(()=>null==a?void 0:a.filter(e=>e.type!==o.o.GALLERY),[a]);return l===h.M.ERROR?(0,i.jsx)("div",{className:I.errorContainer,children:(0,i.jsx)(_.Z,{className:I.error})}):(0,i.jsx)(m.Z,{loading:l===h.M.FETCHING,children:null==c?void 0:c.map((e,n)=>(0,i.jsx)(C,{collection:e,index:n,onSelectApplication:t},n))})}},120549:function(e,t,n){n.d(t,{V:function(){return _},Z:function(){return f}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(894653),d=n(34674),u=n(89182),h=n(706454),m=n(388032),p=n(968654);function g(e){let{category:t,count:n,onSelectCategory:l,selected:o}=e,c=r.useCallback(()=>{l(t.id)},[t.id,l]),d=n.toLocaleString(h.default.locale);return(0,i.jsxs)(s.Clickable,{onClick:c,className:a()(p.category,{[p.selected]:o}),children:[(0,i.jsx)(s.Text,{className:p.name,variant:"text-sm/medium",color:"header-primary",children:t.name}),(0,i.jsx)(s.Text,{className:p.count,variant:"text-sm/normal",color:"text-muted",children:d})]})}function f(e){let{countsByCategory:t,onSelectCategory:n,selectedCategoryId:l}=e,a=(0,o.e7)([c.Z],()=>c.Z.getCategories()),s=r.useMemo(()=>[(0,d.KQ)(),...a.filter(e=>{var n;return(null!==(n=t[e.id])&&void 0!==n?n:0)!==0})],[a,t]);return 0===s.length?null:(0,i.jsx)("div",{className:p.categories,children:s.map(e=>{var r;let a=e.id,o=null!==(r=t[a])&&void 0!==r?r:0;return(0,i.jsx)(g,{category:e,count:o,selected:a===l,onSelectCategory:()=>n(e)},a)})})}function _(e){var t;let{countsByCategory:n,onSelectCategory:l,selectedCategoryId:a}=e,h=(0,o.e7)([c.Z],()=>c.Z.getCategories()),g=r.useMemo(()=>[(0,d.KQ)(),...h.filter(e=>{var t;return(null!==(t=n[e.id])&&void 0!==t?t:0)!==0})],[h,n]),f=r.useMemo(()=>g.map(e=>({id:"".concat(e.id),label:(0,i.jsx)(u.iG,{count:n[e.id],name:e.name})})),[g,n]),_=r.useCallback(e=>{let t=g.find(t=>t.id===Number(e));null!=t&&l(t)},[l,g]),E=r.useMemo(()=>g.find(e=>e.id===a),[a,g]);return 0===f.length?null:(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsx)(s.Text,{variant:"text-sm/medium",color:"text-secondary",children:m.intl.string(m.t.f09BQE)}),(0,i.jsx)(u.ZP,{items:f,title:null!==(t=null==E?void 0:E.name)&&void 0!==t?t:"",onSelect:_,selected:"".concat(a),"aria-label":m.intl.string(m.t.WHdCwc),variant:u.PA.FILLED})]})}},753511:function(e,t,n){var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(894653),s=n(34674),c=n(388032),d=n(207876),u=n(882008);t.Z=function(e){let{selectedCategoryId:t,searchAllCategories:n}=e,h=(0,l.e7)([o.Z],()=>o.Z.getCategories()),m=r.useMemo(()=>{var e;return null===(e=h.find(e=>e.id===t))||void 0===e?void 0:e.name},[h,t]),p=t===s.MU||null==m?c.intl.string(c.t["FVJt+/"]):c.intl.formatToPlainString(c.t.FjCaND,{categoryName:m}),g=t===s.MU?c.intl.string(c.t.GXiMtb):c.intl.format(c.t.JaLoFB,{onClick:n});return(0,i.jsxs)("div",{className:d.container,children:[(0,i.jsx)("img",{alt:"",src:u,className:d.image}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:d.header,children:p}),(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",children:g})]})}},569527:function(e,t,n){n.d(t,{Z:function(){return L}}),n(610138),n(216116),n(78328),n(815648),n(47120);var i=n(200651),r=n(192379),l=n(512969),a=n(209173),o=n(288385),s=n(442837),c=n(481060),d=n(110924),u=n(674588),h=n(264043),m=n(894653),p=n(809547),g=n(34674),f=n(125909),_=n(374939),E=n(283293),I=n(493646),C=n(881294),v=n(797908),S=n(258971),N=n(133743),T=n(120549),b=n(753511),x=n(979007),A=n(981631),Z=n(378105);function L(e){var t;let{onSelectApplication:n,onScroll:L}=e,P=r.useRef(null),y=(0,l.TH)(),O=r.useRef(null),{query:R,page:j,categoryId:D}=r.useMemo(()=>{var e,t;let n=new URLSearchParams(y.search),i=n.get("page"),r=null!=i?Number(i):1;return{query:null!==(e=n.get("q"))&&void 0!==e?e:"",page:r,categoryId:null!==(t=Number(n.get("category_id")))&&void 0!==t?t:x.GLOBAL_DISCOVERY_APPS_FEATURED_CATEGORY_ID}},[y.search]),M=(0,s.e7)([m.Z],()=>m.Z.getCategories()),w=r.useMemo(()=>null==M?void 0:M.find(e=>e.id===D),[M,D]),k=r.useCallback(e=>{(0,C.z)(A.rMx.APP_DIRECTORY_SEARCHED,{search_term:R,num_results:e,current_page:S.m_.SEARCH,result_page:j,category:null==w?void 0:w.name,category_id:null==w?void 0:w.id})},[R,j,null==w?void 0:w.name,null==w?void 0:w.id]);r.useEffect(()=>{var e;null===(e=P.current)||void 0===e||e.scrollTo({to:0}),R!==O.current&&(O.current=R,u.yC({query:R,options:{source:o.F.APP_DIRECTORY}})),u.yC({query:R,options:{categoryId:D,page:j,pageSize:x.PAGE_SIZE,source:o.F.APP_DIRECTORY},onSuccessCallback:k})},[D,j,R,k]);let{fetchState:U,searchResults:G}=(0,s.cj)([p.Z],()=>({fetchState:p.Z.getFetchState({query:R,categoryId:D,page:j,pageSize:x.PAGE_SIZE,source:o.F.APP_DIRECTORY}),searchResults:p.Z.getSearchResults({query:R,categoryId:D,page:j,pageSize:x.PAGE_SIZE,source:o.F.APP_DIRECTORY})})),B=(0,s.cj)([p.Z],()=>{let e=p.Z.getSearchResults({query:R,source:o.F.APP_DIRECTORY});return null!=e?{[g.MU]:e.totalCount,...e.countsByCategory}:{}}),H=(0,d.Z)(G),V=r.useMemo(()=>U===h.M.FETCHING?H:G,[U,H,G]),F=r.useCallback(e=>{(0,N.pR)({query:R,categoryId:D,page:e})},[D,R]),z=r.useCallback(e=>{(0,C.z)(A.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{category:e.name,category_id:e.id,current_page:S.m_.SEARCH}),(0,N.pR)({query:R,categoryId:e.id})},[R]),W=r.useCallback((e,t)=>{(0,C.z)(A.rMx.APP_DIRECTORY_SEARCH_RESULT_CLICKED,{current_page:S.m_.SEARCH,application_id:e,load_id:null==V?void 0:V.loadId,search_term:R,position:t}),n(e)},[null==V?void 0:V.loadId,n,R]),Y=(0,I.K)();return(0,i.jsxs)("div",{className:Z.container,children:[(0,i.jsx)(E.Z,{ref:P,onScroll:L,children:(0,i.jsx)(_.Z,{children:(0,i.jsxs)("div",{className:Z.contentContainer,children:[(0,i.jsx)("div",{className:Z.topFilterContainer,children:(0,i.jsx)(T.V,{countsByCategory:B,selectedCategoryId:D,onSelectCategory:z})}),(0,i.jsx)(f.Z,{loading:U===h.M.FETCHING,children:U===h.M.FETCHED&&(null==V||(null==V?void 0:V.results.length)===0)?(0,i.jsx)(b.Z,{selectedCategoryId:null!=D?D:Y.id,searchAllCategories:()=>z(Y)}):(0,i.jsx)("div",{className:Z.content,children:null==V?void 0:V.results.map((e,t)=>{if(e.type===a.s.APPLICATION){let n=e.data;return(0,i.jsx)(v.Z,{application:n,onSelectApplication:e=>W(e,t),showCategory:!0},n.id)}return null})})}),(0,i.jsx)(c.Paginator,{className:Z.paginationInput,totalCount:Math.min((null!==(t=null==V?void 0:V.totalPages)&&void 0!==t?t:0)*x.PAGE_SIZE,x.MAX_PAGES*x.PAGE_SIZE),pageSize:x.PAGE_SIZE,disablePaginationGap:!0,hideMaxPage:!0,currentPage:j,onPageChange:F})]})})}),(0,i.jsx)("div",{className:Z.sideFilterContainer,children:(0,i.jsx)("div",{className:Z.sideFilterContent,children:(0,i.jsx)(T.Z,{countsByCategory:B,selectedCategoryId:D,onSelectCategory:z})})})]})}},762692:function(e,t,n){n(653041);var i=n(544891),r=n(343817),l=n(570140),a=n(900849),o=n(726115),s=n(128449),c=n(981631);async function d(e,t){let{categoryId:n,languageCode:d,offset:u,limit:h,withCounts:m}=t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_START",query:e,categoryId:n,languageCode:d});try{let t=await i.tn.get({url:c.ANM.GUILD_DISCOVERY_SEARCH,query:{query:e,category_id:n===s.Hk?null:n,offset:u,limit:h,language_code:d,with_counts:m},oldFormErrors:!0,rejectWithError:!1}),r=t.body.guilds.map(o.Iv),a=t.body.total_count;if(m){var p;let n=[];null===(p=t.body.categories)||void 0===p||p.slice(0,8).forEach(e=>{let{id:t,count:i}=e;n.push([Number(t),i])}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:n})}l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_SUCCESS",query:e,categoryId:n,languageCode:d,guilds:r,total:a})}catch(i){let t=new r.Hx(i);a.m9({categoryId:n,error:t,willRequestRetry:!1,isRequestRetry:!1}),m&&l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS",query:e,categoryCounts:[]}),l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_FAILURE",query:e,categoryId:n,languageCode:d,error:i})}}t.Z={fetchSearchResults:d,clearSearchResults:function(e){var t;l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR",ignoreQueries:null!==(t=null==e?void 0:e.ignoreQueries)&&void 0!==t?t:[]})},resetSearchLayout:function(){l.Z.dispatch({type:"GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET"})}}},331114:function(e,t,n){n(47120);var i,r=n(442837),l=n(570140),a=n(881052);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=new Map;class c{handleSearchCountStart(){this.error=null,this.isFetching=!0}handleSearchCountSuccess(e){this.counts=e,this.isFetching=!1,this.isInitialFetchComplete=!0}handleSearchCountFailure(e){this.error=new a.Hx(e),this.isFetching=!1}constructor(){o(this,"isInitialFetchComplete",!1),o(this,"isFetching",!1),o(this,"error",null),o(this,"counts",null)}}function d(e){var t;let n=null!==(t=s.get(e))&&void 0!==t?t:new c;return s.set(e,n),n}function u(e,t){let n=s.get(e);return null!=n?t(n):null}class h extends(i=r.ZP.Store){getIsInitialFetchComplete(e){return u(e,e=>e.isInitialFetchComplete)}getIsFetchingCounts(e){return u(e,e=>e.isFetching)}getCounts(e){return u(e,e=>e.counts)}}o(h,"displayName","GlobalDiscoveryServersSearchCountStore"),t.Z=new h(l.Z,{CONNECTION_OPEN:function(){s.clear()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_START:function(e){let{query:t}=e;d(t).handleSearchCountStart()},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t,categoryCounts:n}=e;d(t).handleSearchCountSuccess(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_FAILURE:function(e){let{query:t,error:n}=e;d(t).handleSearchCountFailure(n)},GLOBAL_DISCOVERY_SERVERS_SEARCH_CLEAR:function(e){let{ignoreQueries:t}=e,n=new Set(t);s.forEach((e,t)=>{!n.has(t)&&s.delete(t)})}})},537883:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(331114),d=n(356164);let u=[];function h(){u=[]}class m extends(a=o.ZP.Store){initialize(){this.waitFor(c.Z,d.Z)}getVisibleTabs(){return u}}l="GlobalDiscoveryServersSearchLayoutStore",(r="displayName")in(i=m)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new m(s.Z,{CONNECTION_OPEN:h,GLOBAL_DISCOVERY_SERVERS_SEARCH_LAYOUT_RESET:h,GLOBAL_DISCOVERY_SERVERS_SEARCH_COUNT_SUCCESS:function(e){let{query:t}=e,n=c.Z.getCounts(t);if(null==n)return!1;u=n}})},959165:function(e,t,n){n(47120);var i=n(900849),r=n(762692),l=n(331114),a=n(356164),o=n(164991);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{}t.Z=new class e extends c{constructor(...e){super(...e),s(this,"loadMoreCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l,offset:o}=e;if(!a.Z.getIsFetching({query:t,categoryId:n,languageCode:l}))a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l})&&(i.qn({withCounts:!1,offset:o}),await r.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:o,limit:12,withCounts:!1}))}),s(this,"loadCategoryResults",async e=>{let{query:t,categoryId:n,languageCode:l}=e,o=a.Z.getIsFetching({query:t,categoryId:n,languageCode:l}),s=a.Z.getIsInitialFetchComplete({query:t,categoryId:n,languageCode:l});!o&&!s&&(i.qn({withCounts:!1,offset:0}),await r.Z.fetchSearchResults(t,{categoryId:n,languageCode:l,offset:0,limit:12,withCounts:!1}))}),s(this,"loadCategoryResultsAndCounts",async e=>{let{query:t,loadId:n,categoryId:a,languageCode:s}=e;if(""===t.trim())return;let c=l.Z.getIsFetchingCounts(t),d=l.Z.getIsFetchingCounts(t);!c&&!d&&(o.Z.setState({fetchedQuery:t,resultsQuery:""}),i.tI(n,a),i.qn({withCounts:!0,offset:0}),await r.Z.fetchSearchResults(t,{categoryId:a,languageCode:s,offset:0,limit:12,withCounts:!0}),o.Z.setState({resultsQuery:t}))})}}},164991:function(e,t,n){var i=n(972959);let r=Object.freeze({query:"",languageCode:null,categoryId:n(128449).Hk,fetchedQuery:"",resultsQuery:"",resultsInitialCategoryId:null,scrollPosition:null}),l=(0,i.H)(()=>r);t.Z=l},444324:function(e,t,n){n.d(t,{Z:function(){return l}}),n(47120);var i=n(900849);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{markAsSeen(e,t,n){this.categoryId!==e&&(this.categoryId=e,this.flushSeenGuilds(n)),this.guildIds.add(t)}flushSeenGuilds(e){this.guildIds.size>0&&(i.Az(e,Array.from(this.guildIds)),this.guildIds.clear())}constructor(e){r(this,"guildIds",new Set),r(this,"categoryId",void 0),this.categoryId=e}}},783393:function(e,t,n){n.d(t,{E:function(){return o}}),n(47120);var i=n(442837),r=n(526429),l=n(128449),a=n(388032);function o(e){let{categoryId:t}=e;return(0,i.e7)([r.Z],()=>(function(e){let[t]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[r.Z];return e===l.Hk?a.intl.string(a.t.Omu0fX):t.getCategoryName(e)})(t,[r.Z]))}},294330:function(e,t,n){n.d(t,{Eo:function(){return O},VD:function(){return P}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(622535),c=n(481060),d=n(668781),u=n(239091),h=n(881052),m=n(410030),p=n(686546),g=n(66637),f=n(782738),_=n(371260),E=n(372769),I=n(134432),C=n(695346),v=n(768581),S=n(356164),N=n(890064),T=n(981631),b=n(388032),x=n(125285),A=n(129512),Z=n(330065),L=n(755386);function P(e){let{guild:t,onClick:l,onView:o}=e,[f,_]=r.useState(!1),[S,P]=r.useState(!1),[y,O]=r.useState(!1),R=r.useCallback(async()=>{P(!0);try{await l(t.id)}catch(n){var e;let t=new h.Hx(n);d.Z.show({title:b.intl.string(b.t.R0RpRU),body:null!==(e=t.getAnyErrorMessage())&&void 0!==e?e:b.intl.string(b.t.eAn6z8)})}finally{P(!1)}},[t.id,l]),j=r.useCallback(e=>{e&&!f&&(_(!0),null==o||o(t.id))},[t.id,f,o]),D=r.useCallback(e=>{(0,u.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,858523));return n=>(0,i.jsx)(e,{...n,guild:t})})},[t]),M=(0,m.ZP)(),w=t.features.has(T.oNc.HUB),k=r.useMemo(()=>{let e=v.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discoverySplash,size:300*(0,I.x_)()});if(null!=e)return e;if(w)return L;switch(M){case T.BRd.DARK:return A;case T.BRd.LIGHT:return Z}},[t.discoverySplash,t.id,w,M]),U=r.useMemo(()=>v.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:40}),[t.icon,t.id]),G=C.Sb.useSetting();return(0,i.jsxs)("div",{className:x.container,children:[S&&(0,i.jsx)("div",{className:x.spinnerContainer,children:(0,i.jsx)(c.Spinner,{type:c.Spinner.Type.PULSING_ELLIPSIS,className:x.spinner})}),(0,i.jsx)(s.$,{onChange:j,active:!f,threshold:.55,children:(0,i.jsxs)(g.Z,{className:x.card,onClick:R,disabled:S,onContextMenu:D,children:[(0,i.jsxs)("div",{className:x.header,children:[(0,i.jsx)("div",{className:a()(x.banner,{[x.loaded]:y}),children:(0,i.jsx)("img",{src:k,alt:"",className:x.bannerImage,onLoad:()=>O(!0)})}),G&&(0,i.jsx)(N.Z,{guild:t,className:x.contextMenu}),(0,i.jsx)("div",{className:x.icon,children:(0,i.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,i.jsx)("div",{className:x.iconMask,children:(0,i.jsx)(p.ZP,{mask:p.ZP.Masks.SQUIRCLE,width:40,height:40,children:(0,i.jsx)("img",{src:U,alt:"",className:x.avatar})})})})})]}),(0,i.jsxs)("div",{className:x.guildDetails,children:[(0,i.jsxs)("div",{className:x.title,children:[(0,i.jsx)(E.Z,{className:x.guildBadge,guild:t,tooltipColor:c.Tooltip.Colors.PRIMARY}),(0,i.jsx)(c.Heading,{variant:"heading-md/semibold",className:x.guildName,children:t.name})]}),(0,i.jsx)(c.Text,{className:x.description,variant:"text-sm/normal",color:"header-secondary",children:t.description}),(0,i.jsxs)("div",{className:x.memberDetails,children:[null!=t.presenceCount&&(0,i.jsxs)("div",{className:x.memberDetailsCount,children:[(0,i.jsx)("div",{className:x.presenceCountDot}),(0,i.jsx)(c.Text,{className:x.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:b.intl.format(b.t["LC+S+v"],{membersOnline:t.presenceCount})})]}),null!=t.memberCount&&(0,i.jsxs)("div",{className:x.memberDetailsCount,children:[(0,i.jsx)("div",{className:x.memberCountDot}),(0,i.jsx)(c.Text,{className:x.memberDetailsText,variant:"text-xs/normal",color:"header-secondary",children:b.intl.format(b.t.zRl6XV,{count:t.memberCount})})]})]})]})]})})]})}function y(e){let{guildId:t,onClick:n,onView:r}=e,l=(0,o.e7)([S.Z],()=>S.Z.getGuild(t));return null==l?null:(0,i.jsx)(P,{guild:l,onClick:n,onView:r})}function O(e){let{guildId:t,index:n,onClick:l,onView:a}=e,o=r.useRef(null==t),s=r.useCallback((e,t,n,r)=>null==t.guildId?(0,i.jsx)(_.Z,{state:n,cleanUp:r,children:(0,i.jsx)(f.Z,{className:x.placeholder})},e):(0,i.jsx)(_.Z,{state:n,cleanUp:r,animate:o.current,children:(0,i.jsx)(y,{guildId:t.guildId,onClick:l,onView:a})},e),[l,a]),d=r.useCallback(e=>{var t;return null!==(t=e.guildId)&&void 0!==t?t:"".concat(e.index)},[]),u=r.useMemo(()=>[{guildId:t,index:n}],[t,n]);return(0,i.jsx)("div",{className:x.transitionGroup,children:(0,i.jsx)(c.TransitionGroup,{items:u,renderItem:s,getItemKey:d})})}t.ZP=r.memo(y)},890064:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(951394),c=n(858523),d=n(388032),u=n(877184);t.Z=function(e){let{guild:t,className:n}=e,[l,h]=r.useState(!1),m=r.useCallback(()=>h(!0),[h]),p=r.useCallback(()=>h(!0),[h]);return(0,i.jsx)("div",{className:a()(u.actionButtonsContainer,n,{[u.forceButtonsShow]:l}),children:(0,i.jsx)(s.ZP,{children:(0,i.jsx)(c.GlobalDiscoveryServerCardPopout,{onRequestOpen:m,onRequestClose:p,guild:t,children:e=>{let{onClick:t,...n}=e;return(0,i.jsx)(o.Tooltip,{text:d.intl.string(d.t.UKOtz8),hideOnClick:!0,children:e=>{let{onClick:r,...l}=e;return(0,i.jsx)(s.zx,{...n,...l,onClick:e=>{e.stopPropagation(),null==r||r(),t(e)},"aria-label":d.intl.string(d.t.UKOtz8),children:(0,i.jsx)(o.MoreHorizontalIcon,{size:"md",color:"currentColor",className:u.overflowIcon})})}})}})})})}},858523:function(e,t,n){n.r(t),n.d(t,{GlobalDiscoveryServerCardPopout:function(){return d},default:function(){return c}});var i=n(200651),r=n(192379),l=n(481060),a=n(239091),o=n(299206),s=n(388032);function c(e){let{guild:t,shiftId:n,onSelect:c,closePopout:d,"aria-label":u}=e,h=(0,o.Z)({id:t.id,label:s.intl.string(s.t["94lLDw"]),shiftId:n,onSuccess:d}),m=r.useCallback(e=>{e.stopPropagation()},[]);return(0,i.jsx)(l.Clickable,{onClick:m,children:(0,i.jsx)(l.Menu,{onSelect:c,navId:"guild-discovery-context-menu","aria-label":null!=u?u:s.intl.string(s.t.ogxXGh),onClose:a.Zy,children:(0,i.jsx)(l.MenuGroup,{children:h})})})}let d=e=>{let{guild:t,children:n,onRequestOpen:r,onRequestClose:a}=e;return(0,i.jsx)(l.Popout,{onRequestOpen:r,onRequestClose:a,animation:l.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(c,{guild:t,closePopout:n})},children:n})}},590771:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),r=n(192379),l=n(442837),a=n(571457),o=n(823379),s=n(275131),c=n(356164),d=n(726115),u=n(962486),h=n(149788),m=n(128449);function p(e){let{onScroll:t,onGuildCardSeen:n,onGuildCardClick:a}=e,o=(0,l.e7)([c.Z],()=>{var e;return null!==(e=c.Z.getGuildIds({categoryId:m.Hk}))&&void 0!==e?e:m.q5}),d=(0,l.e7)([c.Z],()=>{var e;return null===(e=c.Z.getIsFetching({categoryId:m.Hk}))||void 0===e||e});return r.useEffect(()=>{s.Z.fetchFeaturedGuilds()},[]),(0,i.jsx)(u.Z,{tab:m.vf.FEATURED,guildIds:o,loading:d,onScroll:t,onGuildCardSeen:n,onGuildCardClick:a})}function g(e){let{tab:t,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o}=e,h=(0,d.lg)(t),p=(0,l.e7)([c.Z],()=>{var e;return null!==(e=c.Z.getGuildIds({categoryId:h}))&&void 0!==e?e:m.q5}),g=(0,l.e7)([c.Z],()=>{var e;return null===(e=c.Z.getIsFetching({categoryId:h}))||void 0===e||e});return r.useEffect(()=>{s.Z.fetchCategoryFeaturedGuilds({categoryId:h})},[h]),(0,i.jsx)(u.Z,{tab:t,guildIds:p,loading:g,onScroll:n,onGuildCardSeen:a,onGuildCardClick:o})}function f(e){let{selectedTab:t,onScroll:n,onGuildCardSeen:l,onGuildCardClick:s}=e;switch(r.useEffect(()=>{let e=(0,d.lg)(t);(0,a.kR)({selectedCategoryId:e})},[t]),t){case m.vf.FEATURED:return(0,i.jsx)(p,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l});case m.vf.GAMING:case m.vf.MUSIC:case m.vf.ENTERTAINMENT:case m.vf.TECH:case m.vf.EDUCATION:return(0,i.jsx)(g,{tab:t,onScroll:n,onGuildCardClick:s,onGuildCardSeen:l},t);case m.vf.HUBS:return(0,i.jsx)(h.Z,{onScroll:n});default:(0,o.vE)(t)}}},106075:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(200651),r=n(192379),l=n(481060),a=n(979233),o=n(88693),s=n(611928),c=n(922122),d=n(680180),u=n(164991),h=n(444324),m=n(726115),p=n(859921),g=n(750910),f=n(28494),_=n(29086),E=n(590771),I=n(273596),C=n(128449),v=n(49898),S=n(388032),N=n(608576);function T(){let e=r.useRef((0,m.PM)()),{onScroll:t,scrollPosition:n,resetScrollPosition:T}=(0,a.M)(),{tabs:b,selectedTab:x,setSelectedTab:A}=(0,_.Y)(),Z=(0,m.lg)(x),L=!C.MU.has(x),{searchQuery:P,onSearchTextChange:y,onClearSearch:O,onSearchSubmit:R,isSearchVisible:j}=(0,f.H)({loadId:e.current}),D=p.Z.useField("searchBarState"),{onTabsAvailableWidthChange:M,onCollapsedSearchBarClick:w,onSearchBarBlur:k,tabsClassName:U}=(0,o.U)({isSearchBarVisible:L,isSearchBarEmpty:""===P.trim(),searchBarState:D,setSearchBarState:e=>p.Z.setState({searchBarState:e})}),G=u.Z.useField("fetchedQuery"),B=r.useCallback(e=>{A(e),j&&O()},[j,O,A]),H=r.useMemo(()=>j?b.filter(e=>{let{id:t}=e;return!C.MU.has(t)}):b,[b,j]),V=r.useRef(new h.Z(Z)),{onGuildCardSeen:F,onGuildCardClick:z}=(0,g.H)({guildDiscoveryCardSeenManager:V.current,loadId:e.current});return r.useEffect(()=>{V.current.flushSeenGuilds(e.current)},[Z]),r.useEffect(()=>{T()},[x,T]),r.useEffect(()=>{!j&&u.Z.setState({scrollPosition:null})},[j]),(0,i.jsxs)("div",{className:N.container,children:[(0,i.jsxs)(s.ZP,{variant:j?s._6.RELATIVE:s._6.OVERLAY,children:[!j&&(0,i.jsx)(s.z6,{scrollPosition:n}),j?(0,i.jsx)(s.Cm,{icon:l.ArrowLargeLeftIcon,onClick:O}):(0,i.jsx)(s.aV,{icon:l.ServerIcon}),!j&&(0,i.jsx)(c.Z,{className:U,tabs:H,selectedTab:j?null:x,onTabSelect:B,onAvailableWidthChange:M}),j&&(0,i.jsx)(l.Heading,{variant:"heading-lg/semibold",color:"header-primary",className:N.searchResultsHeader,children:S.intl.format(S.t.zHdzqa,{query:G})}),L&&(0,i.jsx)(d.Z,{query:P,placeholder:S.intl.string(S.t["5h0QOD"]),onTextChange:y,onClear:O,onSubmit:R,onCollapsedClick:w,state:j?v.GlobalDiscoverySearchBarState.DEFAULT:D,onBlur:k})]}),j?(0,i.jsx)(I.Z,{loadId:e.current,onGuildCardClick:z,onGuildCardSeen:F}):(0,i.jsx)(E.Z,{selectedTab:x,onScroll:t,onGuildCardClick:z,onGuildCardSeen:F})]})}},273596:function(e,t,n){n.d(t,{Z:function(){return L}}),n(47120),n(411104);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(481060),d=n(393903),u=n(626135),h=n(823379),m=n(900849),p=n(356164),g=n(164991),f=n(726115),_=n(28494),E=n(746728),I=n(140700),C=n(665807),v=n(188493),S=n(294330),N=n(981631),T=n(841787);let b=Object.freeze({top:0,bottom:0,left:32,right:202}),x=Object.freeze({top:0,bottom:0,left:32,right:32}),A={page:N.ZY5.GUILD_DISCOVERY,object:N.qAy.CARD,section:N.jXE.DISCOVER_SEARCH},Z=s().throttle(m.c6,1e3,{leading:!1,trailing:!0});function L(e){let{loadId:t,onGuildCardSeen:n,onGuildCardClick:l}=e,{guildIds:s,loading:m,searchResultsQuery:N,loadMore:L,searchCategoryId:P}=(0,_.f)({loadId:t}),y=0===s.length&&!m,O=r.useContext(u.AnalyticsContext),[R,j]=r.useState((0,f.PM)()),[D,M]=r.useState(!0),w=r.useRef(D),[k,U]=r.useState(3),G=r.useRef(k),B=r.useRef(null),H=r.useCallback(e=>{if(null==e||y||m)return;let t=s.length/k;336*t<=e.height&&L()},[y,m,s.length,k,L]),V=(0,d.y)(e=>{let t=null==e?void 0:e.getBoundingClientRect();if(null==t)return;let n=t.width;n<1024&&w.current?(w.current=!1,M(!1)):n>1024&&!w.current&&(w.current=!0,M(!0));let i=1;for(n-=D?450:0,n-=280;n>0;)n-=264,i+=1;i!==G.current&&(G.current=i,U(i)),H(t)});r.useLayoutEffect(()=>{var e;H(null===(e=V.current)||void 0===e?void 0:e.getBoundingClientRect())},[V,H]),r.useEffect(()=>{j((0,f.PM)())},[N]),r.useEffect(()=>{Z({loadId:t,searchId:R,query:N,guildResults:s.map(p.Z.getGuild).filter(h.lm),analyticsContext:O,categoryId:P})},[O,s,t,P,R,N]);let F=r.useCallback(e=>n(e,P),[n,P]),z=r.useMemo(()=>m?[s.length,0]:[s.length],[s.length,m]),W=r.useCallback((e,n,r)=>{switch(e){case 0:return(0,i.jsxs)("div",{style:{paddingLeft:n.left,width:n.width-16},className:a()(T.heading,{[T.headingTopbar]:!D}),children:[!D&&(0,i.jsxs)("div",{className:T.headingFilters,children:[(0,i.jsx)(I.Z,{loadId:t}),(0,i.jsx)(v.Z,{loadId:t})]}),y&&(0,i.jsx)(C.Z,{loadId:t})]},r);case 1:return(0,i.jsx)(c.Spinner,{className:a()(T.spinner,{[T.spinnerWithSidebar]:D})},r)}},[y,D,t]),Y=r.useCallback(e=>{switch(e){case 0:let t=D?16:50;return y?t+448:t;case 1:return 120;default:throw Error("[getSectionHeight] Failed for section: ".concat(e))}},[y,D]),K=r.useCallback((e,t)=>{switch(e){case 0:return s[t];case 1:return"loading";default:throw Error("[getItemKey] Failed for section: ".concat(e))}},[s]),q=r.useCallback(e=>{switch(e){case 0:return 320;case 1:return 0;default:throw Error("[getItemHeight] Failed for section: ".concat(e))}},[]),X=r.useCallback(async(e,t,n,i)=>{var r,a;await l(e,t,n,i);let o=null===(a=B.current)||void 0===a?void 0:null===(r=a.getScrollerState())||void 0===r?void 0:r.scrollTop;null!=o&&g.Z.setState({scrollPosition:o})},[l]),Q=r.useCallback((e,t,n,r)=>{if(0===e){let e=s[t];return(0,i.jsx)("div",{style:n,children:(0,i.jsx)(S.ZP,{guildId:e,onClick:async e=>await X(e,t,P,A),onView:e=>F(e)})},r)}return null},[s,X,F,P]);r.useEffect(()=>{let e=B.current;return()=>{var t;let n=null==e?void 0:null===(t=e.getScrollerState())||void 0===t?void 0:t.scrollTop;null!=n&&g.Z.setState({scrollPosition:n})}},[]),r.useLayoutEffect(()=>{let e=g.Z.getField("scrollPosition");null!=e&&setTimeout(()=>{var t;null===(t=B.current)||void 0===t||t.scrollTo({to:e,animate:!1,callback:()=>{g.Z.setState({scrollPosition:null})}})})},[]);let J=r.useMemo(()=>(0,o.debounce)(()=>{var e;let t=null===(e=B.current)||void 0===e?void 0:e.getScrollerState();if(null==t)return;let n=t.scrollTop+t.offsetHeight;t.scrollHeight-n<240&&L()},100,{leading:!0}),[L]),$=D?b:x;return(0,i.jsx)("div",{className:T.container,ref:V,children:(0,i.jsx)(c.MasonryList,{ref:B,className:T.masonryList,sections:z,columns:k,itemGutter:16,padding:$,renderItem:Q,renderSection:W,getSectionHeight:Y,getItemKey:K,getItemHeight:q,chunkSize:24,onScroll:J,renderAccessory:e=>D?(0,i.jsx)("div",{className:T.sidebar,style:{height:e},children:(0,i.jsxs)("div",{className:T.sidebarContent,children:[(0,i.jsx)("div",{className:T.sidebarLanguageSelect,children:(0,i.jsx)(v.Z,{loadId:t})}),(0,i.jsx)(E.Z,{loadId:t})]})}):null})})}},750910:function(e,t,n){n.d(t,{H:function(){return l}});var i=n(192379),r=n(726115);function l(e){let{guildDiscoveryCardSeenManager:t,loadId:n}=e,l=i.useCallback((e,i)=>{t.markAsSeen(i,e,n)},[t,n]),a=i.useCallback((e,t,i,l)=>(0,r.vL)({loadId:n,guildId:e,index:t,categoryId:i,analyticsLocation:l}),[n]);return i.useMemo(()=>({onGuildCardSeen:l,onGuildCardClick:a}),[a,l])}},28494:function(e,t,n){n.d(t,{H:function(){return p},f:function(){return m}});var i=n(192379),r=n(442837),l=n(900849),a=n(762692),o=n(959165),s=n(356164),c=n(164991),d=n(456268),u=n(859921),h=n(128449);function m(e){let{loadId:t}=e,n=c.Z.useField("fetchedQuery"),l=c.Z.useField("categoryId"),a=c.Z.useField("languageCode"),d=i.useMemo(()=>({categoryId:l,query:n,languageCode:a}),[l,a,n]),u=(0,r.e7)([s.Z],()=>{var e;return null!==(e=s.Z.getGuildIds(d))&&void 0!==e?e:h.q5}),m=(0,r.e7)([s.Z],()=>{var e;return null!==(e=s.Z.getIsFetching(d))&&void 0!==e&&e}),p=c.Z.useField("resultsQuery"),g=p!==n,f=i.useCallback(()=>{let e=s.Z.getGuildIds(d),n=s.Z.getTotal(d);if(null==e||null==n)return;let i=s.Z.getIsFetching(d),r=s.Z.getIsInitialFetchComplete(d);!i&&r&&!(e.length>=n)&&o.Z.loadMoreCategoryResults({loadId:t,offset:e.length,categoryId:c.Z.getField("categoryId"),query:c.Z.getField("fetchedQuery"),languageCode:c.Z.getField("languageCode")})},[t,d]);return i.useMemo(()=>({guildIds:u,loading:g||m,searchResultsQuery:p,loadMore:f,searchCategoryId:l}),[u,g,m,p,f,l])}function p(e){let{loadId:t}=e,n=u.Z.useField("isSearchVisible"),r=c.Z.useField("query");i.useEffect(()=>{(0,d.le)()},[]);let s=i.useCallback(e=>{c.Z.setState({query:e})},[]),m=i.useCallback(()=>{l.IZ(t),a.Z.clearSearchResults(),a.Z.resetSearchLayout(),c.Z.setState({query:"",fetchedQuery:"",resultsQuery:"",categoryId:h.Hk,resultsInitialCategoryId:null,scrollPosition:null}),u.Z.setState({isSearchVisible:!1})},[t]);return{searchQuery:r,onSearchTextChange:s,onClearSearch:m,onSearchSubmit:i.useCallback(()=>{let e=c.Z.getField("query"),n=c.Z.getField("fetchedQuery");if(""===e.trim()||e===n)return;a.Z.clearSearchResults();let i=c.Z.getField("languageCode"),r=c.Z.getField("categoryId");c.Z.setState({resultsInitialCategoryId:r}),u.Z.setState({isSearchVisible:!0}),o.Z.loadCategoryResultsAndCounts({loadId:t,categoryId:r,query:e,languageCode:i})},[t]),isSearchVisible:n}}},112471:function(e,t,n){n.d(t,{q:function(){return c}}),n(47120),n(653041),n(733860);var i=n(192379),r=n(442837),l=n(537883),a=n(356164),o=n(164991),s=n(128449);function c(){let e=o.Z.useField("fetchedQuery"),t=o.Z.useField("resultsInitialCategoryId"),n=o.Z.useField("languageCode"),c=(0,r.e7)([a.Z],()=>{if(null==t)return 0;let i=a.Z.getTotal({categoryId:t,query:e,languageCode:n});return null!=i?i:0}),d=(0,r.e7)([a.Z],()=>{let t=a.Z.getTotal({categoryId:s.Hk,query:e,languageCode:n});return null!=t?t:0}),u=(0,r.e7)([l.Z],()=>l.Z.getVisibleTabs());return i.useMemo(()=>{if(null==u)return null;if(null==t)return u;let e=[],n=new Set;for(let[t,i]of u)n.add(t),e.push([t,i]);let i=!1;return!n.has(s.Hk)&&(n.add(s.Hk),e.unshift([s.Hk,d]),i=!0),!n.has(t)&&(n.add(t),e.push([t,c]),i=!0),i?e:u},[u,t,d,c])}},29086:function(e,t,n){n.d(t,{Y:function(){return o}});var i=n(192379),r=n(726115),l=n(859921),a=n(128449);function o(){let e=l.Z.useField("selectedTab"),t=i.useMemo(()=>[a.vf.FEATURED,a.vf.GAMING,a.vf.MUSIC,a.vf.ENTERTAINMENT,a.vf.TECH,a.vf.EDUCATION,a.vf.HUBS].map(e=>({id:e,label:(0,r.vb)(e)})),[]),n=i.useCallback(e=>{l.Z.setState({selectedTab:e})},[]);return i.useEffect(()=>{(null==e||!t.some(t=>t.id===e))&&n(t[0].id)},[e,t,n]),{tabs:t,selectedTab:null!=e?e:t[0].id,setSelectedTab:n}}},746728:function(e,t,n){n.d(t,{I:function(){return p}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(706454),c=n(959165),d=n(164991),u=n(783393),h=n(112471),m=n(196684);function p(e){let{categoryId:t,loadId:n}=e;d.Z.setState({categoryId:t}),c.Z.loadCategoryResults({loadId:n,categoryId:t,query:d.Z.getField("fetchedQuery"),languageCode:d.Z.getField("languageCode")})}function g(e){let{loadId:t,categoryId:n,count:l}=e,c=r.useCallback(()=>{p({categoryId:n,loadId:t})},[n,t]),h=d.Z.useField("categoryId")===n,g=l.toLocaleString(s.default.locale),f=(0,u.E)({categoryId:n});return(0,i.jsxs)(o.Clickable,{onClick:c,className:a()(m.category,{[m.selected]:h}),children:[(0,i.jsx)(o.Text,{className:m.name,variant:"text-sm/medium",color:"header-primary",children:f}),(0,i.jsx)(o.Text,{className:m.count,variant:"text-sm/normal",color:"text-muted",children:g})]})}t.Z=function(e){let{loadId:t}=e,n=(0,h.q)();return null==n?null:(0,i.jsx)("div",{className:m.categories,children:n.map(e=>{let[n,r]=e;return(0,i.jsx)(g,{loadId:t,categoryId:n,count:r},n)})})}},140700:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120);var i=n(200651),r=n(192379),l=n(481060),a=n(89182),o=n(164991),s=n(783393),c=n(112471),d=n(746728),u=n(388032),h=n(136676);function m(e){let{count:t,categoryId:n}=e,r=(0,s.E)({categoryId:n});return(0,i.jsx)(a.iG,{count:t,name:r})}function p(e){let{loadId:t}=e,n=o.Z.useField("categoryId"),p=(0,c.q)(),g=(0,s.E)({categoryId:n}),f=r.useCallback(e=>{(0,d.I)({loadId:t,categoryId:Number(e)})},[t]),_=r.useMemo(()=>null==p?[]:p.map(e=>{let[t,n]=e;return{id:"".concat(t),label:(0,i.jsx)(m,{categoryId:t,count:n})}}),[p]);return null==p?null:(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"text-secondary",children:u.intl.string(u.t.f09BQE)}),(0,i.jsx)(a.ZP,{items:_,title:g,onSelect:f,selected:"".concat(n),"aria-label":u.intl.string(u.t.Ng5cTE),variant:a.PA.FILLED})]})}},665807:function(e,t,n){var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(959165),s=n(164991),c=n(526429),d=n(128449),u=n(388032),h=n(548538),m=n(882008);t.Z=function(e){let{loadId:t}=e,n=s.Z.useField("categoryId"),p=(0,l.e7)([c.Z],()=>c.Z.getCategoryName(n)),g=r.useCallback(()=>{s.Z.setState({categoryId:d.Hk}),o.Z.loadCategoryResults({loadId:t,categoryId:d.Hk,query:s.Z.getField("fetchedQuery"),languageCode:s.Z.getField("languageCode")})},[t]),f=n===d.Hk?u.intl.string(u.t.Ivw1Ii):u.intl.formatToPlainString(u.t["+1WAFR"],{categoryName:p}),_=n===d.Hk?u.intl.string(u.t.aXvEjY):u.intl.format(u.t.XLioqq,{onClick:g});return(0,i.jsxs)("div",{className:h.container,children:[(0,i.jsx)("img",{alt:"",src:m,className:h.image}),(0,i.jsx)(a.Heading,{variant:"heading-xl/semibold",className:h.header,children:f}),(0,i.jsx)(a.Text,{variant:"text-md/normal",color:"header-secondary",children:_})]})}},188493:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651),r=n(192379),l=n(442837),a=n(89182),o=n(706454),s=n(762692),c=n(959165),d=n(164991),u=n(726115),h=n(128449),m=n(388032);function p(e){let{loadId:t}=e,n=(0,l.e7)([o.default],()=>(0,u.Xp)([o.default])),p=d.Z.useField("languageCode"),g=null!=p?p:n,f=r.useCallback(e=>{d.Z.setState({languageCode:e});let n=d.Z.getField("fetchedQuery");s.Z.clearSearchResults({ignoreQueries:[n]}),c.Z.loadCategoryResults({loadId:t,categoryId:d.Z.getField("categoryId"),query:n,languageCode:e})},[t]),_=r.useMemo(()=>(0,h.Cf)().map(e=>({id:e.code,label:e.name})),[]),E=r.useMemo(()=>{var e;let t=(0,h.Cf)().find(e=>e.code===g);return null!==(e=null==t?void 0:t.name)&&void 0!==e?e:m.intl.string(m.t.LQLMGB)},[g]);return(0,i.jsx)(a.ZP,{items:_,title:E,onSelect:f,selected:g,"aria-label":m.intl.string(m.t.Ng5cTE)})}},962486:function(e,t,n){n.d(t,{Z:function(){return g}}),n(653041);var i=n(200651),r=n(192379),l=n(481060),a=n(322665),o=n(17845),s=n(374939),c=n(283293),d=n(726115),u=n(294330),h=n(981631),m=n(874892);let p={page:h.ZY5.GUILD_DISCOVERY,object:h.qAy.CARD,section:h.jXE.DISCOVER_POPULAR};function g(e){let{tab:t,guildIds:n,loading:h,onScroll:g,onGuildCardClick:f,onGuildCardSeen:_}=e,E=(0,d.Mf)(t),I=(0,d.a$)(t),C=(0,d.QW)(t),v=(0,d.lg)(t),S=r.useMemo(()=>{let e=h?30:n.length,t=[];for(let a=0;a<e;a++){var r,l;t.push((0,i.jsx)(u.Eo,{guildId:null!==(r=n[a])&&void 0!==r?r:null,index:a,onClick:e=>f(e,a,v,p),onView:e=>_(e,v)},null!==(l=n[a])&&void 0!==l?l:a))}return t},[v,n,h,f,_]);return(0,i.jsxs)(c.Z,{onScroll:g,children:[(0,i.jsx)(o.Z,{title:E,description:I,children:(0,i.jsx)(a.Z,{})}),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(l.Heading,{className:m.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:C}),(0,i.jsx)("div",{className:m.content,children:S})]})]})}},149788:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(749210),o=n(322665),s=n(17845),c=n(374939),d=n(283293),u=n(469988),h=n(526383),m=n(294330),p=n(388032),g=n(874892),f=n(337596);t.Z=function(e){let{onScroll:t}=e,n=(0,h.Z)(),_=r.useMemo(()=>n.map(e=>({...e,presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,emojis:void 0})),[n]);return(0,i.jsxs)(d.Z,{onScroll:t,children:[(0,i.jsx)(s.Z,{title:p.intl.string(p.t.X5xPlZ),description:p.intl.string(p.t["F/IQCA"]),children:(0,i.jsx)(o.Z,{})}),(0,i.jsxs)(c.Z,{children:[n.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Heading,{className:g.sectionTitle,variant:"heading-lg/semibold",color:"header-primary",children:p.intl.string(p.t["2DfZIS"])}),(0,i.jsxs)("div",{className:g.content,children:[_.map(e=>(0,i.jsx)(m.VD,{guild:e,onClick:()=>a.Z.transitionToGuildSync(e.id)},e.id)),(0,i.jsx)(u.Z,{hasHub:!0})]})]}):(0,i.jsx)("div",{className:g.content,children:(0,i.jsx)(u.Z,{hasHub:!1})}),(0,i.jsx)("div",{className:f.divider}),(0,i.jsxs)("div",{className:f.disclaimer,children:[(0,i.jsxs)(l.Text,{className:f.text,variant:"text-sm/medium",color:"header-secondary",children:[p.intl.string(p.t.O1k9XV)," "]}),(0,i.jsx)(l.Text,{className:f.text,variant:"text-sm/medium",color:"header-secondary",children:p.intl.string(p.t.FV5dvr)})]})]})]})}},869614:function(e,t,n){n.d(t,{Z:function(){return r}}),n(47120);let i=new Set(["nvidia"]);function r(e){for(let t of Object.keys(e)){let n=e[t];if(null!=n&&null==n.error&&i.has(t))return!0}return!1}},281083:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(553813),r=n.n(i),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:"<=537.58.0 || >=546.31"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],l=t[n];if(null==i||null==l||null!=i.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!r().satisfies(a,l))return!0}return!1}},672598:function(e,t,n){n.d(t,{Z:function(){return o}}),n(47120);var i=n(553813),r=n.n(i),l=n(358085);let a={[l.PlatformTypes.WINDOWS]:{nvidia:">=397.93.0"}};function o(e){let t=a[(0,l.getPlatform)()];if(null==t)return!1;for(let n of Object.keys(e)){let i=e[n],l=t[n];if(null==i||null==l||null!=i.error)continue;let a=function(e){var t,n;return"".concat(null!==(t=e.major)&&void 0!==t?t:0,".").concat(null!==(n=e.minor)&&void 0!==n?n:0,".0")}(i);if(!r().satisfies(a,l))return!0}return!1}},653255:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(358085),d=n(998502),u=n(869614),h=n(281083),m=n(672598);let p=!1,g=!0,f=!1;class _ extends(a=o.ZP.Store){initialize(){!(!c.isPlatformEmbedded||__OVERLAY__)&&d.ZP.getGPUDriverVersions().then(e=>{p=(0,m.Z)(e),g=(0,u.Z)(e),f=(0,h.Z)(e),this.emitChange()})}get GPUDriversOutdated(){return p}get canUseHardwareAcceleration(){return g}get problematicGPUDriver(){return f}getState(){return{GPUDriversOutdated:p,canUseHardwareAcceleration:g,problematicGPUDriver:f}}}l="StreamingCapabilitiesStore",(r="displayName")in(i=_)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new _(s.Z,{OVERLAY_INITIALIZE:function(e){let{streamingCapabilitiesStoreState:t}=e;p=t.GPUDriversOutdated,g=t.canUseHardwareAcceleration}})},722835:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(553813),r=n.n(i),l=n(872810),a=n(579806),o=n(594190),s=n(199902),c=n(592125),d=n(430824),u=n(131951),h=n(496675),m=n(944486),p=n(449224),g=n(358085),f=n(102172),_=n(74299),E=n(299570),I=n(989941),C=n(70722);function v(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!(0,_.Z)(u.Z)||null!=s.Z.getCurrentUserActiveStream())return!1;let t=m.Z.getVoiceChannelId(),n=c.Z.getChannel(t);if(null==n)return!1;let i=n.getGuildId();if(!(0,f.JL)(n,d.Z,h.Z,!1))return!1;if(u.Z.getUseSystemScreensharePicker())(0,g.isMac)()&&r().satisfies(null===a.Z||void 0===a.Z?void 0:a.Z.os.release,C.jR)?(0,E.T)():(0,E.T)("window");else{let t=(0,I.Z)(o.ZP,p.Z);if(null==t||t.isLauncher&&!e)return!1;(0,l.WH)(i,n.id,{pid:t.pid})}return!0}},818634:function(e,t,n){n.d(t,{l:function(){return o},y:function(){return s}});var i=n(15729),r=n(731965);let l=Object.freeze({isPopoutOpen:!1}),a=(0,i.U)(e=>l),o=e=>{(0,r.j)(()=>{a.setState(()=>({isPopoutOpen:e}))})},s=a},501640:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(149765),r=n(442837),l=n(984933),a=n(496675),o=n(981631);function s(e){let t=(0,r.e7)([l.ZP],()=>{var t;return null!==(t=l.ZP.getChannels(e)[l.sH])&&void 0!==t?t:[]},[e]);return 0===t.length?0:t.filter(e=>{let{channel:t}=e;return a.Z.can(i.$e(o.Plq.SEND_MESSAGES,o.Plq.VIEW_CHANNEL),t)}).length}},360453:function(e,t,n){var i=n(200651);n(192379);var r=n(442837),l=n(481060),a=n(949389),o=n(324262),s=n(434404),c=n(899667),d=n(267642),u=n(981631),h=n(388032),m=n(571472);t.Z=e=>{let{guild:t}=e,n=t.id,p=(0,r.e7)([c.Z],()=>c.Z.getAppliedGuildBoostsForGuild(t.id));return null==p||0>=(0,d._k)(p,n)?null:(0,i.jsx)(o.Z,{guild:t,onDismissed:()=>{(0,a.GO)(n)},onClick:()=>{s.Z.open(n,u.pNK.GUILD_PREMIUM)},message:h.intl.string(h.t.uogVVl),trackingSource:u.PsQ.GRACE_PERIOD_NOTICE,type:u.vID.GUILD_BOOSTING_GRACE_PERIOD,image:m,cta:h.intl.string(h.t["4E1M8P"]),ctaColor:l.ButtonColors.PRIMARY})}},377743:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var r=n(100527),l=n(906732),a=n(324262),o=n(26323),s=n(267642),c=n(981631),d=n(921944),u=n(30513),h=n(388032),m=n(420569);function p(e){let{guild:t,markAsDismissed:n}=e,p=(0,s.KK)(t,c.Eu4.TIER_2),{analyticsLocations:g}=(0,l.ZP)(r.Z.GUILD_BANNER_NOTICE);return(0,i.jsx)(a.Z,{guild:t,onDismissed:()=>n(d.L.UNKNOWN),cta:h.intl.string(h.t["oPAx7+"]),message:h.intl.format(h.t.AcaNY2,{boostsNeeded:p}),type:c.vID.GUILD_BANNER,image:m,onClick:()=>(0,o.Z)({analyticsLocations:g,analyticsSourceLocation:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,u.XO)()}),imageMarginTop:15,imageMarginX:22})}},834743:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(324262),o=n(623624),s=n(650774),c=n(981631),d=n(921944),u=n(388032),h=n(241626);class m extends r.PureComponent{render(){let{guild:e,memberCount:t,markAsDismissed:n}=this.props;return(0,i.jsx)(a.Z,{guild:e,onDismissed:()=>n(d.L.UNKNOWN),onClick:this.handleButtonClick,message:null==t||t<30?u.intl.string(u.t.hlitVV):u.intl.string(u.t.XHtaDA),cta:u.intl.string(u.t["vqb+Hx"]),trackingSource:c.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:c.vID.GUILD_BOOSTING,image:h,imageMarginX:26})}constructor(...e){var t,n,i;super(...e),t=this,n="handleButtonClick",i=()=>{let{guild:e}=this.props;(0,o.f)({guildId:e.id,location:{section:c.jXE.CHANNEL_NOTICE,object:c.qAy.SERVER_STATUS_CTA}})},n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=l.ZP.connectStores([s.Z],e=>{let{guild:t}=e;return{memberCount:s.Z.getMemberCount(t.id)}})(m)},596557:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651),r=n(192379),l=n(704215),a=n(481060),o=n(785697),s=n(626135),c=n(700785),d=n(645041),u=n(981631),h=n(921944),m=n(647086),p=n(135899);function g(e){var t;let g=(0,o.SE)(e),f=p.$X.some(t=>(null==e?void 0:e.id)!==m._&&c.oz(t,e)),_=(null==e?void 0:e.defaultMessageNotifications)===u.bL.ALL_MESSAGES,E=(0,d.FT)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds),I=g&&(f||_)&&!E,C=r.useCallback(()=>{var t;(0,d.Qd)(l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds,!0,h.L.DISMISS)},[e]),v=r.useRef(!1);r.useEffect(()=>{if(I&&!v.current){var t;(0,a.openModalLazy)(async()=>{let{default:t}=await n.e("54597").then(n.bind(n,29022));return n=>(0,i.jsx)(t,{guild:e,canEveryoneModerate:f,isDefaultNotificationsAllMessages:_,...n})},{onCloseCallback:C}),s.default.track(u.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:l.C[l.C.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:u.lds}),v.current=!0}},[f,e,C,_,I])}},580079:function(e,t,n){n(653041),n(47120),n(724458);var i,r,l,a,o=n(392711),s=n.n(o),c=n(442837),d=n(570140),u=n(592125);n(914010);var h=n(709054),m=n(176505);let p={},g={},f={},_={};function E(e){let t=g[e];if(null==t)return;let n=h.default.fromTimestamp(Date.now()-9e5),i=s().findIndex(t,e=>h.default.compare(e.id,n)>0);if(-1===i)g[e]=[];else{let n=Math.max(i,t.length-26);g[e]=s().slice(t,n)}f[e]=Date.now()}function I(e,t,n,i){p[e].add(t);let r=f[t];(null==r||r+3e5>Date.now())&&E(t),null==g[t]&&(g[t]=[]),g[t].push({id:n,userId:i})}function C(e){let{channel:t}=e;delete g[t.id],delete f[t.id]}class v extends(i=c.ZP.Store){getActiveChannelsFetchStatus(e){return _[e]}getActiveChannelIds(e){return p[e]}getChannelMessageData(e){return g[e]}shouldFetch(e){var t;return null==p[e]&&!(null===(t=_[e])||void 0===t?void 0:t.loading)}}a="ActiveChannelsStore",(l="displayName")in(r=v)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,new v(d.Z,{CHANNEL_SELECT:function(e){let{channelId:t,guildId:n}=e;if(!(0,m.ME)(t)||null==n)return!1;let i=p[n];if(null==i)return!1;i.forEach(e=>{var t;E(e),(null===(t=g[e])||void 0===t?void 0:t.length)===0&&delete g[e]});let r=s().chain(Array.from(i)).filter(e=>e in g).sortBy(e=>{var t,n;return-(null!==(n=null===(t=g[e])||void 0===t?void 0:t.length)&&void 0!==n?n:0)}).value();p[n]=new Set(r)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i,optimistic:r,isPushNotification:l}=e;if(r||l)return!1;let a=u.Z.getChannel(n);if(null==a)return!1;let o=a.guild_id;if(null==o||null==p[o])return!1;I(o,n,i.id,null===(t=i.author)||void 0===t?void 0:t.id)},GUILD_DELETE:function(e){let{guild:t}=e;delete p[t.id]},CHANNEL_DELETE:C,THREAD_DELETE:C,ACTIVE_CHANNELS_FETCH_START:function(e){let{guildId:t}=e;_[t]={loading:!0,error:null,fetchedAt:Date.now()}},ACTIVE_CHANNELS_FETCH_SUCCESS:function(e){let{guildId:t,channels:n}=e;_[t]={loading:!1,error:null,fetchedAt:Date.now()},p[t]=new Set,n.forEach(e=>{let{channel_id:n,messages:i}=e;i.forEach(e=>{I(t,n,e.message_id,e.user_id)})})},ACTIVE_CHANNELS_FETCH_FAILURE:function(e){let{guildId:t,error:n}=e;_[t]={loading:!1,error:n,fetchedAt:null}},CONNECTION_OPEN:function(){}})},523924:function(e,t,n){var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(565138),s=n(693546),c=n(937111),d=n(388032),u=n(832311),h=n(364632);t.Z=e=>{let{headerId:t,reapplyText:n,onReapply:m,confirmText:p,onWithdrawApplication:g,rejectionReason:f=null,guild:_=null}=e,E=(0,l.e7)([c.Z],()=>{var e;return c.Z.getCooldown(null!==(e=null==_?void 0:_.id)&&void 0!==e?e:"0")});r.useEffect(()=>{null==E&&null!=_&&s.Z.fetchJoinRequestCooldown(_.id)},[E,_]);let I=(null!=E?E:0)>0,C=I&&null!=E?Math.ceil((1e3*E-Date.now())/864e5):0;return(0,i.jsxs)("div",{className:u.confirmation,children:[(0,i.jsxs)("div",{className:u.confirmationContent,children:[null!==_?(0,i.jsx)(o.Z,{size:o.Z.Sizes.LARGER,guild:_,className:u.guildIcon}):(0,i.jsx)("img",{alt:d.intl.string(d.t.bFPqMj),src:h,className:u.__invalid_verificationStateIcon}),(0,i.jsx)(a.Heading,{id:t,variant:"heading-xl/semibold",className:u.header,children:(null==_?void 0:_.name)!=null?d.intl.formatToPlainString(d.t["P+/gzM"],{guildName:_.name}):d.intl.string(d.t.gBPcuL)}),null!=f&&""!==f?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.Text,{variant:"text-sm/normal",children:[(0,i.jsx)("span",{className:u.rejectionReasonLabel,children:d.intl.string(d.t.cf1psb)}),(0,i.jsx)("span",{className:u.rejectionReason,children:f})]})}):null]}),(0,i.jsxs)("div",{className:u.confirmationButtonRow,children:[(0,i.jsx)(a.TooltipContainer,{className:u.confirmationButton,text:I?d.intl.formatToPlainString(d.t.A0f0Pz,{days:C}):null,"aria-label":I?d.intl.formatToPlainString(d.t.A0f0Pz,{days:C}):void 0,children:(0,i.jsx)(a.Button,{className:u.confirmationTooltipContents,onClick:m,color:a.Button.Colors.PRIMARY,submitting:null==E,disabled:I,children:n})}),(0,i.jsx)(a.Button,{onClick:g,color:a.Button.Colors.RED,className:u.confirmationButton,children:p})]})]})}},390500:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(970606),o=n(565138),s=n(388032),c=n(832311),d=n(586522);t.Z=function(e){let{onWithdrawApplication:t,guild:n=null}=e,u=null==n?void 0:n.id;return r.useEffect(()=>{null!=u&&(0,a.Pq)(u)},[u]),(0,i.jsxs)("div",{className:c.confirmation,children:[(0,i.jsxs)("div",{className:c.confirmationContent,children:[null!==n?(0,i.jsx)(o.Z,{size:o.Z.Sizes.LARGER,guild:n,className:c.guildIcon}):(0,i.jsx)("img",{alt:s.intl.string(s.t.SXZrBw),src:d}),(0,i.jsx)(l.Heading,{variant:"heading-xl/semibold",className:c.header,children:(null==n?void 0:n.name)!=null?s.intl.formatToPlainString(s.t["0Qlu//"],{guildName:n.name}):s.intl.string(s.t["5iLvS0"])}),(0,i.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:s.intl.string(s.t.FdsK4u)})]}),(0,i.jsx)("div",{className:c.confirmationButtonColumn,children:(0,i.jsx)(l.Button,{onClick:t,look:l.Button.Looks.LINK,color:l.Button.Colors.LINK,size:l.Button.Sizes.SMALL,children:s.intl.string(s.t.mqtdmZ)})})]})}},6039:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(568154),s=n(703656),c=n(430824),d=n(449934),u=n(768581),h=n(693546),m=n(863249),p=n(944163),g=n(246364),f=n(937111),_=n(523924),E=n(390500),I=n(200305),C=n(981631),v=n(898625),S=n(388032),N=n(301219);t.Z=e=>{var t;let n,T;let{guildId:b,inviteCode:x}=e,[A,Z]=r.useState(v.hO.INITIAL),L=(0,l.e7)([p.Z],()=>p.Z.get(b)),P=(0,l.e7)([f.Z],()=>f.Z.getRequest(b)),y=(0,l.e7)([c.Z],()=>c.Z.getGuild(b)),{hasFetchedRequestToJoinGuilds:O,guildPreviewDisabled:R}=(0,l.cj)([f.Z],()=>({hasFetchedRequestToJoinGuilds:f.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:f.Z.getJoinRequestGuild(b)}));r.useEffect(()=>{null!=y&&(0,s.uL)(C.Z5c.CHANNEL(b))},[y,b]),r.useEffect(()=>{!O&&h.Z.fetchRequestToJoinGuilds()},[O]);let j=r.useCallback(e=>{Z(t=>Math.max(t,e))},[]),D=async e=>{await m.ZP.submitVerificationForm(b,e)},M=()=>{h.Z.resetGuildJoinRequest(b)};let w=(n=S.intl.format(S.t["9ZezpK"],{name:null==R?void 0:R.toString()}),T=()=>{Z(Math.max(A,v.hO.FILLING)),h.Z.removeGuildJoinRequest(b),(0,s.uL)(C.Z5c.ME)},()=>{(0,a.openModal)(e=>(0,i.jsx)(a.ConfirmModal,{header:S.intl.string(S.t.y0CVen),cancelText:S.intl.string(S.t.oEAioK),onConfirm:T,confirmText:S.intl.string(S.t.p89ACg),confirmButtonColor:a.Button.Colors.RED,...e,children:(0,i.jsx)(a.Text,{variant:"text-sm/normal",color:"header-secondary",children:n})}))}),k=(null==L?void 0:null===(t=L.guild)||void 0===t?void 0:t.splash)!=null?u.ZP.getGuildSplashURL({id:L.guild.id,splash:L.guild.splash}):(0,d.gK)();return(0,i.jsx)("div",{className:N.page,children:(0,i.jsxs)(o.Z,{embedded:!0,splash:k,waveState:A,showLogo:!1,updateWaveState:j,children:[(0,i.jsx)("div",{className:N.dragRegion}),(0,i.jsx)("div",{className:N.contentWrapper,children:(()=>{switch(null==P?void 0:P.applicationStatus){case g.wB.SUBMITTED:return(0,i.jsx)(E.Z,{onWithdrawApplication:w,guild:R});case g.wB.REJECTED:return(0,i.jsx)(_.Z,{reapplyText:S.intl.string(S.t.I1LYVl),onReapply:M,confirmText:S.intl.string(S.t.mqtdmZ),onWithdrawApplication:w,rejectionReason:null==P?void 0:P.rejectionReason,guild:R});default:return(0,i.jsx)(I.Z,{guildId:b,inviteCode:x,onComplete:D,disableVerification:!0})}})()})]})})}},584233:function(e,t,n){n.d(t,{x:function(){return a}});var i=n(447543),r=n(652898),l=n(430824);async function a(e){let{code:t}=e,a=(await (0,r.Z)(t)).invite;if(null==a||null==a.guild)return;if(await function(){return new Promise(e=>{l.Z.addConditionalChangeListener(()=>!l.Z.isLoaded()||(e(),!1))})}(),null==l.Z.getGuild(a.guild.id))return;let{default:o}=await Promise.resolve().then(n.bind(n,17181));await o({guildId:a.guild.id}),i.Z.transitionToInvite(a)}},326145:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651),r=n(192379),l=n(481060),a=n(745752),o=n(17181),s=n(388032),c=n(279950);function d(e){let{guildId:t,channelId:n}=e,d=r.useCallback(()=>{if(null!=t&&null!=n)(0,a.I1)(t),(0,o.default)({guildId:t,returnChannelId:n})},[t,n]);return(0,i.jsx)("div",{className:c.container,children:(0,i.jsxs)("div",{className:c.explainerContainer,children:[(0,i.jsx)(l.Text,{variant:"text-md/normal",children:s.intl.string(s.t.FWtdQk)}),(0,i.jsx)(l.Button,{onClick:d,children:(0,i.jsx)(l.Text,{variant:"text-md/medium",children:s.intl.string(s.t.VVFjAA)})})]})})}},408042:function(e,t,n){n(47120),n(653041);var i,r=n(442837),l=n(570140),a=n(314897),o=n(592125),s=n(430824),c=n(709054),d=n(231873);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={};function m(e,t){let n=h[e];return!(null==n||n.has(t))&&(h[e]=new Set(n.add(t)),!0)}class p extends(i=r.ZP.PersistedStore){initialize(e){this.waitFor(a.default,s.Z),h={},null!=e&&c.default.keys(e).forEach(t=>{let n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(h[t]=new Set(n))})}getProgress(e){return h[e]}hasProgress(e){let t=h[e];return null!=t&&!t.has(d.Rg.DISMISSED)}getState(){return h}}u(p,"displayName","GuildProgressStore"),u(p,"persistKey","GuildProgressStore"),new p(l.Z,{CONNECTION_OPEN:function(){let e=[];c.default.keys(h).forEach(t=>{h[t].has(d.Rg.COMPLETED)&&e.push(t)}),e.forEach(e=>m(e,d.Rg.DISMISSED))},GUILD_PROGRESS_INITIALIZE:function(e){let{guildId:t}=e;null==h[t]&&(h[t]=new Set),!h[t].has(d.Rg.COMPLETED)&&h[t].delete(d.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){let{guildId:t}=e;if(null==h[t])return!1;h[t]=new Set(h[t].add(d.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){let{guildId:t}=e;return m(t,d.Rg.DISMISSED)},GUILD_CREATE:function(e){let{guild:{id:t,member_count:n}}=e,i=s.Z.getGuild(t);if(null==i)return!1;i.ownerId===a.default.getId()&&null!=h[i.id]&&(null!=i.icon&&h[i.id].add(d.Rg.AVATAR),n>1&&h[i.id].add(d.Rg.INVITE))},CHANNEL_CREATE:function(e){let{channel:t}=e;return null!=t&&null!=t.guild_id&&null!=h[t.guild_id]&&m(t.guild_id,d.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){let{channels:t}=e,n=!1;for(let e of t)null!=e&&null!=e.guild_id&&null!=h[e.guild_id]&&!1!==m(e.guild_id,d.Rg.CHANNEL)&&(n=!0);return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){let{guild:t}=e;return null!=t&&null!=t.id&&null!=h[t.id]&&null!=t.icon&&m(t.id,d.Rg.AVATAR)},MESSAGE_CREATE:function(e){var t;let{channelId:n,message:i}=e,r=o.Z.getChannel(n);return(null===(t=i.author)||void 0===t?void 0:t.id)===a.default.getId()&&null!=r&&null!=h[r.guild_id]&&m(r.guild_id,d.Rg.MESSAGE)},GUILD_MEMBER_LIST_UPDATE:function(e){let{guildId:t,memberCount:n}=e;return null!=h[t]&&!!(n>1)&&m(t,d.Rg.INVITE)}})},817520:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(442837),r=n(430824),l=n(644542),a=n(923726),o=n(144507),s=n(981631);function c(e){let t=(0,i.e7)([r.Z],()=>r.Z.getGuild(e)),n=(0,a.ss)(e),c=(0,a.Gp)(),d=(null==t?void 0:t.hasFeature(s.oNc.ROLE_SUBSCRIPTIONS_ENABLED))===!0&&(null==t?void 0:t.hasFeature(s.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE))===!1,u=(0,o.H2)(t);return d&&c&&u&&l.jJ.trackExposure({guildId:e,location:"ca30d9_1"}),d&&c&&u&&n}},999309:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(442837),r=n(223892),l=n(430824),a=n(594174),o=n(981631);function s(e){var t;let n=(0,i.e7)([l.Z],()=>l.Z.getGuild(e)),s=(0,i.e7)([a.default],()=>a.default.getCurrentUser()),c=(null==n?void 0:n.ownerId)===(null==s?void 0:s.id),d=(0,r.Sd)();return c&&null!==(t=null==n?void 0:n.hasFeature(o.oNc.COMMUNITY))&&void 0!==t&&t&&d&&!((null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(o.oNc.CREATOR_MONETIZABLE_DISABLED)))}},433280:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651);n(192379);var r=n(990547),l=n(399606),a=n(213609),o=n(434404),s=n(970731),c=n(430824),d=n(594174),u=n(981631),h=n(388032),m=n(97753),p=n(217110);function g(e){let{guildId:t,markAsDismissed:n}=e,g=(0,l.e7)([c.Z,d.default],()=>{let e=d.default.getCurrentUser(),n=c.Z.getGuild(t);return(null==n?void 0:n.isOwner(e))===!0});return(0,a.Z)({type:r.ImpressionTypes.POPOUT,name:r.ImpressionNames.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:g}}),(0,i.jsx)("div",{className:m.container,children:(0,i.jsx)(s.ZP,{header:h.intl.string(h.t.C0m4ra),content:h.intl.string(h.t.zOHfER),asset:(0,i.jsx)("div",{className:m.image,children:(0,i.jsx)("img",{alt:h.intl.string(h.t.xad4wc),src:p,className:m.image})}),buttonCTA:h.intl.string(h.t.OgQQbG),onClick:()=>{o.Z.open(t,u.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:h.intl.string(h.t.WAI6xs),markAsDismissed:n})})}},34131:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(70097),l=n(434404),a=n(970731),o=n(981631),s=n(388032),c=n(626054);function d(e){let{guildId:t,markAsDismissed:n}=e;return(0,i.jsx)("div",{className:c.container,children:(0,i.jsx)(a.ZP,{header:s.intl.string(s.t.gCgirq),content:s.intl.string(s.t.fLMZFx),asset:(0,i.jsx)(r.Z,{className:c.video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:s.intl.string(s.t.BQq86u),onClick:()=>{l.Z.open(t,o.pNK.ROLE_SUBSCRIPTIONS,void 0,o.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:s.intl.string(s.t.WAI6xs),markAsDismissed:n})})}},939225:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(481060),l=n(230711),a=n(931547),o=n(981631),s=n(526761),c=n(388032);function d(e){let{subscription:t}=e;return null==t?null:t.status===o.O0b.PAST_DUE?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Spacer,{size:16}),(0,i.jsx)(a.Z,{message:c.intl.string(c.t.eSuJEx),ctaMessage:c.intl.string(c.t.RXsxqa),onClick:()=>{l.Z.open(o.oAB.SUBSCRIPTIONS,s.cP)}})]}):null}},293423:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(584825),a=n(290348),o=n(934826),s=n(660196),c=n(330181),d=n(939225),u=n(36246),h=n(305342),m=n(726324),p=n(981631),g=n(388032),f=n(205572);t.Z=e=>{var t,n;let{guild:_}=e,E=(0,l.GG)(_.id)[0];(0,s.Z)({guildId:_.id,groupListingId:null==E?void 0:E.id,location:p.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==E?void 0:E.subscription_listings_ids});let{activeSubscription:I}=(0,o.Z)(null==E?void 0:E.id),C=(0,l.YB)(_.id),v=null==C?void 0:C.description,{editStateIds:S}=a.B7(null!==(t=null==E?void 0:E.id)&&void 0!==t?t:null,_.id);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.Z,{title:g.intl.format(g.t["rm+ojI"],{serverName:_.toString()}),description:null!=v?v:null,coverImageAsset:null!==(n=null==C?void 0:C.cover_image_asset)&&void 0!==n?n:null,guild:_,children:[null!=E?(0,i.jsx)(c.Z,{className:f.pendingPlanChangeNotice,groupListingId:E.id,subscription:I}):null,(0,i.jsx)(d.Z,{subscription:I})]}),(0,i.jsx)(r.HeadingLevel,{children:(0,i.jsx)(u.Z,{guildId:_.id,children:S.map(e=>{var t;return(0,i.jsx)(h.Z,{guildId:_.id,groupListingId:null!==(t=null==E?void 0:E.id)&&void 0!==t?t:"",listingId:e,analyticsLocation:p.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)})})})]})}},20967:function(e,t,n){n.d(t,{J:function(){return r},z:function(){return h}});var i,r,l=n(200651);n(192379);var a=n(990547),o=n(481060),s=n(213609),c=n(388032),d=n(818754),u=n(837753);(i=r||(r={})).GUILD_NOT_ELIGIBLE="guild_not_eligible",i.NOT_GUILD_MEMBER="not_guild_member";let h=e=>{let{errorType:t}=e;return(0,s.Z)({type:a.ImpressionTypes.PAGE,name:a.ImpressionNames.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}}),(0,l.jsx)("div",{className:d.errorPageContainer,children:(0,l.jsxs)("div",{className:d.errorPageContent,children:[(0,l.jsx)("img",{src:u,alt:"",className:d.errorPageIllo}),(0,l.jsx)(o.Heading,{variant:"heading-xl/extrabold",className:d.errorPageTitle,children:"guild_not_eligible"===t?c.intl.string(c.t.atZQVV):c.intl.string(c.t.gAdWBg)}),(0,l.jsx)(o.Text,{variant:"text-md/normal",className:d.errorPagSubtitle,children:"guild_not_eligible"===t?c.intl.string(c.t.teWe5O):c.intl.string(c.t["X/yMrK"])})]})})}},269675:function(e,t,n){n.d(t,{Z:function(){return L}});var i=n(200651),r=n(192379),l=n(873546),a=n(442837),o=n(481060),s=n(355467),c=n(270237),d=n(252618),u=n(423e3),h=n(200876),m=n(674180),p=n(38618),g=n(984370),f=n(430824),_=n(351402),E=n(730647),I=n(772021),C=n(396828),v=n(293423),S=n(20967),N=n(504762),T=n(807152),b=n(176505),x=n(388032),A=n(807859);function Z(e){let{guildId:t}=e,n=(0,a.e7)([f.Z],()=>f.Z.getGuild(t),[t]),Z=(0,a.e7)([p.Z],()=>p.Z.isConnected()),L=(0,h.Z)(t),P=(0,I.Z)(t),y=(0,a.e7)([_.Z],()=>_.Z.isSubscriptionFetching),O=(0,E.f)(),{shouldHideGuildPurchaseEntryPoints:R,restrictionsLoading:j}=(0,m.uP)(t),D=null==n||!O||y||j;(0,d.Tt)({subsection:x.intl.string(x.t["KzCF//"]),location:null==n?void 0:n.name}),(0,c.Z)(l.tq?"role-subscriptions-overview":void 0);let M=Z&&(null==n||!(L||P)||R&&!j);if(r.useEffect(()=>{s.jg()},[]),r.useEffect(()=>{M&&!l.tq&&(0,u.M)(t,b.oC.ROLE_SUBSCRIPTIONS)},[t,M]),l.tq&&M){let e=null==n?S.J.NOT_GUILD_MEMBER:S.J.GUILD_NOT_ELIGIBLE;return(0,i.jsx)(S.z,{errorType:e})}return(0,i.jsxs)("div",{className:A.container,children:[(0,i.jsxs)(g.Z,{toolbar:(0,i.jsx)(r.Fragment,{}),className:A.headerBar,children:[(0,i.jsx)(g.Z.Icon,{icon:(0,o.makeIconCompat)(C.Z),"aria-hidden":!0}),(0,i.jsx)(g.Z.Title,{children:x.intl.string(x.t["KzCF//"])})]}),(0,i.jsx)("div",{id:T.v}),(0,i.jsx)("div",{className:A.content,children:L?(0,i.jsx)(o.ScrollerNone,{className:A.scroller,children:(0,i.jsx)("div",{className:A.scrollerContent,children:D?(0,i.jsx)(o.Spinner,{}):(0,i.jsx)(v.Z,{guild:n})})}):(0,i.jsx)(N.Z,{})})]})}function L(e){let{guildId:t}=e;return(0,i.jsx)(E.l,{guildId:t,refetchOnMount:!0,children:(0,i.jsx)(Z,{guildId:t})})}},504762:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(481060),l=n(388032),a=n(549440),o=n(217110);function s(){return(0,i.jsx)("div",{className:a.container,children:(0,i.jsxs)("div",{className:a.content,children:[(0,i.jsx)("img",{src:o,alt:l.intl.string(l.t.MvLOqq)}),(0,i.jsx)(r.Spacer,{size:12}),(0,i.jsx)(r.Heading,{className:a.header,variant:"heading-lg/semibold",children:l.intl.string(l.t.t18lFh)}),(0,i.jsx)(r.Spacer,{size:8}),(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",children:l.intl.string(l.t.TvGJgo)})]})})}},807152:function(e,t,n){n.d(t,{v:function(){return i}});let i="guild-role-subscription-overview-notice"},726324:function(e,t,n){n.d(t,{Z:function(){return d}}),n(47120);var i=n(200651);n(192379);var r=n(481060),l=n(565138),a=n(695346),o=n(506071),s=n(353254),c=n(33827);function d(e){let{coverImageAsset:t,title:n,guild:d,description:u,children:h}=e,m=a.QK.useSetting(),p=(0,o.n)(),[g,f]=(0,s.Z)(t,p&&m);return(0,i.jsxs)("div",{className:c.container,children:[(0,i.jsx)("div",{ref:g,className:c.coverImageContainer,children:null!=f&&(0,i.jsx)("img",{src:f,alt:"",className:c.coverImage})}),(0,i.jsx)("div",{className:c.guildIconContainer,children:(0,i.jsx)(l.Z,{guild:d,size:l.Z.Sizes.XLARGE})}),(0,i.jsx)(r.Heading,{variant:"heading-xl/semibold",className:c.ctaTitle,children:n}),(0,i.jsx)(r.Text,{className:c.ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:u}),h]})}},504160:function(e,t,n){n.d(t,{L_:function(){return l},_6:function(){return a},ji:function(){return r}});var i=n(570140);function r(e){let{eventId:t,stageId:n}=e;(null!=t||null!=n)&&i.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}function l(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_HIDE",eventId:e})}function a(e){i.Z.dispatch({type:"UPCOMING_GUILD_EVENT_NOTICE_SEEN",guildEventId:e})}},151864:function(e,t,n){n(653041);var i,r=n(442837),l=n(570140),a=n(765305);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s={hiddenEventsAndStages:[]};class c extends(i=r.ZP.PersistedStore){initialize(e){null!=e&&null!=e.hiddenEventsAndStages&&(s=e)}isLiveChannelNoticeHidden(e){let{eventId:t,stageId:n}=e;return!!(null!=n&&s.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&s.hiddenEventsAndStages.includes("event-".concat(t))}getState(){return s}}o(c,"displayName","LiveChannelNoticesStore"),o(c,"persistKey","liveChannelNotices_v2"),t.Z=new c(l.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){let{eventId:t,stageId:n}=e;null!=t?s.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&s.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(t.status===a.p1.CANCELED||t.status===a.p1.COMPLETED)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},GUILD_SCHEDULED_EVENT_DELETE:function(e){let{guildScheduledEvent:t}=e,n="event-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))},STAGE_INSTANCE_DELETE:function(e){let{instance:t}=e,n="stage-".concat(t.id);s.hiddenEventsAndStages.includes(n)&&(s.hiddenEventsAndStages=s.hiddenEventsAndStages.filter(e=>e!==n))}})},497656:function(e,t,n){n.d(t,{y:function(){return a}});var i=n(517334),r=n(592125),l=n(554747);function a(e){var t;let n=(0,l.eF)(e),a=(0,i.ZP)(e),o=r.Z.getChannel(null===(t=a[0])||void 0===t?void 0:t.id);return null!=n?n:o}},300213:function(e,t,n){n.d(t,{m:function(){return c}}),n(192379);var i=n(442837);n(565799),n(431328),n(501655);var r=n(427679),l=n(517334);n(199902);var a=n(592125);n(496675),n(938475);var o=n(151864);n(497656);var s=n(554747);function c(e){var t;let n=(0,l.ZP)(e),c=a.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),d=(0,i.e7)([r.Z],()=>r.Z.getStageInstanceByChannel(null==c?void 0:c.id),[c]),u=(0,s.k5)(e),{isStageNoticeHidden:h,isEventNoticeHidden:m}=(0,i.cj)([o.Z],()=>({isStageNoticeHidden:o.Z.isLiveChannelNoticeHidden({stageId:null==d?void 0:d.id}),isEventNoticeHidden:o.Z.isLiveChannelNoticeHidden({eventId:null==u?void 0:u.id})}),[d,u]);if(null!=u)return null!=d?!h:!m;return null!=d&&!h}n(765305),n(231338)},862099:function(e,t,n){n.d(t,{Co:function(){return Q},bZ:function(){return i},gt:function(){return V}}),n(47120);var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(442837),d=n(481060),u=n(884338),h=n(471445),m=n(986332),p=n(662842),g=n(540059),f=n(703656),_=n(922482),E=n(565799),I=n(501655),C=n(192079),v=n(427679),S=n(448206),N=n(496675),T=n(938475),b=n(626135),x=n(823379),A=n(15274),Z=n(924301),L=n(504160),P=n(151864),y=n(835184),O=n(725436),R=n(497656),j=n(79874),D=n(554747),M=n(230900),w=n(854698),k=n(139712),U=n(765305),G=n(981631),B=n(388032),H=n(832019);let V=a.memo(function(e){let{heading:t,location:n,locationIcon:i,details:r,detailsIcon:a,topic:o,onClickCloseIcon:c,children:u}=e,h=(0,g.Q3)("GuildNoticeBody");return(0,l.jsxs)("div",{className:H.channelNotice,children:[(0,l.jsxs)("div",{className:s()(H.textBlock,H.singleLine),children:[(0,l.jsx)("div",{className:H.liveIndicator}),(0,l.jsx)(d.Text,{color:"text-positive",variant:h?"text-xs/semibold":"text-xs/bold",className:H.liveNowText,children:t}),null!=c&&(0,l.jsx)(d.Clickable,{onClick:c,className:H.closeIcon,"aria-label":B.intl.string(B.t.cpT0Cg),children:(0,l.jsx)(d.XSmallIcon,{size:"xs",color:"currentColor"})})]}),(0,l.jsx)(d.Heading,{color:"header-primary",variant:h?"heading-md/semibold":"text-md/semibold",className:H.eventName,children:o}),(0,l.jsxs)("div",{className:s()(H.textBlock,H.singleLine),children:[i,(0,l.jsx)(d.Text,{color:h?"none":"header-secondary",variant:"text-xs/normal",className:H.channelName,children:n}),null!=r&&null!=a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.Text,{className:H.dotDivider,color:h?"none":"header-secondary",variant:"text-xs/normal",children:""}),a,(0,l.jsx)(d.Text,{color:h?"none":"header-secondary",variant:"text-xs/normal",className:H.details,children:r})]})]}),u]})});function F(e){let{guildEvent:t,channel:n}=e,i=(0,c.Wu)([T.ZP],()=>T.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),r=(0,h.KS)(n);return(0,l.jsx)(V,{onClickCloseIcon:()=>(0,L.ji)({eventId:null==t?void 0:t.id}),heading:B.intl.string(B.t["X2K3//"]),topic:t.name,location:n.name,locationIcon:null!=r?(0,l.jsx)(r,{size:"xs",color:"currentColor",className:H.stageIcon}):null,children:(0,l.jsx)(Q,{channel:n,speakers:i,voiceType:1})})}function z(e){let{guildEvent:t,noticeType:n}=e,i=(0,w.DK)(t),r=(0,c.e7)([Z.ZP],()=>Z.ZP.isInterestedInEventRecurrence(t.id,i),[t.id,i]),a=(0,c.e7)([y.Z],()=>y.Z.getUpcomingNoticeSeenTime(t.id),[t.id]);return!r&&null==a&&(0,L._6)(t.id),(0,l.jsxs)(d.Button,{fullWidth:!0,className:H.joinButton,innerClassName:H.rsvpButton,onClick:function(){(0,k.Z)(t.id,null,t.guild_id,()=>setTimeout(()=>(0,L.L_)(t.id),1e3)),b.default.track(G.rMx.CHANNEL_NOTICE_CTA_CLICKED,{guild_id:t.guild_id,notice_type:n})},look:r?d.Button.Looks.OUTLINED:d.Button.Looks.FILLED,color:r?d.Button.Colors.TRANSPARENT:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:[r?(0,l.jsx)(d.CheckmarkLargeIcon,{size:"custom",color:"currentColor",width:16,height:16,className:H.buttonIcon}):(0,l.jsx)(d.BellIcon,{size:"custom",color:"currentColor",width:16,height:16,className:H.buttonIcon}),B.intl.string(B.t.DlcqlZ)]})}function W(e){var t;let{guildEvent:n,noticeType:i}=e,r=(0,g.Q3)("GuildUpcomingEventNotice"),o=(0,M.cS)(n),c=null!=o?(0,O.m)(o,!0):null,u=(0,M.nE)(n),m=(0,h.KS)(u),{startTime:p,endTime:f}=(0,j.ZP)(n),{startDateTimeString:_,upcomingEvent:E,diffMinutes:I}=(0,w.ub)(p.toISOString(),null==f?void 0:f.toISOString()),C=E?I>0?B.intl.formatToPlainString(B.t.PQlCWl,{minutes:I}):B.intl.string(B.t.WINqKS):B.intl.formatToPlainString(B.t.DC6h3N,{date:_});return a.useEffect(()=>{b.default.track(G.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:i,guild_id:n.guild_id})},[n,i]),(0,l.jsxs)("div",{className:H.channelNotice,children:[(0,l.jsxs)("div",{className:H.textBlock,children:[(0,l.jsx)(d.Clickable,{onClick:()=>(0,A.bO)({eventId:n.id}),className:H.eventNameClickable,children:(0,l.jsx)(d.Text,{color:"header-primary",variant:"text-md/semibold",className:H.eventName,children:n.name})}),(0,l.jsx)(d.Clickable,{onClick:()=>{b.default.track(G.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:i,guild_id:n.guild_id}),(0,L.L_)(n.id)},className:H.closeIcon,"aria-label":B.intl.string(B.t.cpT0Cg),children:(0,l.jsx)(d.XSmallIcon,{size:"xs",color:"currentColor"})})]}),(0,l.jsxs)("div",{className:s()(H.textBlock,H.singleLine),children:[(0,l.jsx)(d.CalendarIcon,{size:"custom",color:"currentColor",className:H.stageIcon,width:16,height:16}),(0,l.jsx)(d.Text,{color:"header-secondary",variant:"text-xs/normal",className:H.startTime,children:C})]}),(0,l.jsxs)("div",{className:s()(H.textBlock,H.singleLine),children:[null!=m?(0,l.jsx)(m,{size:"xs",color:"currentColor",className:H.stageIcon}):(0,l.jsx)(d.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:H.stageIcon}),(0,l.jsx)(d.Text,{color:r?"none":"header-secondary",variant:"text-xs/normal",className:H.channelName,children:null!==(t=null==u?void 0:u.name)&&void 0!==t?t:c})]}),(0,l.jsx)(z,{guildEvent:n,noticeType:i})]})}function Y(e){let{guildEvent:t}=e,n=(0,M.cS)(t);return null==n?null:(0,l.jsx)(V,{onClickCloseIcon:()=>(0,L.ji)({eventId:null==t?void 0:t.id}),heading:B.intl.string(B.t["1+boPj"]),topic:t.name,location:(0,O.m)(n,!0),locationIcon:(0,l.jsx)(d.LocationIcon,{size:"custom",color:"currentColor",width:16,height:16,className:H.stageIcon}),children:(0,l.jsx)(K,{guildEvent:t})})}function K(e){let{guildEvent:t}=e,n=a.useCallback(()=>{(0,A.bO)({eventId:t.id})},[t]);return(0,l.jsx)(d.Button,{fullWidth:!0,className:H.joinButton,onClick:n,color:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:B.intl.string(B.t.z4FcDg)})}function q(e){let{channel:t,label:n}=e;return(0,l.jsx)(d.Button,{fullWidth:!0,className:H.joinButton,onClick:()=>{null!=t&&null!=t.getGuildId()&&((0,_.Cq)(t),(0,f.XU)(t.getGuildId(),t.id))},color:d.Button.Colors.GREEN,size:d.Button.Sizes.SMALL,children:n})}function X(e){let{stageInstance:t,channel:n}=e,i=(0,c.Wu)([E.Z],()=>[...new Set(E.Z.getMutableParticipants(n.id,I.pV.SPEAKER).map(e=>e.user))],[n.id]),r=(0,c.e7)([E.Z],()=>E.Z.getParticipantCount(n.id,I.pV.AUDIENCE),[n.id]),a=B.intl.formatToPlainString(B.t["+v2pNz"],{count:"".concat(r)});return(0,l.jsx)(V,{onClickCloseIcon:()=>(0,L.ji)({stageId:null==t?void 0:t.id}),heading:B.intl.string(B.t["X2K3//"]),location:n.name,details:a,detailsIcon:(0,l.jsx)(d.HeadphonesIcon,{size:"custom",color:"currentColor",width:14,height:14,className:H.stageIcon}),locationIcon:(0,l.jsx)(d.StageIcon,{size:"custom",color:"currentColor",width:16,height:16,className:H.stageIcon}),topic:t.topic,children:(0,l.jsx)(Q,{channel:n,speakers:i,voiceType:2})})}function Q(e){let{channel:t,speakers:n,voiceType:i}=e,r=t.getGuildId(),o=a.useMemo(()=>n.slice(0,3),[n]),h=(0,c.e7)([N.Z],()=>N.Z.can(G.Plq.CONNECT,t)),m=(0,S.Z)(t.id),p=B.intl.string(B.t.VJlc0d);switch(i){case 1:p=B.intl.string(B.t.VJlc0d);break;case 2:p=B.intl.string(B.t.ZYO5OD),(null==m?void 0:m.speaker)?p=B.intl.string(B.t["/cnSFR"]):null!=m&&(p=B.intl.string(B.t.btSGOj));break;case 3:p=B.intl.string(B.t.wBoE6O);break;default:(0,x.vE)(i)}return null==r?null:(0,l.jsxs)(l.Fragment,{children:[o.length>0?(0,l.jsxs)("div",{className:s()(H.textBlock,H.singleLine),children:[(0,l.jsx)(u.Z,{guildId:r,users:o,showUserPopout:!0,size:u.u.SIZE_16}),(0,l.jsx)(d.Text,{color:"none",variant:"text-xs/normal",className:H.userNames,children:(0,C.ER)(r,o,null==t?void 0:t.id,n.length)})]}):null,h&&null==m&&(0,l.jsx)(q,{channel:t,label:p})]})}(r=i||(i={}))[r.VOICE=1]="VOICE",r[r.STAGE=2]="STAGE",r[r.STUDY_ROOM=3]="STUDY_ROOM",t.ZP=a.memo(function(e){let{guild:t}=e,{showRedesignedLiveChannelNotice:n}=(0,m.o)(!0),i=(0,R.y)(t.id),r=(0,D.k5)(t.id),a=(0,D.Vm)(t.id),o=(0,c.e7)([v.Z],()=>v.Z.getStageInstanceByChannel(null==i?void 0:i.id),[i]),{isStageNoticeHidden:s,isEventNoticeHidden:d}=(0,c.cj)([P.Z],()=>({isStageNoticeHidden:P.Z.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:P.Z.isLiveChannelNoticeHidden({eventId:null==r?void 0:r.id})}),[o,r]),u=null,h=null!=o&&null!=i&&!s;if(n)return(0,l.jsx)(p.Z,{guild:t});null==r||d?h&&(u=(0,l.jsx)(X,{stageInstance:o,channel:i})):r.entity_type===U.WX.STAGE_INSTANCE&&h?u=(0,l.jsx)(X,{stageInstance:o,channel:i}):r.entity_type===U.WX.EXTERNAL?u=(0,l.jsx)(Y,{guildEvent:r}):r.entity_type===U.WX.VOICE&&null!=i&&(u=(0,l.jsx)(F,{guildEvent:r,channel:i}));let g=t.hasFeature(G.oNc.COMMUNITY)||t.hasFeature(G.oNc.HUB);if(null==u&&null!=a&&!g){let{upcomingEvent:e,noticeType:t}=a;u=(0,l.jsx)(W,{guildEvent:e,noticeType:t})}return u})},879064:function(e,t,n){n.d(t,{v:function(){return l}});var i=n(200651);n(192379);var r=n(481060);function l(e){(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("8102").then(n.bind(n,674189));return n=>(0,i.jsx)(t,{...n,...e})},{modalKey:"Guild Settings Picker Modal"})}},337721:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(434404),l=n(970731),a=n(981631),o=n(388032),s=n(328835),c=n(930128);function d(e){let{guild:t,markAsDismissed:n}=e;return(0,i.jsx)(l.ZP,{header:o.intl.string(o.t.Hgd22t),content:o.intl.string(o.t.SorTPD),asset:(0,i.jsx)("div",{className:s.image,children:(0,i.jsx)("img",{alt:"",src:c})}),buttonCTA:o.intl.string(o.t["9l+df3"]),onClick:e=>{var n;n=t,r.Z.open(n.id,a.pNK.DISCOVERY_LANDING_PAGE)},secondaryButtonCTA:o.intl.string(o.t.duVdqq),onSecondaryClick:()=>{},markAsDismissed:n})}},577718:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(704215),a=n(780384),o=n(481060),s=n(906732),c=n(243778),d=n(26323),u=n(433280),h=n(34131),m=n(434404),p=n(567458),g=n(782959),f=n(276645),_=n(970731),E=n(626135),I=n(267642),C=n(337721),v=n(981631),S=n(921944),N=n(30513),T=n(474936),b=n(388032),x=n(325382),A=n(44669),Z=n(741160),L=n(829972),P=n(31932),y=n(642301);function O(e){if(null!=e)m.Z.open(e.id,v.pNK.OVERVIEW,{section:v.jXE.PREMIUM_GUILD_PROGRESS_BAR},v.KsC.DISPLAY)}function R(e,t){if(null!=t)(0,I.f2)(t,v.Eu4.TIER_1)?m.Z.open(t.id,v.pNK.OVERVIEW,{section:v.jXE.PREMIUM_GUILD_INVITE_SPLASH},v.KsC.INVITE):(0,d.Z)({analyticsLocations:e,analyticsSourceLocation:v.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,N.o9)()})}function j(e){let{renderPopout:t,renderGuildHeaderDropdownButton:n}=e;return(0,i.jsx)(o.Popout,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:t}),position:"bottom",align:"center",animation:o.Popout.Animation.TRANSLATE,shouldShow:!0,children:()=>n()})}t.Z=r.memo(function(e){let{contentTypes:t,theme:n,guild:r,renderGuildHeaderDropdownButton:o}=e,{analyticsLocations:d}=(0,s.ZP)(),N=()=>{E.default.track(v.rMx.TOOLTIP_VIEWED,{type:T.cd.PREMIUM_PROGRESS_BAR,location:{page:v.ZY5.GUILD_CHANNEL}})},D=()=>{E.default.track(v.rMx.PREMIUM_UPSELL_VIEWED,{type:T.cd.INVITE_SPLASH_UPSELL,location:{page:v.ZY5.GUILD_CHANNEL},location_stack:d})},M=(0,a.wj)(n)?L:P,[w,k]=(0,c.US)(t,S.R.GUILD_HEADER_TOOLTIPS);return(0,i.jsx)(i.Fragment,{children:(()=>{switch(w){case l.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(f.Z,{guildId:r.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(_.ZP,{onComponentMount:N,header:b.intl.string(b.t.nxtaFx),asset:(0,i.jsx)("img",{alt:"",src:M,className:A.fullWidthImage}),content:b.intl.format(b.t.ujItEh,{}),buttonCTA:b.intl.string(b.t.UzVPra),secondaryButtonCTA:b.intl.string(b.t["KkK/aG"]),onSecondaryClick:()=>O(),onClick:()=>O(r),markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(_.ZP,{onComponentMount:N,header:b.intl.string(b.t.KAsfPT),asset:(0,i.jsx)("img",{alt:"",src:M,className:A.fullWidthImage}),content:b.intl.format(b.t.zK1hpq,{}),buttonCTA:b.intl.string(b.t.UzVPra),secondaryButtonCTA:b.intl.string(b.t["KkK/aG"]),onSecondaryClick:()=>O(),onClick:()=>O(r),markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(u.Z,{guildId:r.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(C.Z,{guild:r,markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_INVITE_SPLASH:let e=(0,I.f2)(r,v.Eu4.TIER_1)?b.intl.format(b.t.DDzEVl,{}):b.intl.formatToPlainString(b.t.pMftkJ,{boostCount:(0,I.KK)(r,v.Eu4.TIER_1)}),t=(0,I.f2)(r,v.Eu4.TIER_1)?b.intl.string(b.t.rOFcBg):b.intl.string(b.t.hvVgAQ);return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(_.ZP,{onComponentMount:D,header:b.intl.string(b.t["36wK8/"]),asset:(0,i.jsx)("img",{alt:"",src:Z,className:A.fullWidthImage}),content:e,buttonCTA:t,secondaryButtonCTA:b.intl.string(b.t.hBIHLS),onSecondaryClick:()=>R(d),onClick:()=>R(d,r),markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(p.Z,{markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(_.ZP,{className:x.tooltipOverrideColor,header:b.intl.string(b.t.hLUL3t),content:b.intl.string(b.t.ahWaPT),buttonCTA:b.intl.string(b.t["NX+WJC"]),onClick:()=>k(S.L.UNKNOWN),markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.GUILD_HEADER_SOUNDBOARD_PERMISSION:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(_.ZP,{header:b.intl.string(b.t.PZNQKC),content:b.intl.string(b.t.jQIyyM),buttonCTA:b.intl.string(b.t.RzWDqa),secondaryButtonCTA:b.intl.string(b.t.f3Pet7),asset:(0,i.jsx)("img",{alt:"",src:y,className:A.fullWidthImage}),onClick:()=>{m.Z.open(r.id,v.pNK.ROLES),m.Z.selectRole(r.getEveryoneRoleId(),b.intl.string(b.t.Bco7ND))},markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.MEDIA_CHANNEL_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(g.Z,{guildId:r.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:o});case l.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,i.jsx)(j,{renderPopout:(0,i.jsx)(h.Z,{guildId:r.id,markAsDismissed:k}),renderGuildHeaderDropdownButton:o});default:return o()}})()})})},242601:function(e,t,n){n.d(t,{Z:function(){return eN}}),n(47120),n(653041);var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(752877),s=n(232713),c=n(442837),d=n(704215),u=n(846519),h=n(481060),m=n(570140),p=n(239091),g=n(269128),f=n(711237),_=n(110924),E=n(100527),I=n(906732),C=n(211242),v=n(785203),S=n(745837),N=n(13228),T=n(540059),b=n(211644),x=n(605236),A=n(243778),Z=n(492162),L=n(818634),P=n(596557),y=n(817520),O=n(999309),R=n(408987),j=n(130734),D=n(499137),M=n(258871),w=n(972264),k=n(11352),U=n(304445),G=n(344185),B=n(155409),H=n(10401),V=n(970731),F=n(210887),z=n(592125),W=n(796974),Y=n(486472),K=n(984933),q=n(650774),X=n(430824),Q=n(819640),J=n(496675),$=n(878884),ee=n(19780),et=n(594174),en=n(74538),ei=n(374023),er=n(373274),el=n(315174),ea=n(577718),eo=n(156978),es=n(591190),ec=n(327530),ed=n(981631),eu=n(652785),eh=n(921944),em=n(647086),ep=n(388032),eg=n(325382);function ef(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let e_=88+ec.pm,eE=64,eI=e_-24,eC="server-settings",ev={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}};class eS extends r.PureComponent{static getDerivedStateFromProps(e){let{guild:t,hasChannelNotice:n}=e;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null}componentDidMount(){var e;this.setAnimatedValue(0),m.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices),this.historyUnlisten=U.Z.addRouteChangeListener(this.handleHistoryChange);let{location:t}=U.Z.getHistory();(null===(e=t.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}componentWillUnmount(){this.showTimeout.stop(),this.state.controller.dispose(),this.historyUnlisten(),m.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)}getGuildBannerHash(){let{guild:e,hasChannelNotice:t}=this.props;return null==e||t?null:e.banner}renderGuildHeaderNotices(e){let{showGuildTemplateDirtyTooltip:t,showGuildHeaderTutorial:n,anyLayerOpen:r}=this.props,{shouldShowSubscribeTooltip:l}=this.state;if(n)return(0,i.jsx)("div",{onClick:t=>e?null:t.stopPropagation(),children:(0,i.jsx)(B.Z,{tutorialId:eC,position:"bottom",inlineSpecs:ev,children:this.renderGuildHeaderDropdownButton(e)})});if(t)return(0,i.jsx)(h.Tooltip,{forceOpen:!0,color:h.TooltipColors.BRAND,position:"bottom",shouldShow:!e&&!r,text:ep.intl.string(ep.t.sFSrFB),"aria-label":ep.intl.string(ep.t.sFSrFB),children:()=>this.renderGuildHeaderDropdownButton(e)});if(!r&&!e)return l?(0,i.jsx)(h.Popout,{renderPopout:()=>(0,i.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,i.jsx)(V.ZP,{header:ep.intl.string(ep.t["Q3qa4+"]),content:ep.intl.string(ep.t.UyHD4O),buttonCTA:ep.intl.string(ep.t.U9PrMz),onClick:this.handleCloseSubscribeTooltip})}),position:"bottom",align:"center",animation:h.Popout.Animation.TRANSLATE,shouldShow:!0,children:()=>this.renderGuildHeaderDropdownButton(e)}):this.renderGuildHeaderUpsellPopout(e);return this.renderGuildHeaderDropdownButton(e)}renderGuildHeader(e){let{guild:t,isHeaderPopoutOpen:n,showGuildHeaderTutorial:r,showGuildTemplateDirtyTooltip:l,isGuildHeaderDismissibleTooltipShown:a,headerAnalyticsLocations:o}=this.props,{controller:s,renderBanner:c,bannerVisible:d,bannerVisibleHeight:u,communityInfoVisible:m}=this.state,p=r||l||a;return null==t?null:(0,i.jsx)(I.Gt,{value:o,children:(0,i.jsx)(h.LazyPopout,{renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:h.Popout.Animation.SCALE,shouldShow:n,onRequestClose:()=>{(0,L.l)(!1)},children:r=>{let{onClick:l,...a}=r;return(0,i.jsx)(el.ZP,{guild:t,controller:s,renderBanner:c,hasSubheader:e,bannerVisible:d,communityInfoVisible:m,guildBanner:this.getGuildBannerHash(),onClick:this.handleHeaderMenuToggle,onContextMenu:this.handleHeaderContextMenu,disableBannerAnimation:p,animationOverlayHeight:u,...a,children:this.renderGuildHeaderNotices(n)})}})})}setAnimatedValue(e){let{guild:t}=this.props,n=null!=this.getGuildBannerHash(),i=null==t?void 0:t.hasCommunityInfoSubheader();if(null!=t&&(!!n||!!i))n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e)}setAnimatedValueForGuildInfo(e){let{communityInfoVisible:t,controller:n}=this.state;(e>=20&&t||e<20&&!t)&&(t=!t),t!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:t}),n.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()}renderChannelList(){let{isUnavailable:e,guild:t,selectedChannel:n,enableStudyGroup:r,...l}=this.props;if(e||null==t)return(0,i.jsx)(es.Z,{withBannerPadding:null!=t&&null!=this.getGuildBannerHash()});if(t.hasFeature(ed.oNc.HUB)&&!r)return(0,i.jsx)("div",{className:eg.hubContainer,children:(0,i.jsx)(M.Z,{guild:t,channel:null!=n?n:K.ZP.getDefaultChannel(t.id)})});{let e=t.id===em._?er.j:er.E;return(0,i.jsx)(e,{guild:t,...l,guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null!=t&&(null!=this.getGuildBannerHash()||t.hasCommunityInfoSubheader())?this.pinBannerOrGuildInfo:null})}}renderFooter(){let{shouldRenderClipsEducation:e}=this.props;return(0,i.jsx)(A.ZP,{contentTypes:[],children:t=>{let{visibleContent:n}=t;return e?(0,i.jsx)(S.Z,{}):(0,i.jsx)(i.Fragment,{})}})}render(){let{guild:e,footerAnalyticsLocations:t}=this.props;return(0,i.jsxs)("nav",{className:eg.container,onContextMenu:this.handleContextMenu,"aria-label":ep.intl.formatToPlainString(ep.t.nj5gAQ,{guildName:null!=e?e.toString():""}),children:[null!=e&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=e&&(0,i.jsx)(eo.Z,{guild:e,setHasSubheader:e=>this.setState({hasGuildSubheader:e})}),this.renderChannelList(),(0,i.jsx)(I.Gt,{value:t,children:this.renderFooter()})]})}constructor(...e){super(...e),ef(this,"historyUnlisten",()=>{}),ef(this,"showTimeout",new u.V7),ef(this,"state",{controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:this.props.isRefreshEnabled?e_:88,hasGuildSubheader:!1}),ef(this,"handleHistoryChange",e=>{null!=e.state&&e.state.shouldShowSubscribeTooltip&&this.showTimeout.start(1e3,()=>this.setState({shouldShowSubscribeTooltip:!0}))}),ef(this,"handleHeaderMenuToggle",e=>{let{isHeaderPopoutOpen:t}=this.props;e.stopPropagation(),(0,L.l)(!t),this.closeAllHeaderNotices()}),ef(this,"handleContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,p.jW)(e,async()=>{let{default:e}=await n.e("92795").then(n.bind(n,652171));return n=>(0,i.jsx)(e,{...n,guild:t})})}),ef(this,"handleHeaderContextMenu",e=>{let{guild:t}=this.props;null!=t&&(0,p.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("33053"),n.e("17298"),n.e("7654"),n.e("98479"),n.e("31113"),n.e("60696"),n.e("58227"),n.e("16114"),n.e("62278"),n.e("33213"),n.e("43954")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}),ef(this,"closeAllHeaderNotices",()=>{this.handleCloseSubscribeTooltip(),this.handleCloseTemplateDirtyTooltip(),this.handleCloseStudentHubPrivacySettingsTooltip()}),ef(this,"handleCloseStudentHubPrivacySettingsTooltip",()=>{var e;let t=(0,x.un)(d.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),n=null===(e=this.props.guild)||void 0===e?void 0:e.hasFeature(ed.oNc.HUB);!t&&n&&(0,x.EW)(d.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:eh.L.AUTO})}),ef(this,"handleCloseSubscribeTooltip",()=>{this.showTimeout.stop(),this.state.shouldShowSubscribeTooltip&&this.setState({shouldShowSubscribeTooltip:!1})}),ef(this,"handleCloseTemplateDirtyTooltip",()=>{let{guild:e,showGuildTemplateDirtyTooltip:t}=this.props;null!=e&&t&&R.Z.hideGuildTemplateDirtyTooltip(e.id)}),ef(this,"renderMenuPopout",async()=>{let{default:e}=await n.e("46826").then(n.bind(n,859432));return t=>{let{closePopout:n}=t,{guild:r}=this.props;return null!=r&&(0,i.jsx)(e,{onClose:n,guild:r})}}),ef(this,"renderGuildHeaderUpsellPopout",e=>{let{showGuildBoostingProgressBarUpsell:t,showGuildBoostingProgressBarSizeUpsell:n,showRoleSubscriptionUpsell:r,showInviteSplashUpsell:l,showDiscoveryLandingPageSettingsUpsell:a,showHubPrivacySettingsTooltip:o,showActiveThreadsNotice:s,showGuildSoundboardPermissionUpsell:c,showMediaChannelUpsell:u,showTierTemplatesUpsell:h,shouldRenderCustomNotificationSoundsCoachmark:m,guild:p,theme:g}=this.props;if(null==p)return this.renderGuildHeaderDropdownButton(e);let f=[];return(o&&f.push(d.z.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),s&&f.push(d.z.GUILD_HEADER_ACTIVE_THREADS_NOTICE),t&&f.push(d.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS),n&&f.push(d.z.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK),r&&f.push(d.z.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL),c&&f.push(d.z.GUILD_HEADER_SOUNDBOARD_PERMISSION),l&&f.push(d.z.GUILD_HEADER_INVITE_SPLASH),a&&f.push(d.z.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL),0===f.length)?this.renderGuildHeaderDropdownButton(e):(u&&f.push(d.z.MEDIA_CHANNEL_UPSELL),h&&f.push(d.z.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL),m&&f.push(d.z.PREMIUM_CUSTOM_NOTIFICATION_SOUNDS_COACHMARK),(0,i.jsx)(ea.Z,{contentTypes:f,theme:g,guild:p,renderGuildHeaderDropdownButton:()=>this.renderGuildHeaderDropdownButton(e)}))}),ef(this,"renderGuildHeaderDropdownButton",e=>(0,i.jsx)(g.Z,{open:e,className:eg.dropdownButton})),ef(this,"setAnimatedValueForBanner",e=>{let t=this.props.isRefreshEnabled?e_:88,n=this.props.isRefreshEnabled?eI:eE,{renderBanner:i,communityInfoVisible:r,bannerVisible:l,bannerVisibleHeight:a,controller:o}=this.state;(e>=n&&l||e<n&&!l)&&(l=!l),(e>=t&&!i||e<t&&i)&&(i=!i),a=Math.max(t-e,0),r=l,(i!==this.state.renderBanner||l!==this.state.bannerVisible||a!==this.state.bannerVisibleHeight||r!==this.state.communityInfoVisible)&&this.setState({renderBanner:i,bannerVisible:l,bannerVisibleHeight:a,communityInfoVisible:r}),o.update({value:Math.min(1,Math.max(0,1-e/t)),immediate:!0}).start()}),ef(this,"pinBannerOrGuildInfo",e=>{let{scrollTop:t}=e;this.setAnimatedValue(t)})}}function eN(e){var t;let{guildId:n,hideSelectedChannel:l,selectedChannelId:o}=e,u=(0,c.e7)([X.Z],()=>X.Z.getGuild(n));(0,f.J_)(n);let m=(0,Z.Z)(n),p=(0,c.e7)([W.Z],()=>W.Z.getGuildDimensions(n).scrollTo),g=(0,c.e7)([ee.Z],()=>ee.Z.getChannelId()),[S,A,R]=(0,c.Wu)([J.Z],()=>[J.Z.can(ed.Plq.MANAGE_GUILD,u),J.Z.can(ed.Plq.MANAGE_ROLES,u),J.Z.can(ed.Plq.MANAGE_THREADS,u)]),M=(0,c.e7)([Y.Z],()=>Y.Z.isUnavailable(n)),U=(0,c.e7)([et.default],()=>et.default.getCurrentUser()),B=(0,c.e7)([F.Z],()=>F.Z.darkSidebar?ed.BRd.DARK:F.Z.theme),{enableStudyGroup:V}=(0,D.s)(u),K=(0,b.ZP)(e=>e.currentlyShown.has(d.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)),[er,el]=r.useState(!K),ea=(0,_.Z)(n),{analyticsLocations:eo}=(0,I.ZP)(E.Z.GUILD_HEADER),{analyticsLocations:es}=(0,I.ZP)(E.Z.GUILD_CHANNEL_LIST_FOOTER);r.useEffect(()=>{n!==ea&&el(!K)},[n,ea,K]);let[ec,em]=(0,b.ZP)(e=>[eu.XN.some(t=>e.currentlyShown.has(t.dismissibleContentType)),e.currentlyShownGroup.has(eh.R.GUILD_HEADER_TOOLTIPS)],s.X),ep=(0,v.Z)(u),eg=(0,h.useModalsStore)(h.hasAnyModalOpenSelector),ef=(0,c.e7)([Q.Z],()=>Q.Z.hasLayers()),e_=(0,c.e7)([H.Z],()=>H.Z.shouldShow(eC)),eE=S&&(null==u?void 0:u.premiumProgressBarEnabled)===!1&&!ei.s.isDisallowPopupsSet(),eI=(0,c.e7)([q.Z],()=>q.Z.getMemberCount(n)),ev=S&&null!=eI&&eI>=30&&(null==u?void 0:u.premiumProgressBarEnabled)===!1&&!ei.s.isDisallowPopupsSet(),eN=A&&null!=u&&(u.hasFeature(ed.oNc.COMMUNITY)||null!=eI&&eI>50),eT=(0,O.Z)(n),eb=(null==u?void 0:u.hasFeature(ed.oNc.HUB))===!0,ex=S&&(null==u?void 0:u.hasFeature(ed.oNc.DISCOVERABLE))===!0,eA=(0,C.Q)(),eZ=(S||(null==u?void 0:u.premiumTier)===ed.Eu4.NONE)&&!ei.s.isDisallowPopupsSet()&&!eA,eL=(0,c.e7)([j.Z,Q.Z],()=>null!=u&&null!=U&&S&&!Q.Z.hasLayers()&&j.Z.shouldShowGuildTemplateDirtyTooltip(n)),eP=(0,c.e7)([z.Z],()=>z.Z.getChannel(o)),{isPopoutOpen:ey}=(0,L.y)(),eO=null!==(t=null==u?void 0:u.hasFeature(ed.oNc.COMMUNITY))&&void 0!==t&&t,eR=(0,c.e7)([G.Z],()=>!a().isEmpty(G.Z.getThreadsForGuild(n))),ej=en.ZP.isNewUser(U),eD=er&&!ej,eM=(0,N.Z)(U);(0,P.Z)(u);let ew=(0,x.wE)(d.z.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),ek=(0,w.Z)(n),eU=(0,y.Z)(n),eG=(0,c.e7)([ee.Z],()=>ee.Z.getChannelId()),eB=(0,c.e7)([$.Z],()=>$.Z.desyncedVoiceStatesCount),eH=k.Y.useExperiment({location:"GuildSidebar"},{autoTrackExposure:!0}).enabled,eV=(0,T.Q3)("GuildSidebar");return(0,i.jsx)(eS,{guildId:n,hideSelectedChannel:l,guild:u,scrollToChannel:p,selectedChannelId:l?null:o,selectedChannel:eP,selectedVoiceChannelId:g,voiceStates:m,rtcConnectedChannelId:eG,rtcDesyncedVoiceStatesCount:eB,isUnavailable:M,theme:B,user:U,hasChannelNotice:null!=ep||ec,anyLayerOpen:eg||ef,showGuildBoostingProgressBarUpsell:eE,showGuildBoostingProgressBarSizeUpsell:ev,showInviteSplashUpsell:eZ,showDiscoveryLandingPageSettingsUpsell:ex,showGuildHeaderTutorial:e_,showGuildTemplateDirtyTooltip:eL,showRoleSubscriptionUpsell:eT,showHubPrivacySettingsTooltip:eb,showNewUnreadsBar:eO,showActiveThreadsNotice:R&&null!=eI&&eI>=200&&eR,showGuildSoundboardPermissionUpsell:eN,showMediaChannelUpsell:ek,showTierTemplatesUpsell:eU,isHeaderPopoutOpen:ey,enableStudyGroup:V,isGuildHeaderDismissibleTooltipShown:em,canShowCoachMarkAtBottom:er,headerAnalyticsLocations:eo,footerAnalyticsLocations:es,shouldRenderClipsEducation:eM,isTutorialHighlightDismissed:ew,shouldRenderBurstCoachmark:eD,shouldRenderCustomNotificationSoundsCoachmark:eH,isRefreshEnabled:eV})}},156978:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651),r=n(192379),l=n(122611),a=n(692013);function o(e){let{guild:t,setHasSubheader:n}=e,o=r.useRef(null);return r.useLayoutEffect(()=>{let e=o.current;null!=e&&n(e.childNodes.length>0)}),(0,i.jsx)("div",{className:a.container,ref:o,children:(0,i.jsx)(l.Z,{guild:t})})}},591190:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(434351);let o=()=>(0,i.jsx)("div",{className:a.spacer}),s=()=>(0,i.jsx)("div",{className:a.category}),c=e=>{let{width:t}=e;return(0,i.jsxs)("div",{className:a.channel,children:[(0,i.jsx)("div",{className:a.channelIcon}),(0,i.jsx)("div",{className:a.channelName,style:{width:"".concat(t,"px")}})]})};t.Z=e=>{let{withBannerPadding:t}=e;return(0,i.jsxs)("div",{className:l()(a.container,{[a.bannerPadding]:t}),children:[(0,i.jsx)(s,{}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:74}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:70}),(0,i.jsx)(c,{width:112}),(0,i.jsx)(c,{width:175}),(0,i.jsx)(o,{}),(0,i.jsx)(s,{}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:74}),(0,i.jsx)(c,{width:100}),(0,i.jsx)(c,{width:70}),(0,i.jsx)(c,{width:112}),(0,i.jsx)(c,{width:56})]})}},130734:function(e,t,n){var i,r,l,a,o=n(442837),s=n(433517),c=n(570140);let d="hasSeenGuildTemplatePromotionTooltip",u={},h=!0===s.K.get(d);function m(e){let{guildId:t}=e;u={...u,[t]:!1}}class p extends(a=o.ZP.Store){shouldShowGuildTemplateDirtyTooltip(e){var t;return null!==(t=u[e])&&void 0!==t&&t}shouldShowGuildTemplatePromotionTooltip(){return!h}}l="GuildTemplateTooltipStore",(r="displayName")in(i=p)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new p(c.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){let{guildTemplate:t}=e;u={...u,[t.source_guild_id]:t.is_dirty||!1}},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){s.K.set(d,!0),h=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){u={...u,[e.guildTemplate.source_guild_id]:!1}},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:m,GUILD_TEMPLATE_DELETE_SUCCESS:m})},427347:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(200651);n(192379);var r=n(704215),l=n(481060),a=n(230711),o=n(100527),s=n(906732),c=n(605236),d=n(314910),u=n(378364),h=n(197344),m=n(226625),p=n(981631),g=n(921944),f=n(388032),_=n(512360);function E(e){let{dismissibleContent:t}=e,n=h.Z.useIsEligible(),u=(0,c.wE)(t),{analyticsLocations:E}=(0,s.ZP)(o.Z.HOLIDAY_COACHMARK),I=e=>{(0,c.EW)(r.z.HOLIDAY_COACHMARK_HALLOWEEN_2024,{dismissAction:e})},C=()=>{a.Z.open(p.oAB.NOTIFICATIONS,null,{analyticsLocations:E}),I(g.L.SECONDARY)};return n&&!u?(0,i.jsx)(d.ZP,{children:(0,i.jsxs)("div",{className:_.wrapper,children:[(0,i.jsxs)("div",{className:_.backgroundWrapper,children:[(0,i.jsx)(m.Z,{className:_.backgroundImage,pageMultiplier:5}),(0,i.jsx)("div",{className:_.backgroundOverlay})]}),(0,i.jsx)("div",{className:_.heroImage}),(0,i.jsxs)("div",{className:_.content,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Heading,{variant:"heading-md/bold",color:void 0,className:_.specialText,children:f.intl.string(f.t.zUhr3N)}),(0,i.jsx)(l.Text,{variant:"text-xs/normal",color:"always-white",children:f.intl.format(f.t.Xw2XUV,{settingsHook:(e,t)=>(0,i.jsx)(l.Clickable,{tag:"span",className:_.specialTextLink,onClick:C,children:e},t)})})]}),(0,i.jsx)(l.Clickable,{className:_.closeClickable,onClick:()=>I(g.L.USER_DISMISS),children:(0,i.jsx)(l.XSmallIcon,{color:"currentColor",size:"xs"})})]})]})}):null}function I(){return null==u.Z.coachmarkDismissibleContent?null:(0,i.jsx)(E,{dismissibleContent:u.Z.coachmarkDismissibleContent})}},226625:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(392711),s=n.n(o),c=n(752877),d=n(442837),u=n(481060),h=n(607070),m=n(107233);let p={mass:10,tension:550,friction:140};function g(e){let{className:t,pageMultiplier:n}=e,l=(0,d.e7)([h.Z],()=>h.Z.useReducedMotion),[o,g]=r.useState({x:0,y:0}),f=r.useMemo(()=>s().throttle(e=>{if(l)return;let t=(window.innerWidth-e.pageX*n)/90;g({x:t,y:(window.innerHeight-e.pageY*n)/90})},20),[n,l]);r.useEffect(()=>(window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)),[f]);let[_,E]=(0,u.useSpring)(()=>({x:0,y:0,config:p}));return r.useEffect(()=>{E({x:o.x,y:o.y})},[o.x,o.y,E]),(0,i.jsx)(c.animated.div,{style:{transform:(0,c.to)([_.x,_.y],(e,t)=>"translate3d(".concat(e,"px, ").concat(t,"px, 0)"))},className:a()(m.background,t)})}},315964:function(e,t,n){var i=n(570140),r=n(142497),l=n(190378);t.Z={init(){i.Z.subscribe("VOICE_CHANNEL_SELECT",e=>{let{channelId:t}=e;null==t&&r.Kw(l.v.VOICE_PANEL_INTRODUCTION)})}}},499137:function(e,t,n){n.d(t,{s:function(){return o}});var i=n(192379),r=n(818083),l=n(981631);let a=(0,r.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",config:{enableStudyGroup:!0}}]}),o=e=>{var t;return i.useEffect(()=>{null!=e&&e.hasFeature(l.oNc.HUB)&&a.trackExposure({guildId:e.id,location:"467c32_1"})},[e]),a.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:l.lds,location:"467c32_2"},{autoTrackExposure:!1,disable:null==e||!e.hasFeature(l.oNc.HUB)})}},469988:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(388032),a=n(776597);t.Z=e=>{let{hasHub:t}=e;return(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsx)("div",{className:a.iconContainer,children:(0,i.jsx)(r.HubIcon,{size:"md",color:r.tokens.colors.WHITE.css})}),(0,i.jsx)(r.Text,{color:"header-primary",variant:"text-lg/semibold",className:a.header,children:t?l.intl.string(l.t.hsSHh4):l.intl.string(l.t.Wf6iio)}),(0,i.jsx)(r.Text,{color:"header-secondary",variant:"text-sm/normal",className:a.__invalid_description,children:t?l.intl.string(l.t.FZ2J3d):l.intl.string(l.t.TvHcv7)}),(0,i.jsx)("div",{className:a.gap}),(0,i.jsx)(r.Button,{size:r.Button.Sizes.LARGE,color:t?r.Button.Colors.PRIMARY:r.Button.Colors.GREEN,onClick:()=>(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})}),children:(0,i.jsx)(r.Text,{variant:"text-sm/semibold",className:a.addButton,color:"none",children:t?l.intl.string(l.t.IyjHDw):l.intl.string(l.t["KU/aNz"])})})]})}},613609:function(e,t,n){n(47120),n(773603);var i=n(200651),r=n(192379),l=n(442837),a=n(447543),o=n(568154),s=n(703656),c=n(430824),d=n(701190),u=n(449934),h=n(650233),m=n(981631),p=n(898625),g=n(214463);t.Z=e=>{let{guildId:t,inviteCode:n}=e,[f,_]=r.useState(p.hO.INITIAL),[E,I]=r.useState(null!=n);r.useEffect(()=>{null!=n&&a.Z.resolveInvite(n,"Hub").finally(()=>I(!1))},[n]);let C=(0,l.e7)([d.Z],()=>null!=n?d.Z.getInvite(n):null),v=(0,l.e7)([c.Z],()=>c.Z.getGuild(t));r.useEffect(()=>{null!=v&&(0,s.uL)(m.Z5c.CHANNEL(t))},[v,t]);let S=r.useCallback(e=>{_(t=>Math.max(t,e))},[]),N=(0,u.gK)();return(0,i.jsx)("div",{className:g.page,children:(0,i.jsxs)(o.Z,{embedded:!0,splash:N,waveState:f,showLogo:!1,updateWaveState:S,children:[(0,i.jsx)("div",{className:g.dragRegion}),(0,i.jsx)("div",{className:g.contentWrapper,children:!E&&(0,i.jsx)(h.HubEmailConnectionModalView,{invite:C})})]})})}},704631:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(481060),l=n(324262),a=n(981631),o=n(921944),s=n(388032),c=n(524094);function d(e){let{guild:t,markAsDismissed:d}=e;return(0,i.jsx)(l.Z,{guild:t,onDismissed:()=>d(o.L.UNKNOWN),onClick:function(){(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,650233));return t=>(0,i.jsx)(e,{...t})})},message:s.intl.string(s.t["1+hiPz"]),cta:s.intl.string(s.t.hvVgAQ),trackingSource:a.PsQ.HUB_LINK_NOTICE,type:a.vID.HUB_LINK,image:c})}},567458:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(481060),l=n(921944),a=n(388032),o=n(806305);function s(e){let{markAsDismissed:t}=e;return(0,i.jsxs)("div",{className:o.container,children:[(0,i.jsx)("div",{className:o.pointer}),(0,i.jsx)(r.Text,{variant:"text-sm/normal",className:o.content,children:a.intl.string(a.t.rdzeVF)}),(0,i.jsx)(r.Button,{color:r.Button.Colors.BRAND_INVERTED,fullWidth:!0,onClick:()=>{t(l.L.AUTO)},children:a.intl.string(a.t["NX+WJC"])})]})}},526383:function(e,t,n){n.d(t,{Z:function(){return a}}),n(47120);var i=n(442837),r=n(430824),l=n(981631);function a(){return(0,i.Wu)([r.Z],()=>Object.entries(r.Z.getGuilds()).filter(e=>{let[t,n]=e;return n.hasFeature(l.oNc.HUB)}).map(e=>{let[t,n]=e;return n}))}},819792:function(e,t,n){var i=n(200651);n(192379);var r=n(752877),l=n(442837),a=n(481060),o=n(536442),s=n(984933),c=n(496675),d=n(51382),u=n(91326),h=n(503856),m=n(981631);function p(e){let{channel:t,guild:n}=e,s=(0,l.e7)([o.qc],()=>o.qc.hasHotspot(o.v6.HUB_STUDY_ROOM_NOTICE)),c=(0,h.r)(t.guild_id),m=(0,a.useSpring)({maxHeight:c?0:300,overflow:"hidden",delay:400});return(0,i.jsx)(r.animated.div,{style:m,children:s?(0,i.jsx)(d.Z,{channel:t,guild:n}):(0,i.jsx)(u.Z,{name:"\uD83D\uDCDA ".concat(t.name),channel:t})})}t.Z=function(e){let{guild:t}=e,n=(0,l.e7)([s.ZP],()=>s.ZP.getChannels(t.id)[s.Zb][0]),r=(0,l.e7)([c.Z],()=>null!=n&&c.Z.can(m.Plq.CONNECT,n.channel));return t.hasFeature(m.oNc.HUB)&&null!=n&&r?(0,i.jsx)(p,{channel:n.channel,guild:t}):null}},51382:function(e,t,n){var i=n(200651);n(192379);var r=n(324262),l=n(536442),a=n(703656),o=n(922482),s=n(981631),c=n(388032),d=n(882977);t.Z=e=>{let{channel:t,guild:n}=e;return(0,i.jsx)(r.Z,{guild:n,onDismissed:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE)},onClick:()=>{(0,l.Kw)(l.v6.HUB_STUDY_ROOM_NOTICE),null!=t&&null!=t.getGuildId()&&((0,o.Cq)(t),(0,a.XU)(t.getGuildId(),t.id))},title:c.intl.string(c.t["4Y2AS0"]),message:c.intl.string(c.t.wTsxTU),cta:c.intl.string(c.t.wBoE6O),image:d,type:s.vID.HUB_STUDY_ROOM})}},91326:function(e,t,n){var i=n(200651);n(192379);var r=n(442837),l=n(471445),a=n(862099),o=n(938475),s=n(388032),c=n(865840);t.Z=function(e){let{name:t,channel:n}=e,d=(0,r.Wu)([o.ZP],()=>o.ZP.getVoiceStatesForChannel(n).map(e=>{let{user:t}=e;return t}),[n]),u=(0,l.KS)(n);return(0,i.jsx)(a.gt,{heading:s.intl.string(s.t["X2K3//"]),topic:t,location:s.intl.string(s.t.LZA6NT),locationIcon:null!=u?(0,i.jsx)(u,{size:"xs",color:"currentColor",className:c.icon}):null,children:(0,i.jsx)(a.Co,{channel:n,speakers:d,voiceType:a.bZ.STUDY_ROOM})})}},919285:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(324262),l=n(434404),a=n(929507),o=n(981631),s=n(388032),c=n(943935);function d(e){let{guild:t}=e,n=()=>a.Z.dismissNotice(t.id);return(0,i.jsx)(r.Z,{guild:t,onDismissed:n,cta:s.intl.string(s.t.RzWDqa),message:s.intl.format(s.t["kQ/MDg"],{}),type:o.vID.COMMANDS_MIGRATION,image:c,onClick:()=>{n(),l.Z.open(t.id,o.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}},975533:function(e,t,n){var i=n(570140),r=n(846027),l=n(13245),a=n(287734),o=n(872810),s=n(223245),c=n(317770),d=n(924557),u=n(39604),h=n(569545),m=n(722835),p=n(703656),g=n(641015),f=n(183584),_=n(199902),E=n(131951),I=n(246946),C=n(808506),v=n(237997),S=n(626135),N=n(554174),T=n(981631),b=n(65154);let x={[T.kg4.TOGGLE_PRIORITY_SPEAKER]:{onTrigger(){},keyEvents:{}},[T.kg4.UNASSIGNED]:{onTrigger(){},keyEvents:{}},[T.kg4.PUSH_TO_TALK]:{onTrigger(e,t){E.Z.getMode(t.context)===T.pM4.PUSH_TO_TALK&&(x[T.kg4.PUSH_TO_TALK].isPressed=e,E.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!1),t.context))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[T.kg4.PUSH_TO_TALK_PRIORITY]:{onTrigger(e){E.Z.getMode()===T.pM4.PUSH_TO_TALK&&(x[T.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e,E.Z.getMediaEngine().eachConnection(t=>t.setForceAudioInput(e,!0),b.Yn.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[T.kg4.PUSH_TO_MUTE]:{onTrigger(e){if(E.Z.getMode()===T.pM4.VOICE_ACTIVITY)x[T.kg4.PUSH_TO_MUTE].isPressed=e,r.Z.setTemporarySelfMute(e)},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},[T.kg4.TOGGLE_MUTE]:{onTrigger:()=>r.Z.toggleSelfMute({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_DEAFEN]:{onTrigger:()=>r.Z.toggleSelfDeaf({usedKeybind:!0,location:"Custom Keybind"}),keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_VOICE_MODE]:{onTrigger(){let e=E.Z.getMode()===T.pM4.PUSH_TO_TALK?T.pM4.VOICE_ACTIVITY:T.pM4.PUSH_TO_TALK;r.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_OVERLAY]:{onTrigger(){let e=C.Z.enabled;l.Z.setEnabled(!e,C.Z.legacyEnabled,!1)},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_OVERLAY_INPUT_LOCK]:{onTrigger(){let e=(0,N.Z)();if(null!=e)l.Z.setInputLocked(!v.Z.isLocked(e),e)},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]:{onTrigger(){let e=C.Z.getFocusedPID(),t=null!=e;null!=e&&t&&v.Z.isPinned(T.Odu.TEXT)&&v.Z.isLocked(e)&&C.Z.isReady(e)&&l.Z.activateRegion(T.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_GO_LIVE_STREAMING]:{onTrigger(){let e=_.Z.getCurrentUserActiveStream();if(null!=e)return(0,o.g)((0,h.V9)(e));(0,m.Z)()},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.TOGGLE_STREAMER_MODE]:{onTrigger(){s.Z.setEnabled(!I.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.NAVIGATE_BACK]:{onTrigger:()=>(0,p.op)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[T.kg4.NAVIGATE_FORWARD]:{onTrigger:()=>(0,p.eH)(),keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}},[T.kg4.SOUNDBOARD]:{onTrigger:()=>{if(!(0,g.D)())return;let e=(0,N.Z)();null!=e&&(v.Z.isLocked(e)?(0,f.IN)(!0,e):(0,f.oZ)(e))},keyEvents:{keyup:!0,keydown:!1}},[T.kg4.SOUNDBOARD_HOLD]:{onTrigger:e=>{if(!(0,g.D)())return;let t=(0,N.Z)();if(null!=t){e?(0,f.IN)(!1,t):(0,f.oZ)(t);return}},keyEvents:{keyup:!0,keydown:!0}},[T.kg4.SAVE_CLIP]:{onTrigger:()=>{(0,d.ln)()&&(S.default.track(T.rMx.CLIP_SAVE_KEYBIND_PRESSED),(0,u.C1)())},keyEvents:{keyup:!1,keydown:!0}},[T.kg4.SWITCH_TO_VOICE_CHANNEL]:{onTrigger(e,t){let{params:{channelId:n}}=t;null!=n&&a.default.selectVoiceChannel(n)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}},[T.kg4.DISCONNECT_FROM_VOICE_CHANNEL]:{onTrigger(){a.default.selectVoiceChannel(null)},keyEvents:{keyup:!0,keydown:!1,blurred:!0,focused:!0}}};class A extends c.Z{_initialize(){i.Z.wait(()=>i.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:x}))}_terminate(){}}t.Z=new A},972264:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(442837),r=n(430824),l=n(496675),a=n(312146),o=n(981631);function s(e){let t=(0,i.e7)([r.Z],()=>r.Z.getGuild(e)),n=(0,a.Ui)(t),s=l.Z.can(o.Plq.MANAGE_CHANNELS,t);return n&&s}},782959:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(200651);n(192379);var r=n(481060),l=n(367907),a=n(70097),o=n(970731),s=n(626135),c=n(63063),d=n(981631),u=n(388032),h=n(980037);function m(e){let{guildId:t,markAsDismissed:m}=e,p=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Text,{color:"always-white",variant:"text-sm/normal",className:h.upsellBody,children:u.intl.string(u.t["yQ0X+f"])}),(0,i.jsx)(r.Text,{color:"always-white",variant:"text-sm/normal",children:u.intl.format(u.t["2Sapx8"],{hcArticleUrl:c.Z.getCreatorSupportArticleURL(d.BhN.MEDIA_CHANNEL)})})]});return(0,i.jsx)(o.ZP,{header:u.intl.string(u.t.fW7UqK),content:p,asset:(0,i.jsx)(a.Z,{className:h.video,src:"https://cdn.discordapp.com/assets/media_channel/media_channel_upsell_demo.mp4",autoPlay:!0,loop:!0}),buttonCTA:u.intl.string(u.t.JzJpg4),onClick:()=>{s.default.track(d.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,{...(0,l.hH)(t)}),(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("45094"),n.e("5506")]).then(n.bind(n,218613));return n=>(0,i.jsx)(e,{...n,channelType:d.d4z.GUILD_MEDIA,guildId:t})})},secondaryButtonCTA:u.intl.string(u.t.WAI6xs),markAsDismissed:m})}},584731:function(e,t,n){n(47120);var i=n(442837),r=n(570140),l=n(513418),a=n(710845),o=n(592125),s=n(375954),c=n(625236);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=-1/0,h=new a.Z("MessagePreviewStore");class m extends i.ZP.Store{isLatest(e,t){var n;let i=this.guilds.get(null!=e?e:null);return null!==(n=null==i?void 0:i.isLatest(t,this.generation))&&void 0!==n&&n}isLocalFetchNeeded(e){var t,n;return null===(n=null===(t=this.guilds.get(e))||void 0===t?void 0:t.localNeeded)||void 0===n||n}message(e,t){var n,i;return null!==(i=null===(n=this.guilds.get(e))||void 0===n?void 0:n.messageRecord(t))&&void 0!==i?i:null}data(e){return!this.guilds.has(e)&&this.guilds.set(e,new c.B),this.guilds.get(e)}handleOneGuildCreate(e){var t,n;let i=this.data(e.id);i.putMany(null!==(t=e.lastMessages)&&void 0!==t?t:[],this.generation),i.putMany(null!==(n=e.threadMessages)&&void 0!==n?n:[],this.generation),null!=e.lastMessages&&(i.localNeeded=!1)}handleConnectionOpen(e){for(let t of(this.generation+=1,e.guilds))this.handleOneGuildCreate(t)}handleGuildCreate(e){this.handleOneGuildCreate(e.guild)}handleGuildDelete(e){this.guilds.delete(e.guild.id)}handleMessageCreate(e){var t;if(e.optimistic||e.isPushNotification)return!1;this.data(null!==(t=e.guildId)&&void 0!==t?t:null).put(e.message.channel_id,e.message,this.generation)}handleMessageDelete(e){var t,n;let i=null!==(n=e.guildId)&&void 0!==n?n:null;if((null===(t=this.data(i))||void 0===t?void 0:t.messageId(e.channelId))===e.id){let t=s.Z.getMessages(e.channelId),n=t.hasMoreAfter?null:t.last();null!=n?this.data(i).put(e.channelId,n,this.generation):this.data(i).delete(e.channelId)}}handleMessageUpdate(e){var t;let n=null!==(t=e.guildId)&&void 0!==t?t:null,i=e.message.channel_id,r=e.message.id;if(null==i||null==r)return!1;let l=this.data(n);if((null==l?void 0:l.messageId(i))!==r)return!1;null==l||l.update(e.message)}handleThreadListSync(e){var t;this.data(e.guildId).putMany(null!==(t=e.mostRecentMessages)&&void 0!==t?t:[],this.generation)}handleLoadMessagesSuccess(e){var t,n;let i=o.Z.getBasicChannel(e.channelId);if(null==i)return!1;(0,l.Z)(e.messages),e.isAfter||e.isBefore||e.hasMoreAfter?this.data(i.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,this.generation):this.data(i.guild_id).put(e.channelId,null!==(t=e.messages[0])&&void 0!==t?t:null,this.generation)}handleLocalMessagesLoaded(e){let t=o.Z.getBasicChannel(e.channelId);if(null!=t){var n;(0,l.Z)(e.messages),this.data(t.guild_id).putNew(e.channelId,null!==(n=e.messages[0])&&void 0!==n?n:null,u)}}handleMessagePreviewsLoaded(e){h.verbose("adding remote previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let n of e.messages)!t.isLatest(n.channel_id,this.generation)&&t.put(n.channel_id,n,this.generation)}handleMessagePreviewsLocallyLoaded(e){h.verbose("adding local previews (guildId: ".concat(e.guildId,", messages: ").concat(e.messages.length,")"));let t=this.data(e.guildId);for(let[n,i]of e.messages)!t.has(n)&&t.put(n,i,u);t.localNeeded=!1}handleLogout(e){this.guilds.clear()}constructor(){super(r.Z,{CONNECTION_OPEN:e=>this.handleConnectionOpen(e),GUILD_CREATE:e=>this.handleGuildCreate(e),GUILD_DELETE:e=>this.handleGuildDelete(e),LOAD_MESSAGES_SUCCESS:e=>this.handleLoadMessagesSuccess(e),LOCAL_MESSAGES_LOADED:e=>this.handleLocalMessagesLoaded(e),LOGOUT:e=>this.handleLogout(e),MESSAGE_CREATE:e=>this.handleMessageCreate(e),MESSAGE_DELETE:e=>this.handleMessageDelete(e),MESSAGE_PREVIEWS_LOADED:e=>this.handleMessagePreviewsLoaded(e),MESSAGE_PREVIEWS_LOCALLY_LOADED:e=>this.handleMessagePreviewsLocallyLoaded(e),MESSAGE_UPDATE:e=>this.handleMessageUpdate(e),THREAD_LIST_SYNC:e=>this.handleThreadListSync(e)}),d(this,"guilds",new Map),d(this,"generation",0)}}new m},625236:function(e,t,n){n.d(t,{B:function(){return s}}),n(47120);var i=n(786761),r=n(23750),l=n(306680),a=n(709054);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{isLatest(e,t){return this.messageGeneration(e,t)===t}messageGeneration(e,t){let n=this.messages.get(e);return null==n?-1/0:n.generation!==t&&null!=n.message&&n.message.id===l.ZP.lastMessageId(e)?(this.messages.set(e,{...n,generation:t}),t):n.generation}messageId(e){var t,n;let i=this.messages.get(e);return null!==(n=null==i?void 0:null===(t=i.message)||void 0===t?void 0:t.id)&&void 0!==n?n:null}messageRecord(e){var t;let n=this.messages.get(e);return null!=n&&null!=n.message&&!(n.message instanceof r.ZP)&&(n.message=(0,i.e5)(n.message)),null!==(t=null==n?void 0:n.message)&&void 0!==t?t:null}has(e){return this.messages.has(e)}put(e,t,n){this.messages.set(e,{message:t,generation:n})}putNew(e,t,n){var i;let r=this.messages.get(e);null!=t&&function(e,t){return null==t||a.default.compare(e,t)>0}(t.id,null==r?void 0:null===(i=r.message)||void 0===i?void 0:i.id)&&this.put(e,t,n)}putMany(e,t){for(let n of e)this.put(n.channel_id,n,t)}update(e){var t;if(null==e.id||null==e.channel_id)return;let n=e.channel_id,l=this.messages.get(n);if((null==l?void 0:null===(t=l.message)||void 0===t?void 0:t.id)!==e.id)return;let a=l.message instanceof r.ZP?(0,i.wi)(l.message,e):(0,i.gx)(l.message,e);this.messages.set(n,{...l,message:a})}delete(e){this.messages.delete(e)}constructor(){o(this,"localNeeded",!0),o(this,"messages",new Map)}}},900255:function(e,t,n){n.d(t,{x:function(){return r}});var i=n(709054);function r(e){return e.sort((e,t)=>i.default.compare(e.lastMessageId,t.lastMessageId)).reverse()}},647090:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(442837),r=n(375954),l=n(594174);let a=e=>(0,i.e7)([r.Z,l.default],()=>{if(null==e)return!1;let t=l.default.getCurrentUser();return null!=r.Z.getMessages(e).findNewest(e=>e.author.id===(null==t?void 0:t.id))})},26373:function(e,t,n){n.d(t,{K:function(){return c},V:function(){return d}});var i=n(192379),r=n(442837),l=n(355298),a=n(333984),o=n(899740),s=n(355350);function c(){let e=(0,o.q)(),t=i.useRef(e),n=(0,r.e7)([l.Z],()=>l.Z.isReady()),a=i.useRef(n);return i.useEffect(()=>{n&&!a.current&&(a.current=!0,t.current=e)},[n,e]),t.current<=1&&1===e}function d(){let e=(0,s.w)(),t=i.useRef(e),n=(0,r.e7)([a.Z],()=>a.Z.isReady()),l=i.useRef(n);return i.useEffect(()=>{n&&!l.current&&(l.current=!0,t.current=e)},[n,e]),t.current<=1&&1===e}},620924:function(e,t,n){n.d(t,{c:function(){return s}}),n(913527);var i=n(442837),r=n(91159),l=n(306680),a=n(709054),o=n(868807);function s(e){let t=(0,o.a)(e),n=function(e){let{lastMessageId:t,message:n,loaded:i}=e;return i&&null!=n?a.default.extractTimestamp(n.id):null!=t?a.default.extractTimestamp(t):null}({lastMessageId:(0,i.e7)([l.ZP],()=>l.ZP.lastMessageId(e.id)),...t});return null==n?"":(0,r.Ye)(n)}},332712:function(e,t,n){n.d(t,{O:function(){return c}});var i=n(192379),r=n(442837),l=n(570140),a=n(621853),o=n(484459),s=n(594174);function c(e){let t=(0,r.e7)([s.default],()=>s.default.getUser(e)),n=(0,r.Wu)([a.Z],()=>{var t,n;return null!==(n=null===(t=a.Z.getMutualGuilds(e))||void 0===t?void 0:t.map(e=>e.guild))&&void 0!==n?n:[]});return i.useEffect(()=>{0===n.length&&null!=t&&null==a.Z.getMutualGuilds(e)&&l.Z.wait(()=>(0,o.Z)(e,void 0,{withMutualGuilds:!0}))},[n,t,e]),n}},28476:function(e,t,n){n.d(t,{a:function(){return o}});var i=n(442837),r=n(355298),l=n(869404),a=n(333984);function o(){return(0,i.e7)([r.Z,a.Z],()=>(0,l.IO)([r.Z,a.Z]))}},177033:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(192379),r=n(442837),l=n(592125),a=n(594174),o=n(355298),s=n(900255);function c(){let e=(0,r.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,r.Wu)([l.Z,o.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(o.Z.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,s.x)(t)},[e]),n=(0,r.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},727813:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(192379),r=n(442837),l=n(592125),a=n(594174),o=n(900255),s=n(333984);function c(){let e=(0,r.e7)([l.Z],()=>l.Z.getPrivateChannelsVersion()),t=(0,r.Wu)([l.Z,s.Z],()=>{let e=l.Z.getMutablePrivateChannels(),t=Array.from(s.Z.getSpamChannelIds()).map(t=>e[t]).filter(e=>null!=e);return(0,o.x)(t)},[e]),n=(0,r.cj)([a.default],()=>{let e={};return t.forEach(t=>{let n=a.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}),e},[t]);return i.useMemo(()=>t.map(e=>({channel:e,user:n[e.id]})),[t,n])}},355350:function(e,t,n){n.d(t,{w:function(){return l}});var i=n(442837),r=n(333984);function l(){return(0,i.e7)([r.Z],()=>r.Z.getSpamChannelsCount())}},545724:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),d=n(239091),u=n(687683),h=n(262755);t.Z=function(e){let{index:t,children:l,user:m,channel:p,onClick:g,isFocused:f,isActive:_,onOtherHover:E,className:I}=e,[C,v]=r.useState(!1),[S,N]=r.useState(!1),T=()=>{v(!0),f&&!_&&!S&&(null==E||E())},b=()=>{v(!1)},x=(e,t)=>{if(null!=t)N(!0),(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{N(!1)}})};return(0,i.jsx)(s.mh,{id:p.id,children:e=>(0,i.jsx)(c.FocusRing,{offset:{left:-8,right:-8},children:(0,i.jsx)(o.Z.div,{className:a()(h.messageRequestItem,I,{[h.active]:_||S,[h.firstItem]:0===t}),onContextMenu:e=>x(e,m),onMouseEnter:T,onMouseLeave:b,onClick:null!=g?g:void 0,style:{LIST_ROW_HEIGHT:u.WN,opacity:1},...e,children:l(C||_||S)})})})}},745052:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(442837),d=n(704215),u=n(481060),h=n(150063),m=n(230711),p=n(112724),g=n(183126),f=n(607070),_=n(209613),E=n(325708),I=n(320149),C=n(82295),v=n(252618),S=n(605236),N=n(243778),T=n(984370),b=n(797614),x=n(359110),A=n(6025),Z=n(897473),L=n(108427),P=n(970731),y=n(187819),O=n(210887),R=n(433355),j=n(592125),D=n(819640),M=n(626135),w=n(647090),k=n(385956),U=n(610697),G=n(26373),B=n(486622),H=n(922409),V=n(899740),F=n(177033),z=n(355350),W=n(307947),Y=n(96479),K=n(480874),q=n(687683),X=n(981631),Q=n(921944),J=n(526761),$=n(388032),ee=n(863705),et=n(247627);function en(){let e=r.useRef(null),t=(0,V.q)(),n=(0,F.Z)(),l=(0,G.K)(),c=(0,g.N)(),d=r.useCallback(()=>{(0,u.showToast)((0,u.createToast)($.intl.string($.t.EDYbS0),u.ToastType.FAILURE))},[]),{rejectAll:h}=(0,B.m)({onError:d}),m=(0,_.Z)("message-requests-list"),{channelId:p}=(0,H._)(),f=r.useCallback(()=>{h(n.map(e=>e.channel.id))},[n,h]),E=r.useCallback(e=>{var t,r;let{row:o}=e,s=n[o],c=null===(r=n[o+1])||void 0===r?void 0:null===(t=r.channel)||void 0===t?void 0:t.id,d=s.channel.id;return(0,i.jsx)(Y.Z,{index:o,className:a()({[ee.selected]:null!=p&&p===d,[ee.siblingSelected]:null!=p&&p===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},d)},[l,n,p]),I=r.useCallback(()=>(0,i.jsxs)(C.Z,{className:ee.sectionTitle,children:[t>0?$.intl.formatToPlainString($.t.rA4iWV,{count:t}):$.intl.string($.t.flPU6u),c&&t>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Text,{className:ee.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,i.jsx)(u.Button,{onClick:f,look:u.ButtonLooks.LINK,color:u.ButtonColors.LINK,size:u.ButtonSizes.NONE,className:ee.clearAllButton,"aria-label":$.intl.string($.t.p6t7RE),children:$.intl.string($.t.p6t7RE)})]}):null]},"title"),[t,f,c]);return(n.length!==t&&b.Z.increment({name:s.V.MESSAGE_REQUEST_COUNT_DRIFT}),0===n.length)?(0,i.jsx)(W.Z,{section:q.pS.REQUESTS}):(0,i.jsx)(o.bG,{navigator:m,children:(0,i.jsx)(o.SJ,{children:t=>{let{ref:r,role:l,...a}=t;return(0,i.jsx)(u.List,{className:ee.list,innerRole:l,innerAriaLabel:$.intl.string($.t.e7GWjY),ref:t=>{var n;e.current=t,r.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:q.oi,rowHeight:q.WN,renderSection:I,renderRow:E,sections:[n.length],chunkSize:30,fade:!0,...a},"message-requests-list")}})})}function ei(e){let{pageWidth:t,onSidebarResize:n}=e,r=(0,c.e7)([R.ZP],()=>R.ZP.getSidebarState(R.uZ)),l=(0,c.e7)([j.Z],()=>j.Z.getChannel(null==r?void 0:r.channelId));if(null==r||r.type!==Z.tI.VIEW_MESSAGE_REQUEST||null==l||!l.isPrivate())return null;let a=t-X.R7I;return(0,i.jsx)(E.Z,{sidebarType:E.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,i.jsx)(I.Z,{channel:l,baseChannelId:R.uZ})})}let er=function(e){let{markAsDismissed:t}=e;return(0,i.jsx)(P.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t.apPgJC),buttonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:()=>t(Q.L.UNKNOWN),markAsDismissed:t,caretPosition:P.DF.TOP_CENTER,headerClassName:ee.__invalid_header})},el=e=>{let t=(0,U.Z)(),n=()=>D.Z.hasLayers()||(0,u.hasAnyModalOpen)(),l=(0,c.e7)([f.Z],()=>f.Z.useReducedMotion),a=(0,y._p)({location:"message-request-coachmark"});return r.useEffect(()=>{(0,S.kk)(d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)},[]),(0,i.jsx)(N.ZP,{contentTypes:[d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:r=>{let{visibleContent:o,markAsDismissed:s}=r;if(o===d.z.MESSAGE_REQUEST_SETTINGS_COACH_MARK)return(0,i.jsx)(u.Popout,{renderPopout:()=>t?(0,i.jsx)(er,{markAsDismissed:s}):(0,i.jsx)(P.ZP,{header:$.intl.string($.t.hRT8tb),content:$.intl.string($.t["8JWodn"]),buttonCTA:$.intl.string($.t.JN6EOD),secondaryButtonCTA:$.intl.string($.t.LNoAQU),className:ee.messageRequestCoachmark,onClick:e=>{e.stopPropagation(),a?m.Z.open(X.oAB.CONTENT_AND_SOCIAL,null,{scrollPosition:J.to.MESSAGE_REQUESTS_V2}):m.Z.open(X.oAB.PRIVACY_AND_SAFETY,null,{scrollPosition:J.to.MESSAGE_REQUESTS})},markAsDismissed:s,caretPosition:P.DF.TOP_CENTER,headerClassName:ee.__invalid_header}),position:"bottom",align:"center",animation:l?u.Popout.Animation.NONE:u.Popout.Animation.TRANSLATE,shouldShow:!n(),spacing:16,children:()=>e.children});return e.children}})};function ea(e){let{section:t}=e;return t===q.pS.SPAM?(0,i.jsx)(K.Z,{}):(0,i.jsx)(en,{})}let eo=(0,p.Z)(function(e){let{width:t}=e,n=(0,V.q)();r.useEffect(()=>{h.Y(X.Z5c.MESSAGE_REQUESTS),(0,L.e)("message-requests"),M.default.track(X.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n}),b.Z.increment({name:s.V.MESSAGE_REQUEST_VIEW})},[]);let l=(0,c.e7)([O.Z],()=>O.Z.theme),o=(0,z.w)(),[d,m]=r.useState(!1),p=(0,c.e7)([R.ZP],()=>{let e=R.ZP.getSidebarState(R.uZ);return null!=e&&e.type===Z.tI.VIEW_MESSAGE_REQUEST?e:null}),g=null==p?void 0:p.channelId,f=null!=p,_=(0,k.T)(g),E=(0,w.J)(g);r.useEffect(()=>{null!=g&&!_&&E&&f&&((0,x.Kh)(g),A.Z.closeChannelSidebar(R.uZ))},[g,E,f,_]);let[I,C]=r.useState(q.pS.REQUESTS),S=e=>{C(e)};return(0,v.Tt)({location:$.intl.string($.t.e7GWjY)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:a()(et.chat,ee.container,{[et.threadSidebarOpen]:f,[et.threadSidebarFloating]:f&&d}),children:[(0,i.jsx)(u.ThemeProvider,{theme:l,children:e=>(0,i.jsxs)(T.Z,{className:e,toolbar:!0,children:[(0,i.jsx)(T.Z.Icon,{icon:u.EnvelopeIcon,"aria-hidden":!0}),(0,i.jsx)(el,{children:(0,i.jsx)(T.Z.Title,{children:$.intl.string($.t.e7GWjY)})}),(0,i.jsx)(T.Z.Divider,{}),(0,i.jsxs)(u.TabBar,{"aria-label":$.intl.string($.t.e7GWjY),selectedItem:I,type:"top-pill",onItemSelect:S,children:[(0,i.jsx)(u.TabBar.Item,{id:q.pS.REQUESTS,children:$.intl.string($.t["7RFcXV"])}),(0,i.jsx)(u.TabBar.Item,{id:q.pS.SPAM,children:0===o?$.intl.string($.t.ulKXHh):$.intl.formatToPlainString($.t["5jtrlZ"],{count:o})})]})]})}),(0,i.jsx)("div",{className:et.content,children:(0,i.jsx)(ea,{section:I})})]}),f&&(0,i.jsx)(ei,{pageWidth:t,onSidebarResize:(e,t)=>{m(t)}})]})});t.Z=eo},81471:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(95398),d=n(905405),u=n(255269),h=n(937889),m=n(267128),p=n(695346),g=n(496675),f=n(699516),_=n(868807),E=n(981631),I=n(217702),C=n(388032),v=n(560006),S=n(665162);let N=r.memo(function(e){let{channel:t}=e,{loaded:n,error:l,message:N}=(0,_.a)(t),T=(0,d.p)(),{isBlocked:b,isIgnored:x}=(0,o.cj)([f.Z],()=>({isBlocked:null!=N&&f.Z.isBlockedForMessage(N),isIgnored:null!=N&&f.Z.isIgnoredForMessage(N)}),[N]),A=(0,o.e7)([g.Z],()=>g.Z.can(E.Plq.MANAGE_MESSAGES,t)),Z=p.cC.useSetting(),{content:L}=r.useMemo(()=>(null==N?void 0:N.content)!=null&&""!==N.content?(0,h.ZP)(N,{formatInline:!0,noStyleAndInteraction:!0,shouldFilterKeywords:T}):{content:null},[N,T]),P=null;if(l)P=(0,i.jsx)(s.Text,{className:v.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.BZHld3)});else if(n){if(null!=N&&b)P=(0,i.jsx)(s.Text,{className:v.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t["WPe+xM"])});else if(null!=N&&x)P=(0,i.jsx)(s.Text,{className:v.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.uxrh1N)});else if(null!=N){let{contentPlaceholder:e,renderedContent:t}=(0,m.f)(N,L,b,x,a()(v.messageContent,S.inlineFormat),{leadingIconClass:v.messageContentIcon,trailingIconClass:v.messageContentIcon,iconSize:I.WW});P=null!=t?(0,i.jsx)(s.Text,{variant:"text-sm/normal",color:"text-muted",className:v.messageContent,children:t}):(0,i.jsx)(s.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:v.messageReplacement,children:e})}else P=(0,i.jsx)(s.Text,{className:v.messageReplacement,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t["0KfDxM"])})}else P=null;return(0,i.jsx)(c.a.Provider,{value:(0,u.Z)(Z,A),children:(0,i.jsx)(s.FocusBlock,{className:v.messageFocusBlock,children:P})})});t.Z=N},376191:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(200651);n(192379);var r=n(442837),l=n(481060),a=n(129861),o=n(607070),s=n(570928),c=n(388905),d=n(1585),u=n(125988),h=n(43267),m=n(522289),p=n(699516),g=n(51144),f=n(998502),_=n(620924),E=n(332712),I=n(81471),C=n(388032),v=n(993595);let S=e=>{let{userId:t}=e,n=(0,E.O)(t);return null==n||0===n.length?(0,i.jsx)(l.Text,{className:v.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:C.intl.string(C.t.jpY0X1)}):(0,i.jsxs)("div",{className:v.mutualGuildsContainer,children:[(0,i.jsx)(m.Z,{guilds:n,maxGuilds:3,size:c.Vj.Sizes.SMOL,hideOverflowCount:!0}),(0,i.jsx)(l.Text,{className:v.mutualGuilds,variant:"text-sm/normal",color:"text-muted",children:C.intl.format(C.t.eE3oen,{count:n.length})})]})},N=f.ZP.getEnableHardwareAcceleration()?l.AnimatedAvatar:l.Avatar;function T(e){var t;let{channel:n,otherUser:c,active:m}=e,f=(0,r.e7)([o.Z],()=>o.Z.useReducedMotion),E=(0,r.e7)([p.Z],()=>null==c?null:p.Z.getNickname(c.id)),T=!f&&m,b=(0,_.c)(n),{avatarDecorationSrc:x}=(0,u.Z)({user:c,size:(0,d.y9)(l.AvatarSizes.SIZE_40),onlyAnimateOnHover:!0});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{className:v.avatar,src:(0,h.x)(n,40,T),avatarDecoration:x,size:l.AvatarSizes.SIZE_40,"aria-label":null!==(t=null==c?void 0:c.username)&&void 0!==t?t:C.intl.string(C.t["30mdIy"])}),(0,i.jsxs)("div",{className:v.userPreview,children:[(0,i.jsxs)("div",{className:v.userContainerWithPreview,children:[(0,i.jsx)(a.Z,{nick:E,user:c,showAccountIdentifier:!0,className:v.tagContainer,usernameClass:v.username,discriminatorClass:null!=g.ZP.getGlobalName(c)?v.globalName:v.discriminator}),(0,i.jsx)(l.Text,{className:v.timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:b})]}),(0,i.jsx)(s.Z,{hoverText:(0,i.jsx)(I.Z,{channel:n}),forceHover:m,children:(0,i.jsx)(S,{userId:c.id})})]})]})}},307947:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var r=n(442837),l=n(481060),a=n(210887),o=n(687683),s=n(388032),c=n(283863),d=n(138715),u=n(979770);function h(e){let{section:t}=e,n=(0,r.e7)([a.Z],()=>a.Z.theme);return(0,i.jsxs)(l.EmptyState,{theme:n,className:c.emptyStateContainer,children:[(0,i.jsx)(l.EmptyStateImage,{width:415,height:200,lightSrc:u,darkSrc:d}),(0,i.jsx)(l.EmptyStateText,{note:t===o.pS.SPAM?s.intl.string(s.t.hasFPT):s.intl.string(s.t.SXrqTU)})]})}},96479:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651);n(192379);var r=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(922409),c=n(545724),d=n(749405),u=n(981631);function h(e){let{index:t,className:n,channel:h,user:m,hasSingleMessageRequest:p}=e,{channelId:g}=(0,s._)();return(0,i.jsx)(c.Z,{index:t,className:n,isFocused:g===h.id,channel:h,user:m,onClick:e=>{e.stopPropagation(),r.Z.openPrivateChannelAsSidebar({channelId:h.id,baseChannelId:l.uZ,hasSingleMessageRequest:p}),a.default.track(u.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!1,channel_id:h.id,other_user_id:m.id}),setTimeout(()=>{o.S.dispatch(u.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:h.id})},0)},children:e=>(0,i.jsx)(d.C,{active:e,user:m,channel:h})})}},749405:function(e,t,n){n.d(t,{C:function(){return p}});var i=n(200651),r=n(192379),l=n(481060),a=n(359110),o=n(6025),s=n(433355),c=n(26373),d=n(486622),u=n(376191),h=n(388032),m=n(573475);function p(e){let{active:t,user:n,channel:p}=e,g=(0,c.K)(),f=r.useCallback(()=>{(0,l.showToast)((0,l.createToast)(h.intl.string(h.t.EDYbS0),l.ToastType.FAILURE))},[]),_=r.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ)},[]),E=r.useCallback(()=>{o.Z.closeChannelSidebar(s.uZ),g&&(0,a.Kh)(p.id)},[p.id,g]),{acceptMessageRequest:I,rejectMessageRequest:C,isAcceptLoading:v,isRejectLoading:S,isUserProfileLoading:N,isOptimisticAccepted:T,isOptimisticRejected:b}=(0,d.m)({user:n,onAcceptSuccess:E,onRejectSuccess:_,onError:f}),x=v||S||N||T||b;return(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsx)(u.Z,{channel:p,otherUser:n,active:t}),(0,i.jsxs)("div",{className:m.actions,children:[(0,i.jsx)(l.Button,{className:m.button,color:l.ButtonColors.PRIMARY,size:l.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),C(p.id)},disabled:x,submitting:S||b,children:h.intl.string(h.t.B2nygY)}),(0,i.jsx)(l.Button,{className:m.button,color:l.ButtonColors.BRAND,size:l.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),I(p.id)},disabled:x,submitting:v||N||T,children:h.intl.string(h.t.Kz8Pws)})]})]})}},125855:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651);n(192379);var r=n(6025),l=n(433355),a=n(626135),o=n(585483),s=n(545724),c=n(426051),d=n(981631);function u(e){let{index:t,className:n,channel:u,user:h,hasSingleMessageRequest:m}=e;return(0,i.jsx)(s.Z,{index:t,className:n,isFocused:!1,channel:u,user:h,onClick:e=>{e.stopPropagation(),r.Z.openPrivateChannelAsSidebar({channelId:u.id,baseChannelId:l.uZ,hasSingleMessageRequest:m}),a.default.track(d.rMx.MESSAGE_REQUEST_PREVIEW_VIEWED,{is_spam:!0,channel_id:u.id,other_user_id:h.id}),setTimeout(()=>{o.S.dispatch(d.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:u.id})},0)},children:e=>(0,i.jsx)(c.Z,{active:e,user:h,channel:u})})}},480874:function(e,t,n){n.d(t,{Z:function(){return x}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(91192),s=n(286379),c=n(481060),d=n(183126),u=n(209613),h=n(82295),m=n(797614),p=n(626135),g=n(26373),f=n(486622),_=n(922409),E=n(727813),I=n(355350),C=n(307947),v=n(125855),S=n(687683),N=n(981631),T=n(388032),b=n(300755);function x(){let e=r.useRef(null),t=(0,E.Z)(),n=(0,I.w)(),l=(0,g.V)(),x=(0,d.N)(),A=(0,u.Z)("message-requests-spam-list"),{channelId:Z}=(0,_._)(),L=r.useCallback(()=>{(0,c.showToast)((0,c.createToast)(T.intl.string(T.t.EDYbS0),c.ToastType.FAILURE))},[]),{rejectAll:P}=(0,f.m)({onError:L}),y=r.useCallback(()=>{P(t.map(e=>e.channel.id))},[t,P]);r.useEffect(()=>{p.default.track(N.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n}),m.Z.increment({name:s.V.SPAM_MESSAGE_REQUEST_VIEW})},[]);let O=r.useCallback(e=>{var n,r;let{row:o}=e,s=t[o],c=null===(r=t[o+1])||void 0===r?void 0:null===(n=r.channel)||void 0===n?void 0:n.id,d=s.channel.id;return(0,i.jsx)(v.Z,{index:o,className:a()({[b.selected]:null!=Z&&Z===d,[b.siblingSelected]:null!=Z&&Z===c}),channel:s.channel,user:s.user,hasSingleMessageRequest:l},d)},[t,l,Z]),R=r.useCallback(()=>(0,i.jsxs)(h.Z,{className:b.sectionTitle,children:[T.intl.format(T.t.C79Edn,{count:n}),x&&n>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Text,{className:b.titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,i.jsx)(c.Button,{onClick:y,look:c.ButtonLooks.LINK,color:c.ButtonColors.LINK,size:c.ButtonSizes.SMALL,className:b.clearAllButton,"aria-label":T.intl.string(T.t.p6t7RE),children:T.intl.string(T.t.p6t7RE)})]}):null]},"message-requests-spam-title"),[n,y,x]);return 0===t.length?(0,i.jsx)(C.Z,{section:S.pS.SPAM}):(0,i.jsx)(o.bG,{navigator:A,children:(0,i.jsx)(o.SJ,{children:n=>{let{ref:r,role:l,...a}=n;return(0,i.jsx)(c.List,{className:b.list,innerRole:l,innerAriaLabel:T.intl.string(T.t.e7GWjY),ref:t=>{var n;e.current=t,r.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:S.oi,rowHeight:S.WN,renderSection:R,renderRow:O,sections:[t.length],chunkSize:30,fade:!0,...a},"message-requests-spam-list")}})})}},426051:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651),r=n(192379),l=n(286379),a=n(481060),o=n(797614),s=n(359110),c=n(6025),d=n(433355),u=n(26373),h=n(486622),m=n(376191),p=n(86203),g=n(388032),f=n(48829);function _(e){let{active:t,user:n,channel:_}=e,E=(0,u.V)(),I=r.useCallback(()=>{(0,a.showToast)((0,a.createToast)(g.intl.string(g.t.pIQ3h4),a.ToastType.FAILURE)),o.Z.increment({name:l.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})},[]),C=r.useCallback(()=>{c.Z.closeChannelSidebar(d.uZ)},[]),v=r.useCallback(()=>{c.Z.closeChannelSidebar(d.uZ),E&&(0,s.Kh)(_.id)},[_.id,E]),{acceptMessageRequest:S,isAcceptLoading:N,isUserProfileLoading:T,isOptimisticAccepted:b}=(0,h.m)({user:n,onAcceptSuccess:v,onRejectSuccess:C,onError:I}),x=N||T,A=x||b;return(0,i.jsxs)("div",{className:f.container,children:[(0,i.jsx)(m.Z,{otherUser:n,channel:_,active:t}),(0,i.jsxs)("div",{className:f.actions,children:[(0,i.jsx)(a.Button,{className:f.button,color:a.ButtonColors.PRIMARY,size:a.Button.Sizes.SMALL,onClick:e=>{S(_.id),e.stopPropagation()},disabled:A,submitting:x,children:g.intl.string(g.t.vicfl5)}),(0,i.jsx)(p.Z,{className:f.button,channel:_,buttonSize:a.Button.Sizes.SMALL})]})]})}},285865:function(e,t,n){var i=n(570140);t.Z={closeSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_CLOSE"})},openSidebar(){i.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})}}},659971:function(e,t,n){var i,r,l,a,o=n(873546),s=n(442837),c=n(570140);let d=!1;class u extends(a=s.ZP.Store){getIsOpen(){return!o.tq||d}}l="MobileWebSidebarStore",(r="displayName")in(i=u)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new u(c.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){d=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){d=!1}})},331541:function(e,t,n){n.d(t,{Z:function(){return ee}});var i=n(200651),r=n(192379),l=n(722770),a=n(873546),o=n(852229),s=n(442837),c=n(481060),d=n(393238),u=n(727637),h=n(100527),m=n(906732),p=n(440051),g=n(734934),f=n(158238),_=n(300284),E=n(680295),I=n(785717),C=n(816988),v=n(687158),S=n(899007),N=n(648052),T=n(867176),b=n(537006),x=n(483424),A=n(681837),Z=n(502762),L=n(530),P=n(309494),y=n(495804),O=n(171368),R=n(420654),j=n(695346),D=n(158776),M=n(246946),w=n(572004),k=n(70956),U=n(5192),G=n(74538),B=n(51144),H=n(246133),V=n(474376),F=n(435478),z=n(383832),W=n(981631),Y=n(228168),K=n(388032),q=n(602654),X=n(591156);let Q=[{duration:30*k.Z.Millis.MINUTE,label:()=>K.intl.string(K.t.RxJGbG)},{duration:k.Z.Millis.HOUR,label:()=>K.intl.string(K.t.UMWBZm)},{duration:3*k.Z.Millis.HOUR,label:()=>K.intl.string(K.t.QmYWtr)},{duration:8*k.Z.Millis.HOUR,label:()=>K.intl.string(K.t.EpAXPD)},{duration:k.Z.Millis.DAY,label:()=>K.intl.string(K.t["755t4u"])},{duration:void 0,label:()=>K.intl.string(K.t["46dqJS"])}];function J(e,t,n){let r=(0,i.jsx)(i.Fragment,{children:Q.map(n=>{let{duration:r,label:l}=n;return(0,i.jsx)(c.MenuItem,{id:"".concat(e,"-").concat(r),label:l(),action:()=>(0,H.Z)(e,t,void 0,r),dontCloseOnAction:!0},r)})});return(0,i.jsx)(c.MenuItem,{id:e,className:q.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:t=>{let{isFocused:r}=t;return(0,i.jsxs)("div",{className:q.statusItem,children:[(0,i.jsx)(c.Status,{status:e,className:q.icon,size:10,color:r?"currentColor":void 0}),(0,i.jsx)("div",{className:q.status,children:(0,B.u5)(e)}),null!=n&&(0,i.jsx)("div",{className:q.description,children:n})]})},action:()=>(0,H.Z)(e,t),dontCloseOnAction:!0,children:e!==W.Skl.ONLINE?r:void 0})}function $(e,t,n){return(0,i.jsx)(c.MenuItem,{id:e,keepItemStyles:!0,render:t=>{let{isFocused:r}=t;return(0,i.jsxs)("div",{className:q.statusItem,children:[(0,i.jsx)(c.Status,{status:e,className:q.icon,size:10,color:r?"currentColor":void 0}),(0,i.jsx)("div",{className:q.status,children:(0,B.u5)(e)}),null!=n&&(0,i.jsx)("div",{className:q.description,children:n})]})},action:()=>(0,H.Z)(e,t),dontCloseOnAction:!0})}function ee(e){var t;let{currentUser:n,onClose:k,setPopoutRef:H}=e,ee=__OVERLAY__,et=(0,v.ZP)(n.id),{analyticsLocations:en}=(0,m.ZP)(h.Z.ACCOUNT_PROFILE_POPOUT),ei=(0,I.ZB)({layout:"SIMPLIFIED_ACCOUNT_POPOUT",userId:n.id}),{ref:er}=(0,d.Z)(),el=(0,u.Z)(er);r.useEffect(()=>{null==H||H(er.current)},[er,H]);let ea=(0,s.e7)([D.Z],()=>D.Z.getStatus(n.id)),eo=(0,s.e7)([M.Z],()=>M.Z.hidePersonalInformation),es=(0,g.p)(),ec=j.Sb.useSetting(),ed=function(e){let t=p.Y.useExperiment({location:"AccountProfilePopout"}).expiringStatus,n=j.Cr.useSetting(),r=(0,g.p)(),a=f.e.useExperiment({location:"AccountProfilePopout"}).allowQuietMode||r,o=j.fv.useSetting(),s=e===W.Skl.DND,d=t=>{let i=null!=n&&"0"!==n?K.intl.formatToPlainString(K.t.BWD8fn,{endTime:new Date(Number(n)).toLocaleString(K.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):void 0;if(e===t&&null!=i)return i;switch(t){case W.Skl.DND:return a?K.intl.string(K.t.day5Aw):K.intl.string(K.t.U9Vv19);case W.Skl.INVISIBLE:return K.intl.string(K.t.MqanVF);default:return}},u=(0,i.jsx)(i.Fragment,{children:Q.map(t=>{let{duration:n,label:r}=t;return(0,i.jsx)(c.MenuItem,{id:"".concat(e,"-").concat(n),label:r(),action:()=>{(0,g.oW)(!0,n)},dontCloseOnAction:!0},n)})});return(0,i.jsxs)(i.Fragment,{children:[$(W.Skl.ONLINE,e),(0,i.jsx)(c.MenuSeparator,{},"menu-separator-statuses"),t?J(W.Skl.IDLE,e,d(W.Skl.IDLE)):$(W.Skl.IDLE,e,d(W.Skl.IDLE)),t?J(W.Skl.DND,e,d(W.Skl.DND)):$(W.Skl.DND,e,d(W.Skl.DND)),t?J(W.Skl.INVISIBLE,e,d(W.Skl.INVISIBLE)):$(W.Skl.INVISIBLE,e,d(W.Skl.INVISIBLE)),a||r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.MenuSeparator,{},"menu-separator-statuses"),(0,i.jsx)(c.MenuItem,{id:"quiet-mode","aria-label":"focus mode",className:q.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:()=>(0,i.jsxs)("div",{className:q.statusItem,children:[(0,i.jsx)(c.BellSlashIcon,{size:"xxs",className:q.icon}),(0,i.jsxs)("div",{className:q.focusModeTitle,children:[K.intl.string(K.t.gJRnwM),(0,i.jsx)(c.TextBadge,{text:r?K.intl.string(K.t.ApAu9f):s?K.intl.string(K.t.gH3Fra):K.intl.string(K.t["64pl8/"]),color:r?l.Z.BRAND_500:s?l.Z.RED_400:l.Z.PRIMARY_500})]}),(0,i.jsx)("div",{className:q.description,children:r&&null!=o&&"0"!==o?K.intl.formatToPlainString(K.t.BWD8fn,{endTime:new Date(Number(o)).toLocaleString(K.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):K.intl.string(K.t["Br1q+/"])})]}),action:()=>{(0,g.oW)(!r)},dontCloseOnAction:!0,children:u},"quiet-mode")]}):null]})}(ea),eu=(0,V.g)(k),eh=(0,_.Z)({analyticsLocations:en}),{dimissibleUpsellsEnabled:em}=(0,C.u)({location:"AccountProfilePopout"}),ep=(0,G.I5)(n),eg=e=>{null==k||k(),(0,O.openUserProfileModal)({sourceAnalyticsLocations:en,...ei,...e})};return(0,i.jsx)(m.Gt,{value:en,children:(0,i.jsx)(I.Mt,{value:ei,children:(0,i.jsx)(c.Dialog,{ref:er,"aria-label":n.username,children:(0,i.jsxs)(Z.Z,{className:q.themeContainer,user:n,displayProfile:et,profileType:Y.y0.BITE_SIZE,children:[(0,i.jsxs)("header",{className:X.header,children:[(0,i.jsx)(T.Z,{user:n,displayProfile:et,profileType:Y.y0.BITE_SIZE}),(0,i.jsx)(S.Z,{user:n,displayProfile:et,profileType:Y.y0.BITE_SIZE,onOpenProfile:ee?void 0:eg}),(0,i.jsx)(y.Z,{location:"AccountProfilePopout",user:n,profileType:Y.y0.BITE_SIZE,onCloseProfile:k})]}),(null==et?void 0:et.profileEffectId)!=null&&(0,i.jsx)(E.Z,{profileEffectId:null==et?void 0:et.profileEffectId,isHovering:el}),(0,i.jsxs)(c.Scroller,{className:q.body,children:[(0,i.jsx)(L.Z,{user:n,className:q.username,profileType:Y.y0.BITE_SIZE,nickname:U.ZP.getName(null,null,n),onOpenProfile:ee?void 0:eg,pronouns:null==et?void 0:et.pronouns,tags:(0,i.jsx)(N.Z,{displayProfile:et,profileType:Y.y0.BITE_SIZE,onClose:k}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.Z,{userId:n.id}),(0,i.jsx)(P.Z,{user:n,isHovering:el})]})}),(0,i.jsx)(R.Z,{user:n,bio:null==et?void 0:et.bio,hidePersonalInformation:eo,onClose:k}),em&&(0,i.jsx)(b.Z,{isPremiumUser:ep,onInteraction:k}),(0,i.jsx)(x.Z,{user:n,currentUser:n,onClose:k}),(0,i.jsxs)("div",{className:q.menus,children:[(0,i.jsx)(Z.Z.Overlay,{className:q.menuOverlay,children:(0,i.jsxs)(F.PB,{id:"profile-".concat(n.id),children:[(0,i.jsx)(F.Mv,{id:"edit-profile",action:"EDIT_PROFILE",label:K.intl.string(K.t.s5vZlZ),icon:c.PencilIcon,onClick:()=>{eh(),k()}}),(0,i.jsx)("div",{className:q.menuDivider}),(0,i.jsx)(F.Mv,{id:"set-status",action:"PRESS_SET_STATUS",label:null!==(t=(0,B.u5)(ea))&&void 0!==t?t:"",icon:()=>(0,i.jsx)(c.Status,{status:ea,size:12}),hint:(es||ea===W.Skl.DND)&&(0,i.jsx)(c.BellSlashIcon,{size:"xxs"}),renderSubmenu:a.tq?void 0:e=>{let{closePopout:t}=e;return(0,i.jsx)(F.eq,{navId:"set-status-submenu",className:q.statusPickerModalMenu,"aria-label":K.intl.string(K.t.E13trK),onClose:t,children:ed})},onClick:a.tq?()=>{k(),(0,c.openModalLazy)(()=>new Promise(e=>e(e=>{let{onClose:t,...n}=e;return(0,i.jsx)(c.ModalRoot,{...n,size:c.ModalSize.SMALL,"aria-label":K.intl.string(K.t["3Uj+2t"]),className:q.statusPickerModal,children:(0,i.jsx)(c.Menu,{navId:"set-status-submenu-mobile-web",variant:"fixed","aria-label":K.intl.string(K.t.E13trK),className:q.statusPickerModalMenu,hideScroller:!0,onClose:t,onSelect:void 0,children:ed})})})))}:void 0})]})}),(0,i.jsx)(Z.Z.Overlay,{className:q.menuOverlay,children:(0,i.jsxs)(F.PB,{id:"account-".concat(n.id),children:[(0,i.jsx)(F.Mv,{id:"switch-accounts",action:"PRESS_SWITCH_ACCOUNTS",icon:c.UserCircleIcon,label:K.intl.string(K.t.oMNyYG),onClick:()=>{k(),(0,z.Z)()},renderSubmenu:e=>{let{closePopout:t}=e;return(0,i.jsx)(F.eq,{navId:"switch-accounts-submenu","aria-label":K.intl.string(K.t.wFhVqK),onClose:t,children:eu})}}),!__OVERLAY__&&w.wS&&ec&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:q.menuDivider}),(0,i.jsx)(F.Mv,{id:"copy-user-id",action:"COPY_USER_ID",icon:c.IdIcon,label:K.intl.string(K.t["/AXYnJ"]),onClick:()=>{(0,o.J)(n.id),k()}})]})]})})]})]})]})})})})}},443669:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651),r=n(816988),l=n(331541),a=n(288914);function o(e){let{currentUser:t,onClose:n,setPopoutRef:o}=e,{permanentEntryPointsEnabled:s}=(0,r.u)({location:"AccountProfilePopout"});return s?(0,i.jsx)(a.Z,{currentUser:t,onClose:n,setPopoutRef:o}):(0,i.jsx)(l.Z,{currentUser:t,onClose:n,setPopoutRef:o})}},435478:function(e,t,n){n.d(t,{Mv:function(){return h},PB:function(){return m},eq:function(){return p}}),n(47120);var i=n(200651),r=n(192379),l=n(25441),a=n(91192),o=n(657707),s=n(481060),c=n(209613),d=n(475413),u=n(602654);function h(e){let{id:t,label:n,icon:c,hint:h,renderSubmenu:m,...p}=e,{onFocus:g,...f}=(0,a.JA)(t),{id:_}=(0,a.f$)(),[E,I]=r.useState(!1),C=null!=m;r.useLayoutEffect(()=>{if(!!C)return(0,l.N)(_,e=>{I(e===t)})},[t,_,C]);let v=e=>(0,i.jsxs)(d.kF,{...e,...f,...p,role:"button",look:s.Button.Looks.BLANK,innerClassName:u.menuItemInner,color:u.menuItemColor,themeColor:"none",fullWidth:!0,onMouseEnter:()=>{var t;null==e||null===(t=e.onMouseEnter)||void 0===t||t.call(e),g()},children:[(0,i.jsx)(c,{size:"xs",color:"currentColor"}),(0,i.jsxs)("div",{className:u.menuItemLabel,children:[n,h]}),C&&(0,i.jsx)(o.Fbu,{size:"xs",color:"currentColor"})]});return C?(0,i.jsx)(s.Popout,{spacing:0,renderPopout:m,shouldShow:E,onRequestClose:()=>I(!1),children:v}):v()}function m(e){let{id:t,children:n}=e,r=(0,c.Z)(t);return(0,i.jsx)(a.bG,{navigator:r,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:t,...l}=e;return(0,i.jsx)("div",{...l,ref:t,onMouseLeave:()=>r.setFocus(null),children:n})}})})}function p(e){return(0,i.jsx)("div",{className:u.submenuPaddingContainer,children:(0,i.jsx)(s.Menu,{variant:"fixed",hideScroller:!0,onSelect:void 0,...e})})}},288914:function(e,t,n){n.d(t,{Z:function(){return en}});var i=n(200651),r=n(192379),l=n(722770),a=n(873546),o=n(852229),s=n(442837),c=n(481060),d=n(393238),u=n(727637),h=n(100527),m=n(906732),p=n(335131),g=n(436774),f=n(440051),_=n(734934),E=n(158238),I=n(759198),C=n(300284),v=n(680295),S=n(703656),N=n(785717),T=n(687158),b=n(899007),x=n(648052),A=n(867176),Z=n(483424),L=n(681837),P=n(502762),y=n(530),O=n(309494),R=n(495804),j=n(171368),D=n(420654),M=n(695346),w=n(158776),k=n(246946),U=n(572004),G=n(70956),B=n(5192),H=n(111361),V=n(51144),F=n(246133),z=n(474376),W=n(435478),Y=n(383832),K=n(981631),q=n(228168),X=n(388032),Q=n(602654),J=n(591156);let $=[{duration:30*G.Z.Millis.MINUTE,label:()=>X.intl.string(X.t.RxJGbG)},{duration:G.Z.Millis.HOUR,label:()=>X.intl.string(X.t.UMWBZm)},{duration:3*G.Z.Millis.HOUR,label:()=>X.intl.string(X.t.QmYWtr)},{duration:8*G.Z.Millis.HOUR,label:()=>X.intl.string(X.t.EpAXPD)},{duration:G.Z.Millis.DAY,label:()=>X.intl.string(X.t["755t4u"])},{duration:void 0,label:()=>X.intl.string(X.t["46dqJS"])}];function ee(e,t,n){let r=(0,i.jsx)(i.Fragment,{children:$.map(n=>{let{duration:r,label:l}=n;return(0,i.jsx)(c.MenuItem,{id:"".concat(e,"-").concat(r),label:l(),action:()=>(0,F.Z)(e,t,void 0,r),dontCloseOnAction:!0},r)})});return(0,i.jsx)(c.MenuItem,{id:e,className:Q.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:t=>{let{isFocused:r}=t;return(0,i.jsxs)("div",{className:Q.statusItem,children:[(0,i.jsx)(c.Status,{status:e,className:Q.icon,size:10,color:r?"currentColor":void 0}),(0,i.jsx)("div",{className:Q.status,children:(0,V.u5)(e)}),null!=n&&(0,i.jsx)("div",{className:Q.description,children:n})]})},action:()=>(0,F.Z)(e,t),dontCloseOnAction:!0,children:e!==K.Skl.ONLINE?r:void 0})}function et(e,t,n){return(0,i.jsx)(c.MenuItem,{id:e,keepItemStyles:!0,render:t=>{let{isFocused:r}=t;return(0,i.jsxs)("div",{className:Q.statusItem,children:[(0,i.jsx)(c.Status,{status:e,className:Q.icon,size:10,color:r?"currentColor":void 0}),(0,i.jsx)("div",{className:Q.status,children:(0,V.u5)(e)}),null!=n&&(0,i.jsx)("div",{className:Q.description,children:n})]})},action:()=>(0,F.Z)(e,t),dontCloseOnAction:!0})}function en(e){var t;let{currentUser:n,onClose:G,setPopoutRef:F}=e,en=__OVERLAY__,ei=(0,T.ZP)(n.id),{analyticsLocations:er}=(0,m.ZP)(h.Z.ACCOUNT_PROFILE_POPOUT),el=(0,N.ZB)({layout:"SIMPLIFIED_ACCOUNT_POPOUT",userId:n.id}),{ref:ea}=(0,d.Z)(),eo=(0,u.Z)(ea);r.useEffect(()=>{null==F||F(ea.current)},[ea,F]);let es=(0,s.e7)([w.Z],()=>w.Z.getStatus(n.id)),ec=(0,s.e7)([k.Z],()=>k.Z.hidePersonalInformation),ed=(0,_.p)(),eu=M.Sb.useSetting(),eh=function(e){let t=f.Y.useExperiment({location:"AccountProfilePopout"}).expiringStatus,n=M.Cr.useSetting(),r=(0,_.p)(),a=E.e.useExperiment({location:"AccountProfilePopout"}).allowQuietMode||r,o=M.fv.useSetting(),s=e===K.Skl.DND,d=t=>{let i=null!=n&&"0"!==n?X.intl.formatToPlainString(X.t.BWD8fn,{endTime:new Date(Number(n)).toLocaleString(X.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):void 0;if(e===t&&null!=i)return i;switch(t){case K.Skl.DND:return a?X.intl.string(X.t.day5Aw):X.intl.string(X.t.U9Vv19);case K.Skl.INVISIBLE:return X.intl.string(X.t.MqanVF);default:return}},u=(0,i.jsx)(i.Fragment,{children:$.map(t=>{let{duration:n,label:r}=t;return(0,i.jsx)(c.MenuItem,{id:"".concat(e,"-").concat(n),label:r(),action:()=>{(0,_.oW)(!0,n)},dontCloseOnAction:!0},n)})});return(0,i.jsxs)(i.Fragment,{children:[et(K.Skl.ONLINE,e),(0,i.jsx)(c.MenuSeparator,{},"menu-separator-statuses"),t?ee(K.Skl.IDLE,e,d(K.Skl.IDLE)):et(K.Skl.IDLE,e,d(K.Skl.IDLE)),t?ee(K.Skl.DND,e,d(K.Skl.DND)):et(K.Skl.DND,e,d(K.Skl.DND)),t?ee(K.Skl.INVISIBLE,e,d(K.Skl.INVISIBLE)):et(K.Skl.INVISIBLE,e,d(K.Skl.INVISIBLE)),a||r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.MenuSeparator,{},"menu-separator-statuses"),(0,i.jsx)(c.MenuItem,{id:"quiet-mode","aria-label":"focus mode",className:Q.expiringStatusMenuItem,keepItemStyles:!0,hasSubmenu:!0,label:()=>(0,i.jsxs)("div",{className:Q.statusItem,children:[(0,i.jsx)(c.BellSlashIcon,{size:"xxs",className:Q.icon}),(0,i.jsxs)("div",{className:Q.focusModeTitle,children:[X.intl.string(X.t.gJRnwM),(0,i.jsx)(c.TextBadge,{text:r?X.intl.string(X.t.ApAu9f):s?X.intl.string(X.t.gH3Fra):X.intl.string(X.t["64pl8/"]),color:r?l.Z.BRAND_500:s?l.Z.RED_400:l.Z.PRIMARY_500})]}),(0,i.jsx)("div",{className:Q.description,children:r&&null!=o&&"0"!==o?X.intl.formatToPlainString(X.t.BWD8fn,{endTime:new Date(Number(o)).toLocaleString(X.intl.currentLocale,{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}):X.intl.string(X.t["Br1q+/"])})]}),action:()=>{(0,_.oW)(!r)},dontCloseOnAction:!0,children:u},"quiet-mode")]}):null]})}(es),em=(0,z.g)(G),ep=(0,C.Z)({analyticsLocations:er}),eg=(0,H.I5)(n),ef=e=>{null==G||G(),(0,j.openUserProfileModal)({sourceAnalyticsLocations:er,...el,...e})},e_=()=>{(0,S.uL)(K.Z5c.APPLICATION_STORE),G()};return(0,i.jsx)(m.Gt,{value:er,children:(0,i.jsx)(N.Mt,{value:el,children:(0,i.jsx)(c.Dialog,{ref:ea,"aria-label":n.username,children:(0,i.jsxs)(P.Z,{className:Q.themeContainer,user:n,displayProfile:ei,profileType:q.y0.BITE_SIZE,children:[(0,i.jsxs)("header",{className:J.header,children:[(0,i.jsx)(A.Z,{user:n,displayProfile:ei,profileType:q.y0.BITE_SIZE}),(0,i.jsx)(b.Z,{user:n,displayProfile:ei,profileType:q.y0.BITE_SIZE,onOpenProfile:en?void 0:ef}),(0,i.jsx)(R.Z,{location:"AccountProfilePopoutWithEntryPoints",user:n,profileType:q.y0.BITE_SIZE,onCloseProfile:G})]}),(null==ei?void 0:ei.profileEffectId)!=null&&(0,i.jsx)(v.Z,{profileEffectId:null==ei?void 0:ei.profileEffectId,isHovering:eo}),(0,i.jsxs)(c.Scroller,{className:Q.body,children:[(0,i.jsx)(y.Z,{user:n,className:Q.username,profileType:q.y0.BITE_SIZE,nickname:B.ZP.getName(null,null,n),onOpenProfile:en?void 0:ef,pronouns:null==ei?void 0:ei.pronouns,tags:(0,i.jsx)(x.Z,{displayProfile:ei,profileType:q.y0.BITE_SIZE,onClose:G}),nicknameIcons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.Z,{userId:n.id}),(0,i.jsx)(O.Z,{user:n,isHovering:eo})]})}),(0,i.jsx)(D.Z,{user:n,bio:null==ei?void 0:ei.bio,hidePersonalInformation:ec,onClose:G}),(0,i.jsx)(Z.Z,{user:n,currentUser:n,onClose:G}),(0,i.jsxs)("div",{className:Q.menus,children:[(0,i.jsx)(P.Z.Overlay,{className:Q.menuOverlay,children:(0,i.jsxs)(W.PB,{id:"profile-".concat(n.id),children:[(0,i.jsx)(W.Mv,{id:"edit-profile",action:"EDIT_PROFILE",label:X.intl.string(X.t.s5vZlZ),icon:c.PencilIcon,onClick:()=>{ep(),G()}}),(0,i.jsx)("div",{className:Q.menuDivider}),(0,i.jsx)(W.Mv,{id:"shop",action:q.yM.VISIT_SHOP,label:X.intl.string(X.t.b2d0Nz),icon:c.ShopIcon,onClick:()=>{(0,p.mK)({analyticsLocations:er,openInLayer:!1,analyticsSource:h.Z.ACCOUNT_PROFILE_POPOUT}),G()}}),(0,i.jsx)("div",{className:Q.menuDivider}),eg?(0,i.jsx)(W.Mv,{id:"view-premium-perks",action:q.yM.VIEW_PREMIUM_PERKS,label:X.intl.string(X.t.AnlV9f),icon:c.NitroWheelIcon,onClick:e_}):(0,i.jsx)(W.Mv,{id:"get-premium",action:q.yM.GET_PREMIUM,label:(0,i.jsx)(I.Z,{variant:"text-sm/medium",children:X.intl.string(X.t.x6rkDg)}),icon:()=>(0,i.jsx)(c.NitroWheelIcon,{size:"xs",color:g.JX.PREMIUM_TIER_2}),onClick:e_})]})}),(0,i.jsx)(P.Z.Overlay,{className:Q.menuOverlay,children:(0,i.jsxs)(W.PB,{id:"account-".concat(n.id),children:[(0,i.jsx)(W.Mv,{id:"set-status",action:"PRESS_SET_STATUS",label:null!==(t=(0,V.u5)(es))&&void 0!==t?t:"",icon:()=>(0,i.jsx)(c.Status,{status:es,size:12}),hint:(ed||es===K.Skl.DND)&&(0,i.jsx)(c.BellSlashIcon,{size:"xxs"}),renderSubmenu:a.tq?void 0:e=>{let{closePopout:t}=e;return(0,i.jsx)(W.eq,{navId:"set-status-submenu",className:Q.statusPickerModalMenu,"aria-label":X.intl.string(X.t.E13trK),onClose:t,children:eh})},onClick:a.tq?()=>{G(),(0,c.openModalLazy)(()=>new Promise(e=>e(e=>{let{onClose:t,...n}=e;return(0,i.jsx)(c.ModalRoot,{...n,size:c.ModalSize.SMALL,"aria-label":X.intl.string(X.t["3Uj+2t"]),className:Q.statusPickerModal,children:(0,i.jsx)(c.Menu,{navId:"set-status-submenu-mobile-web",variant:"fixed","aria-label":X.intl.string(X.t.E13trK),className:Q.statusPickerModalMenu,hideScroller:!0,onClose:t,onSelect:void 0,children:eh})})})))}:void 0}),(0,i.jsx)("div",{className:Q.menuDivider}),(0,i.jsx)(W.Mv,{id:"switch-accounts",action:"PRESS_SWITCH_ACCOUNTS",icon:c.UserCircleIcon,label:X.intl.string(X.t.oMNyYG),onClick:()=>{G(),(0,Y.Z)()},renderSubmenu:e=>{let{closePopout:t}=e;return(0,i.jsx)(W.eq,{navId:"switch-accounts-submenu","aria-label":X.intl.string(X.t.wFhVqK),onClose:t,children:em})}})]})}),!__OVERLAY__&&U.wS&&eu&&(0,i.jsx)(P.Z.Overlay,{className:Q.menuOverlay,children:(0,i.jsx)(W.PB,{id:"dev-".concat(n.id),children:(0,i.jsx)(W.Mv,{id:"copy-user-id",action:"COPY_USER_ID",icon:c.IdIcon,label:X.intl.string(X.t["/AXYnJ"]),onClick:()=>{(0,o.J)(n.id),G()}})})})]})]})]})})})})}},383832:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(71509);function o(){(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("52030"),n.e("11260"),n.e("86333")]).then(n.bind(n,266653));return t=>(0,i.jsx)(e,{...t})},{onCloseCallback:()=>{l.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"}),l.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:a.Ui})}},474376:function(e,t,n){n.d(t,{g:function(){return I}}),n(653041);var i=n(200651);n(192379);var r=n(442837),l=n(481060),a=n(44315),o=n(598077),s=n(246946),c=n(594174),d=n(626135),u=n(51144),h=n(480387),m=n(726745),p=n(251423),g=n(383832),f=n(981631),_=n(388032),E=n(543395);function I(e){let t=(0,r.e7)([c.default],()=>c.default.getCurrentUser()),n=(0,r.e7)([s.Z],()=>s.Z.hidePersonalInformation),{multiAccountUsers:I}=(0,p.L)(),C=e=>{if(e!==(null==t?void 0:t.id))d.default.track(f.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:f.jXE.USER_PROFILE}}),h.yD(e)},v=I.map(r=>{let s=new o.Z(r),c=s.id===(null==t?void 0:t.id),d=r.tokenStatus===m.q.INVALID,h=n?null:"#".concat(s.discriminator);return(0,i.jsx)(l.MenuItem,{id:s.id,focusedClassName:E.focused,label:e=>{let{isFocused:t}=e;return(0,i.jsxs)("div",{className:E.userMenuItem,children:[(0,i.jsx)(l.Avatar,{src:s.getAvatarURL(void 0,40),size:l.AvatarSizes.SIZE_24,"aria-label":r.username}),(0,i.jsxs)("div",{className:E.userMenuUsername,children:[(0,i.jsx)(l.Text,{className:E.userMenuText,variant:"text-sm/normal",children:u.ZP.getUserTag(s,{mode:"username",identifiable:n?"never":"always"})}),!s.isPomelo()&&(0,i.jsx)(l.Text,{className:E.userMenuDiscriminator,variant:"text-sm/normal",children:h})]}),c&&(0,i.jsx)(l.CircleCheckIcon,{size:"sm",color:(0,a.Lq)(t?f.Ilk.WHITE_500:f.Ilk.BRAND_500),secondaryColor:(0,a.Lq)(t?f.Ilk.BRAND_500:f.Ilk.WHITE_500),className:E.activeIcon}),d&&(0,i.jsx)(l.CircleWarningIcon,{color:(0,a.Lq)(f.Ilk.RED_400),secondaryColor:(0,a.Lq)(f.Ilk.WHITE_500),size:"xs",className:E.activeIcon})]})},action:()=>{null==e||e(),d?(0,g.Z)():C(s.id)}},s.id)});return v.push((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.MenuSeparator,{}),(0,i.jsx)(l.MenuItem,{id:"manage-accounts",label:_.intl.string(_.t.WbFpq6),action:()=>{null==e||e(),(0,g.Z)()}})]})),v}},440051:function(e,t,n){n.d(t,{Y:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-01_expiring_status",label:"Expiring status Experiment ",defaultConfig:{expiringStatus:!1},treatments:[{id:1,label:"allow expiring status",config:{expiringStatus:!0}}]})},109497:function(e,t,n){n(653041);var i,r=n(442837),l=n(570140),a=n(695346),o=n(885110),s=n(70956),c=n(981631);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=[],h=!1;function m(){return u.length>=4&&u.some(e=>e<Date.now()-3*s.Z.Millis.DAY)}class p extends(i=r.ZP.PersistedStore){initialize(e){null!=e&&Array.isArray(e.sessionStartsWithDND)&&(u=e.sessionStartsWithDND)}showNagBar(){return h}getState(){return{sessionStartsWithDND:u}}getTemp(){return{x:a.Cr.getSetting()}}}d(p,"displayName","HabitualDNDStore"),d(p,"persistKey","habitualDND"),new p(l.Z,{POST_CONNECTION_OPEN:function(){o.Z.getStatus()===c.Skl.DND&&"0"===a.Cr.getSetting()?(u.push(Date.now()),u=u.filter(e=>e>Date.now()-5*s.Z.Millis.DAY),m()&&setTimeout(()=>{l.Z.dispatch({type:"HABITUAL_DND_CLEAR"})},15*s.Z.Millis.SECOND)):u=[]},HABITUAL_DND_CLEAR:function(){h=!!m()||!1,u=[]}})},158238:function(e,t,n){n.d(t,{e:function(){return i}});let i=(0,n(818083).B)({kind:"user",id:"2024-01_quiet_mode",label:"Quiet Mode (dnd-equivalent) Experiment ",defaultConfig:{allowQuietMode:!1},treatments:[{id:1,label:"allow quiet mode",config:{allowQuietMode:!0}}]})},225559:function(e,t,n){n.d(t,{L:function(){return r},v:function(){return l}});var i=n(570140);function r(){i.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}function l(){i.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}},791359:function(e,t,n){n.d(t,{Z:function(){return R}}),n(47120);var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(954955),s=n.n(o),c=n(442837),d=n(481060),u=n(570140),h=n(569984),m=n(918701),p=n(93127),g=n(814443),f=n(594174),_=n(801077),E=n(626135),I=n(70956),C=n(225559),v=n(910436),S=n(203028),N=n(358924),T=n(292140),b=n(525296),x=n(981631),A=n(674563),Z=n(388032),L=n(721925);let P=15*I.Z.Millis.MINUTE,y=(0,b.Z)(function(e){let{party:t,onUserContextMenu:n,onChannelContextMenu:l,quest:a}=e,o=(0,i.jsx)(S.Z,{party:t,onUserContextMenu:n}),c=(0,i.jsx)(v.Z,{party:t,onChannelContextMenu:l,quest:a}),{partiedMembers:u,applicationStreams:h,currentActivities:m,voiceChannels:p}=t,g=u.length,f=h.length,_=m.length,I=p.length>0,C=r.useCallback(()=>{let e=m.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===A.wW.GAME}).map(e=>e.game.name);E.default.track(x.rMx.NOW_PLAYING_CARD_HOVERED,{num_users:g,num_streams:f,num_activities:_,in_voice_channel:I,games_detected:e})},[g,f,_,I,m]),b=s()(C,P);return null!=o||null!=c?(0,i.jsx)(d.Popout,{position:"left",renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(T.Z,{party:t,close:n})},spacing:8,children:(e,t)=>{let{isShown:n}=t;return(0,i.jsx)(N.Z,{...e,onMouseEnter:b,"aria-haspopup":"menu",className:L.itemCard,active:n,children:(0,i.jsxs)("div",{children:[o,c]})})}}):null}),O=a().throttle(()=>p.W(!1),3e5);function R(){let{nowPlayingCards:e,loaded:t,needsRefresh:n,fetching:l,currentUser:a}=(0,c.cj)([_.Z,g.Z,f.default],()=>({nowPlayingCards:_.Z.nowPlayingCards,loaded:_.Z.loaded,needsRefresh:g.Z.needsRefresh(),fetching:g.Z.getFetching(),currentUser:f.default.getCurrentUser()})),o=(0,c.e7)([h.Z],()=>h.Z.quests);r.useEffect(()=>(u.Z.wait(()=>C.L()),()=>u.Z.wait(()=>C.v())),[null==a?void 0:a.id]),r.useEffect(()=>{n&&!l&&O()},[n,l]);let s=r.useMemo(()=>{let t=new Map,n=new Set;for(let i of e)i.party.currentActivities.forEach(e=>{let{activity:r}=e;if(null!=r){let e=(0,m.ZZ)(o,r);null!=e&&!n.has(e.id)&&(t.set(i.party.id,e),n.add(e.id))}});return t},[e,o]),p=null;return t?(p=e.length>0?e.map(e=>{let{party:t}=e;return(0,i.jsx)(y,{party:t,quest:s.get(t.id)},t.id)}):(0,i.jsxs)("div",{className:L.emptyCard,children:[(0,i.jsx)(d.Heading,{variant:"heading-md/semibold",className:L.emptyHeader,children:Z.intl.string(Z.t["ngJ/5u"])}),(0,i.jsx)(d.Text,{color:"none",className:L.emptyText,variant:"text-sm/normal",children:Z.intl.string(Z.t["99ZWxc"])})]}),(0,i.jsx)(i.Fragment,{children:p})):(0,i.jsx)("div",{className:L.emptyCard,children:(0,i.jsx)(d.Spinner,{})})}},910436:function(e,t,n){n.d(t,{Z:function(){return C}}),n(653041),n(47120);var i=n(200651);n(192379);var r=n(287734),l=n(872810),a=n(122810),o=n(841784),s=n(503438),c=n(802856),d=n(420660),u=n(918701),h=n(23404),m=n(769654),p=n(81063),g=n(761282),f=n(358924),_=n(868854),E=n(817915),I=n(981631);function C(e){let{party:t,onChannelContextMenu:n,quest:C}=e,v=(0,_.L)(),{voiceChannels:S,currentActivities:N,partiedMembers:T,applicationStreams:b,guildContext:x}=t,A=[],Z=e=>{var t,n;let{length:r}=A;if(0===r){A.push(e);return}let l=A[r-1],a="".concat(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:""),o="".concat(null!==(n=null==l?void 0:l.key)&&void 0!==n?n:"").startsWith("game")&&a.startsWith("rich-presence");A.push((0,i.jsx)(f.Z.Separator,{inset:o},"sep-".concat(a))),A.push(e)};for(let{activity:e}of(S.length>0&&S.forEach(e=>{let{members:t,channel:r,guild:l}=e;Z((0,i.jsx)(f.Z.VoiceSection,{guild:l,channel:r,members:t,partySize:function(e,t){let n;let i=e.length,r=0;!1;n=i+r;return{knownSize:i,unknownSize:r,totalSize:n}}(t),onChannelContextMenu:n,onGuildClick:()=>{(0,m.X)(l.id)}},"voice-".concat(r.id)))}),t.currentActivities))if(null!=e){let t=g.ct(e);if(null!=t){Z(t);break}}return b.length>0&&v&&b.forEach(e=>{let{stream:t,streamUser:n,activity:a}=e;Z((0,i.jsx)(f.Z.ApplicationStreamingSection,{guildId:null==x?void 0:x.id,user:n,activity:a,applicationStream:t,onPreviewClick:()=>{r.default.selectVoiceChannel(t.channelId),(0,l.iV)(t)}},"application-stream-".concat(t.ownerId)))}),N.forEach((e,t)=>{var n,r,l,m,g,_,v,b,A;let{activity:L,game:P,playingMembers:y,activityUser:O}=e;if(null==L||null==L.type)return null;if(N.length>1&&L.type===I.IIU.PLAYING&&!(0,a.Z)(L)&&null!=P)Z((0,i.jsx)(f.Z.GameSection,{icon:P.getIconURL(E.Z),name:P.name,partySize:{knownSize:y.length,unknownSize:0,totalSize:y.length},members:y},"game-".concat(null!==(n=L.session_id)&&void 0!==n?n:t,"-").concat(null!==(r=L.application_id)&&void 0!==r?r:t)));else if((0,o.Z)(L)){let e=new Set(y.map(e=>e.id)),t=null===(l=S.find(e=>null!=e))||void 0===l?void 0:l.channel;null!=t&&Z((0,i.jsx)(f.Z.EmbeddedActivitySection,{activity:L,participants:e,channel:t,guildId:t.guild_id},"embedded-activity-".concat(L.application_id)))}else if((null!=L.assets||(0,a.Z)(L))&&L.type===I.IIU.PLAYING)Z((0,i.jsx)(f.Z.RichPresenceSection,{activity:L,getAssetImage:p.getAssetImage},"rich-presence-".concat(null!==(m=L.session_id)&&void 0!==m?m:t,"-").concat(O.id)));else if((0,d.Z)(L)){let e=S.length>0&&S[0].members.length>1,n=y.length>1;Z((0,i.jsx)(f.Z.TwitchSection,{guildId:null==x?void 0:x.id,activity:L,user:e||n?O:null,getAssetImage:p.getAssetImage},"streaming-".concat(null!==(g=L.session_id)&&void 0!==g?g:t)))}else(0,s.Z)(L)?Z((0,i.jsx)(f.Z.SpotifySection,{activity:L,isSolo:1===T.length,partySize:{knownSize:y.length,unknownSize:0,totalSize:y.length},getAssetImage:p.getAssetImage,members:y},"spotify-".concat(null!==(_=L.session_id)&&void 0!==_?_:t,"-").concat(O.id))):(null!=L.assets||(0,a.Z)(L))&&L.type===I.IIU.LISTENING?Z((0,i.jsx)(f.Z.RichPresenceSection,{activity:L,getAssetImage:p.getAssetImage},"rich-presence-".concat(null!==(v=L.session_id)&&void 0!==v?v:t,"-").concat(O.id))):(0,c.Z)(L)&&Z((0,i.jsx)(f.Z.XboxSection,{title:P.name},"xbox-".concat(null!==(b=L.session_id)&&void 0!==b?b:t)));null!=C&&null!=P&&(0,u._D)(L,C)&&Z((0,i.jsx)(h.Z,{quest:C},"quest-".concat(C.id,"-").concat(null!==(A=L.session_id)&&void 0!==A?A:t)))}),A.length>0?(0,i.jsx)(f.Z.Body,{children:A}):null}},203028:function(e,t,n){n.d(t,{Z:function(){return E}}),n(47120);var i=n(200651);n(192379);var r=n(512722),l=n.n(r),a=n(841784),o=n(503438),s=n(802856),c=n(810568),d=n(168524),u=n(707409),h=n(51144),m=n(761282),p=n(358924),g=n(817915),f=n(981631),_=n(388032);function E(e){var t,r;let{party:E,onUserContextMenu:I}=e,{priorityMembers:C,guildContext:v}=E,S=C[0],N=function(e){let{priorityMembers:t,partiedMembers:n}=e,i=new Set(t.map(e=>{let{user:t}=e;return t.id})),r=n.filter(e=>!i.has(e.id)),l=h.ZP.getName(t[0].user),a=null!=t[1]?h.ZP.getName(t[1].user):null!=r[0]?h.ZP.getName(r[0]):null;switch(n.length){case 1:return l;case 2:return _.intl.format(_.t.t1DyCw,{user1:l,user2:a});default:return _.intl.format(_.t["5CSEcH"],{user1:l,user2:a,extras:n.length-2})}}(E),{subtitle:T,icon:b}=function(e){var t;let{priorityMembers:r,partiedMembers:c,voiceChannels:d,currentActivities:h}=e,E=r.length,I=c.length-E,C=h[0],v=null==C?void 0:C.activity,S=null==C?void 0:C.startedPlayingTime,N={name:null!==(t=null==v?void 0:v.name)&&void 0!==t?t:""};if((0,a.Z)(v)&&null!=v)return{subtitle:(0,i.jsx)(u.ZP,{start:S,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null};if(E+I===1&&null!=C){let{game:e}=C;if(null==v)return{subtitle:null,icon:null};let t=m.dc(v);if(null!=t)return t;switch(v.type){case f.IIU.PLAYING:if((0,s.Z)(v))return{subtitle:_.intl.string(_.t.tO8wOz),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.XBOX})};return{subtitle:(0,i.jsx)(u.ZP,{start:S,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null!=e?(0,i.jsx)(p.Z.Header.Icon,{src:null!=e.getIconURL(g.Z)?e.getIconURL(g.Z):n(211827)}):null};case f.IIU.STREAMING:return{subtitle:_.intl.string(_.t.HyGHj4),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};case f.IIU.LISTENING:let r;return r=(0,o.Z)(v)?(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.SPOTIFY}):null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):(0,i.jsx)(p.Z.Header.Icon,{src:n(211827)}),{subtitle:_.intl.formatToPlainString(_.t.NF5xoq,{name:v.name}),icon:r};case f.IIU.WATCHING:return{subtitle:_.intl.string(_.t["0PyKSU"]),icon:null!=e&&null!=e.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:e.getIconURL(g.Z)}):null};default:return{subtitle:_.intl.string(_.t.grGyaW),icon:null}}}if(0===h.length){if(d.length>0)return{subtitle:_.intl.string(_.t.grGyaW),icon:null};let e=h[0];if(null!=e){let{activity:t}=e;if(null!=t){let e=m.dc(t);if(null!=e)return e}if(null!=t&&t.type===f.IIU.LISTENING)return{subtitle:_.intl.string(_.t.rmnkz8),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.SPOTIFY})}}}else if(1===h.length){let e=h.find(e=>null!=e.activity);if(null==e)return{subtitle:null,icon:null};let{activity:t,game:n,startedPlayingTime:r}=e;return l()(null!=t,"Activity was null somehow"),{subtitle:(0,i.jsx)(u.ZP,{start:r,location:u.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:N}),icon:null!=n&&null!=n.getIconURL(g.Z)?(0,i.jsx)(p.Z.Header.Icon,{src:n.getIconURL(g.Z)}):null}}return{subtitle:_.intl.string(_.t.sau5tr),icon:(0,i.jsx)(p.Z.Header.Icon,{src:p.Z.Header.Icon.Src.MULTIPLE})}}(E),x=(0,d.Z)({applicationId:null===(r=E.currentActivities[0])||void 0===r?void 0:null===(t=r.activity)||void 0===t?void 0:t.application_id,location:"FriendsActivityFeed",source:c.m1.FriendsActivityFeed});return(0,i.jsx)(p.Z.Header,{priorityUser:S,guildId:null==v?void 0:v.id,title:N,subtitle:T,icon:b,onSubtitleClick:x,onIconClick:x,onContextMenu:e=>I(e,S.user)})}},358924:function(e,t,n){n(47120);var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(442837),d=n(692547),u=n(481060),h=n(438139),m=n(2052),p=n(726542),g=n(638880),f=n(655922),_=n(122810),E=n(833664),I=n(503438),C=n(420660),v=n(74433),S=n(906732),N=n(812206),T=n(933557),b=n(194082),x=n(264165),A=n(548816),Z=n(925329),L=n(102172),P=n(871118),y=n(707409),O=n(849171),R=n(314897),j=n(592125),D=n(594174),M=n(395361),w=n(639351),k=n(81063),U=n(823379),G=n(51144),B=n(599706),H=n(981631),V=n(388032),F=n(303790);let z={SMALL:64,LARGE:160},W=[14,14,12,12,10,8,6],Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.jsx)(u.Text,{className:s()(F.textContent,t),variant:"text-sm/semibold",children:e})},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,l.jsx)(u.Text,{className:s()(F.textContent,t),variant:"text-xs/normal",children:e})},q=(0,h.Z)(e=>{let{message:t}=e;return(0,l.jsx)("div",{className:F.__invalid_timestamp,children:t})}),X=e=>{let{children:t}=e;return(0,l.jsx)("section",{className:F.section,children:t})};class Q extends a.Component{renderTimePlayed(){let e;let{activity:t}=this.props,{timestamps:n}=t;return null==n||!(0,E.Z)(t)||(0,I.Z)(t)?null:K(e=(0,_.Z)(t)?(0,l.jsx)(q,{timestamps:n}):(0,l.jsx)(y.ZP,{start:n.start,end:n.end,location:y.ZP.Locations.USER_ACTIVITY,className:F.__invalid_playTime}))}render(){var e,t;let{activity:{assets:i,details:r,state:a,application_id:o},getAssetImage:c}=this.props;return(0,l.jsx)(X,{children:(0,l.jsxs)("div",{className:F.activitySection,children:[null!=i&&0!==Object.keys(i).length?(0,l.jsxs)("div",{className:F.activitySectionAssets,children:[(0,l.jsx)("img",{alt:null!==(e=i.large_text)&&void 0!==e?e:"",src:c(o,i.large_image,[z.LARGE,z.LARGE]),className:s()(F.largeImage,{[F.largeImageMask]:null!=i.small_image})}),null!=i.small_image?(0,l.jsx)("img",{alt:null!==(t=i.small_text)&&void 0!==t?t:"",src:c(o,i.small_image,[z.SMALL,z.SMALL]),className:F.smallImage}):null]}):(0,l.jsx)("div",{className:F.activitySectionAssets,children:(0,l.jsx)("img",{alt:"",src:n(211827),className:F.largeImage})}),(0,l.jsxs)("div",{children:[Y(null!=r&&""!==r?r:V.intl.string(V.t["2TbM/P"])),null!=a?K(a):null,this.renderTimePlayed()]})]})})}}(r=i||(i={})).XBOX="XBOX",r.SPOTIFY="SPOTIFY",r.MULTIPLE="MULTIPLE";let J=e=>{let t,{src:n,onClick:i,onContextMenu:r}=e;switch(n){case"XBOX":t=(0,l.jsx)(w.Z,{className:F.headerIcon,color:d.Z.unsafe_rawColors.PRIMARY_300.css});break;case"SPOTIFY":t=(0,l.jsx)(M.Z,{className:F.headerIcon,color:d.Z.unsafe_rawColors.SPOTIFY.css});break;case"MULTIPLE":t=(0,l.jsx)("div",{className:F.multipleIconWrapper,children:(0,l.jsx)(u.GameControllerIcon,{size:"md",className:s()(F.headerIcon,F.multipleIcon),color:d.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,l.jsx)("img",{src:null!=n?n:void 0,alt:"",className:F.headerIcon})}return null!=i||null!=r?(0,l.jsx)(u.Clickable,{onClick:i,className:s()(null!=i?F.clickable:""),onContextMenu:r,children:t}):t};J.Src=i;let $=e=>{let{priorityUser:t,title:n,subtitle:i,icon:r,onSubtitleClick:a,onIconClick:o,onContextMenu:c,guildId:d}=e,h=(0,l.jsx)(u.Text,{color:"header-secondary",className:F.textContent,variant:"text-sm/normal",children:i});return(0,l.jsxs)("header",{className:null!=r?F.headerFull:F.headerSimple,children:[(0,l.jsx)(u.Avatar,{src:t.user.getAvatarURL(d,32),"aria-label":t.user.username,size:u.AvatarSizes.SIZE_32,className:F.headerAvatar,status:t.status,onContextMenu:c}),(0,l.jsxs)("div",{className:F.__invalid_headerDetails,children:[(0,l.jsx)(u.Text,{className:s()(F.textContent),variant:"text-md/semibold",children:n}),null!=a?(0,l.jsx)(u.Clickable,{className:F.clickable,onClick:a,children:h}):h]}),null!=r&&null!=o?(0,l.jsx)(u.Clickable,{className:F.clickable,onClick:o,children:r}):r]})};$.Icon=J;let ee=e=>{let{children:t,className:n,...i}=e;return(0,l.jsx)(u.FocusRing,{children:(0,l.jsx)(A.Z,{className:s()(n,F.wrapper),padded:!0,...i,children:t})})};ee.Header=$,ee.Body=e=>{let{children:t}=e;return(0,l.jsx)(A.Z,{inset:!0,padded:!1,className:F.body,children:t})},ee.Separator=e=>{let{inset:t,className:n}=e;return(0,l.jsx)("div",{className:s()(F.separator,{[F.inset]:t},n)})},ee.VoiceSection=e=>{var t,n;let{guild:i,channel:r,onGuildClick:o,partySize:c,members:d,onChannelContextMenu:h}=e,m=a.useRef(null),p=(0,T.ZP)(r,!0);return(0,l.jsx)(X,{children:(0,l.jsxs)("div",{className:F.voiceSection,ref:m,onContextMenu:e=>h(e,r),children:[(0,l.jsx)(u.Clickable,{onClick:o,"aria-hidden":!0,tabIndex:-1,children:(0,l.jsxs)("div",{className:F.voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,l.jsx)("img",{alt:"",src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:s()(F.voiceSectionGuildImage,F.largeImageMask)}):(0,l.jsx)("div",{className:F.voiceSectionNoGuildImageWrapper,children:(0,l.jsx)("div",{className:F.voiceSectionNoGuildImage,style:{fontSize:null!==(n=W[i.acronym.length])&&void 0!==n?n:W[W.length-1]},children:i.acronym})}),(0,l.jsx)("div",{className:F.voiceSectionIconWrapper,children:(0,l.jsx)(u.VoiceNormalIcon,{size:"md",color:"currentColor",className:F.voiceSectionIcon})})]})}),(0,l.jsx)(u.Clickable,{onClick:o,focusProps:{ringTarget:m},children:(0,l.jsxs)("div",{className:F.voiceSectionDetails,children:[Y(i.toString(),F.voiceSectionText),K(p,F.voiceSectionText)]})}),(0,l.jsx)(B.Z,{partySize:c,members:d,guildId:i.id})]})})},ee.GameSection=e=>{let{icon:t,name:n,partySize:i,members:r}=e;return(0,l.jsx)(X,{children:(0,l.jsxs)("div",{className:F.gameSection,children:[null!=t?(0,l.jsx)("img",{alt:"",src:t,className:F.gameSectionIcon}):null,(0,l.jsxs)("div",{children:[Y(n),K(V.intl.formatToPlainString(V.t.C4WXvb,{memberCount:i.totalSize}))]}),(0,l.jsx)(B.Z,{partySize:i,members:r})]})})},ee.RichPresenceSection=Q,ee.XboxSection=e=>{let{title:t}=e;return(0,l.jsx)(X,{children:(0,l.jsxs)("div",{className:F.xboxSection,children:[(0,l.jsx)(w.Z,{className:F.xboxSectionIcon}),(0,l.jsxs)("div",{className:F.__invalid_xboxSectionDetails,children:[Y(t),K(V.intl.string(V.t["JG9r+/"]))]})]})})},ee.SpotifySection=e=>{var t;let{activity:{assets:n,details:i,state:r,application_id:a},partySize:o,members:c,isSolo:u,getAssetImage:h}=e;return(0,l.jsx)(X,{children:(0,l.jsxs)("div",{className:F.spotifySection,children:[null!=n?(0,l.jsxs)("div",{className:F.activitySectionAssets,children:[(0,l.jsx)("img",{alt:null!==(t=n.large_text)&&void 0!==t?t:"",src:h(a,n.large_image,[z.LARGE,z.LARGE]),className:s()(F.largeImage,F.borderRadius0,{[F.largeImageMask]:null!=n.small_image})}),u?null:(0,l.jsx)(M.Z,{className:F.smallImage,color:d.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,l.jsx)("div",{}),(0,l.jsxs)("div",{children:[null!=i?Y(i):null,null!=r?K(r):null]}),(0,l.jsx)(B.Z,{minAvatarsShown:u?2:1,partySize:o,members:c})]})})},ee.TwitchSection=e=>{let t,{activity:i,user:r,getAssetImage:a,guildId:o}=e,{name:c,details:d,assets:h,application_id:m}=i;if(null!=h&&(0,C.Z)(i)){var g;t=(0,l.jsx)(x.Z,{className:F.twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,l.jsxs)(u.Clickable,{href:(0,f.Z)(i),tag:"a",target:"_blank",children:[(0,l.jsx)("img",{alt:null!==(g=h.large_text)&&void 0!==g?g:"",src:a(m,h.large_image,[900,500]),className:F.twitchSectionPreview}),(0,l.jsx)("img",{src:n(497726),className:F.twitchSectionPlayButton,alt:""})]})})}return(0,l.jsxs)(X,{children:[(0,l.jsxs)("div",{className:s()({[F.twitchSectionSimple]:null==r,[F.twitchSectionFull]:null!=r}),children:[(0,l.jsx)("img",{alt:"",src:p.Z.get(H.ABu.TWITCH).icon.lightSVG,className:F.twitchSectionIcon}),(0,l.jsxs)("div",{children:[Y(c),null!=d?K(d):null]}),null!=r?(0,l.jsx)(u.Avatar,{src:r.getAvatarURL(o,24),"aria-label":r.username,className:F.twitchSectionAvatar,size:u.AvatarSizes.SIZE_24}):null]}),t]})},ee.ApplicationStreamingSection=e=>{var t,n;let{activity:i,user:r,applicationStream:a,onPreviewClick:o,guildId:s}=e,d=(0,c.e7)([j.Z],()=>j.Z.getChannel(a.channelId)),[h,m]=(0,L.wq)(d),p=(0,l.jsxs)(u.Clickable,{onClick:h?o:void 0,className:F.applicationStreamingPreviewWrapper,children:[(0,l.jsx)(P.Z,{stream:a,className:F.applicationStreamingPreviewSize}),(0,l.jsx)(u.Text,{className:F.applicationStreamingHoverText,variant:"text-sm/medium",color:"always-white",children:(0,L.P9)(m)})]}),g=null!==(n=null===(t=(0,v.Z)(i,a))||void 0===t?void 0:t.activityText)&&void 0!==n?n:V.intl.string(V.t.eXan7O);return(0,l.jsxs)(X,{children:[(0,l.jsxs)("div",{className:F.applicationStreamingSection,children:[(0,l.jsx)(u.Avatar,{size:u.AvatarSizes.SIZE_32,src:r.getAvatarURL(s,32),"aria-label":r.username,className:F.applicationStreamingAvatar}),(0,l.jsxs)("div",{children:[Y(G.ZP.getName(r)),K(g)]}),(0,l.jsx)(b.ZP,{size:b.ZP.Sizes.SMALL})]}),p]})},ee.EmbeddedActivitySection=e=>{let{activity:t,channel:n,guildId:i,participants:r}=e,[o,s]=a.useState(null),d=t.application_id;a.useEffect(()=>{if(null!=d)(0,k.fetchAssetIds)(d,["embedded_background"]).then(e=>{let[t]=e;return s(t)})},[d]);let h=(0,c.Wu)([D.default,R.default],()=>Array.from(r).map(e=>R.default.getId()===e?null:D.default.getUser(e)).filter(U.lm)),p=(0,m.O)(),{analyticsLocations:f}=(0,S.ZP)();if(null==d)return null;let _=N.Z.getApplication(d);if(null==_)return null;let E=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,I=(0,k.getAssetImage)(_.id,o,300);return(0,l.jsxs)(X,{children:[(0,l.jsxs)("div",{className:F.embeddedActivityTopRow,children:[(0,l.jsx)(Z.Z,{game:_,size:Z.Z.Sizes.XSMALL,className:F.embeddedActivityIcon}),(0,l.jsx)("div",{className:F.embeddedActivityName,children:(0,l.jsx)(u.Text,{variant:"text-sm/semibold",children:_.name})}),null!=E?(0,l.jsx)("div",{className:F.embeddedActivityTimeElapsed,children:(0,l.jsx)(u.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,l.jsx)(q,{timestamps:E})})}):null]}),(0,l.jsxs)("div",{className:F.embeddedActivityPlayerContainer,children:[null!=I?(0,l.jsx)("img",{src:I,alt:_.name,className:F.embeddedActivityImage}):null,(0,l.jsxs)("div",{className:F.embeddedActivityImageOverlay,children:[(0,l.jsx)(O.OV,{users:h,guildId:i,channelId:n.id}),(0,l.jsx)("div",{className:F.embeddedActivityJoinWrapper,children:(0,l.jsx)(u.Button,{size:u.Button.Sizes.SMALL,onClick:e=>{e.stopPropagation(),(0,g.Z)({applicationId:d,activityChannelId:n.id,locationObject:p.location,analyticsLocations:f})},children:V.intl.string(V.t.VJlc0d)})})]})]})]})},t.Z=ee},199104:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(200651);n(192379);var r=n(442837),l=n(704215),a=n(481060),o=n(410575),s=n(100527),c=n(906732),d=n(313201),u=n(243778),h=n(352455),m=n(480294),p=n(791359),g=n(981631),f=n(388032),_=n(178584);function E(){let{analyticsLocations:e}=(0,c.ZP)(s.Z.ACTIVE_NOW_COLUMN),t=(0,r.e7)([m.Z],()=>m.Z.hasConsented(g.pjP.PERSONALIZATION))?[]:[l.z.NOW_PLAYING_CONSENT_CARD],n=(0,d.Dt)();return(0,i.jsx)(c.Gt,{value:e,children:(0,i.jsx)(o.Z,{section:g.jXE.ACTIVE_NOW_COLUMN,children:(0,i.jsx)("aside",{className:_.container,"aria-labelledby":n,children:(0,i.jsxs)(a.Scroller,{className:_.scroller,children:[(0,i.jsx)(a.Heading,{variant:"heading-lg/semibold",className:_.header,id:n,children:f.intl.string(f.t.F4Zgg4)}),(0,i.jsx)(u.ZP,{contentTypes:t,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===l.z.NOW_PLAYING_CONSENT_CARD)return(0,i.jsx)(h.Z,{className:_.__invalid_consentCard,markAsDismissed:n})}}),(0,i.jsx)(p.Z,{})]})})})})}},292140:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),r=n(192379),l=n(481060),a=n(626135),o=n(144145),s=n(555927),c=n(738762),d=n(244080),u=n(247530),h=n(260889),m=n(981631),p=n(674563),g=n(388032);function f(e){let{party:t,close:n,onSelect:f}=e,_=(0,c.Z)(t),E=(0,h.Z)(t),I=(0,u.Z)(t),C=(0,d.Z)(t),v=(0,o.Z)(t),S=(0,s.Z)(t);return r.useEffect(()=>{let e=t.currentActivities.filter(e=>{var t,n;return(null===(t=e.game)||void 0===t?void 0:t.name)!=null&&(null===(n=e.game)||void 0===n?void 0:n.type)===p.wW.GAME}).map(e=>e.game.name);a.default.track(m.rMx.OPEN_POPOUT,{type:"Now Playing Card Popout",games_detected:e})},[]),(0,i.jsxs)(l.Menu,{navId:"now-playing-menu",onClose:n,"aria-label":g.intl.string(g.t.ogxXGh),onSelect:f,children:[_,(0,i.jsxs)(l.MenuGroup,{children:[E,I]}),(0,i.jsx)(l.MenuGroup,{children:C}),(0,i.jsx)(l.MenuGroup,{children:v}),S]})}},841710:function(e,t,n){n.d(t,{Y:function(){return d},Z:function(){return c}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(129861),s=n(617927);function c(e){let{user:t,status:n,isFocused:r,guildId:l}=e;return(0,i.jsxs)("div",{className:s.memberItem,children:[(0,i.jsx)(a.Avatar,{src:t.getAvatarURL(l,24),className:s.avatar,"aria-label":t.username,size:a.AvatarSizes.SIZE_24,status:n,statusColor:r?"currentColor":void 0}),(0,i.jsx)(o.Z,{user:t,hideDiscriminator:!0})]})}function d(e){let{label:t}=e;return(0,i.jsxs)("div",{className:s.memberItem,children:[(0,i.jsx)("div",{className:l()(s.avatar,s.unknown)}),(0,i.jsx)("div",{children:t})]})}},144145:function(e,t,n){n.d(t,{Z:function(){return x}}),n(653041),n(47120);var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(278323),s=n(287734),c=n(230711),d=n(726542),u=n(620662),h=n(841784),m=n(802856),p=n(594190),g=n(592745),f=n(553795),_=n(757266),E=n(283595),I=n(417363),C=n(626135),v=n(804739),S=n(346329),N=n(981631),T=n(388032);let b=d.Z.get(N.ABu.XBOX).name;function x(e){let{currentActivities:t}=e,n=t.length>1,x=function(e){let{currentActivities:t}=e,n=(0,l.e7)([f.Z],()=>f.Z.getAccounts().some(e=>e.type===d.Z.get(N.ABu.XBOX).type)),r=t.some(e=>{let{activity:t}=e;return(0,m.Z)(t)});return n||!r?null:(0,i.jsx)(a.MenuItem,{id:"xbox-connect",action:()=>c.Z.open(N.oAB.CONNECTIONS),label:T.intl.formatToPlainString(T.t.XWSHTU,{platform:b})})}(e),A=function(e){let{currentActivities:t}=e,n=r.useContext(C.AnalyticsContext);return(0,l.Wu)([p.ZP,E.Z,g.Z,I.Z,_.Z],()=>t.filter(e=>!(0,h.Z)(e.activity)).map(e=>{let{activity:t,game:i}=e,r=E.Z.getActiveLibraryApplication(i.id);return{...e,libraryApplication:r,canJoin:null!=t&&(0,u.Z)(t,N.xjy.JOIN)&&t.type===N.IIU.PLAYING,canPlay:(0,v.t)({LibraryApplicationStore:E.Z,LaunchableGameStore:g.Z,DispatchApplicationStore:I.Z,ConnectedAppsStore:_.Z,applicationId:i.id,branchId:null!=r?r.branchId:null}),isLaunching:g.Z.launchingGames.has(i.id),isRunning:p.ZP.getRunningVerifiedApplicationIds().includes(i.id),location:n.location}}),[n.location,t])}(e),Z=[];for(let e of A){let{activity:t}=e;null!=t&&null!=t.type&&Z.push(function(e,t){let{canJoin:n,activity:r,activityUser:l}=e;if(!n||null==r)return null;async function c(){if(null==r)return;let e=await o.Z.sendActivityInviteUser({type:N.mFx.JOIN_REQUEST,userId:l.id,activity:r,location:N.Sbl.PROFILE_POPOUT});null!=e&&s.default.selectPrivateChannel(e.id)}return(0,i.jsx)(a.MenuItem,{id:"join-".concat(r.session_id),label:t?T.intl.formatToPlainString(T.t.wFAvxM,{name:l.toString()}):T.intl.string(T.t.OKsSCQ),action:c})}(e,n),function(e,t){let{activity:n,game:r,libraryApplication:l,location:o,canPlay:s,isRunning:c,isLaunching:d}=e;if(!s||null==n)return null;let u=c?T.intl.formatToPlainString(T.t["gBme//"],{name:r.name}):d?T.intl.formatToPlainString(T.t.WtSQwM,{name:r.name}):void 0;return(0,i.jsx)(a.MenuItem,{id:"play-".concat(n.session_id),action:function(){(0,S.playApplication)(r.id,l,{analyticsParams:{location:{...o,object:N.qAy.LIST_ITEM}}})},label:t?T.intl.formatToPlainString(T.t.ZDZEJC,{name:r.name}):T.intl.string(T.t.XKUw8v),subtext:u})}(e,n))}return[x,...Z]}},555927:function(e,t,n){n.d(t,{Z:function(){return h}}),n(653041),n(47120),n(390547);var i=n(200651),r=n(192379),l=n(481060),a=n(906732),o=n(171368),s=n(841710),c=n(981631),d=n(388032);function u(e){let{priorityMembers:t,otherMembers:n,totalMembers:r,activity:a,guildId:u,sourceAnalyticsLocations:h}=e,m=[];for(let{user:e,status:n}of t)m.push((0,i.jsx)(l.MenuItem,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(s.Z,{...t,user:e,status:n,guildId:u}),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:h,analyticsLocation:{section:c.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));for(let e of n)m.push((0,i.jsx)(l.MenuItem,{id:e.id,keepItemStyles:!0,render:t=>(0,i.jsx)(s.Z,{...t,user:e,guildId:u}),action:()=>(0,o.openUserProfileModal)({userId:e.id,guildId:u,sourceAnalyticsLocations:h,analyticsLocation:{section:c.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}));let p=r-m.length;return p>0&&m.push((0,i.jsx)(l.MenuItem,{id:"unknown-members-".concat(null==a?void 0:a.session_id),render:e=>(0,i.jsx)(s.Y,{...e,label:d.intl.formatToPlainString(d.t["6Kqn9P"],{count:p})})})),m}function h(e){let{priorityMembers:t,partiedMembers:n,currentActivities:o,guildContext:s}=e,c=new Set(t.map(e=>{let{user:t}=e;return t.id})),h=n.filter(e=>!c.has(e.id)),{analyticsLocations:m}=(0,a.ZP)(),p=r.useMemo(()=>{let e=o.flatMap(e=>{let{playingMembers:t}=e;return t}).map(e=>e.id);return n.filter(t=>!e.includes(t.id))},[n,o]);if(o.length<=1&&0===p.length){var g,f;return(0,i.jsx)(l.MenuGroup,{label:n.length>1?d.intl.formatToPlainString(d.t.C4WXvb,{memberCount:n.length}):void 0,children:u({priorityMembers:t,otherMembers:h,totalMembers:n.length,activity:null!==(f=null===(g=o[0])||void 0===g?void 0:g.activity)&&void 0!==f?f:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:m})})}let _=o.map((e,n)=>{let{playingMembers:r,game:a,activity:o}=e,d=new Set(r.map(e=>e.id));return(0,i.jsx)(l.MenuGroup,{label:"".concat(a.name," - ").concat(r.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return d.has(t.id)}),otherMembers:r.filter(e=>!c.has(e.id)),totalMembers:r.length,activity:null!=o?o:void 0,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:m})},n)}),E=p.map(e=>e.id);return[..._,(0,i.jsx)(l.MenuGroup,{label:"".concat(d.intl.string(d.t["mIx+gI"])," - ").concat(p.length),children:u({priorityMembers:t.filter(e=>{let{user:t}=e;return E.includes(t.id)}),otherMembers:p.filter(e=>!c.has(e.id)),totalMembers:p.length,guildId:null==s?void 0:s.id,sourceAnalyticsLocations:m})})]}},738762:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(200651),r=n(192379),l=n(481060),a=n(493683),o=n(367907),s=n(205129),c=n(626135),d=n(981631),u=n(388032);function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{priorityMembers:n,partiedMembers:h}=e,m=r.useContext(c.AnalyticsContext),p=n.map(e=>{let{user:t}=e;return t.id}),g=1===h.length&&1===n.length,f=n.length-h.length>0;return(g||t)&&!f&&0!==p.length?(0,i.jsx)(l.MenuItem,{id:"message",action:function(){a.Z.openPrivateChannel(p).then(t=>o.ZP.trackWithMetadata(d.rMx.ACTIVITY_FEED_DM_VISITED,{source:{...m.location,object:d.qAy.LIST_ITEM},channel_id:t,recipient_id:"string"==typeof p?p:p[0],af_recently_played:!1,...(0,s.y)(e)}))},label:u.intl.string(u.t["g33r/P"])}):null}},244080:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(380349);function r(e){let{currentActivities:t,isSpotifyActivity:n}=e,r=t[0],l=(0,i.Z)(null==r?void 0:r.activity,null==r?void 0:r.activityUser);return n?l:null}},247530:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651);n(192379);var r=n(481060),l=n(287734),a=n(872810),o=n(51144),s=n(388032);function c(e){let{applicationStreams:t}=e;return t.map(e=>{let{stream:t,streamUser:n}=e;return(0,i.jsx)(r.MenuItem,{id:"spectate-".concat(t.ownerId),action:()=>{l.default.selectVoiceChannel(t.channelId),(0,a.iV)(t)},label:s.intl.formatToPlainString(s.t.m09d0d,{streamerName:o.ZP.getName(n)})},"spectate-".concat(t.ownerId))})}},260889:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651),r=n(192379),l=n(442837),a=n(481060),o=n(287734),s=n(367907),c=n(769654),d=n(496675),u=n(205129),h=n(626135),m=n(981631),p=n(388032);function g(e){let t=r.useContext(h.AnalyticsContext),n=e.voiceChannels[0],g=(0,l.e7)([d.Z],()=>null!=n&&d.Z.can(m.Plq.CONNECT,n.channel));return null==n?null:[(0,i.jsx)(a.MenuItem,{id:"join-voice",action:function(){(0,c.X)(n.guild.id),o.default.selectVoiceChannel(n.channel.id),s.ZP.trackWithMetadata(m.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,{source:{...t.location,object:m.qAy.LIST_ITEM},guild_id:n.guild.id,channel_id:n.channel.id,...(0,u.y)(e)})},label:p.intl.string(p.t["8yOlh4"]),disabled:!g},"join-voice"),(0,i.jsx)(a.MenuItem,{id:"goto-server",action:function(){(0,c.X)(n.guild.id),s.ZP.trackWithMetadata(m.rMx.ACTIVITY_FEED_GUILD_VISITED,{source:{...t.location,object:m.qAy.LIST_ITEM},guild_id:n.guild.id,af_recently_played:!1,...(0,u.y)(e)})},label:p.intl.string(p.t.RGgqm5)},"goto-server")]}},525296:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(200651),r=n(192379),l=n(493683),a=n(239091),o=n(730749),s=n(430824);function c(e){return(0,o.Z)(class extends r.Component{render(){return(0,i.jsx)(e,{...this.props,onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu})}handleMessageUser(e,t){return l.Z.openPrivateChannel(t.id)}handleUserContextMenu(e,t,r){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:r})}handleGuildContextMenu(e,t){(0,a.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("33053"),n.e("17298"),n.e("7654"),n.e("98479"),n.e("31113"),n.e("60696"),n.e("58227"),n.e("16114"),n.e("62278"),n.e("33213"),n.e("43954")]).then(n.bind(n,545135));return n=>(0,i.jsx)(e,{...n,guild:t})})}handleChannelContextMenu(e,t){let r=s.Z.getGuild(t.getGuildId());if(null==r)return null;(0,a.jW)(e,async()=>{let{default:e}=await n.e("40283").then(n.bind(n,428108));return n=>(0,i.jsx)(e,{...n,channel:t,guild:r})})}})}},785997:function(e,t,n){var i,r;n.d(t,{F:function(){return i}}),(r=i||(i={})).AGE_GATE="age-gate",r.CHOOSE_TEMPLATE="choose-template",r.CUSTOMIZE_GUILD="customize-server",r.CHANNEL_PROMPT="channel-prompt",r.JOIN_GUILD="join-server",r.CREATION_INTENT="creation-intent",r.COMPLETE="complete"},122333:function(e,t,n){let i;n(47120);var r=n(200651);n(192379);var l=n(481060),a=n(570140),o=n(317770),s=n(622822),c=n(391650),d=n(305325),u=n(983736),h=n(341298),m=n(390885),p=n(524329),g=n(995532),f=n(486472),_=n(430824),E=n(914010),I=n(594174),C=n(823379),v=n(358085),S=n(929809),N=n(179645),T=n(701476),b=n(785997),x=n(981631),A=n(188785),Z=n(630724);function L(){null!=i&&(0,l.closeModal)(i)}class P extends o.Z{_initialize(){a.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.subscribe("LOGOUT",L)}_terminate(){a.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen),a.Z.unsubscribe("LOGOUT",L)}handleConnectionOpen(){var e;let t,a=N.Z.getType();if(null==a)return;switch(a){case T.M5.INVITE_UNCLAIMED:m.Z.flowStart(Z.MK.INVITE,Z.EW.NUF_STARTED);break;case T.M5.ORGANIC_REGISTERED:m.Z.flowStart(Z.MK.ORGANIC,Z.EW.NUF_STARTED);break;case T.M5.MARKETING_UNCLAIMED:m.Z.flowStart(Z.MK.ORGANIC_MARKETING,Z.EW.NUF_STARTED)}let o=!1,L=E.Z.getGuildId();if(a===T.M5.INVITE_UNCLAIMED){let e=_.Z.getGuild(L);null!=e&&(0,u.Dc)(e)&&(o=!0,(0,p.RM)(e.id))}let P=()=>0===f.Z.totalGuilds&&!v.isPlatformEmbedded,y=s.b();e=[{key:"Unified NUF Modal",open:async function e(e){let t=e=>{switch(e){case b.F.AGE_GATE:m.Z.flowStep(Z.MK.ANY,Z.EW.AGE_GATE);break;case b.F.CHOOSE_TEMPLATE:m.Z.flowStep(Z.MK.ANY,Z.X2.GUILD_TEMPLATES);break;case b.F.CUSTOMIZE_GUILD:m.Z.flowStep(Z.MK.ANY,Z.X2.GUILD_CREATE);break;case b.F.CHANNEL_PROMPT:m.Z.flowStep(Z.MK.ANY,Z.X2.CHANNEL_PROMPT);break;case b.F.JOIN_GUILD:m.Z.flowStep(Z.MK.ANY,Z.X2.JOIN_GUILD);break;case b.F.CREATION_INTENT:m.Z.flowStep(Z.MK.ANY,Z.X2.CREATION_INTENT);break;case b.F.COMPLETE:m.Z.flowStep(Z.MK.ANY,Z.X2.SUCCESS);break;case null:break;default:C.vE(e)}};i=await (0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("63288"),n.e("1337"),n.e("42483"),n.e("62245")]).then(n.bind(n,599219));return n=>(0,r.jsx)(e,{...n,onSlideChange:t})},{onCloseRequest:x.dG4,onCloseCallback:e,modalKey:i})},predicate:()=>P()&&!A.a},{key:"New User Age Gate",open:c.i,predicate:()=>y&&!P()&&!A.a},{key:"Claim Account Modal",open:e=>c.j(v.isPlatformEmbedded,e),predicate:()=>{var e;return!o&&null!=I.default.getCurrentUser()&&!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!A.a&&!(0,h.g)("new_user_manager")}},{key:"Verification Gate with Claim Account",open:e=>(0,d.hk)(L,null!=e?e:void 0),predicate:()=>{var e;return o&&!(null===(e=I.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!A.a}},{key:"Guild Welcome Modal",open:e=>(0,l.openModalLazy)(async()=>{let{default:e}=await n.e("77578").then(n.bind(n,184782));return t=>(0,r.jsx)(e,{...t,guildId:L})},{onCloseCallback:e}),predicate:()=>null!=L&&null!=g.Z.get(L)&&g.Z.get(L)!==g.a}],t=()=>{S.H(),m.Z.flowStep(Z.MK.ANY,Z.EW.NUF_COMPLETE,!0)},[...e].reverse().forEach(e=>{let n=t;t=()=>{e.predicate()?e.open(n):n()}}),t()}}t.Z=new P},46145:function(e,t,n){n(47120),n(733860);var i,r=n(442837),l=n(570140),a=n(592125),o=n(271383),s=n(430824);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=[],u=new Set;class h extends(i=r.ZP.PersistedStore){initialize(e){var t;this.waitFor(o.ZP,s.Z,a.Z),u=new Set([...d=null!==(t=null==e?void 0:e.channelHistory)&&void 0!==t?t:[]])}getState(){return{channelHistory:d}}getChannelHistory(){return d}}c(h,"displayName","RecentVoiceChannelStore"),c(h,"persistKey","RecentVoiceChannelStore");let m=new h(l.Z,{POST_CONNECTION_OPEN:function(){u=new Set([...d])},VOICE_CHANNEL_SELECT:function(e){var t,n;let{channelId:i}=e;return!(null==i||!(null!==(n=null===(t=a.Z.getChannel(i))||void 0===t?void 0:t.isVocal())&&void 0!==n&&n)||u.has(i))&&(d.unshift(i),u.add(i),d.length>10&&(d.length=10,u=new Set([...d])),!0)}});t.Z=m},824138:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(481060),d=n(100527),u=n(600164),h=n(184301),m=n(347475),p=n(237583),g=n(63063),f=n(870569),_=n(345243),E=n(115530),I=n(981631),C=n(388032),v=n(730873);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let N={HOST:5,LISTENER:4};class T extends r.PureComponent{isHost(){let{currentUser:e,host:t}=this.props;return e.id===(null==t?void 0:t.id)}renderTitle(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(E.Z,{children:this.isHost()?C.intl.formatToPlainString(C.t["6UJ7mp"],{count:this.props.party.length}):C.intl.string(C.t.RZufbG)}),(0,i.jsx)(_.Z,{children:C.intl.string(C.t["0ZHLIi"])})]})}renderStopListeningButton(){let{onStopListening:e}=this.props;return this.isHost()?null:(0,i.jsx)(f.Z,{tooltipText:C.intl.string(C.t.LeZSp6),onClick:e,icon:c.XSmallIcon})}renderHelpIcon(){return this.isHost()?(0,i.jsx)(f.Z,{tooltipText:C.intl.string(C.t.U7N2Hh),onClick:()=>{window.open(g.Z.getArticleURL(I.BhN.SPOTIFY_CONNECTION),"_blank")},icon:c.CircleInformationIcon}):null}render(){return(0,i.jsxs)("div",{className:v.listeningAlong,children:[this.renderTitle(),(0,i.jsx)(u.Z,{justify:u.Z.Justify.END,className:v.party,children:(0,i.jsx)(p.Z,{users:this.props.party,max:this.isHost()?N.HOST:N.LISTENER,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,i.jsxs)("div",{className:v.icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})}constructor(...e){super(...e),S(this,"renderPartyMember",(e,t)=>{let n;if(null==e)return null;let{host:l,onUserContextMenu:o}=this.props;return n=(null==l?void 0:l.id)===e.id?C.intl.string(C.t.N9bqDw):C.intl.string(C.t.Z2Y4c3),(0,i.jsx)(c.Popout,{preload:()=>(0,h.Z)(e.id,e.getAvatarURL(void 0,80)),renderPopout:t=>(s()(null!=e,""),(0,i.jsx)(m.Z,{...t,userId:e.id,newAnalyticsLocations:[d.Z.AVATAR]})),position:"top",align:"center",children:l=>(0,i.jsx)(c.Tooltip,{text:n,children:n=>{let{onMouseEnter:i,onMouseLeave:s}=n;return(0,r.createElement)(c.Avatar,{...l,key:e.id,src:e.getAvatarURL(void 0,24),size:c.AvatarSizes.SIZE_24,className:a()(v.avatar,t),"aria-label":e.username,onMouseEnter:i,onMouseLeave:s,onContextMenu:t=>void(null!=e&&(null==o||o(t,e)))})}})},e.id)}),S(this,"renderPartyMemberOverflow",(e,t,n)=>{let{renderOverflowPopout:r}=this.props;return(0,i.jsx)(c.Popout,{renderPopout:r,children:n=>(0,i.jsx)(c.Tooltip,{text:C.intl.string(C.t.Zf4NPT),children:r=>(0,i.jsx)("div",{className:a()(v.overflow,t),...r,...n,children:e})})},n)})}}t.Z=T},720734:function(e,t,n){n.d(t,{Z:function(){return eD}}),n(47120),n(653041);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(704215),c=n(846519),d=n(400354),u=n(652844),h=n(789639),m=n(481060),p=n(355467),g=n(239091),f=n(230711),_=n(410575),E=n(941129),I=n(634894),C=n(586902),v=n(570928),S=n(100527),N=n(906732),T=n(676742),b=n(1585),x=n(304761),A=n(865427),Z=n(571250),L=n(628581),P=n(55311),y=n(575175),O=n(64220),R=n(377171),j=n(600164),D=n(676035),M=n(427217),w=n(540059),k=n(605236),U=n(243778),G=n(258609),B=n(427347),H=n(443669),V=n(332473),F=n(240504),z=n(637906),W=n(39370),Y=n(19199),K=n(111653),q=n(866483),X=n(14357),Q=n(393333),J=n(763296),$=n(640806),ee=n(184301),et=n(52538),en=n(861254),ei=n(879815),er=n(294629),el=n(314897),ea=n(592125),eo=n(819640),es=n(131951),ec=n(19780),ed=n(885110),eu=n(246946),eh=n(594174),em=n(78839),ep=n(626135),eg=n(768581),ef=n(572004),e_=n(70956),eE=n(74538),eI=n(374023),eC=n(51144),ev=n(998502),eS=n(870569),eN=n(345243),eT=n(115530),eb=n(981631),ex=n(215023),eA=n(388032),eZ=n(628005);function eL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eP=ev.ZP.getEnableHardwareAcceleration()?m.AnimatedAvatar:m.Avatar,ey=2*e_.Z.Millis.MINUTE,eO=30*e_.Z.Millis.DAY;function eR(e){let{speaking:t,streaming:n,currentUser:r,status:l,handleMouseLeave:o,renderNameTag:s}=e,c=(0,w.Q3)("RTC Avatar"),d=(0,T.Z)(null==r?void 0:r.avatarDecoration),u=(0,eg.NZ)({avatarDecoration:d,size:(0,b.y9)(m.AvatarSizes.SIZE_32)});return null==r?null:(0,i.jsx)(_.Z,{object:eb.qAy.AVATAR,children:(0,i.jsx)(m.Popout,{renderPopout:e=>{let{closePopout:t,setPopoutRef:n}=e;return(0,i.jsx)("div",{className:eZ.accountProfilePopoutWrapper,children:(0,i.jsx)(H.Z,{currentUser:r,setPopoutRef:n,onClose:()=>{o(),null==t||t()}})})},position:"top",align:"left",animation:m.Popout.Animation.FADE,spacing:14,fixed:!0,preload:()=>(0,ee.Z)(r,void 0,{withMutualGuilds:!1,withMutualFriends:!1}),children:e=>(0,i.jsxs)(m.Clickable,{...e,"aria-label":eA.intl.string(eA.t["3Uj+2t"]),className:eZ.avatarWrapper,children:[(0,i.jsx)(eP,{size:c?m.AvatarSizes.SIZE_44:m.AvatarSizes.SIZE_32,src:r.getAvatarURL(void 0,c?44:32,!1),avatarDecoration:u,"aria-label":r.username,status:n?eb.Skl.STREAMING:l,isSpeaking:t,className:eZ.avatar}),(0,i.jsx)("div",{className:a()(eZ.nameTag,{[eZ.canCopy]:ef.wS}),children:s()})]})})})}class ej extends r.PureComponent{get isCopiedStreakGodlike(){let{copiedStreak:e}=this.state;return e>=10}componentDidUpdate(e){let{speakingWhileMuted:t,occluded:n}=e,{speakingWhileMuted:i,occluded:r}=this.props;r!==n&&this.handleOccludedChanged(),i!==t&&this.handleSpeakingWhileMutedChanged()}componentWillUnmount(){this.copiedTimeout.stop(),this.copiedDecayTimeout.stop(),this.speakingWhileMutedTooltipTimeout.stop()}renderCopiedSuccess(){let{copiedStreak:e}=this.state,t=[eA.intl.string(eA.t.MSaeTU),eA.intl.string(eA.t.UmrCw8),eA.intl.string(eA.t.gKE0Ji),eA.intl.string(eA.t["4DSKbm"]),eA.intl.string(eA.t["+8ENdX"]),eA.intl.string(eA.t.GlWHv7),eA.intl.string(eA.t.hIzxU1),eA.intl.string(eA.t["26uMPD"]),eA.intl.string(eA.t.uFs7R0),eA.intl.string(eA.t.bLXdcX),eA.intl.string(eA.t.gPg9fX)],n=Math.min(Math.max(0,e-1),t.length-1);return(0,i.jsx)(m.Shaker,{isShaking:this.isCopiedStreakGodlike,children:t[n]})}renderNameTag(){let e;let{hovered:t}=this.state,{customStatusActivity:n,userTag:r,currentUser:l,status:a}=this.props;if(null==l)return null;let o=eC.ZP.getName(l),s=null!=a&&a!==eb.Skl.UNKNOWN,c=null!=n;return(c||s&&l.isPomelo())&&(e=(0,i.jsx)(v.Z,{hoverText:r,forceHover:t,children:c?(0,i.jsx)(M.Z,{activity:n,emojiClassName:eZ.emoji,className:eZ.customStatus}):eC.ZP.humanizeStatus(a)})),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:eZ.panelTitleContainer,children:(0,i.jsx)(eT.Z,{children:o})}),(0,i.jsx)("div",{className:eZ.panelSubtextContainer,children:(0,i.jsx)(eN.Z,{children:null!=e?e:r})})]})}renderAvatarWithPopout(){return(0,i.jsx)(eR,{...this.props,handleMouseLeave:this.handleMouseLeave,renderNameTag:()=>this.renderNameTag()})}renderNameZone(){let{currentUser:e,dismissibleContents:t}=this.props;return null==e?null:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(U.ZP,{contentTypes:t.avatar,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;if(t===s.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP)return(0,i.jsx)(O.Z,{markAsDismissed:n,children:()=>this.renderAvatarWithPopout()});return this.renderAvatarWithPopout()}})})}render(){let{currentUser:e,selfDeaf:t,selfMute:n,awaitingRemote:r,serverMute:l,serverDeaf:a,suppress:o,dismissibleContents:c}=this.props,{shouldShowSpeakingWhileMutedTooltip:d}=this.state;return null==e?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:eZ.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,i.jsxs)(j.Z,{grow:0,className:eZ.buttons,children:[(0,i.jsx)(ew,{selfMute:n,serverMute:l,suppress:o,awaitingRemote:r,tooltipText:d?eA.intl.string(eA.t["29gnR0"]):void 0,tooltipColor:d?m.TooltipColors.GREEN:void 0,tooltipForceOpen:d||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,onClick:this.handleToggleSelfMute,onContextMenu:this.handleInputAudioContextMenu}),(0,i.jsx)(ek,{selfDeaf:t,serverDeaf:a,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,awaitingRemote:r}),(0,i.jsx)(U.ZP,{contentTypes:c.settings,children:e=>{let{visibleContent:t,markAsDismissed:n}=e;switch(t){case s.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(W.Z,{}),children:this.renderSettingsGear});case s.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(q.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case s.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(X.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case s.z.SOUNDBOARD_VOLUME_EDUCATION:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)($.Z,{markAsDismissed:n}),children:this.renderSettingsGear});case s.z.USER_SAFETY_CONSUMER_EDUCATION_REPORTING:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(Q.P,{markAsDismissed:n}),children:this.renderSettingsGear});case s.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK:return(0,i.jsx)(m.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:()=>(0,i.jsx)(et.Z,{}),children:this.renderSettingsGear});default:return this.renderSettingsGear()}}})]})]}),(0,i.jsx)(B.Z,{})]})}constructor(...e){super(...e),eL(this,"copiedTimeout",new c.V7),eL(this,"copiedDecayTimeout",new c.V7),eL(this,"speakingWhileMutedTooltipTimeout",new c.V7),eL(this,"lastSpeakingWhileMutedNotificationTime",void 0),eL(this,"state",{hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1}),eL(this,"handleToggleSelfMute",()=>{let{serverMute:e,suppress:t}=this.props;(0,y.Z)(e,t,eb.jXE.ACCOUNT_PANEL)}),eL(this,"handleToggleSelfDeaf",()=>{let{serverDeaf:e}=this.props;(0,P.Z)(e,eb.jXE.ACCOUNT_PANEL)}),eL(this,"handleOpenAccountSettings",()=>{this.handleOpenSettings()}),eL(this,"handleOpenSettings",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eb.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;f.Z.open(e,t,n)}),eL(this,"handleOpenSettingsContextMenu",e=>{let{currentUser:t}=this.props;null!=t&&(0,g.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("23217"),n.e("33053"),n.e("8016"),n.e("17298"),n.e("76540"),n.e("17938"),n.e("22646"),n.e("3940"),n.e("48923"),n.e("30419"),n.e("8821"),n.e("18824"),n.e("38175"),n.e("44889")]).then(n.bind(n,923422));return n=>(0,i.jsx)(e,{...n,user:t,premiumSubscription:this.props.premiumSubscription,webBuildOverride:this.props.webBuildOverride})})}),eL(this,"handleInputAudioContextMenu",(e,t)=>{(0,g.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(N.Gt,{value:t,children:(0,i.jsx)(e,{onClose:g.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})})})}),eL(this,"handleOutputAudioContextMenu",(e,t)=>{(0,g.jW)(e,async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,659580));return()=>(0,i.jsx)(N.Gt,{value:t,children:(0,i.jsx)(e,{onClose:g.Zy,renderOutputDevices:!0,renderOutputVolume:!0})})})}),eL(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),eL(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),eL(this,"handleMouseEnterMute",()=>{this.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop()}),eL(this,"handleMouseLeaveMute",()=>{this.setState({hoveringOnMute:!1})}),eL(this,"handleCopyTag",()=>{let{currentUser:e}=this.props,{shouldShowNametagTooltip:t,copiedStreak:n}=this.state;if(null==e)return;(0,ef.JG)(eC.ZP.getUserTag(e,{decoration:"never",identifiable:"always"})),ep.default.track(eb.rMx.TEXT_COPIED,{type:"User Tag"});let i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};!t&&(i.copiedStreak=n+1),this.setState(i,()=>{this.copiedTimeout.start(1e3,()=>this.setState({shouldShowNametagTooltip:!1})),this.copiedDecayTimeout.start(2e3,()=>this.setState({copiedStreak:0}))})}),eL(this,"handleOccludedChanged",()=>{let{occluded:e}=this.props;e&&this.setState({shouldShowNametagTooltip:!1,shouldShowSpeakingWhileMutedTooltip:!1})}),eL(this,"handleSpeakingWhileMutedChanged",()=>{let{selfMute:e,serverMute:t,suppress:n,speakingWhileMuted:i,occluded:r}=this.props,{hoveringOnMute:l}=this.state,a=void 0===this.lastSpeakingWhileMutedNotificationTime||Date.now()-this.lastSpeakingWhileMutedNotificationTime>ey;i?!l&&e&&!t&&!n&&!r&&a&&this.setState({shouldShowSpeakingWhileMutedTooltip:!0},()=>{this.lastSpeakingWhileMutedNotificationTime=Date.now(),this.speakingWhileMutedTooltipTimeout.start(2e3,()=>this.setState({shouldShowSpeakingWhileMutedTooltip:!1}))}):(this.setState({shouldShowSpeakingWhileMutedTooltip:!1}),this.speakingWhileMutedTooltipTimeout.stop())}),eL(this,"renderSettingsGear",()=>(0,i.jsx)(eM,{isEligibleForPomelo:this.props.isEligibleForPomelo,webBuildOverride:this.props.webBuildOverride,onClick:this.handleOpenAccountSettings,onContextMenu:this.handleOpenSettingsContextMenu}))}}function eD(){var e;let t=(0,o.e7)([eh.default],()=>eh.default.getCurrentUser()),n=(0,o.e7)([el.default],()=>el.default.getId()),l=(0,D.a)(),{streaming:a,status:c}=(0,o.cj)([ed.Z],()=>({streaming:null!=ed.Z.findActivity(e=>e.type===eb.IIU.STREAMING),status:ed.Z.getStatus()})),d=(0,C.Z)({userId:n}),u=eC.ZP.useUserTag(t,{decoration:"never"}),h=(0,o.e7)([eu.Z],()=>eu.Z.hidePersonalInformation),g=(0,o.e7)([ec.Z,ea.Z],()=>{let e=ec.Z.getChannelId();return null!=e?ea.Z.getChannel(e):null}),{mute:f,selfMute:_,suppress:v}=(0,er.Z)(g),{selfDeaf:T,deaf:b}=(0,ei.Z)(g),Z=(0,o.e7)([x.C],()=>{var e;return(0,A.fD)()?null===(e=x.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null}),L=(0,o.e7)([em.ZP],()=>em.ZP.getPremiumTypeSubscription()),P=(0,o.e7)([es.Z],()=>es.Z.getSpeakingWhileMuted()),y=(0,o.e7)([eo.Z],()=>eo.Z.hasLayers()),O=(0,m.useModalsStore)(m.hasAnyModalOpenSelector)||y||eI.s.isDisallowPopupsSet(),R=(0,V.b)(),j=(0,o.e7)([G.Z],()=>null!=G.Z.getAwaitingRemoteSessionInfo()),M=(0,Y.D)(),w=(0,E.u)(),U=(0,K.t)(),B=eE.ZP.canUsePremiumGuildMemberProfile(t),H=(null==t?void 0:null===(e=t.avatarDecoration)||void 0===e?void 0:e.skuId)===ex.rL,W="account";(0,I.j)({location:W+" auto on",autoTrackExposure:!0}),(0,I.j)({location:W+" auto off",autoTrackExposure:!1});let q=(0,o.e7)([J.Z],()=>J.Z.hasHadOtherUserPlaySoundInSession()),X=function(){let e=(0,k.wE)(s.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),[t,n]=(0,o.Wu)([F.Z],()=>[F.Z.hasFetchedRelevance,F.Z.profileThemesRelevanceExceeded]),[i,l]=(0,o.Wu)([em.ZP],()=>[em.ZP.hasFetchedMostRecentPremiumTypeSubscription(),em.ZP.getMostRecentPremiumTypeSubscription()]),{enabled:a}=z.Z.useExperiment({location:"08bd40_1"},{autoTrackExposure:!0}),c=r.useMemo(()=>{let e=new Date().getTime();return null!=l&&(l.status===eb.O0b.ACTIVE||e-l.currentPeriodEnd.getTime()<eO)},[l]);return r.useEffect(()=>{(async()=>{if(e||null!=n||!a)return;if(!i){await (0,p.ou)();return}if(!c)!t&&await (0,p.l0)()})()},[a,n,e,i,t,c]),!e&&!!a&&!c&&null!=n&&n}(),{analyticsLocations:Q}=(0,N.ZP)(S.Z.ACCOUNT),$={avatar:[],settings:[]};return!O&&(X&&$.settings.push(s.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2),M&&(1===w?$.settings.push(s.z.USER_SAFETY_CONSUMER_EDUCATION_MUTE):$.settings.push(s.z.USER_SAFETY_CONSUMER_EDUCATION_BLOCK)),q&&$.settings.push(s.z.SOUNDBOARD_VOLUME_EDUCATION),U&&$.settings.push(s.z.USER_SAFETY_CONSUMER_EDUCATION_REPORTING),B&&$.settings.push(s.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK),H&&$.avatar.push(s.z.PREMIUM_SUBSCRIPTION_APRIL_MARKETING_DECO_TOOLTIP)),(0,i.jsx)(N.Gt,{value:Q,children:(0,i.jsx)(ej,{currentUser:t,customStatusActivity:l,dismissibleContents:$,userTag:u,hidePrivateData:h,occluded:O,premiumSubscription:L,selfDeaf:T,selfMute:_,serverDeaf:b,serverMute:f,speaking:d,speakingWhileMuted:P,status:c,streaming:a,suppress:v,webBuildOverride:Z,awaitingRemote:j,isEligibleForPomelo:R})})}function eM(e){let{webBuildOverride:t,isEligibleForPomelo:n,onClick:r,onContextMenu:l}=e,a=(0,m.useRedesignIconContext)().enabled,o=null,s=m.SettingsIcon,c=(0,h.i)();return a?s=null!=t?m.SettingsInfoIcon:n?m.SettingsCircleIcon:c.Component:null!=t?o=(0,i.jsx)(m.CircleInformationIcon,{size:"custom",color:"currentColor",width:9,height:9,className:eZ.hasBuildOverride,"aria-hidden":!0}):n&&(o=(0,i.jsx)(m.CircleBadge,{color:R.Z.STATUS_DANGER,className:eZ.hasBuildOverride,"aria-hidden":!0})),(0,i.jsx)(eS.Z,{tooltipText:null!=t?eA.intl.formatToPlainString(eA.t.Gzh6ZG,{webBuildOverride:t.id}):eA.intl.string(eA.t.cduTBA),onClick:r,onContextMenu:l,innerClassName:null!=t||n?eZ.buildOverrideButton:null,icon:s,...c.events,children:o})}function ew(e){let{selfMute:t,serverMute:n,suppress:l,awaitingRemote:a,tooltipText:o,tooltipColor:s,tooltipForceOpen:c,onMouseEnter:d,onMouseLeave:h,onClick:p,onContextMenu:g}=e,f=t||l||n,{Component:_,play:E,events:I}=(0,u.O)(f?"unmute":"mute"),C=n||l?m.MicrophoneDenyIcon:_,{mode:v}=(0,en.ZP)({location:"RTC Microphone Button"}),T=null!=o?o:(0,L.Z)(t,n,l,a,v===en.BK.GroupedButtonsRedMic),{analyticsLocations:b}=(0,N.ZP)(S.Z.AUDIO_INPUT_BUTTON);r.useEffect(()=>()=>E(),[f,E]);let x=r.useCallback(e=>{g(e,b)},[g,b]);return(0,i.jsx)(N.Gt,{value:b,children:(0,i.jsx)(eS.Z,{tooltipText:T,tooltipColor:s,tooltipForceOpen:c,onMouseEnter:()=>{d(),I.onMouseEnter()},onMouseLeave:()=>{h(),I.onMouseLeave()},icon:(0,i.jsx)(C,{size:"custom",width:20,height:20,color:f?m.tokens.colors.STATUS_DANGER:"currentColor"}),iconForeground:f?eZ.strikethrough:null,onClick:p,onContextMenu:x,role:"switch","aria-label":eA.intl.string(eA.t["w4m94+"]),"aria-checked":f,disabled:a})})}function ek(e){let{selfDeaf:t,serverDeaf:n,awaitingRemote:l,onClick:o,onContextMenu:s}=e,c=t||n,{Component:u,play:h,events:{onMouseEnter:p,onMouseLeave:g}}=(0,d.l)(c?"undeafen":"deafen"),f=n?m.HeadphonesDenyIcon:u,{analyticsLocations:_}=(0,N.ZP)(S.Z.AUDIO_OUTPUT_BUTTON);r.useEffect(()=>()=>h(),[c,h]);let E=r.useCallback(e=>{s(e,_)},[s,_]);return(0,i.jsx)(N.Gt,{value:_,children:(0,i.jsx)(eS.Z,{tooltipText:(0,Z.Z)(t,n,l),onMouseEnter:p,onMouseLeave:g,icon:(0,i.jsx)(f,{size:"custom",width:20,height:20,color:c?m.tokens.colors.STATUS_DANGER:"currentColor"}),onClick:o,onContextMenu:E,innerClassName:a()({[eZ.redIcon]:n}),iconForeground:c?eZ.strikethrough:null,role:"switch","aria-label":eA.intl.string(eA.t.wjcRFR),"aria-checked":c,disabled:l})})}},235555:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(442837),s=n(239091),c=n(476669),d=n(524331),u=n(768419),h=n(831506),m=n(699516),p=n(594174),g=n(823379),f=n(824138),_=n(388032);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I extends r.PureComponent{hasParty(e){return e.length>1}handleStopListening(){(0,d.Z)()}render(){let{currentUser:e,host:t,party:n}=this.props;return this.hasParty(n)&&null!=e?(0,i.jsx)(f.Z,{currentUser:e,host:t,party:n,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null}constructor(...e){super(...e),E(this,"handleUserContextMenu",(e,t)=>{(0,s.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})})}),E(this,"renderOverflowPopout",()=>{let{party:e}=this.props;return(0,i.jsx)(c.Z,{party:e,header:_.intl.formatToPlainString(_.t.I9et19,{count:e.length})})})}}t.Z=o.ZP.connectStores([u.Z,p.default,m.Z,h.Z],()=>{let e,t;let n=u.Z.getSyncingWith(),i=u.Z.getActivity(),r=p.default.getCurrentUser(),l=[];if(null!=n?(e=p.default.getUser(n.userId),t=n.partyId):null!=i&&null!=i.party&&null!=i.party.id&&(e=r,t=i.party.id),null!=t){var o;l=a()(Array.from(null!==(o=h.Z.getParty(t))&&void 0!==o?o:[])).map(e=>p.default.getUser(e)).filter(g.lm).orderBy([t=>null==e||e.id===t.id,e=>m.Z.isFriend(e.id)],["desc","desc"]).value()}return{currentUser:r,host:e,party:l}})(I)},746508:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512722),s=n.n(o),c=n(568611),d=n(442837),u=n(592471),h=n(749280),m=n(864094),p=n(75735),g=n(382600),f=n(481060),_=n(846027),E=n(239091),I=n(925549),C=n(284056),v=n(730749),S=n(2052),N=n(40851),T=n(317381),b=n(596040),x=n(588580),A=n(374065),Z=n(451576),L=n(119315),P=n(403404),y=n(100527),O=n(906732),R=n(424602),j=n(793865),D=n(933557),M=n(600164),w=n(540059),k=n(258609),U=n(446226),G=n(935261),B=n(74299),H=n(803647),V=n(142497),F=n(810788),z=n(160404),W=n(703656),Y=n(917405),K=n(641015),q=n(848543),X=n(565799),Q=n(501655),J=n(368442),$=n(600518),ee=n(485287),et=n(754277),en=n(590415),ei=n(695346),er=n(923973),el=n(829750),ea=n(189771),eo=n(544384),es=n(560688),ec=n(127608),ed=n(76021),eu=n(173507),eh=n(25827),em=n(199902),ep=n(314897),eg=n(592125),ef=n(430824),e_=n(819640),eE=n(131951),eI=n(496675),eC=n(19780),ev=n(699516),eS=n(594174),eN=n(979651),eT=n(938475),eb=n(626135),ex=n(63063),eA=n(51144),eZ=n(870569),eL=n(345243),eP=n(594117),ey=n(226323),eO=n(981631),eR=n(190378),ej=n(388032),eD=n(382290),eM=n(232186);function ew(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ek(e){let t=e.currentTarget;eb.default.track(eO.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:eO.jXE.NOISE_CANCELLATION_POPOUT}})}function eU(){let e=r.useRef(null);(0,f.useFocusLock)(e),r.useEffect(()=>{eb.default.track(eO.rMx.OPEN_POPOUT,{type:eO.jXE.NOISE_CANCELLATION_POPOUT})},[]);let t=(0,d.e7)([eE.Z],()=>eE.Z.getNoiseCancellation());return(0,i.jsxs)("div",{ref:e,className:eD.noiseCancellationPopout,children:[(0,i.jsx)(f.FormSwitch,{hideBorder:!0,className:eM.marginBottom4,value:t,onChange:()=>_.Z.setNoiseCancellation(!t,{section:eO.jXE.NOISE_CANCELLATION_POPOUT}),note:ej.intl.string(ej.t.uKdWn5),children:ej.intl.string(ej.t.WGWHv7)}),(0,i.jsx)(C.Z,{title:ej.intl.string(ej.t.JdUas7),notchBackground:C._.BLACK,buttonTest:ej.intl.string(ej.t["sG+MGh"]),buttonStop:ej.intl.string(ej.t.Yp3SbG),buttonClassName:eD.micTestButton,buttonColor:f.Button.Colors.PRIMARY,location:{section:eO.jXE.NOISE_CANCELLATION_POPOUT}}),(0,i.jsx)(f.FormTitle,{tag:f.FormTitleTags.H5,className:a()(eM.marginBottom8,eM.marginTop20),children:ej.intl.string(ej.t.k6h1Fx)}),(0,i.jsxs)(M.Z,{justify:M.Z.Justify.BETWEEN,className:eD.__invalid_footer,children:[(0,i.jsx)(f.Anchor,{href:eO.EYA.KRISP,onClick:e=>ek(e),children:(0,i.jsx)("div",{className:eD.krispLogo})}),(0,i.jsx)(f.Anchor,{href:ex.Z.getArticleURL(eO.BhN.NOISE_SUPPRESSION),className:eD.krispLink,onClick:e=>ek(e),children:ej.intl.string(ej.t.hvVgAQ)})]})]})}function eG(){let e=(0,d.e7)([et.Z],()=>et.Z.isMuted()),t=e?ej.intl.string(ej.t.ScHlfn):ej.intl.string(ej.t.zqxfra);return(0,i.jsx)(eZ.Z,{"aria-label":t,tooltipText:t,icon:e?f.MusicSlashIcon:f.MusicIcon,onClick:()=>(0,$.v)(!e)})}function eB(e){let{channel:t,enableActivities:n,disabled:l}=e,o=(0,w.Q3)("ConnectedVideoButton"),s=(0,er.Z)(),c=(0,ea.Z)(t),u=(0,d.cj)([T.ZP],()=>null!=T.ZP.getSelfEmbeddedActivityForChannel(t.id)),h=(0,K.Z)(t),{reachedLimit:m,limit:g}=(0,el.Z)(t),E=r.useCallback(()=>{(0,es.Z)()},[]),I=(0,N.bp)(),C=r.useCallback(e=>{if(eE.Z.isVideoEnabled()===e)return;let n=()=>{var n;_.Z.setVideoEnabled(e),e&&(0,W.uL)(eO.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:eO.ME,t.id))};e?(0,eu.Z)(n,I):n()},[t,I]),v=u||n||h,{Component:S,play:b,events:x}=(0,p.o)(s.enabled?"disable":"enable");return r.useEffect(()=>()=>b(),[s.enabled,b]),(0,i.jsx)(eh.Z,{onChange:C,onCameraUnavailable:E,hasPermission:c,channelLimit:g,channelLimitReached:m,...s,enabled:!l&&s.enabled,children:e=>{let{unavailable:t,isActive:n,label:r,iconComponent:l,...s}=e,c=(0,i.jsx)(S,{size:o?"md":"sm",className:a()(eD.buttonIcon,{[eD.withText]:!v}),color:"currentColor"});return(0,i.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(j.Z,{onClose:t})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:(e,l)=>{let{onClick:d,...u}=e,{isShown:h}=l;return(0,i.jsx)(f.Tooltip,{text:r,children:e=>(0,i.jsx)(f.Button,{...s,...e,...u,onClick:t=>{var n;s.onClick(t),null===(n=e.onClick)||void 0===n||n.call(e),h&&d(t)},onMouseEnter:()=>{var t,n;null===(t=e.onMouseEnter)||void 0===t||t.call(e),null===(n=u.onMouseEnter)||void 0===n||n.call(u),x.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),x.onMouseLeave()},onContextMenu:t=>{var n;d(t),null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:o?f.Button.Sizes.MEDIUM:f.Button.Sizes.SMALL,className:a()(eD.button,eD.buttonColor,{[eD.buttonActive]:n,[eD.fauxDisabled]:t,[eD.disabled]:s.disabled}),innerClassName:eD.buttonContents,wrapperClassName:eD.button,fullWidth:!0,children:v?c:(0,i.jsxs)(M.Z,{align:M.Z.Align.CENTER,children:[c,ej.intl.string(ej.t.FlNoSU)]})})})}})}})}function eH(e){let t,n,{channel:r,enableActivities:l}=e,o=(0,w.Q3)("ConnectedVideoButton"),s=(0,N.bp)(),{analyticsLocations:c}=(0,O.ZP)(),m=s===eO.IlC.POPOUT,p=(0,A.KF)(r.id),g=(0,A.g5)(p),{userInActivity:_}=(0,d.cj)([T.ZP],()=>({userInActivity:null!=T.ZP.getSelfEmbeddedActivityForChannel(r.id)})),E=(0,S.O)(),I=(0,x.a)(),C=p!==A.jy.CAN_LAUNCH,{enabled:v}=R.nS.useExperiment({location:"RTCConnection"},{autoTrackExposure:!0}),{Component:b,events:Z,play:y}=(0,u.s)(),{Component:j,events:D,play:M}=(0,h.w)();return(v?(t=D,n=M):(t=Z,n=y),l)?(0,i.jsx)(f.Tooltip,{text:g,children:e=>(0,i.jsxs)(f.Button,{...e,fullWidth:!0,size:o?f.Button.Sizes.MEDIUM:f.Button.Sizes.SMALL,...t,onClick:()=>{var t;n(),(0,P.Z)({channel:r,guildId:r.guild_id,locationObject:E.location,openInPopout:m,analyticsLocations:c,opensAppLauncherModal:!0}),null===(t=e.onClick)||void 0===t||t.call(e)},onMouseEnter:()=>{var n;t.onMouseEnter(),null==e||null===(n=e.onMouseEnter)||void 0===n||n.call(e)},onMouseLeave:()=>{var n;t.onMouseLeave(),null==e||null===(n=e.onMouseLeave)||void 0===n||n.call(e)},disabled:C,className:a()(eD.button,eD.buttonColor,{[eD.buttonActive]:_,[eD.disabled]:C}),innerClassName:eD.buttonContents,wrapperClassName:eD.button,children:[I?(0,i.jsx)(L.r,{top:-1,right:-1}):null,v?(0,i.jsx)(j,{size:o?"md":"sm",color:"currentColor",className:eD.buttonIcon}):(0,i.jsx)(b,{size:o?"md":"sm",color:"currentColor",className:eD.buttonIcon})]})}):null}function eV(e){let t,{channel:n,canGoLive:l,enableActivities:o,disabled:s}=e,c=(0,w.Q3)("ConnectedStreamButton"),u=(0,d.e7)([eS.default],()=>eS.default.getCurrentUser()),h=(0,d.Wu)([em.Z],()=>em.Z.getAllActiveStreams()),p=(0,ea.Z)(n),g=n.getGuildId(),_=(0,d.cj)([T.ZP],()=>null!=T.ZP.getSelfEmbeddedActivityForChannel(n.id)),E=(0,K.Z)(n),I=r.useCallback(()=>{(0,ed.Z)(g,n.id,eO.jXE.ACTIVITY_PANEL)},[g,n.id]),C=h.find(e=>e.ownerId===(null==u?void 0:u.id)),v=(0,eo.E)(n,u,h);t=null==C?l?I:ec.Z:()=>(0,H.Z)(C);let S=null!=C||v.length>0,N=p?ej.intl.string(ej.t.fjBNo6):ej.intl.string(ej.t.uQn9Bw),b=_||o||E,x=null!=C,{Component:A,events:Z,play:L}=(0,m.P)(x?"disable":"enable");r.useEffect(()=>()=>L(),[L,x]);let P=(0,i.jsx)(A,{size:c?"md":"sm",color:"currentColor",className:a()(eD.buttonIcon,{[eD.withText]:!b})});return(0,i.jsx)(f.Popout,{renderPopout:e=>{let{closePopout:t}=e;return(0,i.jsx)(eo.Z,{channel:n,currentUser:u,activeStreams:h,onClose:t,handleGoLive:l?I:ec.Z})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:e=>{let{onClick:n,onMouseEnter:r,...l}=e;return(0,i.jsx)(f.Tooltip,{text:N,children:e=>(0,i.jsx)(f.Button,{...e,size:c?f.Button.Sizes.MEDIUM:f.Button.Sizes.SMALL,onClick:i=>{var r;S?n(i):t(),null===(r=e.onClick)||void 0===r||r.call(e)},disabled:!p||s,className:a()(eD.button,eD.buttonColor,{[eD.buttonActive]:null!=C,[eD.disabled]:!p||s}),...S?l:null,onMouseEnter:()=>{var t;null==r||r(),null===(t=e.onMouseEnter)||void 0===t||t.call(e),Z.onMouseEnter()},onMouseLeave:()=>{var t;null===(t=e.onMouseLeave)||void 0===t||t.call(e),Z.onMouseLeave()},innerClassName:eD.buttonContents,wrapperClassName:eD.button,children:b?P:(0,i.jsxs)(M.Z,{align:M.Z.Align.CENTER,children:[P,ej.intl.string(ej.t["r0/+v7"])]})})})}})}class eF extends r.PureComponent{renderConnectionStatus(){let e;let{channel:t,guild:n,rtcConnectionQuality:r,rtcConnectionState:l,rtcConnectionLastPing:a,hasVideo:o}=this.props;if(null==t)return null;let s=(0,D.F6)(t,eS.default,ev.Z);return null!=n?(e=eO.Z5c.CHANNEL(n.id,t.id),s="".concat(s," / ").concat(n.name)):e=eO.Z5c.CHANNEL(eO.ME,t.id),(0,i.jsx)(Y.Z,{channelId:t.id,quality:r,state:l,lastPing:a,hasVideo:o,children:(0,i.jsx)(f.FocusRing,{children:(0,i.jsx)(c.rU,{to:e,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,i.jsx)(eL.Z,{className:eD.channel,children:this.props.isVisualRefreshEnabled?(0,i.jsx)(f.Text,{variant:"text-sm/medium",children:s}):s})})})})}renderNoiseCancellation(){let{noiseCancellationActive:e,noiseCancellationError:t,hasLayers:n,remoteVoiceState:r,channel:l,voiceStates:a}=this.props;return null!=r?null:(null==l?void 0:l.isGuildStageVoice())&&!(null!=a.find(e=>e.user.id===ep.default.getId()&&(0,en.gf)(e.voiceState)===en.xO.ON_STAGE))&&(0,ee.U5)(l.id)?(0,i.jsx)(eG,{}):!n&&t?(0,i.jsx)(f.Tooltip,{text:ej.intl.string(ej.t["i+SO/f"]),tooltipClassName:eD.noiseCancellationTooltip,forceOpen:!0,children:e=>{let{"aria-label":t}=e;return(0,i.jsx)(eZ.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:f.WaveformSlashIcon})}}):(0,i.jsx)(f.Popout,{position:"top",align:"center",renderPopout:()=>(0,i.jsx)(eU,{}),children:(t,n)=>{let{isShown:r}=n;return(0,i.jsx)(ez,{popoutProps:t,isShown:r,noiseCancellationActive:e})}},"krisp-popout")}renderVoiceStates(){let{channel:e,voiceStates:t,showVoiceStates:n}=this.props;return null!=e&&n&&0!==t.length?(0,i.jsx)(ey.Z,{voiceStates:t,channel:e,className:eD.voiceUsers}):null}renderChannelButtons(){let{channel:e,canGoLive:t,remoteVoiceState:n,enableActivities:r,voiceStates:l,selfStream:o,isPrivateChannelWithEnabledActivities:s}=this.props;if(null==e||null!=n)return null;let c=ep.default.getId();if(e.isGuildStageVoice()){if(!(0,J.tu)(e.guild_id)||!t)return null;let n=l.find(e=>e.user.id===c);if(null==n||n.voiceState.suppress)return null}let d=(e.isGuildVoice()||s)&&r,{reachedLimit:u}=(0,el.t)(e),h=(0,J.xJ)(e.id);return(0,i.jsxs)("div",{className:eD.actionButtons,children:[(0,i.jsx)(eB,{channel:e,enableActivities:d,disabled:!h&&u}),(0,i.jsx)(eV,{channel:e,canGoLive:t,enableActivities:d,disabled:e.isGuildStageVoice()&&(h&&null==o||!h&&u)}),(0,i.jsxs)(i.Fragment,{children:[d?(0,i.jsx)(eH,{channel:e,enableActivities:r}):null,(0,K.Z)(e)?(0,i.jsx)(q.Z,{className:a()(eD.button,eD.buttonColor),innerClassName:eD.buttonContents,iconClassName:eD.buttonIcon,channel:e}):null]})]})}render(){let{channel:e,noiseCancellationSupported:t,shouldShowVoicePanelIntroduction:n}=this.props;return null==e?null:(0,i.jsx)(f.Popout,{renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:f.Popout.Animation.TRANSLATE,shouldShow:n,children:()=>(0,i.jsxs)("div",{className:eD.container,children:[(0,i.jsxs)(M.Z,{className:eD.connection,align:M.Z.Align.CENTER,children:[(0,i.jsx)("div",{className:eD.inner,children:this.renderConnectionStatus()}),(0,i.jsxs)(M.Z,{grow:0,shrink:0,className:eD.voiceButtonsContainer,children:[t?this.renderNoiseCancellation():null,(0,i.jsx)(eP.Z,{channel:e})]})]}),this.renderVoiceStates(),this.renderChannelButtons()]})})}constructor(...e){super(...e),ew(this,"canScreenshare",()=>{let{channel:e,canGoLive:t}=this.props;return t&&null!=e&&null!=e.getGuildId()}),ew(this,"handleNoiseCancellationClicked",()=>{let{noiseCancellationActive:e}=this.props;_.Z.setNoiseCancellation(!e,{section:eO.jXE.NOISE_CANCELLATION_POPOUT})}),ew(this,"handleGoLive",()=>{let{guild:e,channel:t}=this.props,n=null!=t?t.getGuildId():null!=e?e.id:null;if(null!=n)(0,ed.Z)(n,t.id,eO.Sbl.VOICE_PANEL)}),ew(this,"handleChannelLinkClick",e=>{var t;let{guild:n,channel:i}=this.props;s()(null!=i,"Channel is null during navigation click"),e.stopPropagation(),I.Z.channelListScrollTo(null!==(t=null==n?void 0:n.id)&&void 0!==t?t:eO.ME,i.id)}),ew(this,"handleChannelLinkContextMenu",e=>{let{channel:t,analyticsLocations:r}=this.props;(0,E.jW)(e,async()=>{let{default:e}=await n.e("56944").then(n.bind(n,600830));return n=>(0,i.jsx)(O.Gt,{value:r,children:(0,i.jsx)(e,{...n,channel:t})})})}),ew(this,"handleCloseVoicePanelIntroduction",()=>{V.Kw(eR.v.VOICE_PANEL_INTRODUCTION)}),ew(this,"renderVoicePanelIntroduction",()=>(0,i.jsxs)("div",{className:a()(eD.voicePanelIntroductionWrapper,"theme-light"),children:[(0,i.jsx)(f.Heading,{className:eD.voicePanelIntroductionHeader,variant:"heading-md/semibold",children:ej.intl.string(ej.t["ba/rLy"])}),(0,i.jsx)(f.Text,{className:eD.voicePanelIntroductionText,variant:"text-sm/normal",children:ej.intl.string(ej.t.Ne1Ee3)}),(0,i.jsx)(f.Button,{className:eD.voicePanelIntroductionButton,color:f.Button.Colors.BRAND,onClick:this.handleCloseVoicePanelIntroduction,children:ej.intl.string(ej.t.shaBeH)})]}))}}function ez(e){let{popoutProps:t,isShown:n,noiseCancellationActive:l}=e,{play:a,Component:o,events:s}=(0,g.P)(l?"disable":"enable");return r.useEffect(()=>()=>a(),[l,a]),(0,i.jsx)(eZ.Z,{...t,onMouseEnter:()=>{var e;null===(e=t.onMouseEnter)||void 0===e||e.call(t),s.onMouseEnter()},onMouseLeave:()=>{s.onMouseLeave()},tooltipClassName:eD.noiseCancellationTooltip,tooltipText:n?null:ej.intl.string(ej.t.vFiCS0),icon:o})}t.Z=(0,v.Z)(function(e){let t=(0,w.Q3)("ConnectedRTCConnection"),n=(0,U.Z)(),l=(0,d.e7)([k.Z],()=>k.Z.getAwaitingRemoteSessionInfo()),a=(0,d.e7)([eS.default],()=>eS.default.getCurrentUser()),{channelId:o,...s}=(0,d.cj)([eC.Z],()=>null!=n?{channelId:n.channelId,rtcConnectionQuality:eO.IE4.FINE,rtcConnectionState:eO.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:eC.Z.getChannelId(),rtcConnectionQuality:eC.Z.getQuality(),rtcConnectionState:eC.Z.getState(),rtcConnectionLastPing:eC.Z.getLastPing()}),c=(0,d.e7)([eg.Z],()=>eg.Z.getChannel(o),[o]),u=null==c?void 0:c.getGuildId(),h=(0,d.e7)([ef.Z],()=>ef.Z.getGuild(u),[u]),m=(0,d.cj)([eE.Z],()=>({noiseCancellationSupported:eE.Z.isNoiseCancellationSupported(),noiseCancellationActive:eE.Z.getNoiseCancellation(),noiseCancellationError:eE.Z.isNoiseCancellationError(),canGoLive:(0,B.Z)(eE.Z)})),p=(0,d.e7)([eE.Z,F.Z],()=>F.Z.hasHotspot(eR.v.VOICE_PANEL_INTRODUCTION)&&(0,eA.EO)(a)&&!eE.Z.isInteractionRequired()&&!(null==c?void 0:c.isGuildStageVoice())),g=(0,d.e7)([eN.Z],()=>null!=o&&eN.Z.hasVideo(o),[o]),_=(0,d.e7)([em.Z],()=>em.Z.getCurrentUserActiveStream()),E=(0,d.e7)([e_.Z],()=>e_.Z.hasLayers()),I=(0,d.e7)([z.Z],()=>z.Z.isViewingRoles(u)),C=(0,d.e7)([eI.Z],()=>I&&!eI.Z.can(eO.Plq.VIEW_CHANNEL,c),[I,c]),v=ei.Fg.useSetting(),[S,N,T]=(0,d.Wu)([eT.ZP,X.Z],()=>(null==c?void 0:c.isGuildStageVoice())?[X.Z.getMutableParticipants(c.id,Q.pV.SPEAKER),X.Z.getParticipantsVersion(c.id),null]:[null,null,null!=c?eT.ZP.getVoiceStatesForChannel(c):null],[c]),x=r.useMemo(()=>{var e,t;return null!==(t=null!==(e=null==S?void 0:S.map(e=>{let{user:t,userNick:n,voiceState:i}=e;return{user:t,nick:n,voiceState:i}}))&&void 0!==e?e:T)&&void 0!==t?t:[]},[S,N,T]),[A,L]=r.useState(!1);r.useEffect(()=>{(I||C)&&L(!1)},[I,C,L]);let{analyticsLocations:P}=(0,O.ZP)(y.Z.RTC_PANEL),R=(0,b.Z)(null!=u?u:eO.lds,null==c?void 0:c.id),j=(0,Z.Z)(null==c?void 0:c.id);return(0,i.jsx)(O.Gt,{value:P,children:(0,i.jsxs)("div",{className:eD.wrapper,children:[null!=n||null!=l?(0,i.jsx)(G.Z,{voiceState:n,awaitingRemoteSessionInfo:l}):null,(0,i.jsx)(eF,{...e,...m,...s,enableActivities:R,remoteVoiceState:n,guild:h,channel:c,hasVideo:g,selfStream:_,hasLayers:E,voiceStates:x,showVoiceStates:v,shouldShowVoicePanelIntroduction:p,isPrivateChannelWithEnabledActivities:j,analyticsLocations:P,isVisualRefreshEnabled:t}),!A&&I&&null!=u?(0,i.jsxs)("div",{className:eD.viewAsRolesWarning,children:[(0,i.jsx)(f.Text,{variant:"text-sm/normal",className:eD.viewAsRolesWarningText,children:C?ej.intl.string(ej.t.efjuQE):ej.intl.string(ej.t.br8H2N)}),(0,i.jsx)(f.Button,{className:eD.viewAsRolesWarningButton,size:f.Button.Sizes.MIN,onClick:()=>{L(!0)},children:ej.intl.string(ej.t.WAI6xs)})]}):null]})})})},594117:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651);n(192379);var r=n(685072),l=n(287734),a=n(15274),o=n(389303),s=n(881824),c=n(719100),d=n(870569),u=n(388032);function h(e){let{tooltipText:t,onClick:n}=e,l=(0,r.K)();return(0,i.jsx)(d.Z,{tooltipText:t,onClick:n,...l.events,icon:l.Component})}function m(e){let{channel:t}=e;return(0,i.jsx)(h,{tooltipText:u.intl.string(u.t.SMKyio),onClick:()=>{if((0,c.Z)(t)){(0,s.Us)(t);return}l.default.disconnect()}})}function p(e){let{channel:t}=e;return(0,i.jsx)(h,{tooltipText:u.intl.string(u.t["6vrfgo"]),onClick:()=>{if((0,o.Z)(t)){(0,a.lC)(t);return}l.default.disconnect()}})}function g(e){let{channel:t}=e;return t.isGuildStageVoice()?(0,i.jsx)(m,{channel:t}):(0,i.jsx)(p,{channel:t})}},226323:function(e,t,n){n.d(t,{Z:function(){return N}}),n(653041),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(239091),d=n(586902),u=n(512384),h=n(184301),m=n(347475),p=n(314897),g=n(131951),f=n(51144),_=n(524484),E=n(388032),I=n(525270);let C={offset:2},v={serverDeaf:{icon:s.HeadphonesDenyIcon,colorize:!0,getStatus:()=>E.intl.string(E.t.btxSdH)},serverMute:{icon:s.MicrophoneDenyIcon,colorize:!0,getStatus:()=>E.intl.string(E.t.uLddbW)},deaf:{icon:s.HeadphonesSlashIcon,colorize:!1,getStatus:()=>E.intl.string(E.t.NjmiOD)},mute:{icon:s.MicrophoneSlashIcon,colorize:!1,getStatus:()=>E.intl.string(E.t.tjtv3N)},localMute:{icon:s.MicrophoneDenyIcon,colorize:!1,getStatus:()=>E.intl.string(E.t["9F+xJS"])}};function S(e){var t,r;let{channel:l,user:p,nick:S,mute:N,deaf:T,serverMute:b,serverDeaf:x}=e,A=(0,o.e7)([g.Z],()=>g.Z.isLocalMute(p.id)),Z=(0,d.Z)({userId:p.id,checkSoundSharing:!0}),L=null!==(t=l.getGuildId())&&void 0!==t?t:void 0,P=p.getAvatarURL(l.guild_id,24),y=null!=S?S:f.ZP.getName(p),{icon:O,colorize:R,getStatus:j}=null!==(r=function(e){let{serverDeaf:t,deaf:n,serverMute:i,mute:r,localMute:l}=e;if(t)return v.serverDeaf;if(n)return v.deaf;if(i)return v.serverMute;else if(l)return v.localMute;else if(r)return v.mute}({serverDeaf:x,deaf:T,serverMute:b,mute:N,localMute:A}))&&void 0!==r?r:{},D=null!=j?E.intl.formatToPlainString(E.t["1+MVBA"],{userName:y,status:j()}):y;function M(e){null!=L?(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("92453"),n.e("13125"),n.e("64899")]).then(n.bind(n,757387));return t=>(0,i.jsx)(e,{...t,user:p,guildId:L,channel:l,showMediaItems:!0})}):(0,c.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return t=>(0,i.jsx)(e,{...t,user:p,showMediaItems:!0})})}return(0,i.jsx)(s.Popout,{preload:()=>(0,h.Z)(p.id,p.getAvatarURL(L,80),{guildId:L,channelId:l.id}),position:"top",renderPopout:e=>(0,i.jsx)(m.Z,{userId:p.id,guildId:L,channelId:l.id,...e}),children:e=>(0,i.jsx)(s.Tooltip,{text:D,children:t=>(0,i.jsx)(s.Clickable,{...t,...e,className:I.avatarContainer,onContextMenu:M,focusProps:C,children:(0,i.jsx)(u.Z,{shakeLocation:_.oZ.VOICE_USER,isShaking:Z,children:(0,i.jsx)("div",{className:a()(I.avatar,{[I.speaking]:Z}),style:{backgroundImage:"url(".concat(P,")")},children:null!=O?(0,i.jsx)(O,{className:a()(I.avatarIconOverlay,{[I.avatarIconRed]:R}),color:"currentColor",size:"xs"}):null})})})})})}function N(e){let{voiceStates:t,channel:n,className:l}=e,[c,d]=r.useState(!1),u=c?s.MinusIcon:s.PlusSmallIcon,h=(0,i.jsx)(s.CircleIconButton,{className:I.expandButton,onClick:()=>d(!c),color:s.CircleIconButtonColors.PRIMARY,size:s.CircleIconButtonSizes.SIZE_24,tooltip:c?E.intl.string(E.t["Z/Tya2"]):E.intl.string(E.t.XR5BAQ),icon:(0,i.jsx)(u,{size:"xs",color:"currentColor"}),focusProps:C}),m=(0,o.e7)([p.default],()=>p.default.getId(),[]),[g,f]=function(e,t){let n=[];for(let i of e){if(!(i.user.id===t||n.some(e=>e.user.id===i.user.id))){if(n.length>=7)return[n,!0];n.push(i)}}return[n,!1]}(t,m),_=f&&c?t:g;return _.length<=0?null:(0,i.jsx)(s.ScrollerThin,{className:a()(I.scroller,l),fade:!0,children:(0,i.jsxs)("div",{className:I.voiceUsers,role:"group","aria-label":E.intl.string(E.t["/ZgaVV"]),children:[_.map(e=>{let{user:t,nick:r,voiceState:l}=e;return t.id!==m?(0,i.jsx)(S,{channel:n,user:t,nick:r,mute:l.isVoiceMuted(),deaf:l.isVoiceDeafened(),video:l.selfVideo,serverMute:l.mute,serverDeaf:l.deaf},t.id):null}),f?h:null]})})}},179742:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(512969),l=n(880257),a=n(106939),o=n(981631);function s(){return!1===(0,l.Z)()?(0,i.jsx)(r.l_,{to:o.Z5c.SETTINGS("family-center")}):(0,i.jsx)(a.Z,{})}},617015:function(e,t,n){n.d(t,{NV:function(){return r},nG:function(){return i},yf:function(){return l}});let i=64,r=62,l=5},321488:function(e,t,n){var i,r,l=n(200651);n(192379);var a=n(120356),o=n.n(a),s=n(873546),c=n(481060),d=n(423360);function u(e){let{icon:t,tooltip:n,onClick:i,actionType:r=2,shouldHighlight:a}=e;return(0,l.jsx)(c.Tooltip,{text:n,children:e=>(0,l.jsx)(c.Clickable,{...e,"aria-label":n,onClick:i,className:o()(d.actionButton,{[d.actionAccept]:0===r,[d.actionDeny]:1===r,[d.highlight]:a,[d.actionButtonMobile]:s.tq}),children:(0,l.jsx)(t,{className:d.icon,color:"currentColor"})})})}(i=r||(r={}))[i.ACCEPT=0]="ACCEPT",i[i.DENY=1]="DENY",i[i.DEFAULT=2]="DEFAULT",u.ActionTypes=r,t.Z=u},666286:function(e,t,n){var i=n(200651),r=n(192379),l=n(481060),a=n(115849),o=n(645792),s=n(787642),c=n(437314),d=n(981631),u=n(388032),h=n(950834);function m(){return(0,i.jsxs)("header",{className:h.header,children:[(0,i.jsx)(l.FormTitle,{tag:"h2",className:h.title,children:u.intl.string(u.t.w5uwoK)}),(0,i.jsx)(a.Z,{})]})}t.Z=function(){return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(m,{}),(0,o.b)()&&(0,i.jsx)(s.Z,{}),(0,i.jsx)("div",{className:h.emptyState,children:(0,i.jsx)(c.Z,{type:d.pJs.ADD_FRIEND})})]})}},787642:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),r=n(192379),l=n(481060),a=n(703656),o=n(769654),s=n(430824),c=n(626135),d=n(768581),u=n(125631),h=n(981631),m=n(388032),p=n(77418);function g(e,t,n){return(0,i.jsxs)("button",{className:p.container,onClick:n,children:["function"==typeof e?(0,i.jsx)("div",{className:p.icon,children:(0,i.jsx)(e,{className:p.__invalid_iconInner,color:l.tokens.colors.WHITE.css})}):(0,i.jsx)("img",{className:p.icon,alt:"",src:e}),(0,i.jsx)(l.Text,{className:p.text,variant:"text-md/medium",children:t}),(0,i.jsx)(u.Z,{className:p.arrow})]},t)}function f(){let e=Object.values(s.Z.getGuilds()).filter(e=>e.hasFeature(h.oNc.HUB)),t=e=>{c.default.track(h.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e}),(0,o.X)(e)};return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)("header",{className:p.header,children:(0,i.jsx)(l.FormTitle,{tag:"h2",className:p.title,children:m.intl.string(m.t["qj7o//"])})}),(0,i.jsxs)("div",{className:p.grid,children:[e.map(e=>g(d.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,()=>{t(e.id)})),g(l.CompassIcon,m.intl.string(m.t.AhKnz8),()=>{c.default.track(h.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED),(0,a.uL)(h.Z5c.GUILD_DISCOVERY)})]})]})}},125631:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(200651);function r(e){let{color:t="currentColor",...n}=e;return(0,i.jsx)("svg",{...n,fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:t,fillRule:"evenodd"})})}n(192379)},434184:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(200651),r=n(192379),l=n(481060),a=n(194359),o=n(906732),s=n(171368),c=n(626135),d=n(321488),u=n(417183),h=n(170245),m=n(981631),p=n(388032),g=n(146368);function f(e){let{user:t,key:n,isFocused:f}=e,_=r.useContext(c.AnalyticsContext),{analyticsLocations:E}=(0,o.ZP)(),I=e=>{e.stopPropagation(),a.Z.unblockUser(t.id,{location:"Friends"})};return(0,i.jsx)(u.Z,{isFocused:f,onClick:()=>(0,s.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:E,analyticsLocation:_.location}),user:t,children:e=>(0,i.jsxs)("div",{className:g.listItemContents,children:[(0,i.jsx)(h.Z,{user:t,hovered:e,status:m.Skl.UNKNOWN,subText:p.intl.string(p.t["4bDptL"])}),(0,i.jsx)(d.Z,{icon:l.UserMinusIcon,actionType:d.Z.ActionTypes.DENY,tooltip:p.intl.string(p.t.XyHpKC),onClick:I,shouldHighlight:e})]})},n)}},352455:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(924628),s=n(230711),c=n(548816),d=n(187819),u=n(981631),h=n(921944),m=n(388032),p=n(271249);function g(e){let{className:t,markAsDismissed:n}=e,r=(0,d._p)({location:"consent-card"});return(0,i.jsxs)(c.Z,{className:l()(p.card,t),children:[(0,i.jsx)(a.Heading,{variant:"heading-md/semibold",className:p.header,children:m.intl.string(m.t.HcbnMD)}),(0,i.jsx)(a.Text,{variant:"text-sm/normal",children:m.intl.format(m.t.NkFrzM,{onPrivacyClick:()=>{r?s.Z.open(u.oAB.DATA_AND_PRIVACY):s.Z.open(u.oAB.PRIVACY_AND_SAFETY)}})}),(0,i.jsxs)("div",{className:p.buttonContainer,children:[(0,i.jsx)(a.Button,{size:a.Button.Sizes.SMALL,onClick:()=>(0,o.g)([u.pjP.PERSONALIZATION],[]),children:m.intl.string(m.t.ebojgI)}),(0,i.jsx)(a.Button,{color:a.Button.Colors.PRIMARY,size:a.Button.Sizes.SMALL,onClick:()=>n(h.L.DISMISS),look:a.Button.Looks.LINK,children:m.intl.string(m.t.f3Pet7)})]})]})}},701861:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(392711),a=n.n(l),o=n(442837),s=n(481060),c=n(493683),d=n(239091),u=n(194359),h=n(443589),m=n(703656),p=n(592125),g=n(131951),f=n(699516),_=n(51144),E=n(321488),I=n(417183),C=n(825682),v=n(170245),S=n(981631),N=n(65154),T=n(388032),b=n(401207);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){let{user:t,onSelect:n}=e,r=()=>{u.Z.removeFriend(t.id,{location:"Friends"})},l=(0,o.e7)([g.Z],()=>g.Z.supports(N.AN.VIDEO)),a=t.isProvisional;return(0,i.jsxs)(s.Menu,{navId:"friend-row","aria-label":T.intl.string(T.t.liqwPD),onClose:d.Zy,onSelect:n,children:[!a&&l?(0,i.jsx)(s.MenuItem,{id:"start-video-call",label:T.intl.string(T.t.oCqlGB),action:function(){c.Z.openPrivateChannel(t.id,!0,!0)}}):null,!a&&(0,i.jsx)(s.MenuItem,{id:"start-voice-call",label:T.intl.string(T.t.focH1t),action:()=>{c.Z.openPrivateChannel(t.id,!0)}}),(0,i.jsx)(s.MenuItem,{id:"remove-friend",label:T.intl.string(T.t.cvSt1N),action:()=>{(0,s.openModal)(e=>(0,i.jsx)(s.ConfirmModal,{header:T.intl.formatToPlainString(T.t.fPLvZW,{name:_.ZP.getName(t)}),confirmText:T.intl.string(T.t.cvSt1N),cancelText:T.intl.string(T.t["ETE/oK"]),onConfirm:r,...e,children:(0,i.jsx)(s.Text,{variant:"text-md/normal",children:T.intl.format(T.t.l5FFq6,{name:_.ZP.getName(t)})})}))},color:"danger"})]})}class Z extends r.PureComponent{componentWillLeave(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)}componentWillEnter(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)}render(){let{user:e,isFocused:t,activities:n,applicationStream:r,status:l,isMobile:a,giftIntentType:o}=this.props,{isActiveRow:c}=this.state;return(0,i.jsx)(I.Z,{ref:this.peopleListItemRef,isFocused:t,isActive:c,user:e,onOtherHover:()=>c?null:(0,d.Zy)(),onClick:this.handleOpenPrivateChannel,children:t=>(0,i.jsxs)("div",{className:b.listItemContents,children:[(0,i.jsx)(v.Z,{user:e,status:l,isMobile:a,subText:(0,i.jsx)(C.Z,{hovered:t,activities:n,applicationStream:r,status:l,user:e,userIgnored:f.Z.isIgnored(e.id)}),hovered:t,showAccountIdentifier:!0}),(0,i.jsxs)("div",{className:b.actions,children:[null!=o&&(0,i.jsx)(h.Z,{recipientUser:e,giftIntentType:o,analyticsPage:S.ZY5.FRIENDS_LIST,shouldHighlight:t}),(0,i.jsx)(E.Z,{icon:s.ChatIcon,tooltip:T.intl.string(T.t["g33r/P"]),onClick:this.handleOpenPrivateChannel,shouldHighlight:t}),(0,i.jsx)(E.Z,{icon:s.MoreVerticalIcon,tooltip:T.intl.string(T.t.UKOtz8),onClick:this.handleOpenActionsMenu,shouldHighlight:t})]})]})})}constructor(...e){super(...e),x(this,"peopleListItemRef",r.createRef()),x(this,"state",{isActiveRow:!1}),x(this,"handleOpenPrivateChannel",e=>{let{user:t}=this.props;e.stopPropagation();let n=a().find(p.Z.getMutablePrivateChannels(),e=>e.type===S.d4z.DM&&e.getRecipientId()===t.id);null!=n?(0,m.uL)(S.Z5c.CHANNEL(S.ME,n.id)):c.Z.openPrivateChannel(t.id)}),x(this,"handleOpenActionsMenu",e=>{let{user:t}=this.props;(0,d.vq)(e,e=>(0,i.jsx)(A,{...e,user:t}),{onClose:()=>{this.setState({isActiveRow:!1})}}),this.setState({isActiveRow:!0})})}}t.Z=Z},437314:function(e,t,n){n.d(t,{j:function(){return i}}),n(411104),n(47120);var i,r=n(200651),l=n(192379),a=n(748780),o=n(442837),s=n(481060),c=n(922611),d=n(210887),u=n(981631),h=n(388032),m=n(446501);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(i||(i={})).SECTION_NO_RESULTS="SECTION_NO_RESULTS";let g=Object.freeze({SECTION_ALL:{lightSrc:n(900933),darkSrc:n(67764),width:376,height:162,renderContent:e=>(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t["oi+B4u"])}),(0,r.jsx)(s.Button,{className:m.button,onClick:e,children:h.intl.string(h.t.w5uwoK)})]})},SECTION_ONLINE:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t["1ESycn"])})},SECTION_BLOCKED:{lightSrc:n(459505),darkSrc:n(356634),width:433,height:232,renderContent:()=>(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t.eC6imZ)})},SECTION_PENDING:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:(e,t)=>(0,r.jsxs)("div",{className:m.emptyStateContainer,children:[(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t["7uvAKS"])}),null!=e&&(0,r.jsx)(s.Button,{color:s.Button.Colors.PRIMARY,look:s.Button.Looks.OUTLINED,size:s.Button.Sizes.TINY,onClick:e,className:m.spamButton,children:(0,r.jsx)(s.Text,{variant:"text-xs/medium",color:"text-muted",children:t?h.intl.string(h.t.R40bU1):h.intl.string(h.t.rXl8fn)})})]})},SECTION_SUGGESTIONS:{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200,renderContent:()=>(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t["1AUTCA"])})},SECTION_NO_RESULTS:{lightSrc:n(55346),darkSrc:n(917847),width:421,height:218,renderContent:()=>(0,r.jsx)(s.EmptyStateText,{note:h.intl.string(h.t["+Zg0lZ"])})}}),f=e=>{let{theme:t}=e,n=h.intl.string(h.t["oi+B4u"]),i=g.SECTION_ALL;return(0,r.jsx)(l.Fragment,{children:(0,r.jsxs)(s.EmptyState,{theme:t,children:[(0,r.jsx)(s.EmptyStateImage,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,r.jsx)(s.EmptyStateText,{note:n})]})})};class _ extends l.PureComponent{render(){let{type:e,onClick:t,theme:n}=this.props,i={opacity:this.state.opacity},l=function(e){switch(e){case u.pJs.ADD_FRIEND:case u.pJs.ALL:return g.SECTION_ALL;case u.pJs.ONLINE:return g.SECTION_ONLINE;case u.pJs.PENDING:return g.SECTION_PENDING;case u.pJs.SUGGESTIONS:return g.SECTION_SUGGESTIONS;case u.pJs.BLOCKED:return g.SECTION_BLOCKED;case"SECTION_NO_RESULTS":return g.SECTION_NO_RESULTS;default:throw Error("FriendsEmptyState: Invalid empty state")}}(e);return e===u.pJs.ADD_FRIEND?(0,r.jsx)(a.Z.div,{className:m.friendsEmpty,style:i,children:(0,r.jsx)(f,{theme:n})}):(0,r.jsx)(a.Z.div,{className:m.friendsEmpty,style:i,children:(0,r.jsxs)(s.EmptyState,{theme:n,children:[(0,r.jsx)(s.EmptyStateImage,{width:l.width,height:l.height,lightSrc:l.lightSrc,darkSrc:l.darkSrc}),l.renderContent(t,this.isStealthRemediationEnabled)]})})}constructor(...e){super(...e),p(this,"isStealthRemediationEnabled",(0,c.Do)({location:"FriendsEmptyState"})),p(this,"state",{opacity:new a.Z.Value(1)}),p(this,"componentWillEnter",e=>{this.state.opacity.setValue(0),a.Z.timing(this.state.opacity,{toValue:1,duration:250}).start(e)}),p(this,"componentWillLeave",e=>{a.Z.timing(this.state.opacity,{toValue:0,duration:250}).start(e)})}}t.Z=o.ZP.connectStores([d.Z],()=>({theme:d.Z.theme}),{forwardRef:!0})(_)},696577:function(e,t,n){n.d(t,{Z:function(){return E}});var i=n(200651),r=n(192379),l=n(692547),a=n(481060),o=n(194359),s=n(906732),c=n(171368),d=n(594174),u=n(626135),h=n(321488),m=n(417183),p=n(170245),g=n(981631),f=n(388032),_=n(55945);function E(e){let{user:t,type:n,status:E,isFocused:I}=e,C=r.useContext(u.AnalyticsContext),{analyticsLocations:v}=(0,s.ZP)(),S=e=>{e.stopPropagation(),o.Z.cancelFriendRequest(t.id,{location:"Friends"})},N=e=>{e.stopPropagation(),o.Z.addRelationship({userId:t.id,context:{location:"Friends"}})},T=E===g.Skl.OFFLINE?g.Skl.UNKNOWN:E,b=n===g.OGo.PENDING_INCOMING?f.intl.string(f.t.ZOFd1N):f.intl.string(f.t.zz2i8v);return(0,i.jsx)(m.Z,{isFocused:I,user:t,onClick:()=>(0,c.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:v,analyticsLocation:C.location}),children:e=>{var r;let o=n===g.OGo.PENDING_INCOMING?(0,i.jsxs)(i.Fragment,{children:[(null===(r=d.default.getCurrentUser())||void 0===r?void 0:r.isStaff())&&(null==t?void 0:t.isStaff())&&(0,i.jsx)("div",{className:_.staffIndicator,children:(0,i.jsx)(a.TextBadge,{color:l.Z.unsafe_rawColors.BRAND_500.css,text:f.intl.string(f.t.oMx98P)})}),(0,i.jsx)(h.Z,{icon:a.CheckmarkLargeIcon,actionType:h.Z.ActionTypes.ACCEPT,tooltip:f.intl.string(f.t.ZcibdX),onClick:N,shouldHighlight:e}),(0,i.jsx)(h.Z,{icon:a.XSmallIcon,actionType:h.Z.ActionTypes.DENY,tooltip:f.intl.string(f.t.xuio0N),onClick:S,shouldHighlight:e})]}):(0,i.jsx)(h.Z,{icon:a.XSmallIcon,actionType:h.Z.ActionTypes.DENY,tooltip:f.intl.string(f.t.eaq81d),onClick:S,shouldHighlight:e});return(0,i.jsxs)("div",{className:_.listItemContents,children:[(0,i.jsx)(p.Z,{user:t,hovered:e,showAccountIdentifier:!0,status:T,subText:b}),(0,i.jsx)("div",{className:_.actions,children:o})]})}})}},596957:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(529103),d=n(194359),u=n(410575),h=n(607070),m=n(100527),p=n(906732),g=n(795448),f=n(922611),_=n(699516),E=n(974042),I=n(451478),C=n(434184),v=n(701861),S=n(437314),N=n(696577),T=n(163417),b=n(830880),x=n(492347),A=n(42575),Z=n(617015),L=n(981631),P=n(388032),y=n(732144);t.Z=function(e){let{sectionFilter:t,titleId:l}=e,{analyticsLocations:O}=(0,p.ZP)(m.Z.FRIENDS_LIST),{rows:R,section:j}=(0,o.cj)([E.ZP],()=>E.ZP.getState()),D=(0,o.e7)([I.Z],()=>I.Z.isFocused()),{relationshipCount:M,hasBlockedOrIgnored:w}=(0,o.cj)([_.Z],()=>({relationshipCount:_.Z.getRelationshipCount(),hasBlockedOrIgnored:_.Z.getBlockedOrIgnoredIDs().length>0})),k=(0,f.Do)({location:"PeopleList"}),[U,G]=r.useState(()=>{let e={};for(let t of Object.values(L.pJs))e[t]="";return e}),B=()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("36312").then(n.bind(n,153932));return t=>(0,i.jsx)(e,{...t})})},H=r.useCallback(e=>{G({...U,[t]:e})},[U,t]),V=r.useCallback(()=>{G({...U,[t]:""})},[U,t]),F=t===L.pJs.PENDING&&(R.filter(L.pJs.SPAM).length>0||R.filter(L.pJs.PENDING_IGNORED).length>0),z=R.filter(t,U[t]);if(r.useEffect(()=>{t===L.pJs.ALL&&(0,g.d$)()},[t]),0===z.length&&""===U[t])return(0,i.jsx)("div",{className:y.emptyStateContainer,children:(0,i.jsx)(S.Z,{type:t,onClick:F?B:t!==L.pJs.PENDING?()=>{c.Z.setSection(L.pJs.ADD_FRIEND)}:void 0},j)});let W=[z],Y=0===z.length&&""!==U[t],K=z.filter(e=>e.type===L.OGo.PENDING_INCOMING).length,q=t===L.pJs.PENDING&&K>0&&K>=Z.yf;return(0,i.jsx)(p.Gt,{value:O,children:(0,i.jsxs)(u.Z,{section:L.jXE.FRIENDS_LIST,children:[k&&w&&(0,i.jsx)(b.R,{}),(0,i.jsx)(s.SearchBar,{className:a()(y.searchBar,Y?y.searchEmptyState:null),query:U[t],onChange:H,onClear:V,size:s.SearchBar.Sizes.MEDIUM}),(0,i.jsxs)("div",{className:y.sectionTitle,children:[(0,i.jsx)(x.Z,{id:l,title:function(e,t){switch(e){case L.pJs.ONLINE:return P.intl.formatToPlainString(P.t.BagU2d,{online:t.toString()});case L.pJs.PENDING:return P.intl.formatToPlainString(P.t.XIpar6,{count:t.toString()});case L.pJs.SUGGESTIONS:return P.intl.formatToPlainString(P.t["DYMZ/v"],{count:t.toString()});case L.pJs.BLOCKED:return P.intl.formatToPlainString(P.t.M83kKy,{count:t.toString()});default:return P.intl.formatToPlainString(P.t.rHRrhI,{count:t.toString()})}}(t,z.length)}),q&&(0,i.jsx)(s.Button,{look:s.ButtonLooks.LINK,color:s.ButtonColors.LINK,className:y.clearButton,size:s.Button.Sizes.TINY,onClick:e=>{e.stopPropagation(),d.Z.confirmClearPendingRelationships(K)},"aria-label":P.intl.string(P.t.T3uOb2),children:P.intl.string(P.t.T3uOb2)})]}),Y?(0,i.jsx)("div",{className:y.emptyStateContainer,children:(0,i.jsx)(S.Z,{type:S.j.SECTION_NO_RESULTS},j)}):(0,i.jsx)(T.Z,{relationshipCount:M,statusSections:W,renderRow:function(e){switch(t){case L.pJs.BLOCKED:return(0,i.jsx)(C.Z,{...e,isFocused:D});case L.pJs.PENDING:return(0,i.jsx)(N.Z,{...e,isFocused:D});case L.pJs.SUGGESTIONS:return(0,i.jsx)(A.Z,{...e,isFocused:D});case L.pJs.ONLINE:case L.pJs.ALL:default:let{key:n,...r}=e;return(0,i.jsx)(v.Z,{...r,isFocused:D},n)}},sectionFilter:t,searchQuery:U[t],useReducedMotion:h.Z.useReducedMotion,footer:F?(0,i.jsx)(s.Button,{look:s.Button.Looks.LINK,color:y.viewSpamButtonColor,className:y.viewSpamButton,onClick:()=>B(),size:s.ButtonSizes.TINY,children:(0,i.jsx)(s.Text,{variant:"text-xs/medium",children:k?P.intl.string(P.t.R40bU1):P.intl.string(P.t.rXl8fn)})}):null})]})})}},417183:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(748780),s=n(91192),c=n(481060),d=n(239091),u=n(617015),h=n(189519);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.PureComponent{componentWillLeave(e){o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:0,duration:200}),o.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)}componentWillEnter(e){this.state.opacity.setValue(0),this.state.height.setValue(0),o.Z.parallel([o.Z.timing(this.state.opacity,{toValue:1,duration:200}),o.Z.timing(this.state.height,{toValue:u.NV,duration:200})]).start(e)}render(){let{height:e,opacity:t,hovered:n,isContextMenuActive:r}=this.state,{children:l,user:d,onClick:u,isActive:m,className:p,activeClassName:g}=this.props;return(0,i.jsx)(s.mh,{id:d.id,children:s=>(0,i.jsx)(c.FocusRing,{offset:{left:-8,right:-8},children:(0,i.jsx)(o.Z.div,{className:a()(p,h.peopleListItem,null!=g?{[g]:m||r}:null,{[h.active]:m||r}),onContextMenu:e=>this.handleContextMenu(e,d),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:null!=u?u:void 0,style:{height:e,opacity:t},...s,children:l(n||m||r)})})})}constructor(...e){super(...e),m(this,"state",{height:new o.Z.Value(u.NV),opacity:new o.Z.Value(1),hovered:!1,isContextMenuActive:!1}),m(this,"handleMouseEnter",()=>{let{isFocused:e,isActive:t,onOtherHover:n}=this.props,{isContextMenuActive:i}=this.state;this.setState({hovered:e}),e&&!t&&!i&&(null==n||n())}),m(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),m(this,"handleContextMenu",(e,t)=>{this.setState({isContextMenuActive:!0}),(0,d.jW)(e,async()=>{let{default:e}=await Promise.all([n.e("79695"),n.e("69220"),n.e("95052")]).then(n.bind(n,881351));return n=>(0,i.jsx)(e,{...n,user:t})},{onClose:()=>{this.setState({isContextMenuActive:!1})}})})}}t.Z=p},163417:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var r=n(145641),l=n(322701),a=n(617015);function o(e){let{relationshipCount:t,statusSections:n,renderRow:o,searchQuery:s,sectionFilter:c,useReducedMotion:d,footer:u}=e;return t>=a.nG?(0,i.jsx)(r.Z,{statusSections:n,renderRow:o,searchQuery:s,footer:u}):(0,i.jsx)(l.Z,{statusSections:n,renderRow:o,sectionFilter:c,searchQuery:s,useReducedMotion:d,footer:u})}},145641:function(e,t,n){var i=n(200651),r=n(192379),l=n(924826),a=n(91192),o=n(442837),s=n(481060),c=n(607070),d=n(617015),u=n(732144);t.Z=function(e){let{statusSections:t,renderRow:n,searchQuery:h,footer:m}=e,p=e=>{let{section:i,row:r}=e,l=t[i];if(null==l||null==r)return null;let a=l[r];return null==a?null:n(a)},g=(0,o.e7)([c.Z],()=>c.Z.keyboardModeEnabled),f=r.useRef(null),_=r.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToTop({callback:()=>requestAnimationFrame(()=>e())})}),[]),E=r.useCallback(()=>new Promise(e=>{let t=f.current;if(null==t)return e();t.scrollToBottom({callback:()=>requestAnimationFrame(()=>e())})}),[]),I=r.useCallback(e=>{let t=document.querySelector(e),n=f.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:()=>null==t?void 0:t.focus()})},[]),C=(0,l.ZP)({id:"people-list",isEnabled:g,scrollToStart:_,scrollToEnd:E,setFocus:I});return(0,i.jsx)(a.bG,{navigator:C,children:(0,i.jsx)(a.SJ,{children:e=>{let{ref:n,...r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ListAuto,{ref:e=>{var t;f.current=e,n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:0,renderRow:p,rowHeight:d.NV,sections:t.map(e=>""!==h&&0===e.length?e.length+1:e.length),className:u.peopleList,...r}),m]})}})})}},322701:function(e,t,n){var i=n(200651);n(192379);var r=n(924826),l=n(91192),a=n(442837),o=n(215569),s=n(481060),c=n(607070),d=n(981631),u=n(732144);t.Z=function(e){let{statusSections:t,renderRow:n,searchQuery:h,sectionFilter:m,useReducedMotion:p,footer:g}=e,f=(0,a.e7)([c.Z],()=>c.Z.keyboardModeEnabled),_=(0,r.ZP)({id:"people",isEnabled:f,async scrollToStart(){},async scrollToEnd(){}}),E=m!==d.pJs.ONLINE&&m!==d.pJs.ALL,I=p||""!==h||E,C=t.map((e,t)=>I?(0,i.jsx)("div",{children:e.map(n)},t):(0,i.jsx)(o.W,{transitionAppear:!1,component:"div",children:e.map(n)},t));return(0,i.jsx)(l.bG,{navigator:_,children:(0,i.jsx)(l.SJ,{children:e=>{let{ref:t,...n}=e;return(0,i.jsxs)(s.ScrollerAuto,{ref:t,className:u.peopleList,...n,children:[C,g]})}})})}},270759:function(e,t,n){n(610138),n(216116),n(78328),n(815648),n(47120),n(757143);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(512969),s=n(873546),c=n(442837),d=n(481060),u=n(570140),h=n(150063),m=n(529103),p=n(252618),g=n(313201),f=n(5254),_=n(984370),E=n(518311),I=n(199104),C=n(922611),v=n(108427),S=n(210887),N=n(974042),T=n(666286),b=n(596957),x=n(981631),A=n(723359),Z=n(388032),L=n(224602);function P(){return(0,i.jsx)("div",{className:L.inviteToolbar,children:(0,i.jsx)(E.Z,{tooltip:Z.intl.string(Z.t.HfOgAw)})})}t.Z=function(e){let{initialSection:t}=e,n=(0,C.Do)({location:"PeoplePage"}),l=(0,o.TH)(),E=(0,o.k6)();r.useEffect(()=>{"true"===new URLSearchParams(l.search).get("confirm-age")&&u.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:A.L0.DEEP_LINK_PROMPT}).then(()=>{E.replace(x.Z5c.ME)})},[E,l]),r.useEffect(()=>{h.Y(x.Z5c.FRIENDS),(0,v.e)("friends")},[]),r.useEffect(()=>{null!=t&&m.Z.setInitialSection(t)},[t]);let y=(0,c.e7)([S.Z],()=>S.Z.theme),{section:O,pendingCount:R}=(0,c.cj)([N.ZP],()=>N.ZP.getState()),j=(0,c.e7)([f.Z],()=>f.Z.getSuggestionCount()),D=e=>{m.Z.setSection(e)},M=(0,g.Dt)(),w=(0,g.Dt)();return(0,i.jsxs)("main",{className:L.container,"aria-label":Z.intl.string(Z.t.TdEu5e),children:[(0,i.jsx)(p.yY,{location:Z.intl.string(Z.t.TdEu5e)}),(0,i.jsx)(d.ThemeProvider,{theme:y,children:e=>(0,i.jsxs)(_.Z,{className:e,toolbar:(0,i.jsx)(P,{}),scrollable:s.tq,role:"navigation","aria-labelledby":M,children:[(0,i.jsx)(_.Z.Icon,{icon:d.FriendsIcon,"aria-hidden":!0}),(0,i.jsx)(_.Z.Title,{id:M,children:Z.intl.string(Z.t.TdEu5e)}),(0,i.jsx)(_.Z.Divider,{}),(0,i.jsxs)(d.TabBar,{"aria-label":Z.intl.string(Z.t.TdEu5e),selectedItem:O,type:"top-pill",onItemSelect:D,className:L.tabBar,children:[(0,i.jsx)(d.TabBar.Item,{id:x.pJs.ONLINE,className:L.item,children:Z.intl.string(Z.t.b9w3bG)}),(0,i.jsx)(d.TabBar.Item,{id:x.pJs.ALL,className:L.item,children:Z.intl.string(Z.t.PfjFjY)}),(0,i.jsxs)(d.TabBar.Item,{id:x.pJs.PENDING,className:L.item,"aria-label":Z.intl.string(Z.t.p6IHGB),children:[Z.intl.string(Z.t.p6IHGB),R>0?(0,i.jsx)(d.NumberBadge,{count:R,className:L.badge}):null]}),j>0?(0,i.jsxs)(d.TabBar.Item,{id:x.pJs.SUGGESTIONS,className:L.item,"aria-label":Z.intl.string(Z.t["8rSi19"]),children:[Z.intl.string(Z.t["8rSi19"]),(0,i.jsx)(d.NumberBadge,{count:j,className:L.badge})]}):null,n?null:(0,i.jsx)(d.TabBar.Item,{id:x.pJs.BLOCKED,className:L.item,children:Z.intl.string(Z.t["4bDptL"])}),(0,i.jsx)(d.TabBar.Item,{"aria-label":Z.intl.string(Z.t.j0wbEx),className:a()(L.item,L.addFriend),id:x.pJs.ADD_FRIEND,children:(0,i.jsx)("span",{children:Z.intl.string(Z.t.j0wbEx)})})]})]})}),(0,i.jsxs)("div",{className:L.tabBody,children:[(0,i.jsx)(d.TabBar.Panel,{id:O,className:L.peopleColumn,"aria-labelledby":w,children:O===x.pJs.ADD_FRIEND?(0,i.jsx)(T.Z,{}):(0,i.jsx)(b.Z,{titleId:w,sectionFilter:O})}),(0,i.jsx)("div",{className:L.nowPlayingColumn,children:(0,i.jsx)(I.Z,{})})]})]})}},830880:function(e,t,n){n.d(t,{R:function(){return g}}),n(47120);var i=n(200651);n(192379);var r=n(704215),l=n(481060),a=n(230711),o=n(243778),s=n(187819),c=n(981631),d=n(921944),u=n(526761),h=n(726985),m=n(388032),p=n(962479);function g(){let[e,t]=(0,o.US)([r.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE]),n=e===r.z.RESTRICTED_ACCOUNTS_SETTING_NOTICE,g=(0,s._p)({location:"PeopleList"}),f=()=>{a.Z.open(g?c.oAB.CONTENT_AND_SOCIAL:c.oAB.ACCOUNT,h.s6.RESTRICTED_USERS,{scrollPosition:u.FY.RESTRICTED_ACCOUNTS})};return n?(0,i.jsxs)("div",{className:p.blockedIgnoredSettingsNotice,children:[(0,i.jsx)(l.CircleInformationIcon,{size:"md"}),(0,i.jsx)(l.Text,{variant:"text-sm/medium",color:"interactive-active",children:m.intl.format(m.t.zqv4nZ,{hook:(e,t)=>(0,i.jsx)(l.Anchor,{onClick:f,children:e},t)})}),(0,i.jsx)(l.Clickable,{className:p.closeButton,onClick:()=>t(d.L.USER_DISMISS),children:(0,i.jsx)(l.XSmallIcon,{})})]}):null}},492347:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(200651);n(192379);var r=n(82295),l=n(379336);function a(e){let{title:t,id:n}=e;return(0,i.jsx)(r.Z,{className:l.title,id:n,children:t})}},825682:function(e,t,n){var i=n(200651);n(192379);var r=n(788307),l=n(588688),a=n(565640),o=n(51144),s=n(388032),c=n(542745);t.Z=function(e){let{hovered:t,activities:n,applicationStream:d,status:u,user:h,userIgnored:m}=e,p=(0,a.Z)(null==h?void 0:h.id,"StatusText");return m?(0,i.jsx)("div",{className:c.text,children:s.intl.string(s.t.tFY5ZW)}):n.length>0?(0,i.jsx)(r.ZP,{className:c.activity,textClassName:c.text,emojiClassName:c.customStatusEmoji,activities:n,applicationStream:d,animate:t,user:h}):null!=p?(0,i.jsx)(l.Z,{className:c.activity,textClassName:c.text,entry:p}):(0,i.jsx)("div",{className:c.text,children:(0,o.u5)(u)})}},42575:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(200651),r=n(192379),l=n(481060),a=n(194359),o=n(906732),s=n(388380),c=n(171368),d=n(626135),u=n(321488),h=n(417183),m=n(170245),p=n(981631),g=n(388032),f=n(28504);function _(e){let{user:t,nickname:n,status:_,isFocused:E}=e,I=r.useContext(d.AnalyticsContext),{analyticsLocations:C}=(0,o.ZP)(),v=e=>{null==e||e.stopPropagation(),a.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})},S=e=>{null==e||e.stopPropagation(),s.Z.ignore(t.id)},N=_===p.Skl.OFFLINE?p.Skl.UNKNOWN:_;return(0,i.jsx)(h.Z,{isFocused:E,user:t,onClick:()=>(0,c.openUserProfileModal)({userId:t.id,sourceAnalyticsLocations:C,analyticsLocation:I.location}),children:e=>{let r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{icon:l.CheckmarkLargeIcon,actionType:u.Z.ActionTypes.ACCEPT,tooltip:g.intl.string(g.t.ZcibdX),onClick:v,shouldHighlight:e}),(0,i.jsx)(u.Z,{icon:l.XSmallIcon,actionType:u.Z.ActionTypes.DENY,tooltip:g.intl.string(g.t.xuio0N),onClick:S,shouldHighlight:e})]});return(0,i.jsxs)("div",{className:f.listItemContents,children:[(0,i.jsx)(m.Z,{user:t,hovered:e,status:N,subText:n,className:f.__invalid_userInfo}),(0,i.jsx)("div",{className:f.actions,children:r})]})}})}},170245:function(e,t,n){var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(442837),o=n(129861),s=n(700582),c=n(699516),d=n(757338);t.Z=function(e){let{user:t,hovered:n,subText:r,showAccountIdentifier:u,status:h,isMobile:m,className:p}=e,g=(0,a.e7)([c.Z],()=>c.Z.getNickname(t.id));return(0,i.jsxs)("div",{className:l()(d.userInfo,p,{[d.hovered]:n}),children:[(0,i.jsx)(s.Z,{user:t,className:d.avatar,animate:n,status:h,isMobile:m}),(0,i.jsxs)("div",{className:d.text,children:[(0,i.jsx)(o.Z,{user:t,nick:g,botClass:d.botTag,className:l()(d.discordTag,{[d.alignPomelo]:t.isPomelo()}),usernameClass:d.username,discriminatorClass:d.discriminator,showAccountIdentifier:u}),(0,i.jsx)("div",{className:d.subtext,children:r})]})]})}},960275:function(e,t,n){n(47120);var i=n(570140),r=n(317770),l=n(314897),a=n(57562),o=n(882029),s=n(955204),c=n(351780),d=n(843693);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h=new Set;class m extends r.Z{_initialize(){i.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}_terminate(){i.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate),i.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)}constructor(...e){super(...e),u(this,"handleSettingsUpdate",e=>{let{settings:t}=e;t.enabled?(0,a.T)(s.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,a.T)(s.hn.DISABLE_POGGERMODE),Object.keys(t).some(e=>e.startsWith("confetti"))&&(0,a.T)(s.hn.CUSTOMIZE_CONFETTI)}),u(this,"handleMessageCreate",e=>{var t;let{channelId:n,message:{author:i,nonce:r,mentions:u}}=e;if(!c.Z.isEnabled())return!1;let m=l.default.getId();if((null==u?void 0:u.find(e=>e.id===m))!=null?(0,a.T)(s.hn.PING_ME):(null!==(t=null==u?void 0:u.length)&&void 0!==t?t:0)>0&&(null==i?void 0:i.id)===m&&(0,a.T)(s.hn.PING_SOMEONE),!(0,d.wU)(null==i?void 0:i.id,m,r,h))return!1;let p=d.ZP.getMostRecentMessageCombo(n),{combo:g}=null!=p?p:{};if(null==g)return!1;Object.values(s.hn).forEach(e=>{if(null!=o.Z.getUnlocked(e))return;let t=(0,s.oX)(e),n=null==t?void 0:t.checkUnlock;if(null!=n&&!1!==n(g))(0,a.T)(e)})})}}t.Z=new m},678492:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(317770),o=n(388032);class s extends a.Z{_initialize(){l.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}_terminate(){l.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}handlePoggermodeTemporarilyDisabled(){(0,r.openModal)(e=>(0,i.jsx)(r.ConfirmModal,{...e,header:o.intl.string(o.t.wDQgnZ),confirmText:o.intl.string(o.t["cY+Ooa"]),confirmButtonColor:r.Button.Colors.GREEN,children:(0,i.jsx)(r.Text,{variant:"text-md/normal",children:o.intl.string(o.t.OJklbW)})}))}}t.Z=new s},269089:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(570140),l=n(765250),a=n(317770),o=n(663993),s=n(355863),c=n(788983),d=n(981631);n(378481);let u=(0,o.Un)({createPromise:()=>n.e("58621").then(n.bind(n,223455)),webpackId:223455,name:"PopoutWindowChannelCall"}),h=(0,o.Un)({createPromise:()=>n.e("91032").then(n.bind(n,432472)),webpackId:432472,name:"PopoutWindowStageChannelCall"}),m=(0,o.Un)({createPromise:()=>Promise.all([n.e("33053"),n.e("75714")]).then(n.bind(n,945778)),webpackId:945778,name:"PopoutWindowRTCDebug"}),p=(0,o.Un)({createPromise:()=>Promise.all([n.e("93382"),n.e("19578"),n.e("72884"),n.e("14797")]).then(n.bind(n,748623)),webpackId:748623,name:"PopoutWindowActivity"});class g extends a.Z{_initialize(){r.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),r.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),r.Z.subscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.initializeStyleSheetObserver()}_terminate(){r.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout),r.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout),r.Z.unsubscribe("ACTIVITY_POPOUT_WINDOW_OPEN",this.handleOpenActivityPopout),this.terminateStyleSheetObserver()}handleOpenChannelCallPopout(e){let{channel:t}=e;c.bA(d.KJ3.CHANNEL_CALL_POPOUT,e=>t.isGuildStageVoice()?(0,i.jsx)(h,{windowKey:e,channelId:t.id}):(0,i.jsx)(u,{windowKey:e,channelId:t.id}),{defaultWidth:854,defaultHeight:480})}initializeStyleSheetObserver(){this._observer=new MutationObserver(function(e){for(let t of e)if("childList"===t.type){for(let e of t.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&"LINK"===e.tagName&&"stylesheet"===e.rel){let t=e.href,n=e.integrity;c.YS(t,n)}}}),this._observer.observe(document.head,{childList:!0})}terminateStyleSheetObserver(){null!=this._observer&&(this._observer.disconnect(),this._observer=null)}handleOpenRTCDebugPopout(){c.bA(d.KJ3.RTC_DEBUG_POPOUT,e=>(0,i.jsx)(m,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}async handleOpenActivityPopout(){let{OVERLAY_V3_LAYOUT_ID:e}=await Promise.resolve().then(n.bind(n,501787));(0,l.te)(e,s.Z.getDefaultLayout(e,1),1),c.bA(d.KJ3.ACTIVITY_POPOUT,e=>(0,i.jsx)(p,{windowKey:e}),{defaultWidth:854,defaultHeight:480})}constructor(...e){var t,n,i;super(...e),t=this,i=null,(n="_observer")in t?Object.defineProperty(t,n,{value:null,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}}t.Z=new g},380570:function(e,t,n){n(47120);var i=n(748780),r=n(570140),l=n(317770),a=n(716578),o=n(928518);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{_initialize(){o.Z.addChangeListener(this.handlePopoutWindowChange),r.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)}_terminate(){o.Z.removeChangeListener(this.handlePopoutWindowChange),r.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus),this.injectWindowAnimationFrame(window)}injectWindowAnimationFrame(e){let t=t=>e.requestAnimationFrame(t),n=t=>e.cancelAnimationFrame(t);i.Z.inject.RequestAnimationFrame(t),i.Z.inject.CancelAnimationFrame(n),a.f.setRAF(t,n)}constructor(...e){super(...e),s(this,"handleMainWindowFocus",e=>{e.focused&&e.windowId===window.__DISCORD_WINDOW_ID&&this.injectWindowAnimationFrame(window)}),s(this,"handlePopoutWindowChange",()=>{let e=o.Z.getWindowKeys().find(e=>o.Z.getWindowFocused(e));if(null==e)return this.injectWindowAnimationFrame(window);let t=o.Z.getWindow(e);if(null==t||t.closed)return this.injectWindowAnimationFrame(window);this.injectWindowAnimationFrame(t)})}}t.Z=new c},278788:function(e,t,n){n.d(t,{HZ:function(){return a},kf:function(){return o}});var i=n(192379),r=n(818083),l=n(987338);let a=(0,r.B)({kind:"user",id:"2024-12_confetti_potion",label:"Confetti Potion Experiment",commonTriggerPoint:l.$P.CONNECTION_OPEN,defaultConfig:{canPurchase:!1,canSeeConfetti:!1,canSeeEducation:!1,canSeeUpsells:!1},treatments:[{id:1,label:"Viewer Treatment",config:{canPurchase:!1,canSeeConfetti:!0,canSeeEducation:!0,canSeeUpsells:!1}},{id:2,label:"Purchaser Treatment",config:{canPurchase:!0,canSeeConfetti:!0,canSeeEducation:!0,canSeeUpsells:!0}}]}),o=e=>i.useMemo(()=>a.getCurrentConfig({location:e},{autoTrackExposure:!1}),[e]).canSeeConfetti},240504:function(e,t,n){var i,r=n(442837),l=n(570140);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=12*n(70956).Z.Millis.HOUR,s={profileThemesRelevanceExceeded:null,savedAt:null},c={hasFetchedRelevance:!1},d=s,u=c;class h extends(i=r.ZP.PersistedStore){initialize(e){u=c,d=s;let t=new Date;null!=e&&null!=e.savedAt&&t.getTime()-e.savedAt<o&&(d=e)}get hasFetchedRelevance(){return u.hasFetchedRelevance}get profileThemesRelevanceExceeded(){return d.profileThemesRelevanceExceeded}getState(){return d}}a(h,"displayName","PerksRelevanceStore"),a(h,"persistKey","PerksRelevanceStore"),t.Z=new h(l.Z,{BILLING_PERKS_RELEVANCE_FETCH_START:function(){u.hasFetchedRelevance=!0},BILLING_PERKS_RELEVANCE_FETCH_SUCCESS:function(e){let{res:t}=e;null!=t&&(d.profileThemesRelevanceExceeded=t.eligible,d.savedAt=new Date().getTime())},BILLING_PERKS_RELEVANCE_FETCH_FAIL:function(){},LOGOUT:function(){u=c,d=s}})},837689:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(873546),l=n(704215),a=n(481060),o=n(570140),s=n(317770),c=n(605236),d=n(594174),u=n(431),h=n(74538),m=n(374023),p=n(775412),g=n(913976),f=n(533990),_=n(104494),E=n(29920),I=n(346497),C=n(278945),v=n(727310),S=n(318199),N=n(474936);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b="PremiumServerDriveAnnouncementModal";class x extends s.Z{_initialize(){o.Z.subscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.subscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}_terminate(){o.Z.unsubscribe("PREMIUM_MARKETING_DATA_READY",this.mayShowAnnouncementModal),o.Z.unsubscribe("PREMIUM_MARKETING_PREVIEW",this.handlePreview)}constructor(...e){super(...e),T(this,"maybeOpenServerDriveAnnouncementModal",async(e,t)=>{let r=(0,S.extractAnnouncementModalContent)({content:e,isPreview:t});if(null!=r)return!!(!1!==t||(null==r?void 0:r.contentIdentifier)!=="summer_bogo_content"||await (0,I.k)())&&((0,a.closeModal)(b),(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,318199));return t=>(0,i.jsx)(e,{renderModalProps:t,properties:r})},{modalKey:b}),!0);return!1}),T(this,"handlePreview",e=>{let{properties:t}=e;this.maybeOpenServerDriveAnnouncementModal(t,!0)}),T(this,"getOfferFromStore",()=>{let e=d.default.getCurrentUser();if((0,h.I5)(e))return{};let t=[N.hs,N.RU,N.rB,N.ih].map(e=>u.Z.getUserDiscountOffer(e)).filter(e=>null!=e&&!(0,_.kA)(e)).shift();if(null!=t)return{userDiscountOffer:t};let n=(0,p.J0)();return null!=n?{userTrialOffer:n}:{}}),T(this,"mayShowAnnouncementModal",async()=>{if(await (0,I.l2)(),m.s.isDisallowPopupsSet())return;let e=this.getOfferFromStore(),t=f.Z.getCurrentConfig({location:"announcementManager"},{autoTrackExposure:!1}).inExperiment||f.Z.isAAMode({location:"announcementManager"}),n=(0,c.un)(l.z.REVERSE_TRIAL_ENDED_UPSELL),i=d.default.getCurrentUser();if(t&&!n&&!(0,a.hasAnyModalOpen)()&&!(0,h.I5)(i)){let t=await (0,C.r)(e.userTrialOffer);null!=t&&(0,v.Z)({upsellType:t})}if(null==i||!!i.verified){if(!(0,a.hasAnyModalOpen)()&&g.Z.getCurrentConfig({location:"OfferAnnouncementManager"}).enabled&&!r.tq){for(let t of(await (0,E.H)(e)))if(await this.maybeOpenServerDriveAnnouncementModal(t,!1))break}}})}}t.Z=new x},565216:function(e,t,n){var i=n(200651);n(192379);var r=n(692547),l=n(780384),a=n(481060),o=n(410030);t.Z=e=>{let{className:t}=e,n=(0,o.ZP)(),s=(0,a.useToken)(r.Z.colors.BACKGROUND_ACCENT).hex();return(0,i.jsx)("svg",{width:"700",height:"120",viewBox:"0 0 700 120",className:t,xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fill:(0,l.wj)(n)?s:"white",opacity:"1",d:"M351 39.047C185.4 -31.2102 48 9.77319 0 39.047V583.068C0 587.486 3.58174 591.068 8.00002 591.068H692C696.418 591.068 700 587.486 700 583.068V39.047C653.333 68.3208 516.6 109.304 351 39.047Z"})})}},318199:function(e,t,n){n.r(t),n.d(t,{default:function(){return f},extractAnnouncementModalContent:function(){return g}});var i=n(200651);n(192379);var r=n(581282),l=n(8853),a=n(663002),o=n(2052),s=n(410030),c=n(100527),d=n(906732),u=n(605236),h=n(960048),m=n(276792),p=n(290347);function g(e){let{content:t,isPreview:n}=e,i=l.t.fromBinary((0,r.c)(t));return"announcementModalVariant1"!==i.properties.oneofKind?null:!n&&(0===i.properties.announcementModalVariant1.dismissKey.trim().length||(0,u.un)(Number(i.properties.announcementModalVariant1.dismissKey)))?null:(n&&(i.properties.announcementModalVariant1.dismissKey=""),i)}function f(e){let{renderModalProps:t,properties:n}=e,{location:r}=(0,o.O)(),{analyticsLocations:l}=(0,d.ZP)(c.Z.PREMIUM_MARKETING_ANNOUNCEMENT_MODAL),u=(0,s.ZP)(),g=(0,a.ap)(u);if("announcementModalVariant1"===n.properties.oneofKind){let e=(0,m.N)({content:n.properties.announcementModalVariant1,renderModalProps:t,analyticsLocations:l,analyticsLocation:r,isLightTheme:g});return(0,i.jsx)(p.Z,{...e})}return h.Z.captureMessage("Property type ".concat(n.properties.oneofKind," is not supported to render ServerDriveAnnouncementModal")),null}},637906:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-08_dcf_ml_model",label:"DCF ML Perks Relevance Model",defaultConfig:{enabled:!1},treatments:[{id:0,label:"threshold 0",config:{enabled:!0}},{id:1,label:"threshold 1",config:{enabled:!0}},{id:2,label:"threshold 2",config:{enabled:!0}},{id:3,label:"threshold 3",config:{enabled:!0}},{id:4,label:"threshold 4",config:{enabled:!0}}]});t.Z=i},913976:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2023-12_marketing_automation_experiment",label:"Marketing Automation",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Ask server for marketing content for rendering",config:{enabled:!0}}]});t.Z=i},857753:function(e,t,n){n.d(t,{Y:function(){return l}});var i=n(818083),r=n(987338);let l=(0,i.B)({kind:"user",id:"2024-10_mobile_referral_trial_recipient",label:"Referral Recipient Experiment",commonTriggerPoint:r.$P.CONNECTION_OPEN,defaultConfig:{enabled:!1},treatments:[{id:1,label:"Referral Recipient Experiment on Mobile",config:{enabled:!0}}]})},533990:function(e,t,n){let i=(0,n(818083).B)({kind:"user",id:"2024-08_reverse_trial",label:"Reverse Trials",defaultConfig:{enabled:!1,isFollowup:!1,inExperiment:!1},treatments:[{id:0,label:"Users receives no trial.",config:{enabled:!1,isFollowup:!1,inExperiment:!0}},{id:1,label:"Users recieve 2 week trial.",config:{enabled:!0,isFollowup:!1,inExperiment:!0}},{id:2,label:"User recieves 1 week trial and 1 week followup trial",config:{enabled:!0,isFollowup:!0,inExperiment:!0}},{id:98,label:"Users recieve 2 week trial.",config:{enabled:!0,isFollowup:!1,inExperiment:!0}},{id:99,label:"User recieves 1 week trial and 1 week followup trial",config:{enabled:!0,isFollowup:!0,inExperiment:!0}}]});t.Z=i},767870:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(704215),o=n(927359),s=n(243778),c=n(325767),d=n(823188),u=n(664358);let h="premium_tier_gradient",m="smaller_sparkle_gradient";function p(e){let{width:t=14,height:n=15,color:r="white",foreground:l,...a}=e;return(0,i.jsxs)("svg",{...(0,c.Z)({...a}),preserveAspectRatio:"none",width:t,height:n,viewBox:"0 0 14 15",className:l,xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:h,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#8547C6"}),(0,i.jsx)("stop",{offset:"50%",stopColor:"#B845C1"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#AB5D8A"})]})}),(0,i.jsxs)("linearGradient",{id:m,x1:"-4.95474",y1:"5.44067",x2:"11.2384",y2:"8.58386",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#8547C6"}),(0,i.jsx)("stop",{offset:"0.52899",stopColor:"#B845C1"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#AB5D8A"})]}),(0,i.jsx)("path",{d:"M8.59403 1.52779C8.04647 0.0480288 5.95353 0.0480288 5.40597 1.52779L4.56476 3.8011C4.36219 4.34854 3.93057 4.78016 3.38313 4.98273L1.10982 5.82394C-0.36994 6.3715 -0.36994 8.46444 1.10982 9.012L3.38313 9.8532C3.93057 10.0558 4.36219 10.4874 4.56476 11.0348L5.40597 13.3081C5.95353 14.7879 8.04647 14.7879 8.59403 13.3081L9.43524 11.0348C9.63781 10.4874 10.0694 10.0558 10.6169 9.8532L12.8902 9.012C14.3699 8.46444 14.3699 6.3715 12.8902 5.82394L10.6169 4.98273C10.0694 4.78016 9.63781 4.34854 9.43524 3.8011L8.59403 1.52779Z",fill:r})]})}function g(e){let{className:t,endsAt:n,messageStyle:r,upperCase:c,showSparkles:g,currentEntitlementId:f}=e,[_]=(0,s.XR)(a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL,Number(f)),E=(0,o.Z)(n,r);return c&&(E=E.toUpperCase()),(0,i.jsxs)("div",{className:l()(t,u.countDown),children:[g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{foreground:u.sparkleStar1,color:"url(#".concat(m,")")}),(0,i.jsx)(p,{foreground:u.sparkleStar2,color:"url(#".concat(h,")")})]}):null,(0,i.jsx)(d.mn,{text:E,colorOptions:_===a.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL?d.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:d.VE.PREMIUM_TIER_2_GREY_FILL})]})}},443589:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(752877),s=n(990547),c=n(873546),d=n(481060),u=n(906732),h=n(213609),m=n(963249),p=n(579185),g=n(814443),f=n(626135),_=n(479446),E=n(522558),I=n(441623),C=n(317271),v=n(674701),S=n(474936),N=n(981631),T=n(388032),b=n(378480),x=n(423360);let A={width:14,height:14};function Z(e){let{recipientUser:t,giftIntentType:n,analyticsPage:l,shouldHighlight:Z}=e,{analyticsLocations:L}=(0,u.ZP)(),{isHovered:P,setIsHovered:y,onMouseEnter:O,onMouseLeave:R}=(0,p.Z)(200,300),{enableEmojiCTA:j}=E.w.useExperiment({location:"GiftIntentActionButton"},{autoTrackExposure:!1});r.useEffect(()=>{let e=g.Z.getUserAffinity(t.id);(0,h.h)({name:s.ImpressionNames.GIFT_INTENT_ACTION_BUTTON,type:s.ImpressionTypes.VIEW,properties:{gift_intent_type:n,affinity:null==e?void 0:e.affinity}})},[t,n]);let D=r.useCallback(e=>{"focus"!==e.type&&O()},[O]),M=e=>{e.stopPropagation();let i=g.Z.getUserAffinity(t.id);f.default.track(N.rMx.GIFT_INTENT_ACTION_BUTTON_CLICKED,{gift_intent_type:n,affinity:null==i?void 0:i.affinity}),(0,m.Z)({isGift:!0,initialPlanId:null,giftRecipient:t,analyticsLocation:(0,C.F)(n).actionButton,analyticsLocations:L,analyticsObject:{page:l,section:N.jXE.FRIENDS_LIST_FRIEND_ROW,object:N.qAy.BUTTON_CTA,objectType:N.Qqv.GIFT},giftMessage:w()})},w=()=>{if(n===S.hX.FRIEND_ANNIVERSARY)return T.intl.formatToPlainString(T.t["L2s/Nz"],{numberOfYears:I.Z.getFriendAnniversaryYears(t.id)});return(0,_.Ou)(n)},k=()=>{if(n===S.hX.FRIEND_ANNIVERSARY)return T.intl.string(T.t["4LohBA"]);return(0,_.Ou)(n)},U=()=>j?(0,i.jsx)(d.Clickable,{"aria-label":k(),onClick:M,className:a()(x.actionButton,b.popoutButton,{[x.highlight]:Z,[x.actionButtonMobile]:c.tq}),onMouseEnter:D,onMouseLeave:R,children:(0,i.jsx)(o.animated.div,{className:b.spriteContainer,children:(0,i.jsx)("div",{className:b.sprite})})}):(0,i.jsx)(d.Button,{onClick:M,onMouseEnter:D,onMouseLeave:R,children:(0,i.jsxs)("div",{className:b.pillContentContainer,children:[(0,i.jsx)(d.GiftIcon,{size:"custom",width:A.width,height:A.height,color:"currentColor"}),(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:"always-white",className:b.pillButtonText,children:k()})]})});return(0,i.jsx)(d.Popout,{animation:d.Popout.Animation.FADE,nudgeAlignIntoViewport:!1,closeOnScroll:!0,shouldShow:P,position:"right",align:"top",spacing:9,onRequestClose:()=>{y(!1)},renderPopout:e=>(0,i.jsx)(v.Z,{giftIntentType:n,premiumGiftIntentCardType:v.U.COACHMARK,recipientUser:t,onMouseEnter:O,onMouseLeave:R,popoutPosition:e.position,analyticsPage:l,analyticsSection:N.jXE.FRIENDS_LIST_FRIEND_ROW_GIFT_POPOUT,giftIntentSecondaryAction:S.X2.SEND_MESSAGE,glow:!0}),children:()=>U()})}},29920:function(e,t,n){n.d(t,{H:function(){return a}});var i=n(544891),r=n(960048),l=n(981631);async function a(e){let{userTrialOffer:t,userDiscount:n,userDiscountOffer:a}=e;try{let e=await i.tn.post({url:l.ANM.PREMIUM_MARKETING,body:{user_trial_offer:t,user_discount:n,user_discount_offer:a},rejectWithError:!0});if(e.ok)return e.body;return r.Z.captureMessage("fetchPremiumMarketingContentWithUserOffer failed"),[]}catch(e){return[]}}},276792:function(e,t,n){n.d(t,{N:function(){return _}});var i=n(200651);n(192379);var r=n(704215),l=n(740111),a=n(481060),o=n(963249),s=n(703656),c=n(626135),d=n(63063),u=n(823188),h=n(474936),m=n(981631),p=n(388032),g=n(204586),f=n(74316);function _(e){var t,n;let{content:_,renderModalProps:E,analyticsLocations:I,analyticsLocation:C,isLightTheme:v}=e,S="AnnouncementModalVariant1_".concat(r.z[Number(_.dismissKey)]),{onClose:N}=E,T=null!=_.button&&""!==_.button.copy?_.button.copy:p.intl.string(p.t.YScQSE),b=(null===(t=_.button)||void 0===t?void 0:t.buttonAction)===l.Wc.OPEN_MARKETING_PAGE?"jump_to_mkt_button":"get_nitro_button",x=(null===(n=_.button)||void 0===n?void 0:n.buttonAction)===l.Wc.OPEN_MARKETING_PAGE?()=>{(0,s.uL)(m.Z5c.APPLICATION_STORE),N()}:()=>(0,o.Z)({subscriptionTier:h.Si.TIER_2,analyticsLocations:I,analyticsObject:{...C,object:m.qAy.BUTTON_CTA,objectType:m.Qqv.TIER_2},onClose:e=>{e&&N()}}),A=""!==_.helpArticleId?()=>(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)(a.Anchor,{className:g.termsApplyAnchor,href:d.Z.getArticleURL(_.helpArticleId),children:p.intl.string(p.t["sBp+u7"])})]}):void 0,Z={type:"video",src:v?_.heroArtVideoLinkLightTheme:_.videoLink};null!=_.heroArtVideoSubtitles&&(Z.subtitles=_.heroArtVideoSubtitles.map(e=>({locale:e.locale,src:e.link,isDefault:!1}))),(""!==_.heroArtImageLinkDarkTheme||""!==_.heroArtImageLinkLightTheme)&&(Z={type:"image",src:v?_.heroArtImageLinkLightTheme:_.heroArtImageLinkDarkTheme});let L=v?u.VE.PREMIUM_TIER_2_NEW_GRADIENT_FILL:u.VE.PREMIUM_TIER_2_WHITE_FILL,P=""!==_.modalTopPill?()=>(0,i.jsx)(u.Cy,{text:_.modalTopPill,className:g.modalTopPill,colorOptions:L}):void 0;return{renderModalProps:E,header:_.header,modalTopExtra:P,subHeader:_.subheader,subHeaderExtra:A,body:_.body,heroArt:Z,featureCards:_.featureCards.map(e=>({header:e.header,subHeader:e.body,imageSrc:v?e.imageLinkLightTheme:e.imageLink,tagText:""!==e.pill?e.pill:void 0})),changeLogId:S,button:()=>{let e=Date.now();return(0,i.jsxs)(a.ShinyButton,{className:g.buttonWide,innerClassName:g.innerButton,wrapperClassName:g.tier2Gradient,size:a.Button.Sizes.SMALL,onClick:()=>{c.default.track(m.rMx.CHANGE_LOG_CTA_CLICKED,{change_log_id:S,cta_type:b,seconds_open:Math.round((Date.now()-e)/1e3),target:S}),x()},children:[(0,i.jsx)("img",{alt:"",className:g.nitroIconSubHeader,src:f}),T]})},modalDismissibleContent:""!==_.dismissKey?Number(_.dismissKey):void 0}}},792254:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(442837),r=n(410030),l=n(607070),a=n(474936),o=n(231338),s=n(955092),c=n(250225),d=n(778441),u=n(238988),h=n(298233),m=n(304354),p=n(265704),g=n(85010),f=n(954620),_=n(28747),E=n(962658),I=n(29971),C=n(730837),v=n(95897),S=n(171362),N=n(945720);function T(e){let t=(0,i.e7)([l.Z],()=>l.Z.useReducedMotion),n=(0,r.ZP)();return t?function(e,t){switch(e){case a.cd.ANIMATED_AVATAR_MODAL_UPSELL:return t===o.BR.DARK?f.Z:C.Z;case a.cd.ANIMATED_BANNER_MODAL_UPSELL:return t===o.BR.DARK?_.Z:v.Z;case a.cd.PROFILE_EFFECT_MODAL_UPSELL:return t===o.BR.DARK?I.Z:N.Z;case a.cd.AVATAR_DECORATION_MODAL_UPSELL:return t===o.BR.DARK?E.Z:S.Z}}(e,n):function(e,t){switch(e){case a.cd.ANIMATED_AVATAR_MODAL_UPSELL:return t===o.BR.DARK?s.Z:h.Z;case a.cd.ANIMATED_BANNER_MODAL_UPSELL:return t===o.BR.DARK?c.Z:m.Z;case a.cd.PROFILE_EFFECT_MODAL_UPSELL:return t===o.BR.DARK?u.Z:g.Z;case a.cd.AVATAR_DECORATION_MODAL_UPSELL:return t===o.BR.DARK?d.Z:p.Z}}(e,n)}},276645:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(200651);n(192379);var r=n(481060),l=n(970731),a=n(388032),o=n(733926);function s(e){let{guildId:t,markAsDismissed:s}=e;return(0,i.jsx)(l.ZP,{className:o.container,asset:(0,i.jsx)("img",{className:o.image,src:n(297806),alt:""}),header:a.intl.string(a.t["2l9beX"]),headerClassName:o.header,content:a.intl.string(a.t.gdqdND),buttonCTA:a.intl.string(a.t.RzWDqa),buttonProps:{color:r.ButtonColors.WHITE,innerClassName:o.primaryButton},onClick:()=>{(0,r.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("5863"),n.e("97984")]).then(n.bind(n,751212));return n=>(0,i.jsx)(e,{...n,guildId:t})})},secondaryButtonCTA:a.intl.string(a.t.TulDPj),secondaryButtonProps:{look:r.ButtonLooks.LINK,color:r.ButtonColors.WHITE},markAsDismissed:s})}},278945:function(e,t,n){n.d(t,{r:function(){return d}});var i=n(355467),r=n(78839),l=n(431),a=n(937579),o=n(533990),s=n(474936),c=n(981631);async function d(e){!r.ZP.hasFetchedMostRecentPremiumTypeSubscription()&&await (0,i.ou)();let t=r.ZP.getMostRecentPremiumTypeSubscription(),n=o.Z.getCurrentConfig({location:"announcementManager"},{autoTrackExposure:!1}).isFollowup;if((null==t?void 0:t.status)===c.O0b.ENDED&&(null==t?void 0:t.trialId)!=null&&s.h8.includes(t.trialId)){if(null==e&&await (0,a.T)(),null!=l.Z.getUserTrialOffer(s.Rt))return s.cd.REVERSE_TRIAL_FOLLOWUP_UPSELL;if(null!=t&&!n)return s.cd.REVERSE_TRIAL_ENDED_UPSELL}}},457396:function(e,t,n){n.d(t,{g:function(){return et},i:function(){return ee}}),n(47120);var i,r,l=n(200651),a=n(192379),o=n(120356),s=n.n(o),c=n(91192),d=n(442837),u=n(704215),h=n(780384),m=n(481060),p=n(515753),g=n(410030),f=n(607070),_=n(927359),E=n(975298),I=n(605236),C=n(243778),v=n(819640),S=n(594174),N=n(351402),T=n(78839),b=n(626135),x=n(74538),A=n(502087),Z=n(769415),L=n(650032),P=n(767870),y=n(104494),O=n(639119),R=n(655525),j=n(314684),D=n(52188),M=n(346497),w=n(924540),k=n(474486),U=n(976465),G=n(701910),B=n(938736),H=n(227140),V=n(474936),F=n(981631),z=n(921944),W=n(388032),Y=n(398645),K=n(693988),q=n(155357),X=n(513885),Q=n(547970);let J="NitroTabButton",$=12096e5;(r=i||(i={}))[r.BOGO_PROMOTION=0]="BOGO_PROMOTION",r[r.TENURE_REWARD=1]="TENURE_REWARD",r[r.NEW_PERKS_BADGE=2]="NEW_PERKS_BADGE",r[r.DISCOUNT_OFFER=3]="DISCOUNT_OFFER",r[r.TRIAL_OFFER=4]="TRIAL_OFFER",r[r.LOCALIZED_PRICING=5]="LOCALIZED_PRICING",r[r.REFERRAL_PROGRAM=6]="REFERRAL_PROGRAM",r[r.REFERRAL_PROGRAM_INCENTIVE_FIRST_DISCOVERY=7]="REFERRAL_PROGRAM_INCENTIVE_FIRST_DISCOVERY",r[r.REFERRAL_PROGRAM_INCENTIVE_AWARD=8]="REFERRAL_PROGRAM_INCENTIVE_AWARD",r[r.FRACTIONAL_PREMIUM_COUNTDOWN_TIMER=9]="FRACTIONAL_PREMIUM_COUNTDOWN_TIMER",r[r.TRIAL_FOR_ALL_OFFER=10]="TRIAL_FOR_ALL_OFFER";let ee=e=>{let{selected:t}=e,n=(0,d.e7)([S.default],()=>S.default.getCurrentUser()),i=(0,d.e7)([T.ZP],()=>T.ZP.getPremiumTypeSubscription()),r=(0,O.N)(),l=(0,y.Ng)(),a=(0,M.Vi)(),o=(0,B.vx)(J),s=(0,B.wG)(J),c=(0,j.$_)(),u=(0,U.V6)(),h=(0,x.Qo)(n,i),m=(0,d.e7)([A.Z],()=>A.Z.getCreatedAtOverride()),p=t||null!=r||null!=l||a||o||s||null!=c||null!=u||h,g=null!=m?m:null==n?void 0:n.createdAt;return p=p||null!=n&&null!=g&&Date.now()-g.getTime()>$},et=e=>{let t,n,i,r,{selected:o,route:A,locationState:$,...et}=e,en=(0,d.e7)([S.default],()=>S.default.getCurrentUser()),ei=(0,d.e7)([T.ZP],()=>T.ZP.getPremiumTypeSubscription()),er=(0,d.e7)([f.Z],()=>f.Z.useReducedMotion),el=(0,h.ap)((0,g.ZP)()),[ea,eo]=a.useState(!1),es=(0,x.Qo)(en,ei),ec=(0,c.JA)("nitro"),ed=(0,O.N)(),eu=(0,y.Ng)(),eh=(0,d.e7)([T.ZP],()=>T.ZP.inReverseTrial()),em=(null==ed?void 0:ed.trial_id)===V.jz,ep=(0,d.e7)([N.Z],()=>N.Z.isLocalizedPromoEnabled)&&null==ed,eg=(0,M.Vi)(),ef=(0,j.$_)(),e_=(0,U.V6)(),eE=(0,B.Kn)(J),eI=(0,B.vx)(J),eC=(0,B.wG)(J),ev=(0,d.e7)([v.Z],()=>v.Z.hasLayers()),{fractionalState:eS,endsAt:eN,currentEntitlementId:eT}=(0,E.Z)({forceFetch:!0}),[eb,ex]=(0,C.XR)(eS!==V.a$.NONE?u.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL:null,eS!==V.a$.NONE?Number(eT):0),{enabled:eA}=L._.useExperiment({location:J},{autoTrackExposure:!1}),{enabled:eZ}=Z.Z.useExperiment({location:J},{autoTrackExposure:em,disable:!em}),eL=eA&&(null==ed?void 0:ed.trial_id)===V.a7,[eP,ey]=(0,C.US)(eh?[u.z.REVERSE_TRIAL_NITRO_TAB_BADGE]:[],void 0,!0);if(!ee({selected:o}))return null;if(eS!==V.a$.NONE&&(r=9,i=(0,l.jsx)(P.Z,{className:"",endsAt:eN,messageStyle:_.a.SHORT_TIME,upperCase:!0,currentEntitlementId:eT})),em){var eO,eR,ej;n=Y.trialForAllButton,r=10,i=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k.dX,{isSelected:o,trialOffer:ed,q4MarketingEnabled:eZ}),eZ&&(0,l.jsx)("div",{className:Y.tabBackground,children:(0,l.jsx)("img",{className:s()(Y.tabBackgroundImage,{[Y.tabBackgroundImageHovered]:ea}),src:(eO=er,eR=el,ej=ea,eR?eO||!ej?Q.Z:X.Z:eO||!ej?q.Z:K.Z),alt:""})})]})}else eI?(t=Y.referralIncentive,r=7):eC?(i=(0,l.jsx)(G.Z,{copy:W.intl.string(W.t.jyYgZ2)}),r=8):eg?(i=(0,l.jsx)(R.Z,{}),r=0):null!=eP&&eP===u.z.REVERSE_TRIAL_NITRO_TAB_BADGE?(i=(0,l.jsx)(H.Z,{copy:W.intl.string(W.t.HwUCnp),showStars:!1}),r=4):null!=ef?(i=(0,l.jsx)(H.Z,{copy:ef,showStars:!1}),r=1):null!=e_?(i=(0,l.jsx)(H.Z,{copy:e_,showStars:!1}),r=1):null!=eu?(i=(0,l.jsx)(w.GN,{userDiscount:eu,isTabSelected:o,includesAmountOff:!1}),r=3):null==ed||eL?eE?(i=(0,l.jsx)(k.lH,{isSelected:o,onSelect:()=>(0,I.EW)(u.z.REFERRAL_PROGRAM_PREMIUM_TAB_BADGE,{dismissAction:z.L.TAKE_ACTION})}),r=6):ep&&(i=(0,l.jsx)(D.k,{entryPoint:D.U.PrivateMessages}),!o&&(t=Y.localizeBadge),r=5):(i=(0,l.jsx)(w.$H,{trialOffer:ed,isTabSelected:o}),r=4);let eD=(0,l.jsx)(p.Qj,{selected:o,route:A,icon:m.NitroWheelIcon,text:W.intl.string(W.t.Ipxkoq),locationState:$,onClick:()=>{eb===u.z.FRACTIONAL_NITRO_DURATION_LEFT_PILL&&ex(z.L.TAKE_ACTION),b.default.track(F.rMx.NITRO_TAB_VISITED,{badge_decorator:r,has_premium:es}),eI||eC?((0,I.EW)(u.z.REFERRAL_INCENTIVE_TOOLTIP_AND_TAB_COLOR,{dismissAction:z.L.TAKE_ACTION}),eC&&(0,I.EW)(u.z.REFERRAL_INCENTIVE_AWARDED_INFO,{dismissAction:z.L.TAKE_ACTION})):null!=eP&&ey(z.L.USER_DISMISS)},onMouseEnter:()=>{eo(!0)},onMouseLeave:()=>{eo(!1)},...et,...ec,className:t,avatarWithTextClassName:n,children:i});return em&&eZ?(0,l.jsx)(k.CI,{variant:k.j$.TRIAL_FOR_ALL,trialOffer:ed,children:eD}):eE?(0,l.jsx)(k.CI,{variant:k.j$.REFERRAL_PROGRAM,children:eD}):eI&&!ev?(0,l.jsx)(k.A7,{children:()=>eD}):eD}},701910:function(e,t,n){var i=n(200651);n(192379);var r=n(227140),l=n(388032);t.Z=e=>{let{copy:t}=e;return(0,i.jsx)(r.Z,{copy:null!=t?t:l.intl.string(l.t.y2b7CA)})}},290347:function(e,t,n){n.d(t,{Z:function(){return x}}),n(47120),n(411104),n(315314),n(610138),n(216116),n(78328),n(815648);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(481060),c=n(607070),d=n(446411),u=n(468846),h=n(313201),m=n(70097),p=n(605236),g=n(524444),f=n(626135),_=n(960048),E=n(565216),I=n(981631),C=n(921944),v=n(388032),S=n(966156);let N=[],T=e=>{let{tagText:t,className:n}=e;return(0,i.jsx)(s.TextBadge,{className:a()(S.tag,n),text:t})},b=e=>{let{header:t,subHeader:n,imageSrc:r,tagText:l,wideStyle:o}=e;return(0,i.jsxs)("div",{className:a()(S.featureCard,{[S.wideStyle]:o}),children:[null!=l?(0,i.jsx)(T,{tagText:l,className:S.featureCardTag}):null,(0,i.jsx)("img",{alt:"",className:a()(S.featureCardImg,{[S.wideStyle]:o}),src:r}),(0,i.jsxs)("div",{className:S.featureCardTextGroup,children:[(0,i.jsx)(s.Heading,{variant:"heading-md/extrabold",className:S.featureCardTextHeader,children:t}),(0,i.jsx)(s.Text,{variant:"text-sm/normal",children:n})]})]})};function x(e){let{className:t,renderModalProps:n,heroArt:l,heroArtClassName:T,modalDismissibleContent:x,modalTopExtra:A,header:Z,headerClassName:L,subHeader:P,subHeaderExtra:y,featureCards:O,changeLogId:R,button:j,body:D}=e,{onClose:M,transitionState:w}=n,k=(0,h.Dt)(),U=O.length%2==0,G=(0,o.e7)([c.Z],()=>c.Z.useReducedMotion),[B,H]=r.useState(Date.now()),[V,F]=r.useState(0),[z,W]=r.useState(0),[Y,K]=r.useState(!1),[q,X]=r.useState(!0),Q=r.useRef(B),J=r.useRef(V),$=r.useRef(z),ee=r.useRef(Y),et=r.useRef(q),[en,ei]=r.useState(N),er=r.useRef(!1);function el(){let e=Date.now(),t=e-Q.current,n=J.current,i=$.current;return ee.current&&(F(n+=t),!et.current&&W(i+=t)),H(e),[n,i]}return r.useEffect(()=>{let e=async()=>{try{var e;if("video"!==l.type||null==l.subtitles)return;let t=null===(e=l.subtitles)||void 0===e?void 0:e.map(async e=>{let t=await fetch(e.src);if(!t.ok)throw Error("Failed to fetch the subtitle file ".concat(e.src));let n=await t.text(),i=new Blob([n],{type:"text/vtt"}),r=URL.createObjectURL(i);return{...e,src:r}});ei(await Promise.all(t))}catch(e){_.Z.captureException(e),ei(N)}};!0!==er.current&&e(),er.current=!0},[l,en]),r.useEffect(()=>()=>{null!=en&&en.forEach(e=>{URL.revokeObjectURL(e.src)})},[en]),r.useEffect(()=>{Q.current=B,J.current=V,$.current=z,ee.current=Y,et.current=q},[B,V,z,Y,q]),r.useEffect(()=>()=>{if("video"===l.type||"embed"===l.type){let[e,t]=el();f.default.track(I.rMx.CHANGE_LOG_VIDEO_PLAYED,{change_log_id:R,seconds_played:Math.round(e/1e3)}),f.default.track(I.rMx.CHANGE_LOG_VIDEO_UNMUTE,{change_log_id:R,seconds_unmuted:Math.round(t/1e3)})}},[R,l.type]),r.useEffect(()=>{null!=x&&(0,p.kk)(x);let e=Date.now();return f.default.track(I.rMx.CHANGE_LOG_OPENED,{change_log_id:R}),()=>{f.default.track(I.rMx.CHANGE_LOG_CLOSED,{change_log_id:R,seconds_open:Math.round((Date.now()-e)/1e3)}),null!=x&&(0,p.EW)(x,{dismissAction:C.L.DISMISS})}},[x,R]),(0,i.jsxs)(s.ModalRoot,{className:a()(S.root,t),transitionState:w,"aria-labelledby":k,children:[(0,i.jsx)(s.ModalCloseButton,{className:S.closeButton,onClick:M}),(0,i.jsx)(E.Z,{className:S.splash}),null==A?void 0:A(),(0,i.jsxs)(s.ModalContent,{className:S.content,children:[(0,i.jsx)(s.Heading,{variant:"display-md",className:a()(S.headerText,L),children:Z}),"video"===l.type?(0,i.jsx)(m.Z,{className:a()(S.video,T),autoPlay:!G,loop:!0,muted:!0,controls:!0,controlsList:"nofullscreen nodownload noremoteplayback noplaybackrate",src:l.src,poster:l.poster,onPlay:e=>{f.default.track(I.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:R}),H(Date.now()),K(!0),X(e.currentTarget.muted)},onEnded:e=>{el(),X(e.currentTarget.muted),K(!1)},onVolumeChange:e=>{el(),X(e.currentTarget.muted)},onPause:e=>{el(),X(e.currentTarget.muted),K(!1)},disablePictureInPicture:!0,children:null==en?void 0:en.map(e=>{let t=(0,v.getLanguages)().find(t=>t.code===e.locale);return null==t?null:(0,i.jsx)("track",{label:t.englishName,kind:"captions",srcLang:t.code,src:e.src,default:e.isDefault},e.locale)})}):"embed"===l.type?(0,i.jsx)(d.BC,{className:a()(S.video,T),allowFullScreen:!1,href:l.href,thumbnail:l.thumbnail,video:l.embed,provider:u.pn.YOUTUBE,maxWidth:l.embed.width,maxHeight:l.embed.height,renderVideoComponent:g.lV,renderImageComponent:g.Yi,renderLinkComponent:g.iT,onPlay:()=>{f.default.track(I.rMx.CHANGE_LOG_VIDEO_INTERACTED,{change_log_id:R})}}):"image"===l.type?(0,i.jsx)("img",{alt:"",className:a()(S.video,T),src:l.src}):null,(0,i.jsxs)(s.Heading,{variant:"heading-lg/semibold",className:S.subHeader,children:[P,null==y?void 0:y()]}),null!=D&&(0,i.jsx)(s.Heading,{variant:"heading-md/medium",className:S.bodyText,children:D}),O.length>0&&(0,i.jsx)("div",{className:a()(S.featureCardGroup,{[S.wideStyle]:U}),children:O.map((e,t)=>(0,i.jsx)(b,{...e,wideStyle:U},"".concat(e.header,"_").concat(t)))}),j()]})]})}},378879:function(e,t,n){n.r(t),n.d(t,{default:function(){return E},openProfileUpsellModal:function(){return _}});var i=n(200651);n(192379);var r=n(481060),l=n(921813),a=n(687158),o=n(576635),s=n(594174),c=n(98278),d=n(792254),u=n(790527),h=n(474936),m=n(981631),p=n(486324),g=n(388032),f=n(761346);function _(e,t){let l=s.default.getCurrentUser();return null!=l&&((0,r.openModalLazy)(async()=>{let{default:a}=await Promise.resolve().then(n.bind(n,378879));return n=>(0,i.jsx)(a,{user:l,imageSrc:t,uploadType:e,analyticsSource:m.Sbl.PROFILE_PANEL,analyticsLocation:{section:m.jXE.USER_PROFILE,object:m.qAy.BUTTON_CTA},onSecondaryClick:r.closeAllModals,...n})}),!0)}function E(e){let{user:t,uploadType:n,imageSrc:r,onClose:s,analyticsSource:m,analyticsLocation:_,onSecondaryClick:E,...I}=e,C=(0,a.ZP)(t.id),{primaryColor:v,secondaryColor:S}=(0,o.Z)({user:t,displayProfile:C,pendingAvatar:n===p.pC.AVATAR?r:void 0,isPreview:!0}),N=n===p.pC.AVATAR||n===p.pC.BANNER,T=null!=r,b=(0,d.Z)(n===p.pC.AVATAR?h.cd.ANIMATED_AVATAR_MODAL_UPSELL:h.cd.ANIMATED_BANNER_MODAL_UPSELL);return N?(0,i.jsx)(u.Z,{artURL:T?void 0:b,modalClassName:T?f.modal:void 0,modalContentClassName:T?f.modalContent:void 0,type:n===p.pC.AVATAR?h.cd.ANIMATED_AVATAR_MODAL_UPSELL:h.cd.ANIMATED_BANNER_MODAL_UPSELL,title:n===p.pC.AVATAR?g.intl.string(g.t["X7tO6+"]):g.intl.string(g.t.zXPa2N),body:n===p.pC.AVATAR?g.intl.string(g.t.ifCRdH):g.intl.string(g.t.yQAnf3),glowUp:n===p.pC.AVATAR?g.intl.string(g.t.ifCRdH):g.intl.string(g.t.yQAnf3),onSecondaryClick:()=>{null==E||E(),(0,c.$)(s)},secondaryCTA:g.intl.string(g.t.PcTCBw),onClose:s,enableArtBoxShadow:!1,analyticsSource:m,analyticsLocation:_,hideBackButton:!0,showEnhancedUpsell:!0,LeadingComponent:T?(0,i.jsx)("div",{className:f.previewContainerParent,children:(0,i.jsx)(l.Z,{containerClassName:f.previewContainer,user:t,canUsePremiumCustomization:!0,disabledInputs:!0,pendingAvatar:n===p.pC.AVATAR?r:void 0,pendingBanner:n===p.pC.BANNER?r:void 0,pendingThemeColors:[v,S],hideExampleButton:!0})}):void 0,...I}):null}},727310:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(481060);function l(e){let{upsellType:t}=e;(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("51816").then(n.bind(n,415788));return n=>(0,i.jsx)(e,{...n,upsellType:t,"aria-labelledby":"reverse-trial-upsell-modal"})})}},118470:function(e,t,n){n.d(t,{Z:function(){return p}}),n(47120),n(653041);var i=n(200651),r=n(192379),l=n(442837),a=n(812206),o=n(324262),s=n(434404),c=n(106976),d=n(270144),u=n(981631),h=n(388032),m=n(466389);function p(e){let t,{guild:n}=e,p=(0,d.h6)(n),g=()=>(0,c.sB)(n.id),f=r.useMemo(()=>new Set(p.map(e=>e.applicationId)),[p]),_=(0,l.Wu)([a.Z],()=>{let e=[];for(let t of f){let n=a.Z.getApplication(t);null!=n&&e.push(n)}return e},[f]);return 0===_.length?null:(t=1===_.length?h.intl.formatToPlainString(h.t["Egq+Gx"],{a:_[0].name}):2===_.length?h.intl.formatToPlainString(h.t.LxU9R0,{a:_[0].name,b:_[1].name}):3===_.length?h.intl.formatToPlainString(h.t.crKXMD,{a:_[0].name,b:_[1].name,c:_[2].name}):h.intl.string(h.t.MvfowM),(0,i.jsx)(o.Z,{guild:n,onDismissed:g,message:t,type:u.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:m,onClick:()=>{g(),s.Z.open(n.id,u.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:h.intl.string(h.t.Rr3MAQ)}))}},489977:function(e,t,n){var i=n(570140),r=n(809206),l=n(317770),a=n(18438),o=n(378879),s=n(350327),c=n(594174),d=n(74538),u=n(486324);let h=e=>{let{imageSrc:t,file:n,guildId:i,isTryItOutFlow:l}=e;if(l){(0,s.c_)(t);return}let h=c.default.getCurrentUser(),m=null!=i?a.I5:r.I5,p=d.ZP.canUseAnimatedAvatar(h);if(p||"image/gif"!==n.type){m(t);return}if(null!=h){if(!p){(0,o.openProfileUpsellModal)(u.pC.AVATAR,t);return}}},m=e=>{let{imageSrc:t,guildId:n,isTryItOutFlow:i}=e;if(i){(0,s.f4)(t);return}let r=c.default.getCurrentUser(),l=null!=n?a.g_:s.g_,h=d.ZP.canUsePremiumProfileCustomization(r);if(d.ZP.canUsePremiumProfileCustomization(r)){l(t);return}if(null!=r){if(!h){(0,o.openProfileUpsellModal)(u.pC.BANNER,t);return}}};class p extends l.Z{_initialize(){i.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}_terminate(){i.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)}maybeOpenProfilePreviewModal(e){return e.uploadType===u.pC.AVATAR?h(e):e.uploadType===u.pC.BANNER?m(e):void 0}}t.Z=new p},39370:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(200651);n(192379);var r=n(704215),l=n(765585),a=n(300284),o=n(526761),s=n(388032),c=n(722052);function d(){let e=(0,a.Z)({scrollPosition:o.Y_.TRY_IT_OUT});return(0,i.jsx)(l.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,inlineArt:!0,artClassName:c.profileThemesArt,onTryFeature:e,header:s.intl.string(s.t.V95BHB),body:s.intl.string(s.t["Cxm79/"]),dismissibleContent:r.z.PROFILE_THEMES_FEATURE_EDUCATION_TOOLTIP_TAKE_2})}},400271:function(e,t,n){n(47120);var i,r,l,a,o=n(442837),s=n(433517),c=n(570140),d=n(650774),u=n(430824),h=n(496675),m=n(135899),p=n(981631);let g="publicUpsellChannelNoticeGuilds",f=new Set;class _ extends(i=o.ZP.Store){initialize(){var e;this.waitFor(h.Z,u.Z,d.Z),this.syncWith([h.Z,u.Z,d.Z],p.dG4),f=(e=new Set(s.K.get(g)),e)}isVisible(e){if(null==e)return;let t=d.Z.getMemberCount(e.id);return!f.has(e.id)&&null!=t&&t>=m.U3&&h.Z.can(p.Plq.ADMINISTRATOR,e)&&!e.hasFeature(p.oNc.COMMUNITY)}}a="EnablePublicGuildUpsellNoticeStore",(l="displayName")in(r=_)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,t.Z=new _(c.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){let t=e.guildId;if(!f.has(t))return f.add(t),s.K.set(g,f),!0}})},413307:function(e,t,n){var i=n(200651),r=n(192379),l=n(949389),a=n(324262),o=n(434404),s=n(981631),c=n(388032),d=n(438825);t.Z=e=>{let{guild:t}=e,n=r.useCallback(()=>{(0,l.K7)(t.id)},[t.id]);return(0,i.jsx)(a.Z,{guild:t,onDismissed:n,onClick:()=>o.Z.open(t.id,s.pNK.COMMUNITY),message:c.intl.string(c.t["2klD0d"]),trackingSource:s.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:s.vID.PUBLIC_UPSELL,image:d,cta:c.intl.string(c.t.hvVgAQ)})}},833435:function(e,t,n){n.d(t,{_:function(){return r}});let i=(0,n(818083).B)({id:"2024-09_quests_trophy_case",kind:"user",label:"Trophy Case",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enabled",config:{enabled:!0}}]}),r=e=>{let{location:t,autoTrackExposure:n=!1}=e;return i.useExperiment({location:t},{autoTrackExposure:n}).enabled}},220068:function(e,t,n){var i=n(972959);let r=Object.freeze({tab:n(113434).e5.ALL}),l=(0,i.H)(()=>r);t.Z=l},558652:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(200651);n(192379);var r=n(113434),l=n(710914);function a(){let{quests:e,isFetchingCurrentQuests:t}=(0,r.bA)(r.e5.ALL);return(0,i.jsx)(l.Z,{quests:e,isFetching:t})}},786089:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(887003),s=n(442837),c=n(780384),d=n(481060),u=n(393238),h=n(410030),m=n(204418),p=n(583434),g=n(70097),f=n(594174),_=n(626135),E=n(617136),I=n(113434),C=n(497505),v=n(475595),S=n(352084),N=n(685613),T=n(981631),b=n(388032),x=n(625844);t.Z=(0,r.memo)(function(e){var t,n,l,A,Z;let{quest:L}=e,[P,y]=(0,r.useState)(!1),[O,R]=(0,r.useState)(24),[j,D]=(0,r.useState)(!1),M=(0,r.useRef)(null),w=(0,r.useRef)(null),k=(0,r.useRef)(null),U=(0,s.e7)([f.default],()=>f.default.getCurrentUser()),{ref:G,height:B=0}=(0,u.Z)(),H=(0,h.ZP)(),V=(0,I.B6)(null===(t=L.userStatus)||void 0===t?void 0:t.claimedAt,{month:"numeric",day:"numeric"}),F=null!==(A=null===(n=L.userStatus)||void 0===n?void 0:n.claimedTier)&&void 0!==A?A:0,z=L.config.rewards[F],W=(null==z?void 0:z.type)===o.w.COLLECTIBLE,Y=(null==z?void 0:z.type)===o.w.FRACTIONAL_PREMIUM,{product:K}=(0,p.T)(W&&null!=z?z.skuId:null),q=null==K?void 0:null===(l=K.items)||void 0===l?void 0:l[0];(0,u.P)(M,e=>{let{height:t}=e;if(!W||null==t||null==w.current||null==M.current||null==k.current)return;let n=M.current.getBoundingClientRect(),i=w.current.getBoundingClientRect(),r=k.current.getBoundingClientRect();R((i.top-n.top-r.height)/2)});let X=(0,c.wj)(H),Q=(0,r.useMemo)(()=>null!=L.config.cosponsorMetadata,[L]),J=(0,r.useMemo)(()=>(0,v.fh)(L,v.eC.REWARD),[L]),$=P?B+8:0,ee=()=>{y(!0),_.default.track(T.rMx.QUEST_HOVER,{quest_id:L.id,...(0,E.mH)(C.jn.TROPHY_CASE_CARD)})},et=()=>y(!1),en=e=>{D(!0),_.default.track(T.rMx.QUEST_ASSET_LOADING_FAILURE,{source:e,asset_id:e,quest_id:L.id})};return null==z||j?null:(0,i.jsx)(d.FocusRing,{children:(0,i.jsxs)("div",{ref:M,tabIndex:0,onFocus:ee,onBlur:et,onMouseEnter:ee,onMouseLeave:et,className:a()(x.container,{[x.hovered]:P}),children:[null!=U&&W&&(0,i.jsx)("div",{ref:k,className:x.decoWrapper,style:{top:O},children:(0,i.jsx)(m.Z,{avatarDecorationOverride:q,user:U,guildId:null})}),Y?(0,i.jsx)(S.Z,{className:x.image}):J.isAnimated?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(g.Z,{className:x.assetBlurred,autoPlay:!1,children:(0,i.jsx)("source",{src:J.url,type:null!==(Z=J.mimetype)&&void 0!==Z?Z:void 0,onError:()=>en(J.url)})})}):(0,i.jsx)("img",{className:x.image,src:J.url,alt:L.config.messages.questName,onError:()=>en(J.url)}),(0,i.jsx)("div",{className:a()(x.overlay,{[x.darkThemeGradient]:X,[x.lightThemeGradient]:!X})}),(0,i.jsx)("div",{ref:w,className:x.logoContainer,style:{transform:"translateY(-".concat($,"px)")},children:(0,i.jsx)(N.ZP,{logotypeClassName:a()(x.logo,{[x.logoWithCosponsor]:Q}),quest:L,withGameTile:!1})}),(0,i.jsxs)("div",{ref:G,className:x.details,children:[(0,i.jsx)(d.Heading,{className:x.title,variant:"heading-md/semibold",color:"always-white",children:b.intl.format(b.t.EAYZAg,{questName:L.config.messages.questName})}),(0,i.jsx)(d.Text,{variant:"text-sm/medium",color:X?"text-muted":"always-white",style:{opacity:X?1:.75},children:b.intl.format(b.t.kXVcV1,{reward:z.name,claimedDate:V})})]})]})})})},383747:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651),r=n(481060),l=n(410030),a=n(388032);function o(e){let{onClick:t}=e,o=(0,l.ZP)();return(0,i.jsxs)(r.EmptyState,{theme:o,children:[(0,i.jsx)(r.EmptyStateImage,{lightSrc:n(979770),darkSrc:n(138715),width:415,height:200}),(0,i.jsx)(r.EmptyStateText,{note:a.intl.format(a.t.Pv8u2t,{onClick:t})})]})}},736683:function(e,t,n){n.d(t,{Z:function(){return d},j:function(){return u}});var i=n(200651);n(192379);var r=n(481060),l=n(113434),a=n(786089),o=n(383747),s=n(710914),c=n(308470);function d(e){let{onSelectTab:t}=e,{claimedQuests:n,isFetchingClaimedQuests:s}=(0,l.eN)();return s&&0===n.length?(0,i.jsx)(r.Spinner,{className:c.spinner}):0===n.length?(0,i.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,i.jsx)("div",{className:c.gridContainer,children:n.map(e=>(0,i.jsx)(a.Z,{quest:e},e.id))})}function u(e){let{onSelectTab:t}=e,{quests:n,isFetchingCurrentQuests:a}=(0,l.bA)(l.e5.CLAIMED);return a&&0===n.length?(0,i.jsx)(r.Spinner,{className:c.spinner}):0===n.length?(0,i.jsx)(o.Z,{onClick:()=>t(l.e5.ALL)}):(0,i.jsx)(s.Z,{quests:n,isFetching:a})}},121711:function(e,t,n){var i=n(200651),r=n(192379),l=n(990547),a=n(481060),o=n(213609),s=n(252618),c=n(979233),d=n(175307),u=n(17845),h=n(374939),m=n(233374),p=n(611928),g=n(283293),f=n(63063),_=n(113434),E=n(833435),I=n(150560),C=n(558652),v=n(736683),S=n(452081),N=n(46140),T=n(981631),b=n(388032),x=n(359643);t.Z=function(){let{selectedTab:e,onSelectTab:t,tabs:n}=(0,S.z)(),{onScroll:A,scrollPosition:Z}=(0,c.M)(),L=I.Z.getState().getUtmCurrentContext(),P=(0,E._)({location:N.dr.QUEST_HOME_DESKTOP})?v.Z:v.j;r.useEffect(()=>{(0,o.h)({name:l.ImpressionNames.QUEST_HOME,type:l.ImpressionTypes.VIEW,properties:{utm_source_current:L.utmSourceCurrent,utm_medium_current:L.utmMediumCurrent,utm_campaign_current:L.utmCampaignCurrent,utm_content_current:L.utmContentCurrent,tab:e}})},[e]);let y=r.useCallback(()=>{window.open(f.Z.getArticleURL(T.BhN.QUESTS_LEARN_MORE))},[]);return(0,s.Tt)({location:b.intl.string(b.t.JALI2N)}),(0,i.jsxs)("div",{className:x.container,children:[(0,i.jsxs)(p.ZP,{variant:p._6.OVERLAY,children:[(0,i.jsx)("div",{className:x.dragRegion}),(0,i.jsx)(p.z6,{scrollPosition:Z}),(0,i.jsx)(p.aV,{icon:a.QuestsIcon})]}),(0,i.jsxs)(g.Z,{onScroll:A,children:[(0,i.jsx)(u.Z,{title:b.intl.format(b.t.lmMBf3,{}),description:b.intl.string(b.t.oWCrBg),button:(0,i.jsx)(d.u,{text:b.intl.string(b.t.hvVgAQ),onClick:y}),className:x.bannerContainer,children:(0,i.jsx)("div",{className:x.bannerImage,children:(0,i.jsx)("div",{className:x.bannerGradient})})}),(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(m.Z,{tabs:n,selectedTab:e,onTabSelect:t,className:x.tabs}),e===_.e5.CLAIMED?(0,i.jsx)(P,{onSelectTab:t}):(0,i.jsx)(C.Z,{})]})]})]})}},710914:function(e,t,n){n.d(t,{Z:function(){return u}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(497505),c=n(415104),d=n(86675);function u(e){var t;let{quests:n,isFetching:l}=e,u=null;if(window.location.hash.length>0){let e=window.location.hash.slice(1);for(let t of n)if(t.id===e){u=e;break}}r.useEffect(()=>{for(let e of n)if(e.id===u){let e=document.getElementById("quest-tile-".concat(u));null==e||e.scrollIntoView({behavior:"smooth",block:"center"});break}},[n,u]);let h=null!=u,[m,p]=r.useState(window.innerWidth);r.useEffect(()=>{let e=()=>{p(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let g=(t=m)>=1610?3:t>=1340?2:1;return l&&0===n.length?(0,i.jsx)(o.Spinner,{className:d.spinner}):(0,i.jsx)("div",{className:d.container,children:n.map((e,t)=>{let n=Math.floor(t/g);return(0,i.jsx)(c.Z,{quest:e,questContent:s.jn.QUEST_HOME_DESKTOP,contentPosition:t,rowIndex:n,className:a()(d.questTile,{[d.selected]:h&&e.id===u,[d.unselected]:h&&e.id!==u})},e.id)})},null!=u?u:"")}},452081:function(e,t,n){n.d(t,{z:function(){return s}});var i=n(192379),r=n(703656),l=n(113434),a=n(220068),o=n(388032);function s(){let e=a.Z.useField("tab"),t=i.useCallback(e=>{(0,r.dL)("#"),a.Z.setState({tab:e})},[]);return{tabs:i.useMemo(()=>[{id:l.e5.ALL,label:o.intl.string(o.t["0SzXmp"])},{id:l.e5.CLAIMED,label:o.intl.string(o.t.zyNYND)}],[]),selectedTab:e,onSelectTab:t}}},23404:function(e,t,n){n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(442837),s=n(663002),c=n(481060),d=n(210887),u=n(617136),h=n(272008),m=n(113434),p=n(569984),g=n(497505),f=n(918701),_=n(585500),E=n(475595),I=n(566078),C=n(602667),v=n(611855),S=n(64141),N=n(667105),T=n(860151),b=n(341907),x=n(46140),A=n(981631),Z=n(388032),L=n(444865);function P(e){var t;let{quest:n}=e,r=(0,m.B6)(n.config.expiresAt),l=(0,m.B6)(I.r.build(n.config).rewardsExpireAt),a=(0,o.e7)([d.Z],()=>d.Z.getState().theme),u=(0,s.wj)(a)?A.BRd.DARK:A.BRd.LIGHT,h=(null===(t=n.userStatus)||void 0===t?void 0:t.completedAt)!=null;return(0,i.jsxs)("div",{className:L.heading,children:[(0,i.jsx)("img",{className:L.headingGameTile,alt:"",src:(0,E.fh)(n,E.eC.GAME_TILE,u).url}),(0,i.jsxs)("div",{className:L.headingCopy,children:[(0,i.jsx)(c.Heading,{variant:"heading-md/semibold",color:"header-primary",children:h?Z.intl.string(Z.t.XBboAA):Z.intl.formatToPlainString(Z.t.EQa7oq,{questName:n.config.messages.questName})}),(0,i.jsx)(c.Text,{variant:"text-xs/normal",color:"header-secondary",children:h?Z.intl.formatToPlainString(Z.t.APddvL,{expirationDate:l}):Z.intl.formatToPlainString(Z.t["pX+fmp"],{expirationDate:r})})]})]})}t.Z=function(e){var t,n,l;let{quest:s}=e,d=(0,o.e7)([p.Z],()=>p.Z.isEnrolling(s.id),[s]),[E,I]=r.useState(!1),A=r.useCallback(()=>I(!0),[]),y=r.useCallback(()=>I(!1),[]),O=r.useCallback(e=>{e.stopPropagation()},[]),R=r.useCallback(()=>{(0,h.AH)(s.id,{questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.ACCEPT_QUEST})},[s]),j=r.useCallback(()=>{null!=s&&((0,u._3)({questId:s.id,questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.TRACK_PROGRESS}),(0,b.navigateToQuestHome)(x.dr.ACTIVITY_PANEL,g.jn.ACTIVITY_PANEL,s.id))},[s]),D=r.useCallback(()=>{(0,u._3)({questId:s.id,questContent:g.jn.ACTIVITY_PANEL,questContentCTA:u.jZ.LEARN_MORE}),(0,b.navigateToQuestHome)(x.dr.ACTIVITY_PANEL,g.jn.ACTIVITY_PANEL,s.id)},[s]),M=(0,N.hf)({quest:s,location:g.jn.ACTIVITY_PANEL}),w=(0,m.tP)(s),k=(null===(t=s.userStatus)||void 0===t?void 0:t.enrolledAt)!=null,U=(null===(n=s.userStatus)||void 0===n?void 0:n.completedAt)!=null,G=(null===(l=s.userStatus)||void 0===l?void 0:l.claimedAt)!=null,B=(null==s?void 0:s.userStatus)==null||(0,f.zE)(s.userStatus,g.jn.ACTIVITY_PANEL),H=(0,m.Rf)(s),V=(0,_.D)({quest:s,taskDetails:H,location:x.dr.ACTIVITY_PANEL,questContent:g.jn.ACTIVITY_PANEL});return B||w||G?null:(0,i.jsx)(C.A,{questOrQuests:s,questContent:g.jn.ACTIVITY_PANEL,children:e=>{var t;return(0,i.jsxs)("div",{ref:t=>{e.current=t},className:a()(L.wrapper,{[L.wrapperQuestAccepted]:k}),onClick:O,onKeyPress:O,onFocus:A,onMouseEnter:A,onBlur:y,onMouseLeave:y,children:[(0,i.jsxs)("div",{className:L.utils,children:[k?(0,i.jsx)(P,{quest:s}):(0,i.jsx)(v.Z,{textOpacity:.5}),(0,i.jsx)(S.r,{quest:s,questContent:g.jn.ACTIVITY_PANEL,shouldShowDisclosure:(null===(t=s.userStatus)||void 0===t?void 0:t.enrolledAt)==null,showShareLink:!0,children:e=>(0,i.jsx)(c.Clickable,{...e,"aria-label":Z.intl.string(Z.t.DEoVWV),children:(0,i.jsx)(c.MoreHorizontalIcon,{size:"md",color:"currentColor",className:L.submenuIcon})})})]}),!k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P,{quest:s}),(0,i.jsx)(c.Text,{className:L.instructions,variant:"text-sm/normal",color:"text-normal",children:V})]}),k&&!U&&(0,i.jsx)(T.Z,{autoplay:E,className:L.rewardTileWithInstructions,quest:s,questContent:g.jn.ACTIVITY_PANEL,location:x.dr.ACTIVITY_PANEL,taskDetails:H}),(0,i.jsxs)("div",{className:L.ctas,children:[!k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.PRIMARY,fullWidth:!0,size:c.Button.Sizes.SMALL,onClick:D,children:Z.intl.string(Z.t.LLLLPD)}),(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:R,size:c.Button.Sizes.SMALL,submitting:d,children:Z.intl.string(Z.t.l7E81t)})]}),k&&!U&&(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:j,size:c.Button.Sizes.SMALL,children:Z.intl.string(Z.t.VN1Ajo)}),U&&(0,i.jsx)(c.Button,{className:L.cta,color:c.Button.Colors.BRAND,fullWidth:!0,onClick:M,size:c.Button.Sizes.SMALL,children:Z.intl.string(Z.t.cfY4PD)})]})]})}})}},432496:function(e,t,n){var i,r,l=n(442837),a=n(570140),o=n(749210);(i=r||(r={}))[i.NOT_FETCHED=0]="NOT_FETCHED",i[i.FETCHING=1]="FETCHING",i[i.FETCHED=2]="FETCHED";let s={},c=0;function d(e){var t,n;return null!==(n=null===(t=s[e])||void 0===t?void 0:t.fetchState)&&void 0!==n?n:0}function u(){s={}}class h extends l.ZP.Store{isFetchingFriendsForGuild(e){return 1===d(e)}fetchFriendMembersIfNotFetched(e,t){0===d(e)&&(s[e]={fetchState:1,foundMembers:0,notFoundMembers:0},c=t.length,o.Z.requestMembersById(e,t,!1))}}t.Z=new h(a.Z,{CONNECTION_OPEN:u,LOGOUT:u,RELATIONSHIP_ADD:u,RELATIONSHIP_REMOVE:u,GUILD_MEMBERS_CHUNK_BATCH:function(e){var t,n;let i=e.chunks[0],{guildId:r}=i;1===d(r)&&(s[r].foundMembers+=i.members.length,s[r].notFoundMembers+=null!==(n=null===(t=i.notFound)||void 0===t?void 0:t.length)&&void 0!==n?n:0,s[r].foundMembers+s[r].notFoundMembers>=c&&(s[r].fetchState=2))}})},914946:function(e,t,n){n.d(t,{FJ:function(){return $},RE:function(){return k},S5:function(){return Y},T5:function(){return G},Xb:function(){return B},YK:function(){return Q},_f:function(){return et},aE:function(){return H},bu:function(){return ee},cD:function(){return V},fy:function(){return q},s9:function(){return F},t9:function(){return K},tr:function(){return J},vv:function(){return X},zM:function(){return z},zy:function(){return W}}),n(47120),n(653041),n(411104),n(757143),n(392711);var i,r,l=n(729594),a=n(243814),o=n(544891),s=n(63023),c=n(433517),d=n(904245),u=n(155268),h=n(454585),m=n(739566),p=n(695346),g=n(131704),f=n(598077),_=n(592125),E=n(430824),I=n(131951),C=n(375954),v=n(158776),S=n(594174),N=n(979651),T=n(70956),b=n(5192),x=n(226951),A=n(591759),Z=n(996106),L=n(863141),P=n(186901),y=n(981631);let O=null!==(r=null===(i=A.Z.toURLSafe(window.GLOBAL_ENV.API_ENDPOINT))||void 0===i?void 0:i.host)&&void 0!==r?r:"localhost",R=function(){let e=O.split(":")[0];if(!e.includes("."))return e;let t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),j=new RegExp("^".concat(x.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(x.Z.escape(R),"|discordapp.com|discord.com)$")),D=1*T.Z.Millis.MINUTE,M={};function w(e){return"customEmoji"===e.type&&(e.type="emoji"),"emoji"===e.type&&e.src&&(e.src=k(e.src)),Array.isArray(e.content)&&(e.content=e.content.map(w)),e}function k(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function G(e,t){let n=[],i=e.getGuildId();return![y.d4z.GUILD_CATEGORY,...g.tx].includes(e.type)&&n.push(new Promise(t=>{C.Z.whenReady(e.id,()=>t()),d.Z.fetchMessages({channelId:e.id,limit:y.AQB})})),Promise.all(n).then(()=>{var n;let r=(!e.isNSFW()||(null===(n=S.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed)===!0)&&t?C.Z.getMessages(e.id).toArray().map(B):[],l=Object.values(N.Z.getVoiceStatesForChannel(e.id)).map(t=>H(i,e.id,t));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:i,position:e.position,messages:r,voice_states:l}})}function B(e){let t=h.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(w),n=_.Z.getChannel(e.channel_id),i=null!=e.author?new f.Z(e.author):void 0,r=null!=e.author?(0,m.ij)(i,n):void 0;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:null==r?void 0:r.nick,author_color:null==r?void 0:r.colorString,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:null!=i?(0,L.Z)(i):void 0,pinned:e.pinned,type:e.type}}function H(e,t,n){let{mute:i,deaf:r,selfMute:l,selfDeaf:a,suppress:o,userId:s}=n,c=S.default.getUser(s);if(null==c)throw Error("Invalid user id: ".concat(s));return{nick:b.ZP.getName(e,t,c),mute:I.Z.isLocalMute(c.id),volume:I.Z.getLocalVolume(c.id),pan:I.Z.getLocalPan(c.id),voice_state:{mute:i,deaf:r,self_mute:l,self_deaf:a,suppress:o},user:(0,L.Z)(c)}}function V(e,t,n){let{isSpamRequest:i,applicationId:r,userIgnored:l}=null!=n?n:{},a=S.default.getUser(t);return{type:e,user:null!=a?(0,L.Z)(a):null,presence:{status:v.Z.getStatus(t),activity:null!=r?v.Z.getApplicationActivity(t,r):v.Z.getPrimaryActivity(t)},isSpamRequest:i,userIgnored:l}}function F(e){let t;if(null==e)return!1;let n=window.location.origin;if(e===n)return!0;try{t=l.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&(!!(j.test(e)&&j.test(n))||!1)}function z(e,t,n){let i=E.Z.getGuild(e.getGuildId());return(null!=i?i.getApplicationId():e.getApplicationId())===t||n.indexOf(a.x.MESSAGES_READ)>-1}function W(e){switch(e){case y.hes.RTC_CONNECTED:case y.hes.RTC_CONNECTING:case y.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{instance:n,secrets:i,party:r}=e,l=0;return(n&&(l|=y.xjy.INSTANCE),(null==i?void 0:i.join)!=null&&(l|=y.xjy.JOIN),t)?(l|=y.xjy.EMBEDDED,l|=y.xjy.PARTY_PRIVACY_VOICE_CHANNEL):(((null==r?void 0:r.privacy)===y.RYY.PUBLIC||c.K.get("ACTIVITIES_FORCE_PUBLIC"))&&(p.cP.getSetting()&&(l|=y.xjy.PARTY_PRIVACY_FRIENDS),p.Ou.getSetting()&&(l|=y.xjy.PARTY_PRIVACY_VOICE_CHANNEL)),l)}function K(e,t,n){if(e===y.mFx.JOIN)return null!=t&&null!=t.id&&null!=n.join;return!1}function q(e,t,n){return o.tn.get({url:y.ANM.APPLICATION_RPC(t),oldFormErrors:!0,retries:3,rejectWithError:!0}).then(i=>{let{body:{rpc_origins:r,id:l,name:a,icon:o,cover_image:s,flags:c}}=i;if("string"==typeof n){if(e.transport===P.He.POST_MESSAGE){let e=(0,u.Z)(t);if(null==e||!U(n,[e]))throw new Z.Z({closeCode:y.$VG.INVALID_ORIGIN},"Invalid Origin")}else if(!U(n,r))throw new Z.Z({closeCode:y.$VG.INVALID_ORIGIN},"Invalid Origin")}e.application={id:l,name:a,icon:o,coverImage:s,flags:c}},()=>{throw new Z.Z({closeCode:y.$VG.INVALID_CLIENTID},"Invalid Client ID")})}async function X(e,t){let n=M[e];null==n&&(n=new s.Z(t?2:60,D),M[e]=n),await n.process()}function Q(e,t){null==t&&(e.authorization.scopes=[P.lH])}function J(e){let t=I.Z.getSettings(),n=e=>Object.values(e).sort((e,t)=>e.index-t.index).map(e=>({id:e.id,name:e.name})),i=e(t);return{input:{available_devices:n(I.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(I.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,threshold:t.modeOptions.threshold,shortcut:i,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function $(e,t){let n=I.Z.getSettings(e),i=t(n);return{input_mode:{type:n.mode,shortcut:i},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function ee(e){if(e!==P.He.POST_MESSAGE)throw new Z.Z({errorCode:y.lTL.INVALID_COMMAND},'command not available from "'.concat(e," transport"))}function et(e){if(null==e.id)throw new Z.Z({errorCode:y.lTL.INVALID_COMMAND},"Invalid application");return e.id}},238679:function(e,t,n){n.d(t,{HU:function(){return f},KW:function(){return p},dO:function(){return m},gQ:function(){return g}});var i=n(392711),r=n.n(i),l=n(570140),a=n(317381),o=n(16609),s=n(594174),c=n(823379),d=n(5192),u=n(863141),h=n(186901);function m(){let e=a.ZP.getCurrentEmbeddedActivity();if(null==e)return{participants:[]};let t=(0,o.j)(e.location),n=(0,o.p)(e.location);return{participants:Array.from(e.userIds,e=>{let i=s.default.getUser(e);if(null==i)return;let r=(0,d.y)(t,n,i);return{...(0,u.Z)(i),nickname:null!=r?r:void 0}}).filter(c.lm)}}let p={[h.Gp.ANY]:[h.wE]},g={scope:p,handler:()=>e=>{let{prevState:t,dispatch:n}=e,i=m();return!r().isEqual(i,t)&&n(i),i}};function f(e){let t="EMBEDDED_ACTIVITY_UPDATE",n=()=>{e(m())};return l.Z.subscribe(t,n),()=>l.Z.unsubscribe(t,n)}},452426:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return e.object().unknown(!0)}},561205:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(317381),r=n(592125);function l(){let e=i.ZP.getConnectedActivityChannelId();return r.Z.getChannel(e)}},901077:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(981631);let r="<removed>";function l(e){var t,n;let l={...e};if("object"==typeof(t=l).args&&"string"==typeof t.cmd)l=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,args:{...e.args,access_token:r}};default:return{...e}}}(l);if("object"==typeof(n=l).data&&"string"==typeof n.cmd)l=function(e){switch(e.cmd){case i.Etm.AUTHENTICATE:case i.Etm.GET_PROVIDER_ACCESS_TOKEN:return{...e,data:{...e.data,access_token:r}};default:return{...e}}}(l);return l}},295424:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}},277272:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){let{userId:t,nick:n,guildId:i,avatar:r,avatarDecoration:l,banner:a,bio:o,pronouns:s,colorString:c}=e;return{user_id:t,nick:n,guild_id:i,avatar:r,avatar_decoration_data:null!=l?{asset:l.asset,sku_id:l.skuId}:null,banner:a,bio:o,pronouns:s,color_string:c}}},408841:function(e,t,n){n.d(t,{n:function(){return l}});var i=n(996106),r=n(981631);let l={handler(e){throw new i.Z({errorCode:r.lTL.INVALID_COMMAND},"Deprecated command: ".concat(e.cmd))}}},600027:function(e,t,n){n.d(t,{T:function(){return c}});var i=n(159300),r=n(430824),l=n(496675),a=n(996106),o=n(561205),s=n(981631);function c(){let e=(0,o.Z)();if(null==e)throw new a.Z({errorCode:s.lTL.INVALID_CHANNEL},"Invalid channel");let t=r.Z.getGuild(e.getGuildId());if(null==t)throw new a.Z({errorCode:s.lTL.INVALID_CHANNEL},"Invalid guild ".concat(e.getGuildId()));if(!(0,i.b)(l.Z,t,e))throw new a.Z({errorCode:s.lTL.INVALID_PERMISSIONS},"No invite permissions for ".concat(e.id));return{channel:e,guild:t}}},334288:function(e,t,n){n.d(t,{f:function(){return a}});var i=n(996106),r=n(186901),l=n(981631);function a(e){if(r.He.IPC!==e&&r.He.POST_MESSAGE!==e)throw new i.Z({errorCode:l.lTL.INVALID_COMMAND},"Invalid transport.")}},606271:function(e,t,n){n.d(t,{Z:function(){return L}}),n(47120);var i=n(392711),r=n.n(i),l=n(442837),a=n(570140),o=n(176787),s=n(814443),c=n(592125),d=n(271383),u=n(430824),h=n(131951),m=n(158776),p=n(19780),g=n(699516),f=n(944486),_=n(594174),E=n(979651),I=n(626135),C=n(823379),v=n(358085),S=n(914946),N=n(238679),T=n(863141),b=n(981631),x=n(701488),A=n(65154);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L{loadServer(){for(let e of(v.isPlatformEmbedded&&this.registerTransportsForEmbeddedPlatform(),this.transports))this.rpcServer.registerTransport(e);for(let[e,t]of Object.entries(this.rpcCommandHandlers))this.rpcServer.setCommandHandler(e,t);for(let[e,t]of Object.entries(this.rpcEventHandlers))this.rpcServer.setEventHandler(e,t)}init(){this.rpcServer.getCurrentUser=()=>_.default.getCurrentUser(),this.rpcServer.onConnect=e=>{a.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application}),I.default.track(b.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})},this.rpcServer.onDisconnect=(e,t)=>{a.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};let e=[c.Z,d.ZP,m.Z,E.Z,h.Z,p.Z];new l.Fh(e.concat(this.stores),()=>this.rpcServer.updateSubscriptions()).attach("RPCServerManager"),a.Z.subscribe("MESSAGE_CREATE",e=>this.handleMessage(e)),a.Z.subscribe("MESSAGE_UPDATE",e=>this.handleMessage(e)),a.Z.subscribe("MESSAGE_DELETE",e=>this.handleMessage(e)),a.Z.subscribe("SPEAKING",e=>this.handleSpeaking(e)),a.Z.subscribe("OAUTH2_TOKEN_REVOKE",e=>this.handleOAuth2TokenRevoke(e)),a.Z.subscribe("GUILD_CREATE",e=>this.handleGuildCreate(e)),a.Z.subscribe("CHANNEL_CREATE",e=>this.handleChannelCreate(e)),a.Z.subscribe("LOGOUT",()=>this.handleLogout()),a.Z.subscribe("VOICE_CHANNEL_SELECT",e=>this.handleVoiceChannelSelect(e)),a.Z.subscribe("RPC_NOTIFICATION_CREATE",e=>this.handleNotificationCreate(e)),a.Z.subscribe("ACTIVITY_JOIN",e=>this.handleActivityJoin(e)),a.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",e=>this.handleActivityLayoutModeUpdate(e)),a.Z.subscribe("THERMAL_STATE_CHANGE",e=>this.handleThermalStateChange(e)),a.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",e=>this.handleScreenOrientationUpdate(e)),(0,N.HU)(e=>this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE,{},e)),a.Z.subscribe("RELATIONSHIP_ADD",e=>this.handleRelationshipAdd(e)),a.Z.subscribe("RELATIONSHIP_REMOVE",e=>this.handleRelationshipRemove(e)),a.Z.subscribe("PRESENCE_UPDATES",e=>this.handlePresenceUpdate(e)),a.Z.subscribe("PRESENCES_REPLACE",()=>this.handlePresencesReplace()),a.Z.subscribe("ENTITLEMENT_CREATE",e=>this.handleEntitlementCreate(e)),a.Z.subscribe("ENTITLEMENT_DELETE",e=>this.handleEntitlementDelete(e))}handleMessage(e){let t,n,i;if(0===this.rpcServer.subscriptions.length)return;"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);let r=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return;t=b.zMe.MESSAGE_CREATE,n=e.channelId,i=e.message,r="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=b.zMe.MESSAGE_UPDATE,n=e.message.channel_id,i=e.message;break;case"MESSAGE_DELETE":t=b.zMe.MESSAGE_DELETE,n=e.channelId,i={id:e.id},r="".concat(t).concat(e.id);break;default:return(0,C.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,S.Xb)(i)},r)}handleSpeaking(e){if(0===this.rpcServer.subscriptions.length)return;let t=0!==e.speakingFlags?b.zMe.SPEAKING_START:b.zMe.SPEAKING_STOP;if(e.context===A.Yn.DEFAULT){let n=f.Z.getVoiceChannelId();if(null!=n){let i=c.Z.getChannel(n);if(null==i)return;let r=E.Z.getVoiceState(i.getGuildId(),e.userId);if(null==r)return;this.rpcServer.dispatchToSubscriptions(t,{channel_id:r.channelId},{channel_id:r.channelId,user_id:e.userId})}}}handleVoiceChannelSelect(e){let{guildId:t,channelId:n}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})}handleNotificationCreate(e){let{channelId:t,message:n,icon:i,title:r,body:l}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,S.Xb)(n),icon_url:null!=i?(0,S.RE)(i):null,title:r,body:l})}handleActivityJoin(e){let{applicationId:t,secret:n,intent:i,embedded:r}=e;if(0===this.rpcServer.subscriptions.length)return;let l={secret:n};r&&(l.intent=i),this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_JOIN,e=>e.socket.application.id===t,l),this.rpcServer.dispatchToSubscriptions(b.zMe.GAME_JOIN,e=>e.socket.application.id===t,l)}handleActivityLayoutModeUpdate(e){let{applicationId:t,layoutMode:n}=e;if(0===this.rpcServer.subscriptions.length)return;let i=n!==x.cE.FOCUSED;this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_PIP_MODE_UPDATE,e=>e.socket.application.id===t,{is_pip_mode:i});this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,e=>e.socket.application.id===t,{layout_mode:n})}handleThermalStateChange(e){let{applicationId:t}=e;if(0===this.rpcServer.subscriptions.length||null==t)return;let n={thermal_state:(0,o.bY)()};this.rpcServer.dispatchToSubscriptions(b.zMe.THERMAL_STATE_UPDATE,e=>e.socket.application.id===t,n)}handleScreenOrientationUpdate(e){let{screenOrientation:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.ORIENTATION_UPDATE,{},{screen_orientation:t})}handleActivityMessage(e){var t;let{channelId:n,message:i}=e;if(0===this.rpcServer.subscriptions.length)return;let{application:r,activity:l}=i;if(null==r||null==l||null==l.party_id)return;let a=_.default.getUser(null===(t=i.author)||void 0===t?void 0:t.id);if(null==a)return;let o=_.default.getCurrentUser();if(null==o||a.id===o.id)return;let s=l.type===b.mFx.JOIN_REQUEST?m.Z.getApplicationActivity(o.id,r.id):m.Z.getApplicationActivity(a.id,r.id);if(null==s||null==s.party||s.party.id!==l.party_id)return;let c=s.application_id;switch(l.type){case b.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_INVITE,e=>e.socket.application.id===c,{user:(0,T.Z)(a),activity:s,type:l.type,channel_id:n,message_id:i.id});break;case b.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(b.zMe.ACTIVITY_JOIN_REQUEST,e=>e.socket.application.id===c,{user:(0,T.Z)(a)})}}handleOAuth2TokenRevoke(e){let{accessToken:t}=e;this.rpcServer.sockets.forEach(e=>{if(e.authorization.accessToken===t)e.close(b.$VG.TOKEN_REVOKED,"Token revoked")})}handleGuildCreate(e){let{guild:{id:t}}=e,n=u.Z.getGuild(t);if(0!==this.rpcServer.subscriptions.length&&null!=n)this.rpcServer.dispatchToSubscriptions(b.zMe.GUILD_CREATE,{},{id:t,name:n.name})}handleChannelCreate(e){let{channel:{id:t,name:n,type:i}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.CHANNEL_CREATE,{},{id:t,name:n,type:i})}handleLogout(){this.rpcServer.sockets.forEach(e=>e.close(b.$VG.CLOSE_NORMAL,"User logout"))}handleRelationshipAdd(e){let{relationship:{id:t,type:n,isSpamRequest:i,userIgnored:r}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.RELATIONSHIP_UPDATE,{},(0,S.cD)(n,t,{isSpamRequest:i,userIgnored:r}))}handleRelationshipRemove(e){let{relationship:{id:t}}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.RELATIONSHIP_UPDATE,{},(0,S.cD)(b.OGo.NONE,t))}handlePresenceUpdate(e){let{updates:t}=e;if(0!==this.rpcServer.subscriptions.length)t.forEach(e=>{let{guildId:t,user:{id:n}}=e;if(null!=t)return;let i=g.Z.getRelationshipType(n);i===b.OGo.NONE&&s.Z.getUserAffinitiesUserIds().has(n)&&(i=b.OGo.IMPLICIT),i!==b.OGo.NONE&&this.rpcServer.dispatchToSubscriptions(b.zMe.RELATIONSHIP_UPDATE,{},(0,S.cD)(i,n))})}handlePresencesReplace(){if(0!==this.rpcServer.subscriptions.length)r().forEach(g.Z.getRelationships(),(e,t)=>{this.rpcServer.dispatchToSubscriptions(b.zMe.RELATIONSHIP_UPDATE,{},(0,S.cD)(e,t))})}handleEntitlementCreate(e){let{entitlement:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.ENTITLEMENT_CREATE,e=>e.socket.application.id===t.application_id,{entitlement:t})}handleEntitlementDelete(e){let{entitlement:t}=e;if(0!==this.rpcServer.subscriptions.length)this.rpcServer.dispatchToSubscriptions(b.zMe.ENTITLEMENT_DELETE,e=>e.socket.application.id===t.application_id,{entitlement:t})}constructor(e){Z(this,"rpcServer",void 0),Z(this,"transports",void 0),Z(this,"rpcCommandHandlers",void 0),Z(this,"rpcEventHandlers",void 0),Z(this,"stores",void 0),Z(this,"registerTransportsForEmbeddedPlatform",void 0),this.rpcServer=e.server,this.transports=e.transports,this.rpcCommandHandlers=e.commands,this.rpcEventHandlers=e.events,this.stores=e.stores,this.registerTransportsForEmbeddedPlatform=e.registerTransportsForEmbeddedPlatform}}},703912:function(e,t,n){n.d(t,{Z:function(){return x}}),n(789020),n(47120),n(315314),n(610138),n(216116),n(78328),n(815648);var i=n(664751),r=n(373793),l=n(243814),a=n(149765),o=n(544891),s=n(45792),c=n(433517),d=n(570140),u=n(812206),h=n(979200),m=n(489863),p=n(166148),g=n(307643),f=n(973616),_=n(594174),E=n(630388),I=n(700785),C=n(996106),v=n(186901),S=n(981631);let N="CachedTokens";async function T(e,t,n){var i,l;let o;let s,c,d,v,{client_id:N,response_type:T="code",redirect_uri:b,code_challenge:x,code_challenge_method:A,state:Z,nonce:L,scope:P,permissions:y,guild_id:O,channel_id:R,prompt:j,disable_guild_select:D,integration_type:M,pid:w,signal:k}=e;if(null==k?void 0:k.aborted)throw new C.Z({errorCode:S.lTL.UNKNOWN_ERROR},"Request aborted");if(null==N)throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"No Client ID provided");if(null!=b)throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");let U=[];if("string"==typeof P?U=P.split(" ").filter(e=>e.length>0):Array.isArray(P)&&(U=P),null==_.default.getCurrentUser())throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"Client is not logged in");let G=null!==(l=u.Z.getApplication(N))&&void 0!==l?l:null;(null==G||function(e){var t;let n=null!==(t=u.Z.getApplicationLastUpdated(e))&&void 0!==t?t:0;return n<Date.now()-5e3}(G.id))&&(G=f.ZP.createFromServer(await (0,g.UM)(N,k)));let B=null!=G&&(0,E.yE)(G.flags,S.udG.EMBEDDED)&&(null===(i=G.integrationTypesConfig)||void 0===i?void 0:i[r.Y.USER_INSTALL])!=null;s=null==M?B?r.Y.USER_INSTALL:r.Y.GUILD_INSTALL:Number(M);try{c=await (0,m.Ww)({clientId:N,scopes:U,responseType:T,redirectUri:b,codeChallenge:x,codeChallengeMethod:A,state:Z,integrationType:s,signal:k})}catch(t){let{body:e}=t;throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}try{({disclosures:d,allAcked:v}=await (0,h.de)(c.application.id))}catch(t){let{body:e}=t;throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Authorization Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}if(j===p.s.NONE&&null!=c&&c.authorized&&v)try{return(await (0,m.Iq)({authorize:!0,clientId:N,scopes:U,responseType:T,redirectUri:b,codeChallenge:x,codeChallengeMethod:A,state:Z,nonce:L,integrationType:s})).location}catch(t){let{body:e}=t;throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Authorize Error: ".concat((null==e?void 0:e.message)||"Unknown Error"))}null==n||n(c.application,R,w);let H=I.Hn;try{H=a.vB(null!=y?y:0)}catch(e){}return null!=c.integration_type&&Object.values(r.Y).includes(c.integration_type)&&(o=new Map).set(c.integration_type,c),t({clientId:N,authorizations:o,scopes:U,parsedPermissions:H,responseType:T,redirectUri:b,codeChallenge:x,codeChallengeMethod:A,state:Z,guildId:O,channelId:R,prompt:j,disableGuildSelect:D,disclosures:d,integrationType:s,pid:w})}function b(e,t){if(e.authorization.accessToken)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},"Already authenticated");if(e.authorization.authing)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},"Already authenticating");return e.authorization.authing=!0,o.tn.get({url:S.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0,rejectWithError:!1}).then(n=>{e.authorization.authing=!1;let{application:i,user:r,scopes:l,expires:a}=n.body;if(e.application.id!==i.id)throw new C.Z({errorCode:S.lTL.INVALID_CLIENTID},"Application does not match the connection's");let o=_.default.getCurrentUser();if(null==o||!r||o.id!==r.id)throw new C.Z({errorCode:S.lTL.INVALID_TOKEN},"Token does not match current user");return e.authorization.scopes=[...e.authorization.scopes,...l,v.wE],e.authorization.accessToken=t,e.authorization.expires=new Date(a),d.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application}),{...n.body,access_token:t}},()=>{throw new C.Z({errorCode:S.lTL.INVALID_TOKEN},"Invalid access token: ".concat(t))}).catch(t=>{throw e.authorization.authing=!1,t})}function x(e,t){return{[S.Etm.AUTHENTICATE]:(0,s.S)(S.Etm.AUTHENTICATE,{handler(n){let{socket:r,signal:a,args:{access_token:o}}=n;if(null==o&&r.transport===v.He.IPC){let n=r.application.id;if(null==n)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},"No application.");let s=l.x.IDENTIFY,d=()=>T({client_id:n,scope:s,response_type:"token",signal:a},e,t).then(e=>{if(null==e)throw new C.Z({errorCode:S.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=e.split(/#|\?/),l=i.parse(t[t.length-1]);if(null!=l.error){var a;throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(l.error,": ").concat(null!==(a=l.error_description)&&void 0!==a?a:"unknown error"))}return!function(e,t,n,i){var r;let l=null!==(r=c.K.get(N))&&void 0!==r?r:{};l[e]={accessToken:t,scope:n,expires:Date.now()+i},c.K.set(N,l)}(n,l.access_token,l.scope,l.expires_in),b(r,l.access_token)});return null!=(o=function(e,t){let n=c.K.get(N);if(null!=n&&null!=n[e]){let i=n[e];if(!(i.scope!==t||i.expires<=Date.now()))return i.accessToken;delete n[e],c.K.set(N,n)}}(n,s))?b(r,o).catch(()=>(!function(e){var t;let n=null!==(t=c.K.get(N))&&void 0!==t?t:{};delete n[e],c.K.set(N,n)}(n),d())):d()}if(null==o)throw new C.Z({errorCode:S.lTL.INVALID_TOKEN},"No access token provided");return b(r,o)}}),[S.Etm.AUTHORIZE]:{handler(n){let{socket:i,signal:r,args:l}=n,a=l.client_id;if(!a)throw new C.Z({errorCode:S.lTL.INVALID_CLIENTID},"No client id provided");if(null!=i.authorization.accessToken)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},"Already authenticated");if(i.authorization.authing)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},"Already authing");if(i.authorization.authing=!0,"token"===l.response_type)throw new C.Z({errorCode:S.lTL.INVALID_COMMAND},'Authorization response_type "token" is not supported');return o.tn.get({url:S.ANM.APPLICATION_RPC(a),oldFormErrors:!0,signal:r,rejectWithError:!1}).then(n=>{let a=n.body;if(i.application.id!==a.id)throw new C.Z({errorCode:S.lTL.INVALID_CLIENTID},"Application does not match the connection's");let o=l.scopes||l.scope;return delete l.scopes,T({...l,scope:o,signal:r},e,t)},()=>{throw new C.Z({errorCode:S.lTL.INVALID_CLIENTID},"Invalid client id: ".concat(a))}).then(e=>{if(i.authorization.authing=!1,null==e)throw new C.Z({errorCode:S.lTL.UNKNOWN_ERROR},"Unknown error occurred");let t=new URL(e),n=t.searchParams.get("error");if(null!=n&&""!==n){var r;let e=null!==(r=t.searchParams.get("error_description"))&&void 0!==r?r:"unknown error";throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Error: ".concat(n,": ").concat(e))}let l=t.searchParams.get("code");if(null==l)throw new C.Z({errorCode:S.lTL.OAUTH2_ERROR},"OAuth2 Error: Unable to find auth code");return{code:l}}).catch(e=>{throw i.authorization.authing=!1,e})}}}}},894959:function(e,t,n){var i=n(45792),r=n(914946),l=n(238679),a=n(981631);t.Z={[a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:(0,i.S)(a.Etm.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS,{scope:l.KW,handler(e){let{socket:t}=e;return(0,r.bu)(t.transport),(0,l.dO)()}})}},624714:function(e,t,n){n(47120),n(789020);var i=n(544891),r=n(115130),l=n(287545),a=n(812206),o=n(695103),s=n(626135),c=n(630388),d=n(996106),u=n(914946),h=n(452426),m=n(561205),p=n(186901),g=n(981631);t.Z={[g.Etm.SEND_ANALYTICS_EVENT]:{validation:e=>(0,h.Z)(e).required().keys({event_name:e.string().required(),event_properties:(0,h.Z)(e).required()}),handler(e){var t;let{socket:n,args:{event_name:i,event_properties:r}}=e;(0,u.bu)(n.transport),(0,u._f)(n.application);let o=n.application.id,h=(0,m.Z)(),p=null==h?void 0:h.getGuildId();if(null==h)throw new d.Z({errorCode:g.lTL.INVALID_COMMAND},"Invalid channel");let f=a.Z.getApplication(o);if(!(0,c.yE)(null!==(t=null==f?void 0:f.flags)&&void 0!==t?t:0,g.udG.EMBEDDED_FIRST_PARTY))throw new d.Z({errorCode:g.lTL.INVALID_COMMAND},"This application cannot access this API");let _=(0,l.U)(o),E={activity_application_id:o,activity_channel_type:h.type,activity_guild_id:p,activity_user_session_id:null==_?void 0:_.activityUserSessionId};s.default.track(i,{...E,...r})}},[g.Etm.GET_APPLICATION_TICKET]:{scope:p.lH,handler(e){let{socket:t}=e,n=t.application.id;if(null==n)throw new d.Z({errorCode:g.lTL.INVALID_COMMAND},"No application.");return i.tn.post({url:g.ANM.APPLICATION_TICKET(n),body:{test_mode:o.Z.inTestModeForApplication(n)||r.Z.inDevModeForApplication(n)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t})}}}},906228:function(e,t,n){n(47120);var i=n(243814),r=n(120960),l=n(996106),a=n(452426),o=n(186901),s=n(981631),c=n(65154);t.Z={[s.Etm.SET_CERTIFIED_DEVICES]:{scope:{[o.Gp.ANY]:[i.x.RPC,o.lH]},validation:e=>(0,a.Z)(e).required().keys({devices:e.array().items((0,a.Z)(e).keys({type:e.string().required().valid([c.h7.AUDIO_INPUT,c.h7.AUDIO_OUTPUT,c.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),model:(0,a.Z)(e).required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))}),handler(e){let{socket:t,args:{devices:n}}=e;if(null==t.application.id)throw new l.Z({errorCode:s.lTL.INVALID_COMMAND},"No application.");(0,r.N)(t.application.id,n.map(e=>({type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter(e=>n.some(t=>t.id===e)),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute})))}}}},491327:function(e,t,n){n(47120);var i=n(392711),r=n.n(i),l=n(243814),a=n(447543),o=n(287734),s=n(703656),c=n(131704),d=n(592125),u=n(430824),h=n(496675),m=n(944486),p=n(979651),g=n(934415),f=n(996106),_=n(914946),E=n(452426),I=n(561205),C=n(186901),v=n(981631);t.Z={[v.Etm.GET_CHANNEL]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.GUILDS,l.x.GUILDS_CHANNELS_READ]},handler(e){let{args:{channel_id:t},socket:n}=e,i=d.Z.getChannel(t);if(null==i)throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));if(i.isPrivate()){let e=n.authorization.scopes;if(!e.includes(l.x.RPC)&&!e.includes(l.x.DM_CHANNELS_READ))throw new f.Z({errorCode:v.lTL.INVALID_PERMISSIONS},"Invalid scope")}return(0,_.T5)(i,(0,_.zM)(i,n.application.id,n.authorization.scopes))}},[v.Etm.GET_CHANNELS]:{scope:l.x.RPC,handler(e){let{args:{guild_id:t}}=e,n=r().values(d.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){let e=u.Z.getGuild(t);if(null==e)throw new f.Z({errorCode:v.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));n=n.filter(t=>{let{guild_id:n}=t;return n===e.id})}return{channels:n.filter(e=>h.Z.can(v.Plq.VIEW_CHANNEL,e)).map(e=>{let{id:t,name:n,type:i}=e;return{id:t,name:n,type:i}})}}},[v.Etm.GET_CHANNEL_PERMISSIONS]:{scope:{[C.Gp.ANY]:[l.x.GUILDS_MEMBERS_READ,l.x.GUILDS_CHANNELS_READ]},handler(e){let t=(0,I.Z)();if(null==t)throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Invalid channel");return{permissions:h.Z.computePermissions(t)}}},[v.Etm.SELECT_VOICE_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,E.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean(),navigate:e.boolean()}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:r=0,force:l=!1,navigate:a=!1}}=e;if(!i)return o.default.selectVoiceChannel(null),null;let E=m.Z.getVoiceChannelId();if(null!=E&&E!==i&&!1===l)throw new f.Z({errorCode:v.lTL.SELECT_VOICE_FORCE_REQUIRED},"User is already joined to a voice channel.");return t.storeWait(n,()=>d.Z.getChannel(i),r).catch(()=>{throw new f.Z({errorCode:v.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select voice channel timed out.")}).then(e=>{if(null==e)throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,c.vd)(e.type))throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,_.T5)(e,(0,_.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id){if((0,g.rY)(t,p.Z,u.Z))throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Channel is full");if(!h.Z.can(v.Plq.CONNECT,t))throw new f.Z({errorCode:v.lTL.INVALID_PERMISSIONS},"Connect permission required to join channel")}return o.default.selectVoiceChannel(t.id),a&&(0,s.dL)(v.Z5c.CHANNEL(t.guild_id,t.id)),n})}},[v.Etm.GET_SELECTED_VOICE_CHANNEL]:{scope:{[C.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler(e){let{socket:t}=e,n=m.Z.getVoiceChannelId(),i=null!=n?d.Z.getChannel(n):null;return null!=i?(0,_.T5)(i,(0,_.zM)(i,t.application.id,t.authorization.scopes)):null}},[v.Etm.SELECT_TEXT_CHANNEL]:{scope:l.x.RPC,validation:e=>(0,E.Z)(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)}),handler(e){let{server:t,socket:n,args:{channel_id:i,timeout:r=0}}=e;return i?t.storeWait(n,()=>d.Z.getChannel(i),r).catch(()=>{throw new f.Z({errorCode:v.lTL.SELECT_CHANNEL_TIMED_OUT},"Request to select text channel timed out.")}).then(e=>{if(null==e)throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(i));if(!(0,c.Qm)(e.type))throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,_.T5)(e,(0,_.zM)(e,n.application.id,n.authorization.scopes))])}).then(e=>{let[t,n]=e;if(n.guild_id&&!h.Z.can(v.Plq.VIEW_CHANNEL,t))throw new f.Z({errorCode:v.lTL.INVALID_CHANNEL},"No permission to see channel");return n.guild_id?(0,s.dL)(v.Z5c.CHANNEL(n.guild_id,t.id)):o.default.selectPrivateChannel(t.id),n}):((0,s.uL)(v.Z5c.ME),null)}},[v.Etm.CREATE_CHANNEL_INVITE]:{scope:l.x.RPC,handler(e){let{args:{channel_id:t,...n}}=e;return a.Z.createInvite(t,n,"RPC").catch(()=>{throw new f.Z({errorCode:v.lTL.INVALID_PERMISSIONS},"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))})}}}},934993:function(e,t,n){n(47120);var i=n(570140),r=n(996106),l=n(452426),a=n(186901),o=n(981631);t.Z={[o.Etm.SET_CONFIG]:{scope:a.wE,validation:e=>(0,l.Z)(e).required().keys({use_interactive_pip:e.boolean()}),handler(e){let{socket:t,args:{use_interactive_pip:n}}=e;if(t.transport!==a.He.POST_MESSAGE)throw new r.Z({errorCode:o.lTL.INVALID_COMMAND},'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new r.Z({errorCode:o.lTL.INVALID_COMMAND},"invalid application");return i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}}),Promise.resolve({use_interactive_pip:n})}}}},576027:function(e,t,n){n.d(t,{A:function(){return N}});var i=n(894959),r=n(624714),l=n(906228),a=n(491327),o=n(934993),s=n(793839),c=n(758177),d=n(853678),u=n(378410),h=n(468136),m=n(64974),p=n(83567),g=n(906911),f=n(647656),_=n(918940),E=n(265067),I=n(881393),C=n(905534),v=n(273487),S=n(543815);let N={...r.Z,...l.Z,...a.Z,...o.Z,...s.Z,...c.Z,...d.Z,...u.Z,...h.Z,...p.Z,...g.Z,...f.Z,..._.Z,...I.Z,...C.Z,...S.Z,...v.Z,...m.Z,...E.Z,...i.Z}},793839:function(e,t,n){n(47120);var i=n(392711),r=n.n(i),l=n(243814),a=n(430824),o=n(996106),s=n(452426),c=n(981631);t.Z={[c.Etm.GET_GUILD]:{scope:l.x.RPC,validation:e=>(0,s.Z)(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)}),handler(e){let{socket:t,server:n,args:{guild_id:i,timeout:r=0}}=e;return n.storeWait(t,()=>a.Z.getGuild(i),r).catch(()=>{throw new o.Z({errorCode:c.lTL.GET_GUILD_TIMED_OUT},"Request to get guild timed out.")}).then(e=>{var t;if(null==e)throw new o.Z({errorCode:c.lTL.INVALID_GUILD},"Invalid guild id: ".concat(i));return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}})}},[c.Etm.GET_GUILDS]:{scope:l.x.RPC,handler(){let e=a.Z.getGuilds();return{guilds:r().map(e,e=>({id:e.id,name:e.name,icon_url:e.getIconURL(128)}))}}}}},758177:function(e,t,n){n(47120);var i=n(594174),r=n(768581),l=n(956664),a=n(996106),o=n(452426),s=n(186901),c=n(981631);t.Z={[c.Etm.GET_IMAGE]:{scope:s.lH,validation:e=>(0,o.Z)(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])}),handler(e){let t,{args:{type:n,id:o,format:s="png",size:d=128}}=e;if("user"===n){let e=i.default.getUser(o);if(null!=e){t=r.ZP.getUserAvatarURL(e,!1,d,s);let n=window.GLOBAL_ENV.CDN_HOST;null!=n&&-1!==t.indexOf(n)&&(t+="&_=")}else throw new a.Z({errorCode:c.lTL.INVALID_USER},"Invalid user id: ".concat(o))}if(null==t)throw new a.Z({errorCode:c.lTL.INVALID_COMMAND},"No valid type.");return fetch(t).then(e=>e.blob()).then(e=>(0,l.fD)(e)).then(e=>({data_url:e}))}}}},853678:function(e,t,n){n(47120),n(315314),n(610138),n(216116),n(78328),n(815648);var i=n(230711),r=n(782568),l=n(636449),a=n(317381),o=n(611577),s=n(16609),c=n(812206),d=n(12647),u=n(49012),h=n(358085),m=n(996106),p=n(914946),g=n(452426),f=n(186901),_=n(981631),E=n(701488);let I=new Set([E.Fu,E.JT]);t.Z={[_.Etm.OPEN_EXTERNAL_LINK]:{scope:{[f.Gp.ANY]:[f.wE,f.b_]},validation:e=>(0,g.Z)(e).required().keys({url:e.string().required()}),handler(e){let{socket:t,args:{url:n}}=e;(0,p.bu)(t.transport);try{let e=new URL(n).toString();if(h.isPlatformEmbedded){let e=(0,l.R)()?_.KJ3.ACTIVITY_POPOUT:null;d.Z.focus(e,!0)}let t=a.ZP.getCurrentEmbeddedActivity(),i=c.Z.getApplication(null==t?void 0:t.applicationId),m=(0,s.p)(null==t?void 0:t.location);return new Promise(t=>(0,u.q)({href:e,shouldConfirm:!0,onConfirm:()=>{(0,r.Z)(e),t({opened:!0})},onCancel:()=>{t({opened:!1})}},void 0,void 0,(0,o.z)({application:i,channelId:m})))}catch(e){throw new m.Z({errorCode:_.lTL.INVALID_COMMAND},"Invalid URL: ".concat(n))}}},[_.Etm.NAVIGATE_TO_CONNECTIONS]:{validation:e=>(0,g.Z)(e),scope:{[f.Gp.ANY]:[f.wE]},handler(e){let{socket:t}=e;(0,p.bu)(t.transport);let n=(0,p._f)(t.application);if(!I.has(n))throw new m.Z({errorCode:_.lTL.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");i.Z.open(_.oAB.CONNECTIONS)}}}},378410:function(e,t,n){n(47120);var i=n(710845),r=n(914946),l=n(452426),a=n(981631);let o=new i.Z(a.BZL);t.Z={[a.Etm.CAPTURE_LOG]:{validation:e=>(0,l.Z)(e).required().keys({level:e.string().max(10).required(),message:e.string().max(1e3).required()}),handler(e){let{socket:t,args:{level:n,message:i}}=e;(0,r.bu)(t.transport);let l=t.application.id,a="".concat(l," - ").concat(i);switch(n){case"log":o.log(a);break;case"warn":o.warn(a);break;case"debug":o.verbose(a);break;case"info":o.info(a);break;case"error":o.error(a)}}}}},468136:function(e,t,n){n(47120);var i=n(544891),r=n(626135),l=n(186901),a=n(981631);t.Z={[a.Etm.GET_NETWORKING_CONFIG]:{scope:l.lH,handler:()=>Promise.all([i.tn.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3,rejectWithError:!1}).then(e=>{let{body:{address:t}}=e;return t}),i.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:{token:t}}=e;return t})]).then(e=>{let[t,n]=e;return{address:t,token:n}})},[a.Etm.NETWORKING_SYSTEM_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,r.default.track(a.rMx.NETWORKING_SYSTEM_METRICS,n)}},[a.Etm.NETWORKING_PEER_METRICS]:{scope:l.lH,handler(e){let{socket:t,args:n}=e;n.application_id=t.application.id,r.default.track(a.rMx.NETWORKING_PEER_METRICS,n)}},[a.Etm.NETWORKING_CREATE_TOKEN]:{scope:l.lH,handler:()=>i.tn.post({url:a.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0,rejectWithError:!1}).then(e=>e.body)}}},64974:function(e,t,n){var i=n(231338);t.Z={[i.Et.GET_PLATFORM_BEHAVIORS]:{handler:()=>({iosKeyboardResizesView:!0})}}},83567:function(e,t,n){n(47120);var i=n(570140),r=n(457330),l=n(726542),a=n(231757),o=n(553795),s=n(585483),c=n(996106),d=n(914946),u=n(452426),h=n(186901),m=n(981631),p=n(701488),g=n(231338);let f=new Set([p.Fu,p.JT]);t.Z={[g.Et.GET_PROVIDER_ACCESS_TOKEN]:{scope:{[h.Gp.ANY]:[h.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required(),connection_redirect:e.string()}),handler:e=>{let{socket:t,args:{provider:n,connection_redirect:u}}=e;(0,d.bu)(t.transport);let h=(0,d._f)(t.application),p=l.Z.get(n);if(null==p)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===m.ABu.AMAZON_MUSIC){if(!f.has(h))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");return new Promise(async(e,t)=>{let l=o.Z.getAccount(null,n);if(null==l){function d(t){var n;if(null==p)return;let i=(null!==(n=t.accounts)&&void 0!==n?n:[]).find(e=>e.type===p.type);null!=i&&(e({access_token:i.access_token}),f())}function h(){t(new c.Z({errorCode:g.lT.OAUTH2_ERROR},'OAuth2 setup for "'.concat(n,'" failed'))),f()}function f(){i.Z.unsubscribe("USER_CONNECTIONS_UPDATE",d),s.S.unsubscribe(m.CkL.CONNECTIONS_CALLBACK_ERROR,h)}i.Z.subscribe("USER_CONNECTIONS_UPDATE",d),s.S.subscribe(m.CkL.CONNECTIONS_CALLBACK_ERROR,h),(0,a.Z)({platformType:p.type,location:m.Sbl.ACTIVITY_RPC,successRedirect:u})}else try{let t=await r.Z.refreshAccessToken(p.type,l.id);if(null==t)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");e({access_token:t})}catch(e){t(e)}})}},[g.Et.MAYBE_GET_PROVIDER_ACCESS_TOKEN]:{scope:{[h.Gp.ANY]:[h.wE]},validation:e=>(0,u.Z)(e).required().keys({provider:e.string().required()}),handler:async e=>{let{socket:t,args:{provider:n}}=e;(0,d.bu)(t.transport);let i=(0,d._f)(t.application),a=l.Z.get(n);if(null==a)throw new c.Z({errorCode:g.lT.INVALID_PROVIDER},'Platform not found for provider "'.concat(n,'"'));if(n===m.ABu.AMAZON_MUSIC){if(!f.has(i))throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application")}else throw new c.Z({errorCode:g.lT.UNAUTHORIZED_FOR_APPLICATION},"Command not available for this application");let s=o.Z.getAccount(null,n);if(null==s)throw new c.Z({errorCode:g.lT.NO_CONNECTION_FOUND},"No connection found");let u=await r.Z.refreshAccessToken(a.type,s.id);if(null==u)throw new c.Z({errorCode:g.lT.OAUTH2_ERROR},"Refreshing access token did not return a new access token");return{access_token:u}}}}},906911:function(e,t,n){var i=n(392711),r=n.n(i),l=n(243814),a=n(814443),o=n(699516),s=n(594174),c=n(914946),d=n(981631);t.Z={[d.Etm.GET_RELATIONSHIPS]:{scope:l.x.RELATIONSHIPS_READ,handler(){let e={...o.Z.getRelationships()};return a.Z.getUserAffinitiesUserIds().forEach(t=>{null==e[t]&&null!=s.default.getUser(t)&&(e[t]=d.OGo.IMPLICIT)}),{relationships:r().map(e,(e,t)=>(0,c.cD)(e,t))}}}}},647656:function(e,t,n){n(47120),n(789020),n(411104);var i=n(392711),r=n.n(i),l=n(243814),a=n(570140),o=n(626135),s=n(81063),c=n(70956),d=n(996106),u=n(914946),h=n(452426),m=n(186901),p=n(981631);let g=["349134787773988865"];t.Z={[p.Etm.SET_ACTIVITY]:{scope:{[m.Gp.ANY]:[l.x.RPC,l.x.RPC_ACTIVITIES_WRITE,m.lH]},validation:e=>(0,h.Z)(e).required().keys({pid:e.number().min(0),activity:(0,h.Z)(e).keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:(0,h.Z)(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:(0,h.Z)(e).keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:(0,h.Z)(e).keys({id:e.string().min(2).max(128),size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(p.RYY.PRIVATE).valid([p.RYY.PRIVATE,p.RYY.PUBLIC])}),secrets:(0,h.Z)(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items((0,h.Z)(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(p.IIU.PLAYING).valid(p.IIU.PLAYING,p.IIU.LISTENING,p.IIU.WATCHING,p.IIU.COMPETING)}).allow(null)}),handler(e){var t;let n,{socket:i,args:{pid:l,activity:h},isSocketConnected:f}=e;if(![m.He.IPC,m.He.WEBSOCKET,m.He.POST_MESSAGE].includes(i.transport))throw new d.Z({errorCode:p.lTL.INVALID_COMMAND},'command not available from "'.concat(i.transport,'" transport'));if(null==l&&m.He.IPC===i.transport)throw new d.Z({errorCode:p.lTL.INVALID_COMMAND},"nonzero pid required");if(null==h)return a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:i.id,pid:l,activity:h}),Promise.resolve(h);h.name=i.application.name,h.application_id=i.application.id;let _=i.transport===m.He.POST_MESSAGE,E=(0,u.S5)(h,_);E>0&&(h.flags=E),delete h.instance,null===(t=h.party)||void 0===t||delete t.privacy;let{assets:I,party:C,secrets:v,timestamps:S,buttons:N,type:T}=h;if(null==T&&(h.type=p.IIU.PLAYING),null!=v){let e=r().values(v).filter(e=>!!e);if(null!=C&&r().intersection(e,[C.id]).length>0&&!g.includes(i.application.id))throw new d.Z({errorCode:p.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot match the party id");if(r().uniq(e).length<e.length)throw new d.Z({errorCode:p.lTL.INVALID_ACTIVITY_SECRET},"secrets must be unique");if(null!=N)throw new d.Z({errorCode:p.lTL.INVALID_ACTIVITY_SECRET},"secrets cannot currently be sent with buttons")}if(null!=N&&(h.metadata={button_urls:N.map(e=>e.url)},h.buttons=N.map(e=>e.label)),null!=S)for(let e of Object.keys(S))Date.now().toString().length-S[e].toString().length>2&&(S[e]=Math.floor(S[e]*c.Z.Millis.SECOND));if(null==I)n=Promise.resolve([]);else{if(null==i.application||null==i.application.id)throw Error();n=(0,s.fetchAssetIds)(i.application.id,[I.large_image,I.small_image])}return n.then(e=>{var t,n;let[r,s]=e;if(null!=I&&(null!=r?I.large_image=r:delete I.large_image,null!=s?I.small_image=s:delete I.small_image),!f())return;a.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:i.id,pid:l,activity:h});let{secrets:c,party:d}=h,u={application_id:i.application.id,type:h.type,name:h.name,details:null!==(t=h.details)&&void 0!==t?t:"",state:null!==(n=h.state)&&void 0!==n?n:""};return null!=c&&(u.has_match_secret=!!c.match,u.has_join_secret=!!c.join),null!=I&&(u.has_images=!!(I.large_image||I.small_image)),null!=d&&(u.party_max=null!=d.size?d.size[1]:void 0,u.party_id=d.id),o.default.track(p.rMx.ACTIVITY_UPDATED,u),h})}}}},918940:function(e,t,n){n(47120);var i=n(570140),r=n(996106),l=n(452426),a=n(701488),o=n(231338);t.Z={[o.Et.SET_ORIENTATION_LOCK_STATE]:{validation:e=>(0,l.Z)(e).required().keys({lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(a.xK.UNLOCKED,a.xK.PORTRAIT,a.xK.LANDSCAPE).allow(null).optional()}),handler(e){let{socket:t,args:{lock_state:n,picture_in_picture_lock_state:l,grid_lock_state:a}}=e,s=t.application.id;if(null!=s)i.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:s,lockState:n,pictureInPictureLockState:l,gridLockState:a});else throw new r.Z({errorCode:o.lT.INVALID_COMMAND},"No application.")}}}},265067:function(e,t,n){n(653041),n(47120);var i=n(243814),r=n(100527),l=n(208049),a=n(763296),o=n(697426),s=n(242291),c=n(641015),d=n(594174),u=n(996106),h=n(452426),m=n(736045),p=n(186901),g=n(231338);t.Z={[g.Et.GET_SOUNDBOARD_SOUNDS]:{scope:{[p.Gp.ANY]:[i.x.RPC,p.lH]},async handler(){await (0,l.w)();let e=a.Z.getSounds(),t=[];return e.forEach(e=>e.forEach(e=>t.push((0,o.QL)(e)))),t}},[g.Et.PLAY_SOUNDBOARD_SOUND]:{scope:{[p.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,h.Z)(e).required().keys({guild_id:e.string(),sound_id:e.string()}),async handler(e){let{args:{guild_id:t,sound_id:n}}=e;await (0,l.w)();let i=d.default.getCurrentUser(),o=a.Z.getSound(t,n),h=(0,m.Z)(),p=null!=o&&null!=i&&(0,s.Nq)(i,o,h);if(null==h)throw new u.Z({errorCode:g.lT.INVALID_CHANNEL},"Invalid Channel.");if(p){if((0,c.Z)(h))null!=o&&(0,s.GN)(o,h.id,[r.Z.RPC]);else throw new u.Z({errorCode:g.lT.INVALID_PERMISSIONS},"Invalid Permissions.")}else throw new u.Z({errorCode:g.lT.INVALID_SOUND},"Invalid Sound.")}}}},881393:function(e,t,n){n(47120),n(653041);var i=n(496929),r=n(16084),l=n(558381),a=n(115130),o=n(106976),s=n(695103),c=n(996106),d=n(334288),u=n(186901),h=n(981631);async function m(e,t){let n=t.filter(e=>e.type===h.epS.SUBSCRIPTION_GROUP),i=await Promise.all(n.map(async t=>await (0,o.rx)(e,t.id))),r=[];return i.forEach(e=>{if(null==e)return null;let n=e.subscription_listings;if(null==n)return null;let i=[];n.forEach(e=>{e.subscription_plans.forEach(n=>{var r;let l=null==n?void 0:n.price,a=t.find(e=>e.id===n.sku_id);if(null==a)return;let o={id:n.sku_id,name:a.name,type:a.type,price:{amount:l,currency:h.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!==(r=a.release_date)&&void 0!==r?r:null};i.push(o)})}),i.filter(e=>(null==e?void 0:e.price)!=null).forEach(e=>r.push(e))}),r}async function p(e){let{socket:t}=e;(0,d.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");if(s.Z.inTestModeForApplication(n)||a.Z.inDevModeForApplication(n)){let e=await r.uE(n,!1),t=await m(n,e);return[...e.filter(e=>null!=e.price),...t]}let i=await l.oJ(n),o=i.filter(e=>e.sku.type!==h.epS.SUBSCRIPTION_GROUP).map(e=>e.sku).filter(e=>null!=e.price);return[...o,...await m(n,i.map(e=>e.sku))]}function g(e){let{socket:t}=e;(0,d.f)(t.transport);let n=t.application.id;if(null==n)throw new c.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");return i.yD(n)}t.Z={[h.Etm.GET_SKUS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:p},[h.Etm.GET_ENTITLEMENTS]:{[u.Gp.ANY]:[u.wE,u.lH],handler:g},[h.Etm.GET_SKUS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({skus:await p(e)})},[h.Etm.GET_ENTITLEMENTS_EMBEDDED]:{[u.Gp.ANY]:[u.wE,u.lH],handler:async e=>({entitlements:await g(e)})}}},905534:function(e,t,n){n(177593);var i=n(626135),r=n(996106),l=n(34954),a=n(986768),o=n(981631);t.Z={[o.Etm.SUBSCRIBE]:{async handler(e){let{server:t,socket:n,evt:s,args:c}=e,d=t.events[s];if(null==d)throw new r.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(s));if(!(0,l.Z)(n.authorization.scopes,d.scope))throw new r.Z({errorCode:o.lTL.INVALID_PERMISSIONS},"Not authenticated or invalid scope");if(i.default.track(o.rMx.RPC_SUBSCRIPTION_REQUESTED,{event:s,scope:"object"==typeof d.scope?JSON.stringify(d.scope):d.scope,application_id:n.application.id,socket_scope:n.authorization.scopes.toString()}),null!=d.validation){let e=await t.getJoi();if(null!=e.validate(c,d.validation(e),{convert:!1}).error)throw new r.Z({errorCode:o.lTL.INVALID_PAYLOAD},"Invalid subscription parameters provided")}let u=d.handler({args:c,socket:n}),h=(0,a.V)(n,s,c);return new Promise(e=>{setImmediate(()=>{t.addSubscription(n,s,c,u),null!=h&&t.dispatchToSubscriptions(s,e=>e.socket.id===n.id,h)}),e({evt:s})})}},[o.Etm.UNSUBSCRIBE]:{handler(e){let{server:t,socket:n,evt:i,args:l}=e;if(null==t.events[i])throw new r.Z({errorCode:o.lTL.INVALID_EVENT},"Invalid event: ".concat(i));return t.removeSubscription(n,i,l),{evt:i}}}}},273487:function(e,t,n){var i=n(243814),r=n(706454),l=n(981631);t.Z={[l.Etm.USER_SETTINGS_GET_LOCALE]:{scope:i.x.IDENTIFY,handler:()=>({locale:r.default.locale})}}},543815:function(e,t,n){n(47120);var i=n(232567),r=n(996106),l=n(452426),a=n(863141),o=n(186901),s=n(981631);t.Z={[s.Etm.GET_USER]:{scope:o.lH,validation:e=>(0,l.Z)(e).required().keys({id:e.string().required()}),handler(e){let{args:{id:t}}=e;return(0,i.PR)(t).then(a.Z).catch(()=>{throw new r.Z({errorCode:s.lTL.INVALID_USER},"Invalid user id: ".concat(t))})}}}},845752:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(392711),r=n.n(i),l=n(243814),a=n(186901),o=n(981631);function s(e,t){return{[o.zMe.VOICE_SETTINGS_UPDATE]:{scope:{[a.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>t=>{let{prevState:n,dispatch:i}=t,l=e();return!r().isEqual(l,n)&&i(l),l}},[o.zMe.VOICE_SETTINGS_UPDATE_2]:{scope:a.lH,handler(e){let{socket:n}=e;return e=>{let{prevState:i,dispatch:l}=e;if(null==n.application.id)return i;let a=t(n.application.id);return!r().isEqual(a,i)&&l(a),a}}}}}},13838:function(e,t,n){n(47120);var i=n(392711),r=n.n(i),l=n(243814),a=n(902704),o=n(812206),s=n(594190),c=n(199902),d=n(592125),u=n(271383),h=n(430824),m=n(131951),p=n(19780),g=n(594174),f=n(979651),_=n(996106),E=n(914946),I=n(238679),C=n(452426),v=n(295424),S=n(277272),N=n(863141),T=n(186901),b=n(981631);let x=e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()});function A(e){var t;let{args:{channel_id:n},socket:i}=e,r=d.Z.getChannel(n);if(null==r||!(0,E.zM)(r,i.application.id,i.authorization.scopes))throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(n));if(r.isNSFW()&&(null===(t=g.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed)!==!0)throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid nsfw channel id: ".concat(r.id))}let Z=e=>(0,C.Z)(e).keys({channel_id:e.string().allow(null)});function L(e){let{args:{channel_id:t}}=e;if(null!=t&&null==d.Z.getChannel(t))throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t))}let P={[b.zMe.GUILD_STATUS]:{scope:l.x.RPC,validation:e=>(0,C.Z)(e).required().keys({guild_id:e.string().required()}),handler(e){let{args:{guild_id:t}}=e;if(null==h.Z.getGuild(t))throw new _.Z({errorCode:b.lTL.INVALID_GUILD},"Invalid guild id: ".concat(t));return e=>{var n;let{prevState:i,dispatch:l}=e,a=h.Z.getGuild(t);if(null==a)return;let o={guild:{id:a.id,name:a.name,icon_url:null!==(n=a.getIconURL(128))&&void 0!==n?n:null},online:0};return!r().isEqual(i,o)&&l(o),o}}},[b.zMe.VOICE_STATE_CREATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,l=d.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(f.Z.getVoiceStatesForChannel(l.id));return n&&r().differenceBy(o,n,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,E.aE)(a,l.id,e))),o}}},[b.zMe.VOICE_STATE_DELETE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,l=d.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(f.Z.getVoiceStatesForChannel(l.id));return r().differenceBy(n,o,e=>{let{userId:t}=e;return t}).forEach(e=>i((0,E.aE)(a,l.id,e))),o}}},[b.zMe.VOICE_STATE_UPDATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},validation:e=>(0,C.Z)(e).required().keys({channel_id:e.string().required()}),handler(e){let{args:{channel_id:t}}=e;if(null==d.Z.getChannel(t))throw new _.Z({errorCode:b.lTL.INVALID_CHANNEL},"Invalid channel id: ".concat(t));return e=>{let{prevState:n,dispatch:i}=e,l=d.Z.getChannel(t);if(null==l)return;let a=l.getGuildId(),o=Object.values(f.Z.getVoiceStatesForChannel(l.id)).map(e=>(0,E.aE)(a,l.id,e));return r().differenceWith(o,n,r().isEqual).forEach(e=>i(e)),o}}},[b.zMe.VOICE_CONNECTION_STATUS]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={state:(0,E.zy)(p.Z.getState()),hostname:p.Z.getHostname(),pings:p.Z.getPings(),average_ping:p.Z.getAveragePing(),last_ping:p.Z.getLastPing()};return!r().isEqual(i,t)&&n(i),i}},[b.zMe.MESSAGE_CREATE]:{scope:l.x.RPC,validation:x,handler:A},[b.zMe.MESSAGE_UPDATE]:{scope:l.x.RPC,validation:x,handler:A},[b.zMe.MESSAGE_DELETE]:{scope:l.x.RPC,validation:x,handler:A},[b.zMe.SPEAKING_START]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,T.lH]},validation:Z,handler:L},[b.zMe.SPEAKING_STOP]:{scope:{[T.Gp.ANY]:[l.x.RPC,l.x.RPC_VOICE_READ,T.lH]},validation:Z,handler:L},[b.zMe.GUILD_CREATE]:{scope:l.x.RPC,handler(){}},[b.zMe.CHANNEL_CREATE]:{scope:l.x.RPC,handler(){}},[b.zMe.GAME_JOIN]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[b.zMe.GAME_SPECTATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[b.zMe.ACTIVITY_JOIN]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[b.zMe.ACTIVITY_JOIN_REQUEST]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[b.zMe.ACTIVITY_SPECTATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[b.zMe.ACTIVITY_INVITE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.lH]},handler(){}},[b.zMe.ACTIVITY_PIP_MODE_UPDATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[b.zMe.ACTIVITY_LAYOUT_MODE_UPDATE]:{scope:{[T.Gp.ANY]:[l.x.RPC,T.wE,T.lH]},handler(){}},[b.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:I.gQ,[b.zMe.THERMAL_STATE_UPDATE]:{scope:{[T.Gp.ANY]:[T.wE]},handler(){}},[b.zMe.ORIENTATION_UPDATE]:{scope:{[T.Gp.ANY]:[T.wE]},handler(){}},[b.zMe.VOICE_CHANNEL_SELECT]:{scope:l.x.RPC,handler(){}},[b.zMe.NOTIFICATION_CREATE]:{scope:{[T.Gp.ALL]:[l.x.RPC,l.x.RPC_NOTIFICATIONS_READ]},handler(){}},[b.zMe.RELATIONSHIP_UPDATE]:{scope:l.x.RELATIONSHIPS_READ,handler(){}},[b.zMe.CURRENT_USER_UPDATE]:{scope:{[T.Gp.ANY]:[T.lH,l.x.IDENTIFY]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={currentUser:g.default.getCurrentUser()};return null!=i.currentUser&&(null==t||!(0,a.Z)(i,t))&&n((0,N.Z)(i.currentUser)),i}},[b.zMe.CURRENT_GUILD_MEMBER_UPDATE]:{scope:{[T.Gp.ALL]:[l.x.IDENTIFY,l.x.GUILDS_MEMBERS_READ]},handler(e){let{args:{guild_id:t}}=e;return e=>{let{prevState:n,dispatch:i}=e,r={currentGuildMember:u.ZP.getSelfMember(t)};return null!=r.currentGuildMember&&(null==n||!(0,a.Z)(r,n))&&i((0,S.Z)(r.currentGuildMember)),r}}},[b.zMe.ENTITLEMENT_CREATE]:{scope:{[T.Gp.ANY]:[T.lH,T.wE]},handler(){}},[b.zMe.ENTITLEMENT_DELETE]:{scope:{[T.Gp.ANY]:[T.lH,T.wE]},handler(){}},[b.zMe.SCREENSHARE_STATE_UPDATE]:{scope:{[T.Gp.ALL]:[T.lH,l.x.RPC_SCREENSHARE_READ]},handler:()=>e=>{var t,n;let{prevState:i,dispatch:l}=e,a=c.Z.getStreamerActiveStreamMetadata(),d=(null==a?void 0:a.pid)!=null?s.ZP.getGameForPID(a.pid):null,u=(null==d?void 0:d.id)!=null?o.Z.getApplication(d.id):null,h=null!=u?(0,v.Z)(u):null,m=null==a?void 0:a.sourceName,p={active:null!=a,pid:null!==(t=null==a?void 0:a.pid)&&void 0!==t?t:null,application:(n=null!=h,n)?{name:m}:null};return!r().isEqual(p,i)&&l(p),p}},[b.zMe.VIDEO_STATE_UPDATE]:{scope:{[T.Gp.ALL]:[T.lH,l.x.RPC_VIDEO_READ]},handler:()=>e=>{let{prevState:t,dispatch:n}=e,i={active:m.Z.isVideoEnabled()};return!r().isEqual(i,t)&&n(i),i}}};t.Z=P},986768:function(e,t,n){n.d(t,{V:function(){return s}});var i=n(317381),r=n(176787);n(817938);var l=n(238679),a=n(981631),o=n(701488);function s(e,t,n){var s,c;switch(t){case a.zMe.ACTIVITY_PIP_MODE_UPDATE:{let t=null===(s=e.application)||void 0===s?void 0:s.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{is_pip_mode:n!==o.cE.FOCUSED}:null}case a.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:{let t=null===(c=e.application)||void 0===c?void 0:c.id,n=null!=t?i.ZP.getLayoutModeForApp(t):null;return null!=n?{layout_mode:n}:null}case a.zMe.THERMAL_STATE_UPDATE:{let e=(0,r.bY)();if(e===r.bG.UNHANDLED)return null;return{thermal_state:e}}case a.zMe.ORIENTATION_UPDATE:return null;case a.zMe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE:return(0,l.dO)();default:return null}}},76238:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(392711),r=n.n(i),l=n(996106),a=n(981631);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n){if(o(this,"transport",void 0),o(this,"version",void 0),o(this,"encoding",void 0),o(this,"id",void 0),o(this,"authorization",void 0),o(this,"application",void 0),this.transport=e,this.version=t,this.encoding=n,this.id=r().uniqueId(),this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)},this.application={id:null,name:null,icon:null},null==t||t>a.X6Q||t<1)throw new l.Z({closeCode:a.$VG.INVALID_VERSION},"Invalid Version: ".concat(t))}}},915357:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(996106),r=n(631467),l=n(76238),a=n(186901),o=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends l.Z{send(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id),this.postMessageToRPCClient([r.Z.FRAME,e],this.origin)}close(e,t){!this.closed&&this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient),this.closed=!0}constructor({origin:e,postMessageToRPCClient:t,frameId:n,version:r,encoding:l,logger:c,postClose:d,onSendingToRPCClient:u}){if(super(a.He.POST_MESSAGE,r,l),s(this,"origin",void 0),s(this,"frameId",void 0),s(this,"postMessageToRPCClient",void 0),s(this,"logger",void 0),s(this,"postClose",void 0),s(this,"onSendingToRPCClient",void 0),s(this,"closed",void 0),-1===["etf","json"].indexOf(l))throw new i.Z({closeCode:o.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(l));if("etf"===l)throw new i.Z({closeCode:o.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this.origin=e,this.postMessageToRPCClient=t,this.frameId=n,this.logger=c,this.postClose=d,this.onSendingToRPCClient=u,this.closed=!1}}},46832:function(e,t,n){n.d(t,{Z:function(){return I}}),n(47120),n(653041);var i=n(836560),r=n(317381),l=n(16609),a=n(626135),o=n(585483),s=n(70956),c=n(996106),d=n(631467),u=n(452426),h=n(186901),m=n(981631);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=10*s.Z.Millis.SECOND,f=new Map,_=new Set,E=(e,t,n)=>{n([d.Z.CLOSE,t],e)};class I extends i.EventEmitter{routeEvent(e,t,n,i){if(!Array.isArray(n)){console.warn("[PostMessageTransport] Protocol error: event data should be an Array!");return}let[r,l]=n;switch(r){case d.Z.HANDSHAKE:if(null!=e)throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Already connected");return this.handleHandshake(t,l,i);case d.Z.FRAME:if(null==e)throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleFrame(t,e,l);case d.Z.CLOSE:if(null==e)throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Not connected");return this.handleClose(e,l);default:throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Invalid opcode")}}constructor(e,t,i,s){var d;super(),d=this,p(this,"validateSocketClient",void 0),p(this,"logger",void 0),p(this,"createPostMessageProxySocket",void 0),p(this,"onFrameHandled",void 0),p(this,"handshakeFailureTimeoutId",void 0),p(this,"disconnectSocket",function(e,t){var n,i;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.emit("disconnect",e,r?void 0:t),e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");let[l]=null!==(i=Array.from(f.entries()).find(t=>{let[n,i]=t;return i===e}))&&void 0!==i?i:[null,null];null!=l&&f.delete(l)}),p(this,"handleIFrameMount",e=>{let{id:t}=e;_.add(t),this.handshakeFailureTimeoutId=setTimeout(()=>{Array.from(r.ZP.getSelfEmbeddedActivities().entries()).forEach(e=>{let[t,n]=e;a.default.track(m.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:t,channel_id:(0,l.p)(n.location),guild_id:(0,l.j)(n.location),timeout_ms:g})})},g)}),p(this,"handleIFrameUnmount",e=>{var t;let{id:n}=e;_.delete(n);let[i,r]=null!==(t=Array.from(f.entries()).find(e=>{let[t,i]=e;return i.frameId===n}))&&void 0!==t?t:[null,null];null!=r&&null!=i&&(this.disconnectSocket(r,{code:m.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0),f.delete(i))}),p(this,"handleMessage",(e,t,n)=>{let i=f.get(t);try{this.routeEvent(i,t,e,n)}catch(e){if(e instanceof c.Z&&e.errorCode===m.lTL.INVALID_PAYLOAD)throw e;null!=i?this.disconnectSocket(i,{code:e.code,message:e.message},!0):E(t,{code:e.code,message:e.message},n)}}),p(this,"handleFrame",(e,t,n)=>{var i;let r;if(e!==t.origin)throw new c.Z({closeCode:m.$VG.INVALID_ORIGIN},"Origin has changed");try{r="string"==typeof n?JSON.parse(n):n}catch(e){throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Payload not recognized encoding")}null===(i=this.onFrameHandled)||void 0===i||i.call(this,r,this.logger,t),this.emit("request",t,r)}),p(this,"handleHandshake",async(e,t,i)=>{let r;null!=this.handshakeFailureTimeoutId&&clearTimeout(this.handshakeFailureTimeoutId);let l=(await n.e("56268").then(n.t.bind(n,826753,23))).default;try{l.assert(t,(0,u.Z)(l).required().keys({v:l.number().min(1).max(1).required(),encoding:l.string().equal("json").optional(),client_id:l.string().required(),frame_id:l.string().required(),sdk_version:l.string().optional()}))}catch(e){throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},e.message)}let o=t.frame_id;if(!_.has(o))throw this.logger.error("Unrecognized frame ID ".concat(o)),new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));null!=t.sdk_version&&a.default.track(m.rMx.ACTIVITY_HANDSHAKE,{application_id:t.client_id,sdk_version:t.sdk_version});try{var s;r=this.createPostMessageProxySocket({origin:e,postMessageToRPCClient:i,frameId:o,version:Number(t.v),logger:this.logger,postClose:E,encoding:null!==(s=t.encoding)&&void 0!==s?s:"json"})}catch(e){throw this.logger.error("Error opening window socket ".concat(e)),e}this.logger.info("Socket Opened: ".concat(r.id));try{if(await this.validateSocketClient(r,e,t.client_id),!_.has(o))throw this.logger.error("Frame ID ".concat(o," no longer exists")),new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},"Unrecognized frame ID ".concat(o));f.set(e,r),_.delete(o),r.authorization.scopes.push(h.b_),this.emit("connect",r),this.logger.info("Socket Validated: ".concat(r.id))}catch(e){throw this.logger.info("Socket Closed: ".concat(r.id,", ").concat(e.message)),e}}),p(this,"handleClose",async(e,t)=>{let i=(await n.e("56268").then(n.t.bind(n,826753,23))).default;try{i.assert(t,(0,u.Z)(i).required().keys({code:i.number().valid(Object.values(m.$VG)).required(),message:i.string().optional()}))}catch(e){throw new c.Z({closeCode:m.$VG.CLOSE_UNSUPPORTED},e.message)}this.disconnectSocket(e,t)}),o.S.subscribe(m.CkL.IFRAME_MOUNT,this.handleIFrameMount),o.S.subscribe(m.CkL.IFRAME_UNMOUNT,this.handleIFrameUnmount),this.validateSocketClient=e,this.logger=t,this.createPostMessageProxySocket=i,this.onFrameHandled=s}}},30643:function(e,t,n){n(47120);var i=n(237997),r=n(998502),l=n(576027),a=n(13838),o=n(812967),s=n(350085),c=n(910484),d=n(443952),u=n(266572),h=n(177698),m=n(121826),p=n(753335),g=n(567481),f=n(498164),_=n(111097),E=n(908711),I=n(197941),C=n(462414),v=n(662194),S=n(188861);let N={...l.A,...d.Z,...u.Z,...m.Z,...p.Z,...g.Z,...f.Z,..._.Z,...I.Z,...v.Z,...C.Z,...h.Z,...E.Z},T={...a.Z,...s.M,...c.n};t.Z={server:o.Z,commands:N,events:T,stores:[i.Z],transports:[S.Z],registerTransportsForEmbeddedPlatform:function(){r.ZP.ensureModule("discord_rpc").then(()=>{for(let e of[n(178318).Z,n(967351).Z])o.Z.registerTransport(e)})}}},350085:function(e,t,n){n.d(t,{M:function(){return u}});var i=n(392711),r=n.n(i),l=n(283595),a=n(808506),o=n(237997),s=n(996106),c=n(186901),d=n(981631);let u={[d.zMe.OVERLAY_UPDATE]:{scope:c.lH,handler(e){let{args:{pid:t},socket:n}=e;if("number"!=typeof t||t<10)throw new s.Z({errorCode:d.lTL.INVALID_EVENT},"Invalid pid");return e=>{let{prevState:i,dispatch:s}=e,c=a.Z.enabled,d=!0,u=n.application.id;if(null!=u){let e=l.Z.getActiveLibraryApplication(u);null!=e&&(c=c&&e.isOverlayEnabled()),d=o.Z.isLocked(t)}let h={enabled:c,locked:d};return!r().isEqual(h,i)&&s(h),h}}}}},910484:function(e,t,n){n.d(t,{n:function(){return l}});var i=n(845752),r=n(852926);let l=(0,i.Z)(r._X,r.GC)},852926:function(e,t,n){n.d(t,{GC:function(){return f},_X:function(){return g},em:function(){return p},jU:function(){return m}});var i=n(13245),r=n(371651),l=n(808506),a=n(998502),o=n(13140),s=n(996106),c=n(914946),d=n(186901),u=n(981631);let h=["207646673902501888"];function m(e){if(null==e)return{lock:u.VqG,context:u.IlC.APP};let t=r.Z.isOverlayOOPEnabledForPid(e);return l.Z.isReady(e)?(i.Z.setInputLocked(!1,e),{lock(){i.Z.setInputLocked(!0,e)},context:t?u.IlC.POPOUT:u.IlC.OVERLAY}):(a.ZP.focus(null,!0),{lock(){a.ZP.setForegroundProcess(e)},context:u.IlC.APP})}let p=async(e,t,n)=>{if((0,c.YK)(e,t),(null==n||""===n)&&(0,c.s9)(t))return e.authorization.scopes=[d.cE,d.CN],Promise.resolve();if(null==n||""===n)return Promise.reject(new s.Z({closeCode:u.$VG.INVALID_CLIENTID},"No Client ID Specified"));let i=a.ZP.releaseChannel!==u.R5N.CANARY&&!h.includes(n)&&e.transport!==d.He.POST_MESSAGE;return await (0,c.vv)(n,i),(0,c.fy)(e,n,t)},g=()=>(0,c.tr)(e=>{let t=[];if(null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut))t=e.modeOptions.shortcut.map(e=>{var t;return{type:e[0],code:e[1],name:null!==(t=(0,o.H9)(e))&&void 0!==t?t:"unknown"}});return t}),f=e=>(0,c.FJ)(e,e=>{let t="";return null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,o.BB)(e.modeOptions.shortcut)),t})},298969:function(e,t,n){var i=n(606271),r=n(30643);t.Z=new i.Z(r.Z)},443952:function(e,t,n){n(47120),n(411104),n(789020);var i=n(200651);n(192379);var r=n(243814),l=n(45792),a=n(481060),o=n(278323),s=n(988298),c=n(224706),d=n(45114),u=n(479531),h=n(40851),m=n(566620),p=n(531826),g=n(596223),f=n(838195),_=n(333861),E=n(928518),I=n(23750),C=n(592125),v=n(293273),S=n(885110),N=n(451478),T=n(630388),b=n(823379),x=n(709054),A=n(591759),Z=n(228488),L=n(996106),P=n(914946),y=n(452426),O=n(561205),R=n(600027),j=n(852926),D=n(186901),M=n(981631),w=n(701488);async function k(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=v.Z.getApplicationActivity(t);if(null==l||null==l.secrets||!(0,P.t9)(i,l.party,l.secrets))throw new L.Z({errorCode:M.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let a=(0,g.Z)(l,S.Z);if(a){let{lock:t}=(0,j.jU)(e);return(0,s.h7)(l,a).then(()=>{throw t(),new L.Z({errorCode:M.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}await o.Z.sendActivityInviteUser({userId:n,type:i,activity:l,content:r,location:"In-Game Invite"})}t.Z={[M.Etm.SEND_ACTIVITY_JOIN_INVITE]:{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH]},handler(e){let{socket:t,args:{user_id:n,pid:i}}=e,r=t.application.id;if(null==r)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");return k(i,r,n,M.mFx.JOIN)}},[M.Etm.CLOSE_ACTIVITY_JOIN_REQUEST]:{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH]},handler(e){let{args:{user_id:t}}=e,n=C.Z.getDMFromUserId(t);null!=n&&(0,d.In)(n,!0,!0)}},[M.Etm.ACTIVITY_INVITE_USER]:{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH]},validation:e=>(0,y.Z)(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([M.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,user_id:i,content:r,pid:l}}=e,a=t.application.id;if(null==a)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");return k(l,a,i,n,r)}},[M.Etm.ACCEPT_ACTIVITY_INVITE]:{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH]},validation:e=>(0,y.Z)(e).required().keys({type:e.number().required().valid([M.mFx.JOIN]),user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()}),handler(e){let{socket:t,args:{type:n,user_id:i,session_id:r,channel_id:l,message_id:a}}=e,o=t.application.id;if(null==o)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");let s=Promise.resolve(!1);if(n===M.mFx.JOIN)s=c.Z.join({userId:i,sessionId:r,applicationId:o,channelId:l,messageId:a});return s.then(e=>{if(!e)throw new L.Z({errorCode:M.lTL.INVALID_INVITE},"Invite is expired or invalid.")})}},[M.Etm.OPEN_INVITE_DIALOG]:{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH,D.wE]},handler(e){let{socket:t}=e,{channel:r,guild:l}=(0,R.T)(),o=(0,p.ZP)({application:t.application,channelId:r.id}),s=null!=o?E.Z.getWindow(o):void 0;(null==s?void 0:s.closed)&&(s=void 0);let c=null!=s?M.IlC.POPOUT:M.IlC.APP;(0,Z.Pr)({},null==s?void 0:s.document),(0,a.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("7654"),n.e("86004")]).then(n.bind(n,560114));return n=>(0,i.jsx)(e,{...n,guild:l,channel:r,applicationId:t.application.id,analyticsLocation:M.Sbl.ACTIVITY_RPC,source:M.t4x.ACTIVITY_INVITE})},{contextKey:c===M.IlC.POPOUT?a.POPOUT_MODAL_CONTEXT:a.DEFAULT_MODAL_CONTEXT})}},[M.Etm.INITIATE_IMAGE_UPLOAD]:(0,l.S)(M.Etm.INITIATE_IMAGE_UPLOAD,{scope:{[D.Gp.ANY]:[r.x.RPC,D.lH,D.wE]},handler(e){var t;let{socket:n}=e,i=n.application.id;if(null==i)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");let r=null===(t=(0,O.Z)())||void 0===t?void 0:t.id;if(null==r)throw new L.Z({errorCode:M.lTL.UNKNOWN_ERROR},"Unable to find selected channel");return new Promise((e,t)=>{!function(e,t){var n;let i=N.Z.getLastFocusedWindowId(),r=null==i?null:null===(n=(0,h.g0)(i))||void 0===n?void 0:n.renderWindow;if(null==r)throw new L.Z({errorCode:M.lTL.UNKNOWN_ERROR},"No valid window found");let l=r.document.createElement("input");l.style.display="none",l.type="file",l.accept="image/jpeg, image/jpg, image/png, image/gif";let a=()=>{(null==l.files||0===l.files.length)&&t(),r.document.body.removeEventListener("focus",a,!0),setTimeout(()=>{r.document.body.removeChild(l)},1e3)};l.addEventListener("change",()=>{(0,b.lm)(l.files)&&e(l.files[0]),a()}),l.addEventListener("cancel",()=>{a()}),r.document.body.addEventListener("focus",a,!0),r.document.body.appendChild(l),l.click()}(async n=>{let l=await (0,m.kv)(i,r,n);(0,b.lm)(l)&&(0,b.lm)(l.url)&&!(l instanceof u.Z)?e({image_url:l.url}):t(l)},()=>t(Error("Upload canceled")))}).catch(e=>{var t;throw new L.Z({errorCode:M.lTL.UNKNOWN_ERROR},null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Failed to upload image")})}}),[M.Etm.OPEN_SHARE_MOMENT_DIALOG]:(0,l.S)(M.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let{socket:n,args:{mediaUrl:i}}=e;(0,P.bu)(n.transport);let r=n.application.id;if(null==r)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");if(!(0,T.yE)(null!==(t=n.application.flags)&&void 0!==t?t:0,M.udG.EMBEDDED))throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"This application cannot access this API");let l=(0,O.Z)();if(null==l)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No channel found");if(!A.Z.isDiscordCdnUrl(i))throw new L.Z({errorCode:M.lTL.INVALID_PAYLOAD},"mediaUrl must be a Discord CDN url");(0,f.Z)({applicationId:r,channelId:l.id,mediaUrl:i})}}),[M.Etm.SHARE_INTERACTION]:(0,l.S)(M.Etm.SHARE_INTERACTION,{scope:{[D.Gp.ANY]:[D.wE]},handler(e){var t;let n,{socket:i,args:{command:r,preview_image:l,components:a,content:o}}=e;(0,P.bu)(i.transport);let s=i.application.id;if(null==s)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No application.");if(!w.Cr.includes(s))throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"Unsupported application.");if(!(0,T.yE)(null!==(t=i.application.flags)&&void 0!==t?t:0,M.udG.EMBEDDED))throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"This application cannot access this API");let c=(0,O.Z)();if(null==c)throw new L.Z({errorCode:M.lTL.INVALID_COMMAND},"No channel found");if(null!==l||null!==a||null!==o){let e=[];void 0!==l&&(e=[{id:x.default.cast(x.default.fromTimestamp(Date.now())),size:0,proxy_url:l.url,filename:"preview",url:l.url,height:l.height,width:l.width}]),n=new I.ZP({id:x.default.cast(x.default.fromTimestamp(Date.now())),applicationId:s,content:o,components:a,attachments:e})}(0,_.M)({applicationId:s,channel:c,command:r,previewMessage:n})}})}},266572:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(544891),l=n(846519),a=n(481060),o=n(496929),s=n(115130),c=n(812206),d=n(594174),u=n(580130),h=n(695103),m=n(70956),p=n(998502),g=n(996106),f=n(186901),_=n(981631);let E=10*m.Z.Millis.SECOND;t.Z={[_.Etm.VALIDATE_APPLICATION]:{scope:f.lH,handler(e){let{socket:t}=e,r=t.application.id;try{if(null==r)throw new g.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");let e=c.Z.getApplication(r);if(null==e)throw new g.Z({errorCode:_.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");let t=e.primarySkuId;if(null==t)throw new g.Z({errorCode:_.lTL.INVALID_ENTITLEMENT},"SKU does not exist.");return Promise.race([(function(e,t){let n=u.Z.isEntitledToSku(d.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,o.yD)(t).then(()=>!0===u.Z.isEntitledToSku(d.default.getCurrentUser(),e,t))})(t,e.id).then(e=>{if(!e)throw new g.Z({errorCode:_.lTL.INVALID_ENTITLEMENT},"User does not have entitlement.")}),(0,l.GR)(E).then(()=>{throw new g.Z({errorCode:_.lTL.INVALID_ENTITLEMENT},"Timed out fetching entitlement.")})])}catch(e){throw e.code===_.lTL.INVALID_ENTITLEMENT&&(p.ZP.focus(null,!0),(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:r})})),e}}},[_.Etm.GET_ENTITLEMENT_TICKET]:{scope:f.lH,handler(e){let{socket:t}=e,l=t.application.id;if(null==l)throw new g.Z({errorCode:_.lTL.INVALID_COMMAND},"No application.");return r.tn.post({url:_.ANM.ENTITLEMENT_TICKET(l),body:{test_mode:h.Z.inTestModeForApplication(l)||s.Z.inDevModeForApplication(l)},retries:3,oldFormErrors:!0,rejectWithError:!1}).then(e=>{let{body:t}=e;return t}).catch(e=>{throw p.ZP.focus(null,!0),(0,a.openModalLazy)(async()=>{let{default:e}=await n.e("48748").then(n.bind(n,52004));return t=>(0,i.jsx)(e,{...t,applicationId:l})}),e})}}}},177698:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(531826),o=n(812206),s=n(69580),c=n(371651),d=n(808506),u=n(358085),h=n(998502),m=n(145597),p=n(996106),g=n(703912),f=n(852926),_=n(981631);t.Z=(0,g.Z)(e=>{var t;let{clientId:n,authorizations:d,scopes:u,parsedPermissions:h,responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:v,guildId:S,channelId:N,prompt:T,disableGuildSelect:b,disclosures:x,integrationType:A,pid:Z}=e,L="OAuth2Authorize_".concat(n,"_").concat(S,"_").concat(N),P=null!=A?null==d?void 0:d.get(A):void 0,y=null!==(t=null==P?void 0:P.application)&&void 0!==t?t:o.Z.getApplication(n);return new Promise((e,t)=>{let o=(0,f.jU)(Z),P=i=>{let{clientId:r,location:a}=i;if(null==r||r===n)o.lock(),l.Z.unsubscribe("OVERLAY_OAUTH2_AUTHORIZE_MODAL_CLOSE",P),null!=location?e(a):t(new p.Z({errorCode:_.lTL.OAUTH2_ERROR},"User cancelled authorization"))},O=c.Z.isOverlayOOPEnabledForPid(null!=Z?Z:(0,m.QF)());if(o.context===_.IlC.OVERLAY&&!O){l.Z.subscribe("OVERLAY_OAUTH2_AUTHORIZE_MODAL_CLOSE",P),l.Z.dispatch({type:"OVERLAY_OAUTH2_AUTHORIZE_MODAL_OPEN",clientId:n,authorizeProps:{authorizations:d,clientId:n,scopes:null!=u?u:[],disclosures:null!=x?x:[],responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:v,permissions:h.toString(),guildId:S,channelId:N,prompt:T,disableGuildSelect:"boolean"==typeof b?b:"true"===b,integrationType:A}});return}(0,r.openModal)(e=>(0,i.jsx)(s.OAuth2AuthorizeModal,{...e,authorizations:d,clientId:n,scopes:null!=u?u:[],disclosures:null!=x?x:[],callback:P,responseType:g,redirectUri:E,codeChallenge:I,codeChallengeMethod:C,state:v,permissions:h,guildId:S,channelId:N,prompt:T,disableGuildSelect:"boolean"==typeof b?b:"true"===b,integrationType:A}),{modalKey:L,onCloseRequest:()=>{(0,r.closeModal)(L),t(new p.Z({errorCode:_.lTL.OAUTH2_ERROR},"User cancelled authorization"))}},null!=y&&null!=(0,a.ZP)({application:y,channelId:N})?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT)})},function(e,t,n){if(d.Z.isReady(null!=n?n:0)||!u.isPlatformEmbedded)return;let i=(0,a.ZP)({application:e,channelId:t});(0,u.isWindows)()?h.ZP.minimize(i):h.ZP.restore(i),h.ZP.focus(i)})},121826:function(e,t,n){var i=n(230487),r=n(998502),l=n(914946),a=n(452426),o=n(981631);t.Z={[o.Etm.ENCOURAGE_HW_ACCELERATION]:{validation:e=>(0,a.Z)(e),handler(e){let{socket:t}=e;(0,l.bu)(t.transport);let n=t.application.id;if(null!=n)return(0,i.Z)(n),{enabled:r.ZP.getEnableHardwareAcceleration()}}}}},753335:function(e,t,n){var i=n(570140),r=n(703656),l=n(998502),a=n(852926),o=n(186901),s=n(981631);t.Z={[s.Etm.OPEN_MESSAGE]:{scope:o.lH,handler(e){let{args:{guild_id:t,channel_id:n,message_id:o,pid:c}}=e;if((0,a.jU)(c).context===s.IlC.OVERLAY){i.Z.dispatch({type:"OVERLAY_OPEN_MESSAGE",guildId:t,channelId:n,messageId:o});return}(0,r.dL)({pathname:s.Z5c.CHANNEL(t,n,o)}),l.ZP.focus()}}}},567481:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(988298),o=n(447543),s=n(13245),c=n(596223),d=n(710845),u=n(293273),h=n(885110),m=n(996106),p=n(914946),g=n(452426),f=n(852926),_=n(186901),E=n(981631);let I=new d.Z("RPCCommandsOverlay");t.Z={[E.Etm.SET_OVERLAY_LOCKED]:{scope:_.lH,validation:e=>(0,g.Z)(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()}),handler(e){let{args:{locked:t,pid:n},socket:{application:i}}=e;if(I.verbose("RPCCommands.SET_OVERLAY_LOCKED",{locked:t,pid:n}),null==i.id)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");s.Z.setInputLocked(t,n)}},[E.Etm.OPEN_OVERLAY_ACTIVITY_INVITE]:{scope:_.lH,validation:e=>(0,g.Z)(e).required().keys({type:e.number().required().valid([E.mFx.JOIN]),pid:e.number().min(0).required()}),handler(e){let{socket:t,args:{type:n,pid:i}}=e,r=t.application.id;if(null==r)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");let l=u.Z.getApplicationActivity(r);if(null==l||null==l.secrets||!(0,p.t9)(n,l.party,l.secrets))throw new m.Z({errorCode:E.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");let{lock:o,context:s}=(0,f.jU)(i),d=(0,c.Z)(l,h.Z);return(0,a.h7)(l,d,s).then(()=>{if(o(),d)throw new m.Z({errorCode:E.lTL.NO_ELIGIBLE_ACTIVITY},"No eligible activity for application. Ensure user does have have privacy enabled.")})}},[E.Etm.OPEN_OVERLAY_GUILD_INVITE]:{scope:_.lH,validation:e=>(0,g.Z)(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()}),handler(e){let{args:{code:t,pid:n},socket:i}=e;if(null==i.application.id)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");return o.Z.resolveInvite(t,"Game SDK").then(e=>{let{invite:t,code:i}=e;if(null==t)throw new m.Z({errorCode:E.lTL.INVALID_INVITE},"Invalid invite id: ".concat(i));let{context:r,lock:a}=(0,f.jU)(n);return new Promise(e=>{l.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:i,context:r,resolve:e})}).then(a)})}},[E.Etm.OPEN_OVERLAY_VOICE_SETTINGS]:{scope:_.lH,validation:e=>(0,g.Z)(e).required().keys({pid:e.number().min(0).required()}),handler(e){let{args:{pid:t},socket:l}=e,a=l.application.id;if(null==a)throw new m.Z({errorCode:E.lTL.INVALID_COMMAND},"No application.");let{lock:o}=(0,f.jU)(t);return new Promise(e=>{(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("66063").then(n.bind(n,344516));return n=>(0,i.jsx)(t,{...n,mediaEngineContext:a,title:l.application.name,onClose:()=>{n.onClose(),o(),e()}})})})}}}},498164:function(e,t,n){n(315314),n(610138),n(216116),n(78328),n(815648),n(47120);var i,r,l=n(200651);n(192379);var a=n(756647),o=n(481060),s=n(570140),c=n(355467),d=n(899742),u=n(457330),h=n(533307),m=n(447543),p=n(185669),g=n(962220),f=n(69580),_=n(703656),E=n(314897),I=n(553795),C=n(594174),v=n(626135),S=n(585483),N=n(591759),T=n(998502),b=n(996106),x=n(186901),A=n(981631);function Z(e,t){if(null!=e)v.default.track(A.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,a.s)(e),link_type:t})}(r=i||(i={})).SETTINGS="settings",r.CHANGELOG="changelog",r.LIBRARY="library",r.STORE="store",r.INVITE="invite",r.CHANNEL="channel",r.GUILD_SETTINGS="guild_settings",r.QUEST_HOME="quest_home",r.DISCOVERY_GAME="discovery_game",t.Z={[A.Etm.INVITE_BROWSER]:{scope:x.cE,async handler(e){let{args:{code:t}}=e,{invite:n}=await m.Z.resolveInvite(t,"Desktop Modal");if(null==n)throw new b.Z({errorCode:A.lTL.INVALID_INVITE},"Invalid invite id: ".concat(t));return E.default.isAuthenticated()?s.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:n,code:t,context:A.IlC.APP}):(0,_.dL)(A.Z5c.INVITE(t)),{invite:n,code:t}}},[A.Etm.GUILD_TEMPLATE_BROWSER]:{scope:x.cE,async handler(e){let{args:{code:t}}=e;if(null==C.default.getCurrentUser())return;let{guildTemplate:i}=await g.Z.resolveGuildTemplate(t);if(null==i)throw new b.Z({errorCode:A.lTL.INVALID_GUILD_TEMPLATE},"Invalid guild template id: ".concat(t));return T.ZP.focus(),(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("10778"),n.e("22769")]).then(n.bind(n,766775));return t=>(0,l.jsx)(e,{...t,guildTemplate:i})}),{guildTemplate:i,code:t}}},[A.Etm.GIFT_CODE_BROWSER]:{scope:x.cE,handler(e){let{args:{code:t}}=e;return new Promise((e,i)=>{s.Z.wait(()=>{h.Z.resolveGiftCode(t,!0,!0).then(i=>{let{giftCode:r}=i;T.ZP.focus(),v.default.track(A.rMx.OPEN_MODAL,{type:"gift_accept",location:A.SaU}),(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("92446"),n.e("39418")]).then(n.bind(n,409858));return n=>(0,l.jsx)(e,{code:t,...n})}),e({giftCode:r})}).catch(()=>i(new b.Z({errorCode:A.lTL.INVALID_GIFT_CODE},"Invalid gift code: ".concat(t))))})})}},[A.Etm.DEEP_LINK]:{scope:x.cE,handler(e){let{args:{type:t,params:n}}=e;switch(T.ZP.focus(),t){case x.jE.USER_SETTINGS:null!=n&&((0,_.dL)(A.Z5c.SETTINGS(n.section,n.subsection)),Z(n.fingerprint,"settings"));break;case x.jE.CHANGELOG:null!=n&&((0,_.dL)(N.Z.formatPathWithQuery(A.Z5c.CHANGELOGS(n.date),n.query)),Z(n.fingerprint,"changelog"));break;case x.jE.LIBRARY:(0,_.dL)(A.Z5c.APPLICATION_LIBRARY),null!=n&&Z(n.fingerprint,"library");break;case x.jE.STORE_HOME:(0,_.dL)(A.Z5c.APPLICATION_STORE),null!=n&&Z(n.fingerprint,"store");break;case x.jE.STORE_LISTING:null!=n&&((0,_.dL)(A.Z5c.APPLICATION_STORE_LISTING_SKU(n.skuId,n.slug)),Z(n.fingerprint,"store"));break;case x.jE.PICK_GUILD_SETTINGS:null!=n&&((0,_.dL)({pathname:A.Z5c.PICK_GUILD_SETTINGS(n.section,n.subsection),search:n.search}),Z(n.fingerprint,"guild_settings"));break;case x.jE.CHANNEL:null!=n&&((0,_.dL)({pathname:A.Z5c.CHANNEL(n.guildId,n.channelId,n.messageId),search:n.search}),Z(n.fingerprint,"channel"));break;case x.jE.QUEST_HOME:null!=n?((0,_.dL)({pathname:A.Z5c.QUEST_HOME,hash:n.questId}),Z(n.fingerprint,"quest_home")):(0,_.dL)(A.Z5c.QUEST_HOME);break;case x.jE.DISCOVERY_GAME_RESULTS:null!=n&&((0,_.dL)({pathname:A.Z5c.GLOBAL_DISCOVERY_SERVERS,search:"?game=".concat(n.gameId)}),Z(n.fingerprint,"discovery_game"));break;case x.jE.OAUTH2:let i=new URL(A.Z5c.OAUTH2_AUTHORIZE,window.location.origin);i.search=n.search;let r=(0,f.getOAuth2AuthorizeProps)(i.toString());if(null!=r)return(0,f.openOAuth2ModalWithCreateGuildModal)(r),!0;return!1}}},[A.Etm.BROWSER_HANDOFF]:{scope:x.CN,handler(e){let{args:{handoffToken:t,fingerprint:n}}=e;T.ZP.focus(null,!0),(0,d.lx)(t,n)}},[A.Etm.CONNECTIONS_CALLBACK]:{scope:x.cE,handler:async e=>{let{args:{providerType:t,code:n,openid_params:i,iss:r,state:l}}=e;if(!p.g.getCurrentConfig({location:"private.CONNECTIONS_CALLBACK"}).enabled&&!I.Z.hasPendingAuthorizedState(l))throw new b.Z({errorCode:A.lTL.INVALID_CONNECTION_CALLBACK_STATE},"Provider authorization did not originate from this discord client");try{return I.Z.deletePendingAuthorizedState(l),await u.Z.callback(t,{code:n,openid_params:i,iss:r,state:l})}catch(e){if((null==e?void 0:e.status)===400)throw new b.Z({errorCode:A.lTL.BAD_REQUEST_FOR_PROVIDER},"Bad request for provider");throw S.S.dispatch(A.CkL.CONNECTIONS_CALLBACK_ERROR),e}}},[A.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK]:{scope:x.cE,handler(e){let{args:{state:t,path:n,query:i}}=e;return(0,c.rt)({paymentSourceType:A.HeQ.PAYPAL,state:t,path:n,query:i})}},[A.Etm.BILLING_POPUP_BRIDGE_CALLBACK]:{scope:x.cE,handler(e){let{args:{state:t,path:n,query:i,payment_source_type:r}}=e;return(0,c.rt)({paymentSourceType:r,state:t,path:n,query:i})}}}},111097:function(e,t,n){n(411104),n(47120);var i=n(72924),r=n(100527),l=n(367207),a=n(996106),o=n(452426),s=n(561205),c=n(334288),d=n(852926),u=n(186901),h=n(981631),m=n(474936);let p=[r.Z.RPC];function g(e,t){let n={subscriptionTier:m.Si.TIER_2,analyticsLocations:p,analyticsObject:t};switch(e){case h.IlC.APP:return l.Z.openPremiumPaymentModalInApp(n);case h.IlC.OVERLAY:return l.Z.openPremiumPaymentModalInOverlay(n);default:throw Error("Unexpected app context: ".concat(e))}}t.Z={[h.Etm.START_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,o.Z)(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)}),handler(e){let{socket:t,args:{sku_id:n,pid:r}}=e;(0,c.f)(t.transport);let l=t.application.id;if(null==l)throw new a.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");let{lock:o,context:m}=(0,d.jU)(t.transport!==u.He.POST_MESSAGE?r:null);if(null==(0,s.Z)())throw new a.Z({errorCode:h.lTL.INVALID_CHANNEL},"Invalid channel");let f={page:h.ZY5.IN_APP};return(async()=>{try{let e=await (0,i.S)({applicationId:l,skuId:n,openPremiumPaymentModal:()=>g(m,f),analyticsLocations:p,analyticsLocationObject:f,context:m});return o(),e}catch(e){if(o(),null!=e){let t="";throw t="object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e),new a.Z({errorCode:h.lTL.PURCHASE_ERROR},t)}throw new a.Z({errorCode:h.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")}})()}},[h.Etm.START_PREMIUM_PURCHASE]:{[u.Gp.ANY]:[u.wE,u.lH],validation:e=>(0,o.Z)(e).keys({pid:e.number().min(0)}),handler(e){let{socket:t,args:{pid:n}}=e;if((0,c.f)(t.transport),null==t.application.id)throw new a.Z({errorCode:h.lTL.INVALID_COMMAND},"No application.");let{lock:i,context:r}=(0,d.jU)(t.transport!==u.He.POST_MESSAGE?n:null);return g(r,{page:h.ZY5.IN_APP}).then(()=>{i()},e=>{if(i(),null!=e)throw new a.Z({errorCode:h.lTL.PURCHASE_ERROR},e);throw new a.Z({errorCode:h.lTL.PURCHASE_CANCELED},"Purchase was canceled by the user.")})}}}},908711:function(e,t,n){var i=n(408841),r=n(981631);t.Z={[r.Etm.SEND_GENERIC_EVENT]:i.n}},197941:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(243814),l=n(481060),a=n(846027),o=n(872810),s=n(594190),c=n(989941),d=n(173507),u=n(199902),h=n(131951),m=n(449224),p=n(358085),g=n(452426),f=n(736045),_=n(186901),E=n(981631);t.Z={[E.Etm.TOGGLE_VIDEO]:{scope:{[_.Gp.ALL]:[r.x.RPC,r.x.RPC_VIDEO_WRITE]},handler(){let e=h.Z.isVideoEnabled();if(null!=(0,f.Z)())e?a.Z.setVideoEnabled(!1):(0,d.Z)(()=>a.Z.setVideoEnabled(!0),E.IlC.APP)}},[E.Etm.TOGGLE_SCREENSHARE]:{scope:{[_.Gp.ALL]:[r.x.RPC,r.x.RPC_SCREENSHARE_WRITE]},validation:e=>(0,g.Z)(e).optional().keys({pid:e.number().optional().min(0)}),handler(e){let{args:{pid:t}}=e,r=u.Z.getCurrentUserActiveStream(),a=u.Z.getStreamerActiveStreamMetadata(),d=(0,c.Z)(s.ZP,m.Z),h=(0,f.Z)();if(null!=h)null!=t&&null!=a&&a.pid!==t&&(0,p.isWindows)()?(0,o.WH)(h.guild_id,h.id,{pid:t}):null!=r?(0,o.L6)(!1):null!=t&&(0,p.isWindows)()?(0,o.WH)(h.guild_id,h.id,{pid:t}):null!=d?(0,o.WH)(h.guild_id,h.id,{pid:d.pid}):(0,l.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("93382"),n.e("79477"),n.e("38454")]).then(n.bind(n,60594));return t=>(0,i.jsx)(e,{...t,guildId:h.guild_id,analyticsLocation:E.Sbl.ACTIVITY_RPC})})}}}},462414:function(e,t,n){n(47120);var i=n(243814),r=n(846027),l=n(131951),a=n(13140),o=n(996106),s=n(452426),c=n(186901),d=n(981631),u=n(65154);function h(e){let t=e.application.id;if(null==t)throw new o.Z({errorCode:d.lTL.INVALID_COMMAND},"No application.");return t}t.Z={[d.Etm.SET_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({input_mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(d.pM4)),shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()}),handler(e){let{socket:t,args:{input_mode:n,self_mute:i,self_deaf:o}}=e,s=h(t);null!=n&&r.Z.setMode(n.type,{shortcut:(0,a.Kd)(n.shortcut)},s),null!=i&&i!==l.Z.isSelfMute(s)&&r.Z.toggleSelfMute({context:s}),null!=o&&o!==l.Z.isSelfDeaf(s)&&r.Z.toggleSelfDeaf({context:s})}},[d.Etm.SET_USER_VOICE_SETTINGS_2]:{scope:c.lH,validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{socket:t,args:{user_id:n,mute:i,volume:a}}=e,o=h(t);null!=i&&i!==l.Z.isLocalMute(n,o)&&r.Z.toggleLocalMute(n,o),null!=a&&r.Z.setLocalVolume(n,a,o)}},[d.Etm.PUSH_TO_TALK]:{scope:{[c.Gp.ALL]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({active:e.boolean()}),handler(e){let{args:{active:t}}=e;if(l.Z.getMode(u.Yn.DEFAULT)===d.pM4.PUSH_TO_TALK)l.Z.getMediaEngine().eachConnection(e=>e.setForceAudioInput(t),u.Yn.DEFAULT)}}}},662194:function(e,t,n){n(47120);var i=n(243814),r=n(846027),l=n(131951),a=n(594174),o=n(996106),s=n(452426),c=n(852926),d=n(186901),u=n(981631);t.Z={[u.Etm.SET_USER_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({user_id:e.string().required(),pan:(0,s.Z)(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()}),handler(e){let{args:{user_id:t,pan:n,volume:i,mute:s}}=e,c=a.default.getCurrentUser();if(null==a.default.getUser(t)||(null==c?void 0:c.id)===t)throw new o.Z({errorCode:u.lTL.INVALID_USER},"Invalid user id: ".concat(t));if(null!=n&&r.Z.setLocalPan(t,n.left,n.right),null!=i&&r.Z.setLocalVolume(t,i),null!=s){let e=l.Z.isLocalMute(t);(e&&!s||!e&&s)&&r.Z.toggleLocalMute(t)}return{user_id:t,pan:l.Z.getLocalPan(t),volume:l.Z.getLocalVolume(t),mute:l.Z.isLocalMute(t)}}},[u.Etm.GET_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_READ]},handler:()=>(0,c._X)()},[u.Etm.SET_VOICE_SETTINGS]:{scope:{[d.Gp.ANY]:[i.x.RPC,i.x.RPC_VOICE_WRITE]},validation:e=>(0,s.Z)(e).required().keys({input:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:(0,s.Z)(e).keys({device_id:e.string().valid(Object.keys(l.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:(0,s.Z)(e).keys({type:e.string().valid(Object.keys(u.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items((0,s.Z)(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()}),handler(e){let{args:{input:t,output:n,mode:i,automatic_gain_control:a,echo_cancellation:o,noise_suppression:s,qos:d,silence_warning:u,deaf:h,mute:m}}=e;if(t&&(null!=t.device_id&&r.Z.setInputDevice(t.device_id),null!=t.volume&&r.Z.setInputVolume(t.volume)),n&&(null!=n.device_id&&r.Z.setOutputDevice(n.device_id),null!=n.volume&&r.Z.setOutputVolume(n.volume)),i){let e=l.Z.getMode(),t=l.Z.getModeOptions();null!=i.type&&(e=i.type),null!=i.auto_threshold&&(t.autoThreshold=i.auto_threshold),null!=i.threshold&&(t.threshold=i.threshold),null!=i.shortcut&&(t.shortcut=i.shortcut.map(e=>[e.type,e.code])),null!=i.delay&&(t.delay=i.delay),r.Z.setMode(e,t)}if(null!=a&&r.Z.setAutomaticGainControl(a),null!=o&&r.Z.setEchoCancellation(o),null!=s&&r.Z.setNoiseSuppression(s),null!=d&&r.Z.setQoS(d),null!=u&&r.Z.setSilenceWarning(u),null!=h){let e=l.Z.isSelfDeaf();(e&&!h||!e&&h)&&r.Z.toggleSelfDeaf()}if(null!=m){let e=l.Z.isSelfMute();(e&&!m||!e&&m)&&r.Z.toggleSelfMute()}return(0,c._X)()}}}},967351:function(e,t,n){n(47120),n(411104);var i=n(413135),r=n(836560),l=n(392711),a=n.n(l),o=n(710845),s=n(998502),c=n(901077),d=n(76238),u=n(852926),h=n(981631);let m=s.ZP.requireModule("discord_rpc").RPCIPC,p=new o.Z("RPCServer:IPC"),g={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function f(e,t){null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function _(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function E(e){return new Promise((t,n)=>{"string"==typeof e&&(e=m.net.createConnection(e)),e.pause(),e.on("readable",()=>{try{C(e)}catch(t){e.end(I(g.CLOSE,{code:1003,message:t.message})),e.destroy()}});let i=()=>{try{e.end(),e.destroy()}catch(e){}},r=Promise.race([new Promise(t=>e.on("error",()=>t())),new Promise((t,n)=>{e.on("pong",()=>n(Error("socket responded with pong")))}),new Promise((e,t)=>{setTimeout(()=>t(Error("socket alive timeout")),1e3)})]).then(()=>{i()},e=>{throw i(),e});return e.write(I(g.PING,a().uniqueId())),r.then(t,n)})}function I(e,t){var n;t=JSON.stringify(t);let r=i.Buffer.byteLength(t),l=i.Buffer.alloc(8+r);return l.writeInt32LE(e,0),l.writeInt32LE(r,4),l.write(t,8,r),(n=l).buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}function C(e){let t=e.read(8);if(null==t)return;let n=i.Buffer.from(t),r=n.readInt32LE(0),l=n.readInt32LE(4);if(!Object.values(g).includes(r)||l<0)throw Error("protocol error");if(null==(t=e.read(l)))throw Error("data size does not match what was received");let a=JSON.parse((n=i.Buffer.from(t)).toString());switch(r){case g.PING:e.emit("ping",a),e.write(I(g.PONG,a));break;case g.PONG:e.emit("pong",a);break;case g.HANDSHAKE:if(_(e))throw Error("already did handshake");f(e,!0),e.emit("handshake",a);break;case g.FRAME:if(!_(e))throw Error("did not handshake");e.emit("request",a);break;case g.CLOSE:e.end(),e.destroy()}C(e)}class v extends d.Z{send(e){p.info("Socket Emit: ".concat(this.id),(0,c.Z)(e)),this.socket.write(I(g.FRAME,e))}close(e,t){this.socket.end(I(g.CLOSE,{code:e,message:t})),this.socket.destroy()}constructor(e,t,n){var i,r,l;super("ipc",t,n),i=this,l=void 0,(r="socket")in i?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,this.socket=e}}class S extends r.EventEmitter{handleConnection(e){f(e,!1),e.pause(),e.on("readable",()=>{try{C(e)}catch(t){e.end(I(g.CLOSE,{code:h.$VG.CLOSE_UNSUPPORTED,message:t.message})),e.destroy()}}),e.once("handshake",t=>{let n;let i=t.client_id,r=+t.v;try{n=new v(e,r,"json")}catch(t){e.end(I(g.CLOSE,{code:t.code,message:t.message})),e.destroy();return}p.info("Socket Opened: ".concat(n.id)),e.on("error",e=>p.error("Socket Error: ".concat(e.message))),e.on("close",()=>{p.info("Socket Close: ".concat(n.id)),this.emit("disconnect",n)}),(0,u.em)(n,null,i).then(()=>{e.on("request",e=>{p.info("Socket Message: ".concat(n.id),(0,c.Z)(e)),this.emit("request",n,e)}),this.emit("connect",n)}).catch(e=>{let{code:t,message:i}=e;return n.close(t,i)})})}constructor(){super();let e=m.net.createServer(e=>this.handleConnection(e));e.on("error",e=>p.error("Error: ".concat(e.message))),m.getAvailableSocket(E).then(t=>{e.listen(t,()=>{("function"==typeof e.listening?e.listening():e.listening)&&p.info("Starting on ".concat(e.address()))})})}}t.Z=new S},178318:function(e,t,n){let i,r;n(47120),n(610138),n(216116),n(78328),n(815648),n(653041),n(411104);var l=n(836560),a=n(392711),o=n.n(a),s=n(570140),c=n(710845),d=n(857192),u=n(591759),h=n(998502),m=n(996106),p=n(901077),g=n(76238),f=n(852926),_=n(186901),E=n(981631),I=n(413135).Buffer;function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}try{i=h.ZP.requireModule("discord_erlpack")}catch(e){try{i=h.ZP.requireModule("erlpack")}catch(e){}}let v=h.ZP.requireModule("discord_rpc").RPCWebSocket,S=window.GLOBAL_ENV.MARKETING_ENDPOINT,N=new c.Z("RPCServer:WSS"),T=[];function b(e){return"function"==typeof e?e():e}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:()=>{if(!b(r.listening))return;let e=r.address().port;N.info("Starting on ".concat(e)),s.Z.dispatch({type:"RPC_SERVER_READY",port:e})};r.listen(E.V6Z+e%E.frH,"127.0.0.1",t)}function A(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=null!=b(e.headers).origin?{"Access-Control-Allow-Origin":b(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":"Content-Type, Authorization"}:{};n=n?JSON.stringify(n):"",i=200===i&&0===n.length?204:i,t.setHeader("Content-Length",I.byteLength(n).toString()),t.setHeader("Content-Type","application/json"),t.writeHead(i,{...r,...l}),t.end(n)}function Z(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;A(e,t,{code:r,message:i},n)}class L extends g.Z{send(e){(d.default.isLoggingOverlayEvents||e.cmd!==E.Etm.OVERLAY&&e.evt!==E.zMe.OVERLAY)&&N.info("Socket Emit: ".concat(this.id),(0,p.Z)(e)),null!=i&&"etf"===this.encoding?this._socket.send(i.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))}close(e,t){this._socket.close(e,t)}constructor(e,t,n){if(super("ws",t,n),C(this,"_socket",void 0),-1===["etf","json"].indexOf(n))throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(n));if("etf"===n&&null==i)throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Erlpack cannot be used on this client");this._socket=e}}class P extends g.Z{send(e){(d.default.isLoggingOverlayEvents||e.cmd!==E.Etm.OVERLAY)&&N.info("Socket Emit: ".concat(this.id),e),this._sendCallback(e)}close(e,t){this._closeCallback(t,e)}constructor(e,t,n,i){if(super("http",n,i),C(this,"_sendCallback",void 0),C(this,"_closeCallback",void 0),"json"!==i)throw new m.Z({closeCode:E.$VG.INVALID_ENCODING},"Invalid Encoding: ".concat(i));this._sendCallback=e,this._closeCallback=t}}class y extends l.EventEmitter{handleRequest(e,t){let[n,i]=b(e.url).split("?"),r=b(e.method);if("/rpc"===n&&"OPTIONS"===r){A(e,t,{body:""});return}let l="POST"===r;if("/rpc"===n&&("GET"===r||l)){let n=new URLSearchParams(i),r=l?b(e.headers)["content-type"].split("/")[1]:"json",o=function(){var e,i;let{protocol:r,host:l}=null!==(i=u.Z.toURLSafe(null!==(e=n.get("callback"))&&void 0!==e?e:""))&&void 0!==i?i:{};r===location.protocol&&l===location.host?t.setHeader("Location",n.get("callback")):t.setHeader("Location",S),t.writeHead(301),t.end()},s=new P(l?A.bind(null,e,t):o,l?Z.bind(null,e,t,400):o,Number(n.get("v")),r);if(l)(0,f.em)(s,b(e.headers).origin,n.get("client_id")).then(()=>{let n="";e.on("data",e=>n+=e),e.on("error",()=>Z(e,t,500,"Internal Server Error")),e.on("end",()=>this.handleMessage(s,n))}).catch(e=>{let{code:t,message:n}=e;return s.close(t,n)});else{var a;s.authorization.scopes=[_.CN],this.handleMessage(s,decodeURIComponent(null!==(a=n.get("payload"))&&void 0!==a?a:""))}return}Z(e,t,404,"Not Found")}handleConnection(e){var t,n;let i;let r=new URLSearchParams(b(e.upgradeReq).url.split("?")[1]),l=null!==(t=b(e.upgradeReq).headers.origin)&&void 0!==t?t:"";try{i=new L(e,Number(r.get("v")),null!==(n=r.get("encoding"))&&void 0!==n?n:"json")}catch(t){e.close(t.code,t.message);return}N.info("Socket Opened: ".concat(i.id)),e.on("error",e=>N.error("WS Error: ".concat(e.message))),e.on("close",(e,t)=>{N.info("Socket Closed: ".concat(i.id,", code ").concat(e,", message ").concat(t)),o().remove(T,e=>e===i),this.emit("disconnect",i)}),(0,f.em)(i,l,r.get("client_id")).then(()=>{T.push(i),e.on("message",e=>this.handleMessage(i,e)),this.emit("connect",i)}).catch(e=>{let{code:t,message:n}=e;return i.close(t,n)})}handleMessage(e,t){let n;try{if(null!=i&&"etf"===e.encoding)n=i.unpack(t);else if("string"==typeof t)n=JSON.parse(t);else throw Error()}catch(t){e.close(E.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(d.default.isLoggingOverlayEvents||n.cmd!==E.Etm.OVERLAY)&&N.info("Socket Message: ".concat(e.id),(0,p.Z)(n)),this.emit("request",e,n)}constructor(){var e;super();let t=0;(r=v.http.createServer()).on("error",e=>{N.error("Error: ".concat(e.message)),("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout(()=>x(++t),1e3)}),r.on("request",this.handleRequest.bind(this)),x(t);let n={instanceId:null!==(e=r.instanceId)&&void 0!==e?e:0,server:r};new v.ws.Server(n).on("connection",e=>this.handleConnection(e))}}t.Z=new y},188861:function(e,t,n){var i=n(710845),r=n(857192),l=n(901077),a=n(46832),o=n(852926),s=n(748635),c=n(981631);let d=new i.Z("RPCServer:PostMessage"),u=(e,t,n)=>{(r.default.isLoggingOverlayEvents||e.cmd!==c.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,l.Z)(e))};t.Z=function(){let e=new a.Z(o.em,d,s.Z,u);return window.addEventListener("message",t=>{if(window===t.source)return;if(null==t.source||null==t.source.postMessage){d.error("Unknown event source");return}let n=t.source,i=t.data,r=t.origin;e.handleMessage(i,r,(e,t)=>{!function(e){try{return e.closed}catch{return!1}}(n)&&n.postMessage(e,t)})}),e}()},748635:function(e,t,n){var i=n(857192),r=n(901077),l=n(915357),a=n(981631);t.Z=e=>{let{origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:d,postClose:u}=e;return new l.Z({origin:t,postMessageToRPCClient:n,frameId:o,version:s,encoding:c,logger:d,postClose:u,onSendingToRPCClient:(e,t)=>{(i.default.isLoggingOverlayEvents||e.cmd!==a.Etm.OVERLAY&&e.evt!==a.zMe.OVERLAY)&&d.info("Socket Emit: ".concat(t),(0,r.Z)(e))}})}},19199:function(e,t,n){n.d(t,{D:function(){return s}});var i=n(399606),r=n(941129),l=n(594174),a=n(51144),o=n(335865);let s=()=>{let e=(0,r.S)(),t=(0,i.e7)([l.default],()=>l.default.getCurrentUser()),n=(0,o.y)();return e&&!(0,a.EO)(t)&&n}},111653:function(e,t,n){n.d(t,{t:function(){return s}});var i=n(399606),r=n(826004),l=n(594174),a=n(51144),o=n(335865);let s=()=>{let e=(0,r.h)(),t=(0,i.e7)([l.default],()=>l.default.getCurrentUser()),n=(0,o.y)();return e&&!(0,a.EO)(t)&&n}},335865:function(e,t,n){n.d(t,{y:function(){return l}});var i=n(399606),r=n(650774);function l(){return(0,i.e7)([r.Z],()=>Object.values(r.Z.getMemberCounts()).some(e=>e>=200))}},866483:function(e,t,n){var i=n(200651);n(192379);var r=n(399606),l=n(607070),a=n(70097),o=n(970731),s=n(19199),c=n(921944),d=n(388032),u=n(183387);t.Z=e=>{let{markAsDismissed:t}=e,n=(0,r.e7)([l.Z],()=>l.Z.useReducedMotion);return(0,s.D)()?(0,i.jsx)(o.ZP,{asset:(0,i.jsx)(a.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:d.intl.string(d.t["61GrDA"]),content:d.intl.string(d.t["1zzTSk"]),buttonCTA:d.intl.string(d.t["NX+WJC"]),className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:o.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},14357:function(e,t,n){var i=n(200651);n(192379);var r=n(399606),l=n(607070),a=n(70097),o=n(970731),s=n(19199),c=n(921944),d=n(388032),u=n(236363);t.Z=e=>{let{markAsDismissed:t}=e,n=(0,r.e7)([l.Z],()=>l.Z.useReducedMotion);return(0,s.D)()?(0,i.jsx)(o.ZP,{asset:(0,i.jsx)(a.Z,{className:u.video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:d.intl.string(d.t.ajEMl5),content:d.intl.string(d.t.xmrJWl),buttonCTA:d.intl.string(d.t["NX+WJC"]),className:u.__invalid_coachmark,onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:o.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},393333:function(e,t,n){n.d(t,{P:function(){return h}});var i=n(200651);n(192379);var r=n(399606),l=n(607070),a=n(70097),o=n(970731),s=n(111653),c=n(921944),d=n(388032),u=n(125071);let h=e=>{let{markAsDismissed:t}=e,n=(0,r.e7)([l.Z],()=>l.Z.useReducedMotion);return(0,s.t)()?(0,i.jsx)(o.ZP,{asset:(0,i.jsx)(a.Z,{src:"https://cdn.discordapp.com/attachments/1063579271815245944/1095089224421740695/CEC_Reporting_Animation_v03_EN_1x1_Music_1.mp4",loop:!0,autoPlay:!n,className:u.video,width:"100%"}),header:d.intl.string(d.t["4JBut7"]),content:d.intl.string(d.t.Lpp6PD),buttonCTA:d.intl.string(d.t["NX+WJC"]),onClick:e=>{e.stopPropagation(),t(c.L.UNKNOWN)},markAsDismissed:t,caretPosition:o.DF.BOTTOM_CENTER,headerClassName:u.header}):null}},817938:function(){},719256:function(e,t,n){n(47120),n(653041);var i=n(846519),r=n(570140),l=n(317770),a=n(220082),o=n(594174),s=n(125268),c=n(813900);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends l.Z{_initialize(){!__OVERLAY__&&(r.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),r.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived))}_terminate(){!__OVERLAY__&&(r.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint),r.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived),this.lineBatchTimer.stop())}_handleVoiceChannelEffectReceived(e){var t;let{lineId:n,points:i,userId:r,streamerId:l,emojiHose:d}=e;if(null!=l&&r!==(null===(t=o.default.getCurrentUser())||void 0===t?void 0:t.id))if(null!=i&&null!=n){let e=o.default.getUser(r);null!=e&&(0,a.vM)(e.getAvatarURL(null,c.Ks)),(0,s.cV)(n,r,l,i)}else null!=d&&(d.lastUpdatedAt=Date.now(),(0,s.gr)(d,r,l))}constructor(...e){super(...e),d(this,"linesToUpdate",{}),d(this,"lineBatchTimer",new i.Xp),d(this,"_handleDrawLinePoint",e=>{let{channelId:t,lineId:n,streamerId:i,point:r}=e;null==this.linesToUpdate[n]?this.linesToUpdate[n]={channelId:t,streamerId:i,points:[r]}:this.linesToUpdate[n].points.push(r),null==this.lineBatchTimer._ref&&this.lineBatchTimer.start(c.Fq,this.sendLineBatch)}),d(this,"sendLineBatch",()=>{for(let e in this.linesToUpdate){let{channelId:t,points:n,streamerId:i}=this.linesToUpdate[e];(0,s.AX)(t,e,i,n)}this.linesToUpdate={},this.lineBatchTimer.stop()})}}t.Z=new u},547280:function(e,t,n){n.d(t,{b:function(){return d},o:function(){return c}});var i=n(570140),r=n(605236),l=n(626135),a=n(445507),o=n(981631),s=n(921944);function c(e){let{targetKey:t,dismissibleContent:n,data:c,completed:d}=e;null!=c.selectedOptionKey&&(!(0,r.un)(n)&&l.default.track(o.rMx.SIGNUP_COMPLETED,{target_key:t,selected_option_key:c.selectedOptionKey,email:c.email,guild_id:c.guildId,metadata:(0,a.mU)(c),completed:d}),(0,r.EW)(n,{dismissAction:s.L.PRIMARY,forceTrack:!0}),i.Z.dispatch({type:"COMPLETE_SIGN_UP",email:c.email,targetKey:t,selectedOptionKey:c.selectedOptionKey}))}function d(e,t){(0,r.EW)(t,{dismissAction:s.L.DISMISS,forceTrack:!0}),i.Z.dispatch({type:"DISMISS_SIGN_UP",targetKey:e})}},849688:function(e,t,n){var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(481060),s=n(442837),c=n(547280),d=n(678513),u=n(981631),h=n(388032),m=n(804648);t.Z=function(e){let{guild:t}=e,l=(0,s.e7)([d.Z],()=>d.Z.getActiveGuildSignUp(t.id)),p=r.useCallback(()=>{null!=l&&(0,o.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("22862"),n.e("20965")]).then(n.bind(n,646202));return n=>(0,i.jsx)(e,{...n,target:l,guildId:t.id})})},[l,t.id]),g=r.useCallback(()=>{null!=l&&(0,c.b)(l.key,l.dismissibleContent)},[l]);if(null==l)return null;let f="url(".concat(l.backgroundAssetUrl,") black top / cover no-repeat");return(0,i.jsx)(o.ThemeProvider,{theme:u.BRd.DARK,children:e=>(0,i.jsx)("div",{className:a()(m.container,e),children:(0,i.jsxs)("div",{className:m.card,style:{background:f},children:[(0,i.jsxs)("div",{className:m.eyebrow,children:[(0,i.jsx)(o.EnvelopeIcon,{size:"xxs",color:"currentColor"}),(0,i.jsx)(o.Text,{variant:"text-xs/semibold",color:"none",children:h.intl.string(h.t.hhKpxs)})]}),(0,i.jsx)(o.Heading,{variant:"heading-sm/medium",children:l.noticeHeader}),(0,i.jsx)(o.Button,{className:m.button,color:"none",onClick:p,children:(0,i.jsx)(o.Text,{variant:"text-sm/medium",color:"none",children:h.intl.string(h.t.vv0Nsb)})}),(0,i.jsx)("div",{className:m.dismiss,children:(0,i.jsx)(o.Clickable,{onClick:g,"aria-label":h.intl.string(h.t.cpT0Cg),children:(0,i.jsx)(o.XSmallIcon,{size:"xs",color:"currentColor"})})})]})})})}},131468:function(e,t,n){n.d(t,{Z:function(){return s}}),n(47120);var i=n(570140),r=n(317770),l=n(314897),a=n(131951);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends r.Z{_initialize(){!__OVERLAY__&&(i.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}_terminate(){!__OVERLAY__&&(i.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived),i.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally),i.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect),i.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened))}constructor(...e){super(...e),o(this,"_playSound",function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2],arguments.length>3&&arguments[3]}),o(this,"_stopAndClearSounds",()=>{}),o(this,"_handleToggleSelfDeafened",()=>{a.Z.isDeaf()&&this._stopAndClearSounds()}),o(this,"_handleSoundboardSoundReceived",e=>{let{soundId:t,soundVolume:n,userId:i,channelId:r}=e;if(null!=t&&i!==l.default.getId())return this._playSound(t,n,i,r)}),o(this,"_handleSoundboardSoundPlayLocally",e=>{let{sound:t,channelId:n}=e,i=l.default.getId();return this._playSound(t.soundId,t.volume,i,n)}),o(this,"_handleVoiceChannelSelect",()=>{this._stopAndClearSounds()})}}},377368:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(536442),o=n(810788),s=n(592125),c=n(131951),d=n(944486),u=n(556296),h=n(131468),m=n(208049),p=n(763296),g=n(641015),f=n(22382),_=n(747071),E=n(49230),I=n(981631),C=n(65154);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends h.Z{_initialize(){super._initialize(),!__OVERLAY__&&l.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}_terminate(){super._terminate(),!__OVERLAY__&&l.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest)}constructor(...e){var t;super(...e),t=this,v(this,"playingSoundsWeb",new Map),v(this,"_stopAndClearSounds",()=>{c.Z.supports(C.AN.SAMPLE_PLAYBACK)&&c.Z.getMediaEngine().eachConnection(e=>{e.stopAllSamplesLocalPlayback()}),this.playingSoundsWeb.forEach(e=>{e.pause(),e.src=""}),this.playingSoundsWeb=new Map}),v(this,"_playSound",async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=null!=r&&d.Z.getVoiceChannelId()===r;if((null==r||l)&&!c.Z.isDeaf()&&!p.Z.isLocalSoundboardMuted(i))try{let r={soundKey:"".concat(i,"-").concat(e),soundURL:(0,f.Z)(e),soundVolume:(0,_.Z)(n),reportSoundStartedPlaying:()=>(0,m.xR)(e,i)};c.Z.supports(C.AN.SAMPLE_PLAYBACK)?await (0,E.$)(r):await (0,E.h)(r,t.playingSoundsWeb)}finally{(0,m.R)(e,i)}}),v(this,"_handleOverlaySoundboardSoundsFetchRequest",()=>{(0,m.w)()}),v(this,"_handleOpenEducationModal",(e,t)=>{if(null==e)return;let l=s.Z.getChannel(t),c=u.Z.getKeybindForAction(I.kg4.SOUNDBOARD_HOLD);null!=l&&(0,g.Z)(l)&&null!=c&&o.Z.hasHotspot(a.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,r.openModalLazy)(async()=>{let{default:t}=await n.e("69208").then(n.bind(n,490166));return n=>(0,i.jsx)(t,{...n,guildId:e,keybind:c,channel:l})})})}}t.Z=new S},848543:function(e,t,n){n.d(t,{Z:function(){return x}}),n(47120);var i=n(200651),r=n(192379),l=n(120356),a=n.n(l),o=n(399606),s=n(704215),c=n(582019),d=n(481060),u=n(239091),h=n(100527),m=n(906732),p=n(540059),g=n(706140),f=n(294629),_=n(131951),E=n(459273),I=n(242291),C=n(792165),v=n(603074),S=n(981631),N=n(921944),T=n(388032),b=n(382290);function x(e){let{channel:t,iconClassName:l,className:x,innerClassName:A,...Z}=e,L=(0,p.Q3)("SoundBoardRTCPanelButton"),{mute:P,suppress:y}=(0,f.Z)(t),O=(0,o.e7)([_.Z],()=>_.Z.isDeaf()),R=P||y||O,[j,D]=r.useState(!1),M=t.getGuildId(),w=(0,I.sR)({isSoundboardButtonDisabled:R}),[k,U]=(0,g.cv)(w),{analyticsLocations:G}=(0,m.ZP)(h.Z.SOUNDBOARD_BUTTON);function B(e){null!=M&&(0,u.jW)(e,async()=>{let{default:e}=await n.e("56049").then(n.bind(n,338991));return t=>(0,i.jsx)(e,{guildId:M,...t})})}let{Component:H,play:V,events:{onMouseEnter:F,onMouseLeave:z}}=(0,c.j)(),W=e=>(0,i.jsx)(d.Popout,{animation:d.Popout.Animation.FADE,shouldShow:j,position:"top",onRequestClose:()=>D(!1),renderPopout:e=>{let{closePopout:n}=e;return(0,i.jsx)(v.Z,{guildId:M,channel:t,onClose:n,gridNotice:k===s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&(0,i.jsx)(C.o,{onClose:n,markAsDismissed:U}),analyticsSource:"rtc panel"})},children:t=>(0,i.jsx)("div",{children:(0,i.jsx)(d.Button,{...e,...t,className:a()(x,{[b.buttonActive]:j,[b.disabled]:R}),wrapperClassName:x,innerClassName:A,disabled:R,onClick:()=>{var t,n;null!=k&&k!==s.z.CUSTOM_CALL_SOUNDS_PICKER_UPSELL&&U(N.L.UNKNOWN),null==e||null===(t=e.onClick)||void 0===t||t.call(e),D(!j),V()},onMouseEnter:t=>{var n,i;null===(n=Z.onMouseEnter)||void 0===n||n.call(Z,t),null==e||null===(i=e.onMouseEnter)||void 0===i||i.call(e),F()},onMouseLeave:t=>{var n,i;null===(n=Z.onMouseLeave)||void 0===n||n.call(Z,t),null==e||null===(i=e.onMouseLeave)||void 0===i||i.call(e),z()},onContextMenu:B,fullWidth:!0,size:L?d.Button.Sizes.MEDIUM:d.Button.Sizes.SMALL,...Z,children:(0,i.jsx)(H,{className:l,size:"sm",color:j?"white":d.tokens.colors.INTERACTIVE_ACTIVE})})})}),Y=r.useCallback(()=>{!R&&D(!j)},[R,j]);return(0,E.yp)({event:S.CkL.TOGGLE_SOUNDBOARD,handler:Y}),(0,i.jsx)(m.Gt,{value:G,children:(0,i.jsx)(d.Tooltip,{text:function(){if(P)return T.intl.string(T.t["Ox4/zc"]);if(y)return T.intl.string(T.t["+YBKYG"]);if(O)return T.intl.string(T.t.X1lQlp);return T.intl.string(T.t["6EJvHh"])}(),children:e=>W(e)})})}},640806:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(200651);n(192379);var r=n(704215),l=n(230711),a=n(765585),o=n(981631),s=n(921944),c=n(388032),d=n(502957);function u(e){let{markAsDismissed:t}=e;return(0,i.jsx)(a.Z,{header:c.intl.string(c.t["89R9tb"]),body:c.intl.string(c.t["/BB09P"]),tryItText:c.intl.string(c.t.jVcuVV),dismissibleContent:r.z.SOUNDBOARD_VOLUME_EDUCATION,artClassName:d.art,onTryFeature:()=>{l.Z.open(o.oAB.VOICE),t(s.L.UNKNOWN)},onClose:()=>t(s.L.UNKNOWN),shouldUseHorizontalButtons:!0,inlineArt:!0})}},49230:function(e,t,n){n.d(t,{$:function(){return h},h:function(){return m}}),n(47120);var i=n(512722),r=n.n(i),l=n(46973),a=n(304809),o=n(131951),s=n(747071);let c=null;try{c=(0,a.N)()}catch{}let d=new Map;async function u(e){let t=d.get(e);if(null!=t)return t;let n=await (await fetch(e)).arrayBuffer(),i=await (null==c?void 0:c.decodeAudioData(n));return null!=i&&d.set(e,i),i}function h(e){let{soundKey:t,soundURL:n,soundVolume:i,reportSoundStartedPlaying:a}=e;return new Promise(async e=>{let s=await u(n);null==s&&e(),o.Z.getMediaEngine().eachConnection(n=>{n.context===l.Yn.DEFAULT&&(a(),r()(null!=s,"audioBuffer cannot be null here"),n.startSamplesLocalPlayback(t,s,i,()=>{e()}))})})}function m(e,t){let{soundKey:n,soundURL:i,soundVolume:r,reportSoundStartedPlaying:l}=e,a=t.get(n);if(null!=a){a.currentTime=0;return}return new Promise(e=>{let a=new Audio(i);a.volume=(0,s.Z)(r),a.addEventListener("canplaythrough",()=>{l(),t.set(n,a),a.play()}),a.addEventListener("ended",()=>{t.delete(n),a.src="",e()})})}},380349:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var r=n(442837),l=n(481060),a=n(314897),o=n(768419),s=n(456190),c=n(239470),d=n(894344),u=n(203777),h=n(616922),m=n(388032);function p(e,t,n){let p=(0,r.e7)([o.Z,a.default],()=>null!=t?(0,c.Z)(o.Z,a.default,t,e):void 0,[e,t]);if(null==p||null==e||null==t)return null;let g=p.isCurrentUser||p.notPlayable||p.playingSameTrack,f=p.isCurrentUser||p.syncingWithUser||p.syncingWithParty;return[(0,i.jsx)(l.MenuItem,{id:"spotify-play-".concat(e.session_id),action:()=>(0,u.Z)(p,h.kG.USER_ACTIVITY_PLAY,n),label:m.intl.string(m.t.rRffNz),subtext:g?(0,s.Z)(p,h.kG.USER_ACTIVITY_PLAY):void 0,disabled:g},"spotify-play-".concat(e.session_id)),p.canPlaySpotify?(0,i.jsx)(l.MenuItem,{id:"spotify-sync-".concat(e.session_id),action:()=>(0,d.Z)(p,h.kG.USER_ACTIVITY_SYNC,n),label:m.intl.string(m.t.eU3inJ),subtext:f?(0,s.Z)(p,h.kG.USER_ACTIVITY_SYNC):void 0,disabled:f},"spotify-sync-".concat(e.session_id)):null]}},262702:function(e,t,n){n(47120);var i=n(570140),r=n(846027),l=n(872810),a=n(317770),o=n(569545),s=n(199902),c=n(314897),d=n(592125),u=n(131951),h=n(590415);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Z{_initialize(){i.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){i.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){super(...e),m(this,"handleVoiceStateUpdates",e=>{let{voiceStates:t}=e,n=c.default.getId();t.forEach(e=>{var t;if(e.userId===n&&!!(null===(t=d.Z.getChannel(e.channelId))||void 0===t?void 0:t.isGuildStageVoice()))(0,h.gf)(e)!==h.xO.ON_STAGE&&(this.handleStopStream(e),this.handleStopUserVideo())})}),m(this,"handleStopStream",e=>{let t=s.Z.getActiveStreamForUser(e.userId,e.guildId);if(null!=t)(0,l.g)((0,o.V9)(t),!1)}),m(this,"handleStopUserVideo",()=>{u.Z.isVideoEnabled()&&r.Z.setVideoEnabled(!1)})}}t.Z=new p},448206:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(442837),r=n(314897),l=n(944486),a=n(88751);function o(e){return(0,i.e7)([r.default,l.Z,a.ZP],()=>{let t=r.default.getId();return l.Z.getVoiceChannelId()===e?a.ZP.getPermissionsForUser(t,e):null},[e])}},639033:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(317770),o=n(314897),s=n(592125),c=n(797258),d=n(590415),u=n(981631);let h="STAGE_INVITED_TO_SPEAK_MODAL";class m extends a.Z{_initialize(){l.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}_terminate(){l.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}constructor(...e){var t,l,a;super(...e),t=this,l="handleVoiceStateUpdates",a=e=>{var t;let{voiceStates:l}=e,a=o.default.getId(),m=null===(t=c.Z.getSession())||void 0===t?void 0:t.sessionId,p=l.find(e=>e.userId===a&&e.sessionId===m);if(null==p)return;let g=p.channelId;if(null==g){(0,r.hasModalOpen)(h)&&(0,r.closeModal)(h);return}let f=s.Z.getChannel(g);if(!(null==f?void 0:f.isGuildStageVoice()))return;let _=(0,d.gf)(p)===d.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=f&&_){if((0,r.hasModalOpen)(h))return;(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("13878").then(n.bind(n,113140));return t=>(0,i.jsx)(e,{...t,channel:f})},{modalKey:h,onCloseRequest:u.VqG})}},l in t?Object.defineProperty(t,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[l]=a}}t.Z=new m},579022:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(388032),a=n(278495);let o=Math.ceil(2*Math.PI*20);t.Z=e=>{let{total:t,used:n}=e,s=Math.max(0,Math.min(1,n/t)),c="".concat(Math.floor(100*s),"%");return(0,i.jsx)(r.Tooltip,{text:l.intl.formatToPlainString(l.t["2eoRMj"],{used:c}),children:e=>(0,i.jsxs)("div",{className:a.wrapper,role:"progressbar","aria-label":l.intl.formatToPlainString(l.t["2eoRMj"],{used:c}),...e,children:[(0,i.jsxs)("svg",{viewBox:"25 25 50 50",className:a.svg,"aria-hidden":!0,children:[(0,i.jsx)("circle",{className:a.background,cx:"50",cy:"50",r:20}),(0,i.jsx)("circle",{className:a.foreground,cx:"50",cy:"50",r:20,stroke:function(e){let t=Math.round(-85*e+199),n=Math.round(-71*e+208),i=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(i,")")}(s),strokeDasharray:function(e){let t=Math.floor(o*e);return"".concat(t,", ").concat(o)}(s)})]}),(0,i.jsx)("aside",{className:a.usageInfo,"aria-hidden":!0,children:c})]})})}},703016:function(e,t,n){n(757143),n(733860);var i=n(913527),r=n.n(i),l=n(570140),a=n(241601),o=n(419363),s=n(933557),c=n(660199),d=n(869765),u=n(706454),h=n(695346),m=n(314897),p=n(433355),g=n(592125),f=n(271383),_=n(430824),E=n(131951),I=n(292959),C=n(699516),v=n(944486),S=n(9156),N=n(594174),T=n(51144),b=n(196051),x=n(441729),A=n(653477),Z=n(981631),L=n(388032);let P=[],y=null,O=null,R=null,j=/\|\|([\s\S]+?)\|\|/g;function D(e,t,n,i){let l=_.Z.getGuild(n),a=e.replace(j,L.intl.string(L.t["F+x38P"])).replace(/<@!?(\d+)>/g,(e,t)=>{var i;let r=N.default.getUser(t);if(null==r)return e;return null!==(i=f.ZP.getNick(n,r.id))&&void 0!==i?i:T.ZP.getName(r)}).replace(/<@&?(\d+)>/g,(e,t)=>{let n=null!=l?_.Z.getRole(l.id,t):null;return null!=n&&null!=n.name?n.name:L.intl.string(L.t.dRcLAw)}).replace(/<#(\d+)>/g,(e,t)=>{let n=g.Z.getChannel(t);return null==n?e:(0,s.F6)(n,N.default,C.Z)}).replace(/<a?:(\w+):(\d+)>/g,(e,t)=>"".concat(L.intl.string(L.t.sMOuub)," ").concat(t)).replace(/<\/([^\s]+?):(\d+)>/g,(e,t)=>"/".concat(t)).replace(/<t:(\d+):([A-Z]|[a-z])>/g,(e,t,n)=>{let i=c.Qh[n],l=1e3*parseInt(t,10),a=r()(l);return null!=i?i(a):a.format()});return null==i?L.intl.formatToPlainString(L.t["uIj77+"],{username:t,body:a}):L.intl.formatToPlainString(L.t["Ix4H+v"],{username:t,body:a,replyUsername:i})}function M(){if(!o.Zh)return!1;let e=u.default.locale;if(null==R){var t;R=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}let n=R.filter(t=>t.lang===e||t.lang.slice(0,e.length)===e||!1);O=n.length>0?n[0]:null}async function w(e,t,n,i,r){let l=o.e6(e,n);null!==l&&(null==O&&M(),t?await (0,b.NB)():null==y||y.removeEventListener("end",b.NB),l.addEventListener("end",b.NB),null!=i&&l.addEventListener("start",i),null!=r&&l.addEventListener("end",r),y=l,o.iq(l,O))}function k(e,t,n,i,r){w(e,t,r,()=>{(0,b.Bo)(n,i)})}function U(e){let{text:t,interrupt:n,maxLength:i,onStart:r,onEnd:l}=e;w(t,n,i,r,l)}function G(){return null!==y&&y.removeEventListener("end",b.NB),o.M9(),y=null,!0}function B(e){var t,n,i;let{message:r,channel:l}=e,a=r.type===Z.uaV.REPLY?d.Z.getMessageByReference(r.messageReference):null,o=(null==a?void 0:a.state)===d.Y.LOADED?null==a?void 0:null===(t=a.message)||void 0===t?void 0:t.author:null,s=null!=o?null!==(n=f.ZP.getNick(l.guild_id,null==o?void 0:o.id))&&void 0!==n?n:T.ZP.getName(o):null,c=l.getGuildId(),u=null!==(i=f.ZP.getNick(c,r.author.id))&&void 0!==i?i:T.ZP.getName(r.author);return k(D(r.content,u,c,s),!0,l.id,r.id),!0}function H(e){var t,n,i,r,l,a;let{channelId:o,message:s,optimistic:c}=e;if(c||E.Z.isSelfDeaf())return!1;let d=g.Z.getChannel(o);if(null==d)return!1;let u=v.Z.getChannelId(),_=p.ZP.getCurrentSidebarChannelId(u),N=o===u||o===_,b=h.OW.getSetting()&&s.tts&&N,x=I.Z.getTTSType(),L=(null===(t=s.author)||void 0===t?void 0:t.id)!==m.default.getId()&&(x===Z.PrB.ALL_CHANNELS||x===Z.PrB.SELECTED_CHANNEL&&N);if((b||L)&&!C.Z.isBlockedOrIgnoredForMessage(s)){if(P.indexOf(s.id)>=0)return!1;P.unshift(s.id)>10&&P.pop();let e=d.getGuildId();if(null!=e&&S.ZP.getMutedChannels(e).has(o))return!1;let t=null!==(l=null!==(r=f.ZP.getNick(e,null===(n=s.author)||void 0===n?void 0:n.id))&&void 0!==r?r:T.ZP.getName(s.author))&&void 0!==l?l:"",c=s.type===Z.uaV.REPLY?null===(i=s.referenced_message)||void 0===i?void 0:i.author:null,u=null!=c?null!==(a=f.ZP.getNick(e,null==c?void 0:c.id))&&void 0!==a?a:T.ZP.getName(c):null;k(D(s.content,t,e,u),!1,d.id,s.id,A.f)}return!1}function V(e){let{id:t,channelId:n}=e,i=x.Z.currentMessage;return null!=i&&t===i.messageId&&n===i.channelId&&((0,b.NB)(),!0)}function F(){E.Z.isSelfDeaf()&&o.M9()}t.Z={init(){l.Z.subscribe("SPEAK_TEXT",U),l.Z.subscribe("SPEAK_MESSAGE",B),l.Z.subscribe("STOP_SPEAKING",G),l.Z.subscribe("MESSAGE_CREATE",H),l.Z.subscribe("MESSAGE_DELETE",V),l.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",F),l.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",M),(0,a.Ql)(M)}}},52538:function(e,t,n){var i=n(200651);n(192379);var r=n(704215),l=n(765585),a=n(16703),o=n(300284),s=n(388032),c=n(928351);t.Z=()=>{let e=(0,a.Z)(),t=(0,o.Z)({guild:e});return(0,i.jsx)(l.Z,{isPremiumFeature:!0,shouldUseHorizontalButtons:!0,artClassName:c.coachmarkArt,headerClassName:c.coachmarkHeader,onTryFeature:t,tryItText:s.intl.string(s.t.RzWDqa),header:s.intl.string(s.t.IIpTub),body:s.intl.string(s.t["797pnJ"]),dismissibleContent:r.z.PER_GUILD_COLLECTIBLES_CUSTOMIZATION_COACHMARK,maxWidth:320})}},309494:function(e,t,n){n.d(t,{Z:function(){return p}});var i=n(200651);n(192379);var r=n(120356),l=n.n(r),a=n(481060),o=n(320161),s=n(572004),c=n(51144),d=n(785717),u=n(475413),h=n(388032),m=n(286416);function p(e){let{user:t,isHovering:n}=e,{trackUserProfileAction:r}=(0,d.KZ)();return s.wS?(0,i.jsx)(o.Z,{text:h.intl.string(h.t.y5MwJy),delay:0,"aria-label":!1,copyValue:c.ZP.getUserTag(t,{decoration:"never",identifiable:"always"}),onCopy:()=>r({action:"COPY_USERNAME"}),children:e=>(0,i.jsx)(u.kF,{...e,className:l()(m.hover,{[m.visible]:n}),innerClassName:m.hover,look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,color:m.hoverColor,themeColor:"none",grow:!1,"aria-label":h.intl.string(h.t.y5MwJy),children:(0,i.jsx)(a.CopyIcon,{size:"xs",color:"currentColor"})})}):null}},886162:function(e,t,n){n.d(t,{Z:function(){return g}}),n(47120);var i=n(200651),r=n(192379),l=n(990547),a=n(399606),o=n(481060),s=n(232567),c=n(213609),d=n(313201),u=n(23434),h=n(981631),m=n(388032),p=n(777942);function g(e){let{transitionState:t}=e,g=(0,a.e7)([u.Z],()=>u.Z.getAction()),[f,_]=r.useState(!1),E=(0,d.Dt)();async function I(){return _(!0),g===h.c2C.AGREEMENTS&&_(await (0,s.Lr)()),null}return(0,c.Z)({type:l.ImpressionTypes.VIEW,name:l.ImpressionNames.USER_AGREEMENTS,properties:{required_action:g}},{},[]),(0,i.jsxs)(o.ModalRoot,{"aria-labelledby":E,transitionState:t,children:[(0,i.jsx)("div",{id:E}),(0,i.jsx)(o.ModalHeader,{separator:!1,children:(0,i.jsx)(o.Heading,{variant:"heading-lg/semibold",children:m.intl.string(m.t["7glvXl"])})}),(0,i.jsxs)(o.ModalContent,{children:[(0,i.jsx)(o.Text,{variant:"text-md/normal",children:g===h.c2C.AGREEMENTS?m.intl.format(m.t.zHolhY,{}):null}),(0,i.jsxs)("div",{className:p.container,children:[(0,i.jsxs)("ul",{className:p.links,children:[(0,i.jsx)("li",{children:m.intl.format(m.t.iw0hFh,{url:h.EYA.TERMS})}),(0,i.jsx)("li",{children:m.intl.format(m.t["36klnJ"],{url:h.EYA.PAID_TERMS})}),(0,i.jsx)("li",{children:m.intl.format(m.t.TquFBA,{url:h.EYA.PRIVACY})}),(0,i.jsx)("li",{children:m.intl.format(m.t.ia96TU,{url:h.EYA.GUIDELINES})})]}),(0,i.jsx)("img",{className:p.image,alt:"",src:n(146714)})]}),(0,i.jsx)(o.Text,{variant:"text-md/normal",className:p.agreementDescription,children:m.intl.string(m.t["+USXQE"])})]}),(0,i.jsx)(o.ModalFooter,{children:(0,i.jsx)(o.Button,{submitting:f,onClick:I,color:o.Button.Colors.GREEN,children:m.intl.string(m.t["+TBKLy"])})})]})}},332754:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140),a=n(84615),o=n(429142),s=n(1964),c=n(852758),d=n(314897),u=n(594174),h=n(374023),m=n(886162),p=n(981631),g=n(815660),f=n(308569),_=n(231338);t.Z={init(){l.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction),l.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction),l.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate),d.default.addChangeListener(this.handleAuthenticationStoreChanged)},handleRequiredAction(e){let t=e.requiredAction;if(!h.s.isDisallowPopupsSet()&&null!=u.default.getCurrentUser())t===p.c2C.REQUIRE_CAPTCHA||t===p.c2C.REQUIRE_VERIFIED_EMAIL||t===p.c2C.REQUIRE_VERIFIED_PHONE||t===p.c2C.REQUIRE_REVERIFIED_PHONE||t===p.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===p.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||s.Z.isEmailReverification(t)?(0,a.q4)(()=>(0,i.jsx)(c.Z,{}),{layerKey:f.CV,Layer:o.ZP}):t===p.c2C.AGREEMENTS?(0,r.openModal)(e=>(0,i.jsx)(m.Z,{...e}),{modalKey:f.f1,onCloseRequest:_.Vq}):null==t&&((0,a.ob)(f.CV),(0,r.hasModalOpen)(f.f1)&&(0,r.closeModal)(f.f1))},handleAuthenticationStoreChanged(){null==d.default.getId()&&((0,a.ob)(f.CV),(0,r.closeModal)(f.f1),(0,r.closeModal)(f.HR),(0,r.closeModal)(f.F0),(0,r.closeModal)(g.M))},handleCurrentUserUpdate(e){let{user:t}=e;t.verified&&(0,r.closeModal)(f.F0)}}},755264:function(e,t,n){n(47120),n(653041);var i=n(392711),r=n.n(i),l=n(442837),a=n(377108),o=n(433517),s=n(709054),c=n(48481),d=n(526761),u=n(981631);let h="selectedChannelGuildFrecency";function m(e){var t;let n;(t=n||(n={})).IMAGE="IMAGE",t.VIDEO="VIDEO";let{state:i}=l.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[e=>null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e,e=>Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}]);return null==i||0===i.favorites.length?[]:i.favorites.map((t,n)=>{let r=a.JM.create();return r.format="IMAGE"===t.format?a.EO.IMAGE:"VIDEO"===t.format?a.EO.VIDEO:a.EO.NONE,r.src=t.src,r.width=t.width,r.height=t.height,r.order=i.favorites.length-n+e,{url:t.url,favorite:r}})}let p=[{version:2,run(e){let t=m(1);if(0===t.length)return!1;for(let{url:n,favorite:i}of(null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),e.favoriteGifs.gifs={},t))e.favoriteGifs.gifs[n]=i;return e.favoriteGifs.hideTooltip=t.length>2,!0},cleanup(){}},{version:3,run(e){function t(){return{usageHistory:{},favorites:[]}}let{state:n}=l.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[e=>null==e||0===Object.keys(e).length?t():e,e=>null==e||0===Object.keys(e).length?t():(null==e.favorites&&(e.favorites=[]),e)]);if(null==n)return!1;let i=!1;return n.favorites.length>0&&(e.favoriteStickers=a.Lt.create(),e.favoriteStickers.stickerIds=r().uniq(n.favorites).slice(0,d.oX),i=!0),r().size(n.usageHistory)>0&&(e.stickerFrecency=a.ls.create(),e.stickerFrecency.stickers=(0,c.tU)(n.usageHistory,100),i=!0),i},cleanup(){o.K.remove("StickersPersistedStore")}},{version:4,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({usageHistory:o.K.get("EmojiUsageHistory")||{}})]);if(null==t)return!1;let n=!1;return null!=t.favorites&&t.favorites.length>0&&(e.favoriteEmojis=a.ND.create(),e.favoriteEmojis.emojis=r().uniq(t.favorites).slice(0,d.oX),n=!0),r().size(t.usageHistory)>0&&(e.emojiFrecency=a.PL.create(),e.emojiFrecency.emojis=(0,c.tU)(t.usageHistory,100),n=!0),n},cleanup(){o.K.remove("EmojiStore"),o.K.remove("EmojiUsageHistory"),o.K.remove("EmojiDiversitySurrogate")}},{version:6,run(e){null==e.favoriteGifs&&(e.favoriteGifs=a.wK.create()),null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});let t=m(1);if(0===t.length)return!1;r()(e.favoriteGifs.gifs).values().sortBy("order").forEach((e,n)=>e.order=t.length+1+n);let n=a.wK.toBinary(e.favoriteGifs).length,i=0;for(let{url:r,favorite:l}of t){if(l.order=t.length-i,i++,r in e.favoriteGifs.gifs){e.favoriteGifs.gifs[r].order=l.order;continue}let o=a.JM.toBinary(l).length+r.length+7;!(n+o>d.vY)&&(n+=o,e.favoriteGifs.gifs[r]=l)}for(n=a.wK.toBinary(e.favoriteGifs).length;n>d.vY;){let t=0;for(let n in e.favoriteGifs.gifs)if(delete e.favoriteGifs.gifs[n],++t>=10)break;n=a.wK.toBinary(e.favoriteGifs).length}return!0},cleanup(){}},{version:7,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]);if(null==t)return!1;let n=!1;return r().size(t.usageHistory)>0&&(e.applicationCommandFrecency=a.YI.create(),e.applicationCommandFrecency.applicationCommands=(0,c.tU)(t.usageHistory,500),n=!0),n},cleanup(){o.K.remove("ApplicationCommandFrecency")}},{version:8,run(e){let{state:t}=l.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]);if(null==t)return!1;let n=!1;return r().size(t.favoriteSounds)>0&&(e.favoriteSoundboardSounds=a.h_.create(),s.default.keys(t.favoriteSounds).forEach(n=>{new Set(t.favoriteSounds[n]).forEach(t=>{var n;null===(n=e.favoriteSoundboardSounds)||void 0===n||n.soundIds.push(t)})}),n=!0),n},cleanup(){o.K.remove("SoundboardFavoriteStore")}},{version:9,run(e){let t=o.K.get(h);if(null==t)return!1;for(let e in t)!u.Xyh.test(e)&&delete t[e];return e.guildAndChannelFrecency=a.lG.create(),e.guildAndChannelFrecency.guildAndChannels=(0,c.tU)(t,100),!0},cleanup(){o.K.remove(h)}},{version:10,run(e){var t;if(null==e.emojiFrecency)return!1;let n=null!==(t=e.emojiFrecency.emojis)&&void 0!==t?t:{},i=!1;if(r().size(n)>0){let t=a.PL.create();a.PL.mergePartial(t,e.emojiFrecency),null!=e.emojiReactionFrecency&&a.PL.mergePartial(t,e.emojiReactionFrecency),e.emojiReactionFrecency=t,i=!0}return i},cleanup(){}}];t.Z=p},315341:function(e,t,n){n(518263),n(970173),n(520712),n(268111),n(941497),n(32026),n(480839),n(744285),n(492257),n(873817);var i=n(442837),r=n(704215),l=n(524437),a=n(381499),o=n(433517),s=n(581364),c=n(536442),d=n(592125),u=n(915486),h=n(48481),m=n(981631),p=n(71509);function g(e,t){let n=!1;return null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array,lastReceivedChangelogId:"0",recurringDismissibleContentStates:{}}),null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array),!(0,u.jl)(e.userContent.dismissedContents,t)&&(e.userContent.dismissedContents=(0,u.GV)(e.userContent.dismissedContents,t),n=!0),n}function f(e,t,n){return!!c.qc.hasHiddenHotspot(t)&&g(e,n)}let _=[{version:2,run(e){var t,n,i;let r;if((i=r||(r={})).Mentions="Recent Mentions",i.Unreads="Inbox",null!=e.inbox)return!1;let a=!1,s=l.f9.create();e.inbox=s,o.K.get("seenInboxTutorial",!1)&&(s.viewedTutorial=!0,a=!0);let c=o.K.get("recentsButtonTab2");null!=c&&(s.currentTab="Recent Mentions"===c?l.X.MENTIONS:l.X.UNREADS,a=!0);let u=null!==(t=o.K.get("unread-messages-collapsed-channels"))&&void 0!==t?t:{};for(let t in u){if(!u[t])continue;let i=d.Z.getChannel(t);null!=i&&(a=!0,(0,h.i7)(e,null!==(n=i.guild_id)&&void 0!==n?n:"0",i.id,e=>{e.collapsedInInbox=!0}))}return a},cleanup(){o.K.remove("seenInboxTutorial"),o.K.remove("recentsButtonTab2"),o.K.remove("unread-messages-collapsed-channels")}},{version:3,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[()=>({diversitySurrogate:o.K.get("EmojiDiversitySurrogate")||""})]);if(null==t)return!1;let n=!1;return null!=t.diversitySurrogate&&""!==t.diversitySurrogate&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=a.Gm.create()),e.textAndImages.diversitySurrogate.value=t.diversitySurrogate,n=!0),n},cleanup(){}},{version:4,run(e){let t=!1;return(!0===o.K.get("HAS_SEEN_HUB_UPSELL")||c.qc.hasHiddenHotspot(c.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=g(e,r.z.HUB_WAITLIST_UPSELL)),t},cleanup(){o.K.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run(e){var t,n,i,r,s,c,d;let u=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:l.Me.create(),e.notifications=null!==(n=e.notifications)&&void 0!==n?n:l.sf.create(),e.privacy=null!==(i=e.privacy)&&void 0!==i?i:l.bE.create(),e.voiceAndVideo=null!==(r=e.voiceAndVideo)&&void 0!==r?r:l.v_.create(),e.gameLibrary=null!==(s=e.gameLibrary)&&void 0!==s?s:l.Fm.create(),e.debug=null!==(c=e.debug)&&void 0!==c?c:l.tA.create();let h=null!==(d=o.K.get("UserSettingsStore"))&&void 0!==d?d:{};return"boolean"==typeof h.useRichChatTextBox&&(e.textAndImages.useRichChatInput=a.D5.create({value:h.useRichChatTextBox}),u=!0),"string"==typeof h.renderSpoilers&&(e.textAndImages.renderSpoilers=a.Gm.create({value:h.renderSpoilers}),u=!0),"boolean"==typeof h.useThreadSidebar&&(e.textAndImages.useThreadSidebar=a.D5.create({value:h.useThreadSidebar}),u=!0),"boolean"==typeof h.showInAppNotifications&&(e.notifications.showInAppNotifications=a.D5.create({value:h.showInAppNotifications}),u=!0),h.emojiPickerCollapsedSections instanceof Array&&(e.textAndImages.emojiPickerCollapsedSections=h.emojiPickerCollapsedSections,u=!0),h.stickerPickerCollapsedSections instanceof Array&&(e.textAndImages.stickerPickerCollapsedSections=h.stickerPickerCollapsedSections,u=!0),"boolean"==typeof h.viewImageDescriptions&&(e.textAndImages.viewImageDescriptions=a.D5.create({value:h.viewImageDescriptions}),u=!0),"boolean"==typeof h.showCommandSuggestions&&(e.textAndImages.showCommandSuggestions=a.D5.create({value:h.showCommandSuggestions}),u=!0),"boolean"==typeof h.alwaysPreviewVideo&&(e.voiceAndVideo.alwaysPreviewVideo=a.D5.create({value:h.alwaysPreviewVideo}),u=!0),"boolean"==typeof h.notifyFriendsOnGoLive&&(e.notifications.notifyFriendsOnGoLive=a.D5.create({value:h.notifyFriendsOnGoLive}),u=!0),"boolean"==typeof h.installShortcutDesktop&&(e.gameLibrary.installShortcutDesktop=a.D5.create({value:h.installShortcutDesktop}),u=!0),"boolean"==typeof h.installShortcutStartMenu&&(e.gameLibrary.installShortcutStartMenu=a.D5.create({value:h.installShortcutStartMenu}),u=!0),"boolean"==typeof h.allowActivityPartyPrivacyFriends&&(e.privacy.allowActivityPartyPrivacyFriends=a.D5.create({value:h.allowActivityPartyPrivacyFriends}),u=!0),"boolean"==typeof h.allowActivityPartyPrivacyVoiceChannel&&(e.privacy.allowActivityPartyPrivacyVoiceChannel=a.D5.create({value:h.allowActivityPartyPrivacyVoiceChannel}),u=!0),"boolean"==typeof h.rtcPanelShowVoiceStates&&(e.debug.rtcPanelShowVoiceStates=a.D5.create({value:h.rtcPanelShowVoiceStates}),u=!0),u},cleanup(){}},{version:7,run:e=>f(e,c.v6.APPLICATION_COMMAND_TOOLTIP,r.z.APPLICATION_COMMAND_TOOLTIP),cleanup(){}},{version:8,run:e=>f(e,c.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,r.z.CHANNELINFO_CHANNELBANNER_NOTICE),cleanup(){}},{version:9,run:e=>(c.qc.hasHiddenHotspot(c.v6.MULTI_ACCOUNT_TOOLTIP)&&o.K.set(p.Ip,"true"),f(e,c.v6.MULTI_ACCOUNT_TOOLTIP,r.z.ACCOUNT_MULTIACCOUNT_TOOLTIP)),cleanup(){}},{version:10,run(e){var t;let n=f(e,c.v6.HUB_LINK_CHANNEL_NOTICE,r.z.CHANNEL_NOTICE_HUBLINK),i=null!==(t=o.K.get("channelNotices"))&&void 0!==t?t:{};return!1===i[m.vID.INVITE]&&g(e,r.z.CHANNEL_NOTICE_INVITE)&&(n=!0),!1===i[m.vID.QUICKSWITCHER]&&g(e,r.z.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0),!1===i[m.vID.GUILD_BOOSTING]&&g(e,r.z.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0),n},cleanup(){o.K.remove("channelNotices")}},{version:11,run(e){let t=!1;return f(e,c.v6.GUILD_EVENT_UPSELL,r.z.GUILD_HEADER_EVENT_UPSELL)&&(t=!0),f(e,c.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,r.z.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0),f(e,c.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,r.z.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0),t},cleanup(){}},{version:12,run(e){let t=!1;return o.K.get("hideNag")&&g(e,r.z.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0),o.K.get("hideConnectSpotify")&&g(e,r.z.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0),o.K.get("hideConnectPlayStation")&&g(e,r.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0),o.K.get("hideMFASMSNotice")&&g(e,r.z.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0),t},cleanup(){o.K.remove("hideNag"),o.K.remove("hideConnectSpotify"),o.K.remove("hideConnectPlayStation"),o.K.remove("hideMFASMSNotice")}},{version:13,run(e){let t=!1;return o.K.get("hidePremiumPromo")&&g(e,r.z.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0),o.K.get("hidePremiumTier2TrialEnding")&&g(e,r.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0),o.K.get("hidePremiumReactivateNotice")&&g(e,r.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0),f(e,c.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,r.z.GUILD_HEADER_INVITE_SPLASH)&&(t=!0),t},cleanup(){o.K.remove("hidePremiumPromo"),o.K.remove("hidePremiumTier2TrialEnding"),o.K.remove("hidePremiumReactivateNotice")}},{version:14,run:e=>f(e,c.v6.ACTIVITY_BEB_TUTORIAL,r.z.ACTIVITIES_TUTORIAL_COACH_MARK),cleanup(){}},{version:15,run:e=>f(e,c.v6.NOW_PLAYING_CONSENT_CARD,r.z.NOW_PLAYING_CONSENT_CARD),cleanup(){}},{version:16,run(e){let t=o.K.get("PromotionsPersistedStore");if(null==t)return!1;let n=t._state.lastDismissedOutboundPromotionStartDate;return null!=n&&(null==e.userContent&&(e.userContent=l.az.create()),null==e.userContent.lastDismissedOutboundPromotionStartDate)&&(e.userContent.lastDismissedOutboundPromotionStartDate=a.Gm.create({value:n}),!0)},cleanup(){}},{version:17,run(e){let{state:t}=i.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null);if(null==t)return!1;let n=t.expressionSuggestionsEnabled;return null!=n&&(null==e.textAndImages&&(e.textAndImages=l.Me.create()),null==e.textAndImages.expressionSuggestionsEnabled)&&(e.textAndImages.expressionSuggestionsEnabled=a.D5.create({value:n}),!0)},cleanup(){o.K.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run(e){let t=!1;return f(e,c.v6.GUILD_DELETE_FEEDBACK,r.z.GUILD_DELETE_FEEDBACK)&&(t=!0),f(e,c.v6.GUILD_LEAVE_FEEDBACK,r.z.GUILD_LEAVE_FEEDBACK)&&(t=!0),t},cleanup(){}},{version:19,run(e){var t;let n=!1;return null!==(t=o.K.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=g(e,r.z.FORUM_CHANNEL_HELPER_CARD)),n},cleanup(){o.K.remove("forumHelperCardStorageKey")}},{version:20,run(e){let t=o.K.get("lastChangeLogId");if(null==t)return!1;if(!(0,s.BH)(t))return o.K.remove("lastChangeLogId"),!1;if(null==e.userContent)e.userContent=l.az.create();else if(null!=e.userContent&&null!=e.userContent.lastReceivedChangelogId&&"0"!==e.userContent.lastReceivedChangelogId)return o.K.remove("lastChangeLogId"),!1;return e.userContent.lastReceivedChangelogId=t,!0},cleanup(){o.K.remove("lastChangeLogId")}}];t.Z=_},507468:function(e,t,n){var i=n(392711),r=n.n(i),l=n(570140),a=n(755264),o=n(315341),s=n(262847),c=n(675478),d=n(581883),u=n(526761);function h(){let e=d.Z.getFullState(),t=e[u.yP.PRELOADED_USER_SETTINGS];t.editInfo.triggeredMigrations&&c.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs),r().forEach(c.aj,(t,n)=>{let i=e[Number(n)];null!=i.editInfo.offlineEditDataVersion&&null!=i.editInfo.protoToSave&&t.scheduleSaveFromOfflineEdit()})}function m(e){let{settings:{proto:t,type:n},delaySeconds:i,jitter:r}=e;c.aj[n].markDirty(t,{delaySeconds:i,jitter:r})}function p(e){let{settingsType:t}=e;c.aj[t].loadIfNecessary()}function g(e){let{state:t}=e;("inactive"===t||"background"===t)&&r().forEach(c.aj,(e,t)=>{null!=d.Z.getFullState()[Number(t)].editInfo.timeout&&(e.logger.log("Triggering persistChanges due to AppStateUpdate"),e.persistChanges())})}t.Z={init(){s.Z[u.yP.PRELOADED_USER_SETTINGS]=o.Z,s.Z[u.yP.FRECENCY_AND_FAVORITES_SETTINGS]=a.Z,l.Z.subscribe("CONNECTION_OPEN",h),l.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",m),l.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",p),l.Z.subscribe("APP_STATE_UPDATE",g)}}},762756:function(e,t,n){n(47120);var i,r=n(200651),l=n(192379),a=n(120356),o=n.n(a),s=n(873546),c=n(481060),d=n(599857),u=n(600164),h=n(63063),m=n(1964),p=n(981631),g=n(388032),f=n(906540),_=n(232186);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let I=h.Z.getArticleURL(p.BhN.VERIFICATION_FAQ);class C extends(i=l.PureComponent){renderFields(){let{types:e,captchaKey:t,theme:n,onCaptchaVerify:i}=this.props;return(0,r.jsx)(r.Fragment,{children:e.map(e=>e===p.PUi.CAPTCHA?(0,r.jsx)(d.Z,{onVerify:i,theme:n},t):(0,r.jsx)(c.Button,{className:o()(_.marginBottom20),onClick:()=>this.handleClick(e),children:m.Z.getButtonTitle(e)},e))})}render(){return(0,r.jsxs)(u.Z,{className:f.verification,align:u.Z.Align.CENTER,direction:u.Z.Direction.VERTICAL,children:[(0,r.jsxs)(u.Z,{className:o()(f.container,{[f.isMobile]:s.tq}),direction:u.Z.Direction.VERTICAL,align:u.Z.Align.CENTER,justify:u.Z.Justify.CENTER,children:[(0,r.jsx)("div",{className:f.image}),(0,r.jsx)("div",{className:o()(f.title,_.marginTop20),children:g.intl.string(g.t.Iz0kDg)}),(0,r.jsx)("div",{className:o()(f.body,_.marginTop4,_.marginBottom20),children:g.intl.format(g.t["//ppOD"],{helpCenterURL:I})}),(0,r.jsx)(u.Z,{grow:0,direction:u.Z.Direction.VERTICAL,justify:u.Z.Justify.CENTER,children:this.renderFields()})]}),(0,r.jsx)("div",{className:o()(f.footer,_.marginTop20),children:g.intl.string(g.t.qqYun5)}),(0,r.jsxs)(u.Z,{className:o()(_.marginTop4,_.marginBottom20),grow:0,children:[(0,r.jsx)("div",{className:o()(f.footer,f.footerAction),children:g.intl.format(g.t.WL51ZW,{supportURL:h.Z.getSubmitRequestURL()})}),(0,r.jsx)("div",{className:o()(f.footer,f.footerBullet),children:""}),(0,r.jsx)("div",{className:o()(f.footer,f.footerAction),children:g.intl.format(g.t.Hv7ztb,{logoutOnClick:this.props.onLogout})})]})]})}constructor(...e){super(...e),E(this,"handleClick",e=>{let{onClick:t}=this.props;null==t||t(e)})}}E(C,"defaultProps",{types:[p.PUi.CAPTCHA],onCaptchaVerify:p.dG4,onLogout:p.dG4}),t.Z=C},852758:function(e,t,n){n.d(t,{Z:function(){return b}}),n(47120);var i=n(200651),r=n(192379),l=n(990547),a=n(442837),o=n(544891),s=n(481060),c=n(893776),d=n(37234),u=n(809206),h=n(110924),m=n(714338),p=n(213609),g=n(429142),f=n(144114),_=n(210887),E=n(23434),I=n(1964),C=n(762756),v=n(308569),S=n(981631),N=n(815660),T=n(388032);function b(){let{action:e,theme:t}=(0,a.cj)([E.Z,_.Z],()=>({action:E.Z.getAction(),theme:_.Z.theme})),b=I.Z.getVerificationTypes(e),[x,A]=r.useState(0),Z=(0,h.Z)(b);(0,p.Z)({type:l.ImpressionTypes.MODAL,name:l.ImpressionNames.USER_ACTION_REQUIRED,properties:{verification_type:b[0],verification_types:b}},{},[b.toString()]);let L=()=>{(0,u.FD)(),(0,s.openModalLazy)(async()=>{let{default:e}=await n.e("35401").then(n.bind(n,284549));return t=>(0,i.jsx)(e,{...t})},{modalKey:v.F0,Layer:g.ZP})},P=()=>{(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.all([n.e("76540"),n.e("75970")]).then(n.bind(n,607018));return t=>(0,i.jsx)(e,{reason:f.L.USER_ACTION_REQUIRED,...t})},{modalKey:N.M,Layer:g.ZP})};return r.useEffect(()=>(m.Z.disable(),()=>{m.Z.enable()}),[]),r.useEffect(()=>{(null==Z?void 0:Z[0])===S.PUi.PHONE&&(null==b?void 0:b[0])===S.PUi.EMAIL&&(0,s.openModalLazy)(async()=>{let{default:e}=await Promise.resolve().then(n.bind(n,468026));return t=>(0,i.jsx)(e,{...t,title:T.intl.string(T.t.KLnLIC),body:T.intl.string(T.t.XGbCq6),confirmText:T.intl.string(T.t["3oK4q6"])})},{modalKey:v.HR,Layer:g.ZP,onCloseCallback:L})},[b,Z]),(0,i.jsx)(C.Z,{types:b,captchaKey:x,onCaptchaVerify:e=>{o.tn.post({url:S.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0,rejectWithError:!0}).then(d.xf,()=>{A(e=>e+1)})},theme:t,onClick:e=>{e===S.PUi.EMAIL_OR_PHONE||e===S.PUi.EMAIL||e===S.PUi.REVERIFY_EMAIL?L():P()},onLogout:()=>{(0,s.openModalLazy)(async()=>{let{ConfirmModal:e,Text:t}=await Promise.resolve().then(n.bind(n,481060));return n=>(0,i.jsx)(e,{header:T.intl.string(T.t["2jxGen"]),confirmText:T.intl.string(T.t["2jxGen"]),cancelText:T.intl.string(T.t["ETE/oK"]),onConfirm:()=>c.Z.logout(),...n,children:(0,i.jsx)(t,{variant:"text-md/normal",children:T.intl.string(T.t.SUnWBA)})})},{Layer:g.ZP})}})}},879815:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(442837),r=n(314897),l=n(131951),a=n(979651);function o(e){return(0,i.cj)([a.Z,l.Z,r.default],()=>(function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Z,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Z,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.default,s=null!=e?n.getVoiceState(e.getGuildId(),o.getId()):null;return{selfDeaf:i.isSelfDeaf(),deaf:null!==(t=null==s?void 0:s.deaf)&&void 0!==t&&t}})(e,a.Z,l.Z,r.default),[e])}},282506:function(e,t,n){let i;var r=n(570140),l=n(519938),a=n(317770),o=n(317381),s=n(928518),c=n(199902),d=n(592125),u=n(819640),h=n(131951),m=n(366050),p=n(19780),g=n(944486),f=n(914010),_=n(979651),E=n(981631),I=n(65154);function C(){var e;let t=i;if(null==t||!m.Z.isOpen(t))return!1;r.Z.wait(()=>l.xv(t)),null===(e=p.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1),i=null}function v(){let e=p.Z.getChannelId(),t=i===e;return function(){let e=p.Z.getChannelId(),t=g.Z.getChannelId();if(!h.Z.supports(I.AN.VIDEO)||s.Z.getWindowOpen(E.KJ3.CHANNEL_CALL_POPOUT))return!0;let n=c.Z.getAllActiveStreams().length>0,i=null!=e&&Object.values(_.Z.getVideoVoiceStatesForChannel(e)).some(e=>{let{userId:t}=e;return!h.Z.isLocalVideoDisabled(t)});if(!(i||n))return!0;let r=u.Z.hasLayers();return!(r&&u.Z.getLayers().includes(E.S9g.RTC_DEBUG))&&(!!r||e===t||!1)}()?C():(!t&&C(),null!=e&&function(e){var t;let n=d.Z.getChannel(e);if(null==n||m.Z.isOpen(e))return!1;r.Z.wait(()=>l.bA(n.id,E.NYg.VIDEO,{channel:n})),null===(t=p.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0),i=e}(e))}class S extends a.Z{_initialize(){g.Z.addChangeListener(v),f.Z.addChangeListener(v),p.Z.addChangeListener(v),_.Z.addChangeListener(v),u.Z.addChangeListener(v),c.Z.addChangeListener(v),s.Z.addChangeListener(v),h.Z.addChangeListener(v),o.ZP.addChangeListener(v)}_terminate(){g.Z.removeChangeListener(v),f.Z.removeChangeListener(v),p.Z.removeChangeListener(v),_.Z.removeChangeListener(v),u.Z.removeChangeListener(v),c.Z.removeChangeListener(v),s.Z.removeChangeListener(v),h.Z.removeChangeListener(v),o.ZP.removeChangeListener(v)}}t.Z=new S},444961:function(e,t,n){n(47120);var i=n(846519),r=n(570140),l=n(287734),a=n(317770),o=n(199902),s=n(592125),c=n(430824),d=n(517100),u=n(19780),h=n(70956),m=n(358085),p=n(981631);let g=new i.V7,f=new i.V7;class _ extends a.Z{_initialize(){r.Z.subscribe("IDLE",this.handleIdleUpdate)}_terminate(){g.stop(),f.stop(),r.Z.unsubscribe("IDLE",this.handleIdleUpdate)}handleIdleUpdate(){let e=d.Z.getIdleSince();if(!m.isPlatformEmbedded)return;for(let e of(g.stop(),f.stop(),o.Z.getAllActiveStreams()))if(e.state!==p.jm8.ENDED)return;if(null==e)return;let t=u.Z.getChannelId();if(null==t)return;f.start(18e6,()=>{l.default.selectVoiceChannel(null)});let n=c.Z.getGuild(u.Z.getGuildId());if(null==n||null==n.afkChannelId||n.afkChannelId===t||null==n.afkTimeout)return;let i=s.Z.getChannel(t);if(null!=i)!i.isGuildStageVoice()&&g.start(e+n.afkTimeout*h.Z.Millis.SECOND-Date.now(),()=>{null!=(n=c.Z.getGuild(u.Z.getGuildId()))&&null!=n.afkChannelId&&l.default.selectVoiceChannel(n.afkChannelId)})}}t.Z=new _},243852:function(e,t,n){n(47120);var i,r,l,a,o,s=n(442837),c=n(433517),d=n(846519),u=n(570140),h=n(278323),m=n(581567),p=n(594190),g=n(581883),f=n(70956),_=n(780570),E=n(314897),I=n(77498),C=n(283595),v=n(19780),S=n(944486),N=n(981631);let T="ActivityTrackingStore",b=30*f.Z.Millis.MINUTE,x=5*f.Z.Millis.MINUTE,A=null!==(i=c.K.get(T))&&void 0!==i?i:{},Z={},L=!1;function P(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t&&y(e,!0);let n=Z[e.applicationId];null!=n&&(n.stop(),delete Z[e.applicationId]),delete A[e.applicationId],c.K.set(T,A)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),i=null!=e.updatedAt?n-e.updatedAt:0;i>b+x&&(i=0);let r=(0,_.OT)(e.applicationId,C.Z),l=S.Z.getVoiceChannelId(),a=E.default.getSessionId(),o=v.Z.getMediaSessionId();h.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?N.GQo.DISCORD:e.distributor,shareActivity:r,token:e.token,duration:Math.floor(i/1e3),closed:t,exePath:e.exePath,voiceChannelId:l,sessionId:a,mediaSessionId:o}),e.updatedAt=n;let s=Z[e.applicationId];null==s&&(s=Z[e.applicationId]=new d.Xp).start(b,()=>y(e)),!t&&(A[e.applicationId]=e,c.K.set(T,A))}function O(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=p.ZP.getVisibleRunningGames(),n=new Set;for(let{name:e,distributor:i,exePath:r}of t){let t=I.Z.getGameByName(e);if(null!=t)n.add(t.id),!(t.id in A)&&y({applicationId:t.id,updatedAt:Date.now(),distributor:i,exePath:(0,m.N6)(null!=r?r:"")})}for(let t of Object.keys(A))!n.has(t)&&P(A[t],e)}function R(){for(let e of Object.keys(A))P(A[e]);L=!1}class j extends(r=s.ZP.Store){initialize(){this.waitFor(p.ZP,g.Z,C.Z),this.syncWith([g.Z],O)}getActivities(){return A}}o="ActivityTrackingStore",(a="displayName")in(l=j)?Object.defineProperty(l,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[a]=o,new j(u.Z,{RUNNING_GAMES_CHANGE:()=>O(),CONNECTION_OPEN:function(){if(L)return!1;for(let e of Object.keys(A))y(A[e]);O(!1),L=!0},CONNECTION_CLOSED:function(e){let{code:t}=e;4004===t&&R()},LOGOUT:R,ACTIVITY_UPDATE_SUCCESS:function(e){let{applicationId:t,token:n}=e,i=A[t];if(null==i)return!1;i.token=n,c.K.set(T,A)},ACTIVITY_UPDATE_FAIL:function(e){let{applicationId:t}=e,n=A[t];if(null==n)return!1;n.token=null,n.updatedAt=null,c.K.set(T,A)}})},184107:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140);let c={};class d extends(a=o.ZP.Store){getSkuIdForChannel(e){return c[e]}}l="ChannelSKUStore",(r="displayName")in(i=d)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new d(s.Z,{CONNECTION_OPEN:function(){c={}},STORE_LISTING_FETCH_SUCCESS:function(e){let{channelId:t,storeListing:n}=e;null!=t&&(c[t]=n.sku.id)}})},533947:function(e,t,n){let i,r,l;n(653041),n(47120);var a,o,s,c,d=n(392711),u=n.n(d),h=n(442837),m=n(570140),p=n(308063),g=n(388610),f=n(430824),_=n(496675),E=n(855674),I=n(981631);let C=[],v=null,S=!1,N=I.QZA.CLOSED,T={},b=!1,x=null;function A(){if(i=null!=(r=g.Z.getChannel())?f.Z.getGuild(r.guild_id):null,C=null!=r&&null!=i&&_.Z.can(I.Plq.MANAGE_WEBHOOKS,r)?E.Z.getWebhooksForChannel(i.id,r.id):[],null!=v){let e=L(v.id);null!=e&&(v=e)}N=I.QZA.OPEN,T={},b=!1}let Z=u().debounce(()=>{b&&((null==v||u().isEqual(v,L(v.id)))&&(b=!1),!b&&y.emitChange())},500);function L(e){return C.find(t=>{let{id:n}=t;return n===e})}class P extends(a=h.ZP.Store){initialize(){this.waitFor(g.Z,f.Z,E.Z,_.Z)}hasChanges(){return b}get webhooks(){return C}get editedWebhook(){return v}get formState(){return N}getWebhook(e){return L(e)}showNotice(){return this.hasChanges()}getProps(){return{submitting:N===I.QZA.SUBMITTING,webhooks:C,editedWebhook:v,section:l,sectionId:x,hasChanges:this.hasChanges(),isFetching:S,errors:T}}}c="ChannelSettingsIntegrationsStore",(s="displayName")in(o=P)?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c;let y=new P(m.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:A,INTEGRATION_SETTINGS_SAVE_SUCCESS:A,CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(t!==I.CoT.INTEGRATIONS)return!1;if(l=I.b4C.OVERVIEW,null==i){let e=g.Z.getChannel(),t=null==e?void 0:e.getGuildId();null!=e&&null!=t&&(p.Z.fetchForChannel(t,e.id),S=!0),A()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){let{section:t,sectionId:n}=e;l=t,x=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){let{webhookId:t}=e,n=L(t);if(null==n)return!1;v=n,T={},b=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){v=null,T={},b=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){let{settings:t}=e;if(null==v)return!1;v={...v},null!=t.name&&v.name!==t.name&&(v.name=t.name,b=!0),void 0!==t.avatar&&v.avatar!==t.avatar&&(v.avatar=t.avatar,b=!0),null!=t.channelId&&v.channel_id!==t.channelId&&(v.channel_id=t.channelId,b=!0),b&&Z()},CHANNEL_SETTINGS_CLOSE:function(){r=null,i=null,C=[],v=null,N=I.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){let{guildId:t,channelId:n,webhooks:l}=e;if(null==i||t!==i.id||null==r||n!==r.id||null==l||N===I.QZA.SUBMITTING)return!1;S=!1;for(let e=C.length-1;e>=0;e--){let t=C[e];if(null!=n&&(null==t?void 0:t.channel_id)!==n)continue;let i=l.find(e=>{let{id:n}=e;if(n===t.id)return!0});if(null!=i){let n={...t,...i};C[e]=n,!b&&(null==v?void 0:v.id)===n.id&&(v=n)}else(null==v?void 0:v.id)===t.id&&(v=null),C.splice(e,1)}for(let e of l)null==C.find(t=>{let{id:n}=t;if(n===e.id)return!0})&&C.push(e);C=[...C],Z()},INTEGRATION_SETTINGS_SUBMITTING:function(){N=I.QZA.SUBMITTING,T={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){var t;if(N!==I.QZA.SUBMITTING)return!1;N=I.QZA.OPEN,T=null!==(t=e.errors)&&void 0!==t?t:{}}});t.Z=y},277053:function(e,t,n){let i,r;n(47120);var l,a,o,s,c=n(392711),d=n.n(c),u=n(442837),h=n(433517),m=n(570140),p=n(700785),g=n(388610),f=n(592125),_=n(981631),E=n(71080);let I=new Set,C=_.QZA.CLOSED,v=!1,S=null,N=null,T=null,b=null,x=null,A=null,Z=h.K.get(E.kf)||!1;function L(e){let t=e.getGuildId(),n={...e.permissionOverwrites};return null!=t&&null==n[t]&&(n[t]=p.we(t)),n}function P(){if(T=g.Z.getChannel(),b=g.Z.getCategory(),null==T)return!1;let e=T.getGuildId();N=S=L(T),null==S[x]&&(x=e),r=null!=b,i=p.o4(T,b),A=null,v=!1,C=_.QZA.CLOSED,I.clear()}class y extends(l=u.ZP.Store){initialize(){this.waitFor(g.Z,f.Z)}hasChanges(){return v}showNotice(){return this.hasChanges()}getPermissionOverwrite(e){return null==S?void 0:S[e]}get editedPermissionIds(){return Array.from(I)}get permissionOverwrites(){return S}get selectedOverwriteId(){return x}get formState(){return C}get isLockable(){return r}get locked(){return i}get channel(){return T}get category(){return b}get advancedMode(){return Z}}s="ChannelSettingsPermissionsStore",(o="displayName")in(a=y)?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,t.Z=new y(m.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){let{section:t}=e;if(null!=T||t!==_.CoT.PERMISSIONS)return!1;P()},CHANNEL_SETTINGS_PERMISSIONS_INIT:P,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){let{id:t,allow:n,deny:r}=e,l=null==S?void 0:S[t];if(null==l||null==T)return!1;l={...l,allow:n,deny:r},S={...S,[t]:l},I.add(t),C=_.QZA.OPEN,v=!d().isEqual(S,N),i=p.o4(T,b)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){let{id:t}=e;if(null!=S&&null!=S[t])x=t;else{if(null==T)return!1;A=t}},CHANNEL_SETTINGS_CLOSE:function(){C=_.QZA.CLOSED,S=null,N=null,T=null,b=null,v=!1,I.clear(),x=null,A=null},CHANNEL_UPDATES:function(e){let{channels:t}=e;if(null==T)return!1;let n=!1;for(let e of t)!1!==function(e){if(null==T||T.id!==e||null==(T=f.Z.getChannel(e)))return!1;b=g.Z.getCategory();let t=T.getGuildId();if(null==t)return!1;N=L(T);let n={};return I.forEach(e=>{null!=S&&(n[e]=S[e])}),null==n[t]&&null==T.permissionOverwrites[t]&&(n[t]=p.we(t)),null==(S={...T.permissionOverwrites,...n})[x]?x=t:null!=A&&null!=S[A]&&(x=A,A=null),i=p.o4(T,b),!0}(e.id)&&(n=!0);return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){C=_.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){let{silent:t}=e;t?C=_.QZA.OPEN:(C=_.QZA.CLOSED,P())},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){let{advancedMode:t}=e;Z=t,h.K.set(E.kf,t)}})},820486:function(e,t,n){n.d(t,{X:function(){return T}});var i,r=n(392711),l=n.n(r),a=n(442837),o=n(570140),s=n(846027),c=n(581883),d=n(358085),u=n(131951),h=n(981631),m=n(65154);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g={},f=g,_=!1,E={},I={},C={},v={id:null,justChanged:!1},S={id:null,justChanged:!1},N=/\(([^)]+)\)/;function T(e){if((0,d.getPlatform)()===d.PlatformTypes.WINDOWS){let t=e.name.match(N);if(null!=t)return t[1]}return e.name}function b(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===h.QyF.INPUT&&n===h.QyF.OUTPUT||e.type===h.QyF.OUTPUT&&n===h.QyF.INPUT?{displayName:t,type:h.QyF.INPUT_AND_OUTPUT}:e}class x extends(i=a.ZP.DeviceSettingsStore){initialize(e){this.waitFor(u.Z,c.Z),f=null!=e?e:g}getUserAgnosticState(){return f}get initialized(){return _}get lastDeviceConnected(){return C}get inputDevices(){return E}get lastInputSystemDevice(){return v}get outputDevices(){return I}get lastOutputSystemDevice(){return S}}p(x,"displayName","ConnectedDeviceStore"),p(x,"persistKey","ConnectedDeviceStore"),t.Z=new x(o.Z,{MEDIA_ENGINE_DEVICES:function(e){let{inputDevices:t,outputDevices:n}=e,i={};v.justChanged=!1,t.forEach(e=>{if(i[T(e)]=e.id,e.id===m.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==v.id&&(v.justChanged=!0),v.id=n}});let r={};if(S.justChanged=!1,n.forEach(e=>{if(r[T(e)]=e.id,e.id===m.w5){var t;let n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==S.id&&(S.justChanged=!0),S.id=n}}),!_){E=i,I=r,_=!0;return}let a=Object.keys(E),o=Object.keys(i),s=Object.keys(I),c=Object.keys(r),d=l().difference(a,o),u=l().difference(s,c);return d.length>0||u.length>0?C={}:(l().difference(o,a).forEach(e=>{C[e]=b(C[e],e,h.QyF.INPUT)}),l().difference(c,s).forEach(e=>{C[e]=b(C[e],e,h.QyF.OUTPUT)})),!(l().isEqual(a,o)&&l().isEqual(s,c))&&(E=i,I=r,!0)},CONNECTED_DEVICE_SET:function(e){let{displayName:t,connectedDevicePreference:n,location:i}=e;!function(e,t,n){if(t===h.aVf.INPUT||t===h.aVf.INPUT_AND_OUTPUT){let t=E[e];null!=t&&o.Z.wait(()=>s.Z.setInputDevice(t,{location:n}))}if(t===h.aVf.OUTPUT||t===h.aVf.INPUT_AND_OUTPUT){let t=I[e];o.Z.wait(()=>s.Z.setOutputDevice(t,{location:n}))}}(t,n,i),delete C[t]},CONNECTED_DEVICE_IGNORE:function(e){let{displayName:t}=e;delete C[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){C={},f={neverShowModal:!0}}})},649974:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(656063),d=n(814443),u=n(158776),h=n(594174),m=n(981631);let p=!1,g={},f={};function _(e){let t=!1;return e.forEach(e=>{t=!1!==I(e)||t}),t}function E(e){let t=f[e];if(null==t)return!1;let n=t.gameId;return null!=g[n]&&(g={...g},delete g[n][e],0===Object.values(g[n]).length&&delete g[n]),f={...f},delete f[e],!0}function I(e){let{user:t,activities:n}=e;if(null==t)return!1;let i=n.filter(e=>e.type!==m.IIU.CUSTOM_STATUS);if(0===i.length)return E(t.id);let r=!1;return i.forEach(e=>{(function(e,t){var n,i,r,l;let a=(0,c.Z)(e);if(null==a)return E(t.id);let o=f[t.id];null!=o&&o.gameId!==a&&E(t.id);let s=null!==(i=null===(n=e.timestamps)||void 0===n?void 0:n.start)&&void 0!==i?i:Date.now(),d={userId:t.id,activity:e,startedPlaying:s};return r=a,l=d,g={...g,[r]:{...g[r],[l.userId]:l}},f={...f,[l.userId]:{gameId:r,startedPlaying:l.startedPlaying}},!0})(e,t)&&(r=!0)}),r}function C(){let e=!1;if(!d.Z.needsRefresh()&&!p){let t;g={},f={},t=!1,u.Z.getUserIds().forEach(e=>{let n=h.default.getUser(e);null!=n&&(t=I({user:n,activities:u.Z.getActivities(e)})||t)}),e=t}return p=!d.Z.needsRefresh(),e}class v extends(a=o.ZP.Store){initialize(){this.waitFor(d.Z),this.syncWith([d.Z],C)}get games(){return g}get usersPlaying(){return f}get gameIds(){return Object.keys(g)}getNowPlaying(e){return g[e]}getUserGame(e){return f[e]}}l="NowPlayingStore",(r="displayName")in(i=v)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new v(s.Z,{CONNECTION_OPEN:function(){g={},f={}},CONNECTION_OPEN_SUPPLEMENTAL:function(e){let{guilds:t,presences:n}=e,i=!1;return t.forEach(e=>{_(e.presences)&&(i=!0)}),_(n)&&(i=!0),i},LOGOUT:function(){g={},f={}},PRESENCE_UPDATES:function(e){let{updates:t}=e;return t.map(e=>I(e)).some(e=>e)},PRESENCES_REPLACE:function(e){let{presences:t}=e;return _(t)}})},327689:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(430824),d=n(981631);class u extends(a=o.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],d.dG4)}channelNoticePredicate(e,t){return!e.hasFeature(d.oNc.BANNER)&&Date.now()-t>=d.Hqc}}l="GuildBoostingNoticeStore",(r="displayName")in(i=u)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new u(s.Z)},541566:function(e,t,n){var i,r=n(442837),l=n(570140),a=n(267642),o=n(981631);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={};c={lastDismissedGracePeriods:{},isVisible:{}};class d extends(i=r.ZP.PersistedStore){initialize(e){null!=e&&(c=e)}getLastDismissedGracePeriodForGuild(e){return null!=c.lastDismissedGracePeriods[e]?c.lastDismissedGracePeriods[e]:null}isVisible(e){return null!=e&&null!=c.isVisible[e]&&c.isVisible[e]}getState(){return c}}s(d,"displayName","GuildBoostingGracePeriodNoticeStore"),s(d,"persistKey","PremiumGuildGracePeriodNoticeStore"),s(d,"migrations",[e=>({...e,lastDismissedGracePeriods:null!=e?{...e.lastDismissedGracePeriods}:{},isVisible:{}})]),t.Z=new d(l.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){let{guildId:t,appliedBoosts:n}=e,i=null!=c.lastDismissedGracePeriods[t]?c.lastDismissedGracePeriods[t]:null,r=null!=i&&Date.now()-i<=o.Dge,l=null!=n&&!r&&(0,a.Vx)(n,t);c={...c,isVisible:{...c.isVisible,[t]:l}}},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){let t=e.guildId;c={...c,lastDismissedGracePeriods:{...c.lastDismissedGracePeriods,[t]:Date.now()},isVisible:{...c.isVisible,[t]:!1}}}})},421176:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(496675),d=n(981631);class u extends(a=o.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],d.dG4)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&c.Z.can(d.Plq.MANAGE_GUILD,e)}}l="GuildBoostingNoticeStore",(r="displayName")in(i=u)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new u(s.Z)},192513:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(984933),d=n(594174),u=n(981631);let h=null;function m(){let e=d.default.getCurrentUser();if(null==e||e.mfaEnabled===h)return!1;h=e.mfaEnabled}class p extends(a=o.ZP.Store){initialize(){this.waitFor(d.default,c.ZP),this.syncWith([d.default,c.ZP],m)}isVisible(e){return null!=e&&e.mfaLevel===u.BpS.ELEVATED&&!1===h&&c.ZP.hasElevatedPermissions(e.id)}}l="GuildMFAWarningStore",(r="displayName")in(i=p)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new p(s.Z,{CONNECTION_OPEN:m,GUILD_UPDATE:function(){return!0}})},456065:function(e,t,n){n(47120);var i,r,l,a,o=n(442837),s=n(570140),c=n(810788),d=n(430824),u=n(981631);let h=!1;function m(e){let t=d.Z.getGuild(e);return!!(null!=t&&t.hasFeature(u.oNc.HUB))&&(h=!0,!0)}function p(){return!0}class g extends(i=o.ZP.Store){initialize(){this.waitFor(d.Z,c.Z),this.syncWith([c.Z],p)}channelNoticePredicate(e){return!!e.hasFeature(u.oNc.LINKED_TO_HUB)&&!h&&!0}}a="HubLinkNoticeStore",(l="displayName")in(r=g)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,t.Z=new g(s.Z,{CONNECTION_OPEN:function(e){for(let t of e.guilds)if(m(t.id))return!0;return!1},GUILD_CREATE:function(e){let{guild:t}=e;return m(t.id)}})},683743:function(e,t,n){var i,r,l,a,o=n(442837),s=n(570140),c=n(496675),d=n(981631);function u(){return!0}class h extends(a=o.ZP.Store){initialize(){this.waitFor(c.Z),this.syncWith([c.Z],u)}channelNoticePredicate(e,t){return Date.now()-t>=d.Hqc&&c.Z.can(d.Plq.ADMINISTRATOR,e)}}l="InviteNoticeStore",(r="displayName")in(i=h)?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,t.Z=new h(s.Z)},255791:function(e,t,n){n(47120);var i,r,l,a,o=n(442837),s=n(433517),c=n(570140),d=n(650774),u=n(430824),h=n(496675),m=n(981631);let p={MAX_MEMBER_COUNT:new Set};class g extends(i=o.ZP.Store){initialize(){var e;this.waitFor(h.Z,u.Z,d.Z),this.syncWith([h.Z,u.Z,d.Z],m.dG4),s.K.remove(m.vID.MAX_MEMBER_COUNT_100),s.K.remove(m.vID.MAX_MEMBER_COUNT_250),e=new Set(s.K.get(m.vID.MAX_MEMBER_COUNT)),p[m.vID.MAX_MEMBER_COUNT]=void 0!==e?e:new Set}isVisible(e){var t;if(null==e)return!1;let n=null!==(t=d.Z.getMemberCount(e.id))&&void 0!==t?t:0,i=h.Z.can(m.Plq.ADMINISTRATOR,e);return!e.hasFeature(m.oNc.CLAN)&&!p[m.vID.MAX_MEMBER_COUNT].has(e.id)&&i&&e.maxMembers>0&&e.maxMembers-n<=1e4}}a="MaxMemberCountChannelNoticeStore",(l="displayName")in(r=g)?Object.defineProperty(r,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[l]=a,t.Z=new g(c.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){let t=e.guildId;if(!p[m.vID.MAX_MEMBER_COUNT].has(t))return p[m.vID.MAX_MEMBER_COUNT].add(t),s.K.set(m.vID.MAX_MEMBER_COUNT,p[m.vID.MAX_MEMBER_COUNT]),!0}})},525395:function(e,t,n){let i,r,l;n(47120);var a,o,s,c,d=n(442837),u=n(570140);function h(){r={},i={},l=new Set}h();class m extends(a=d.ZP.Store){getStatisticsForApplication(e){return i[e]}shouldFetchStatisticsForApplication(e){let t=r[e];return!l.has(e)&&(null==t||Date.now()-t>36e5)}}c="ApplicationStatisticsStore",(s="displayName")in(o=m)?Object.defineProperty(o,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[s]=c,t.Z=new m(u.Z,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){let{applicationId:t}=e;l.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){let{applicationId:t}=e;l.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){let{statistics:t,applicationId:n}=e;r[n]=Date.now(),l.delete(n),i[n]=t},LOGOUT:h})},974042:function(e,t,n){n(653041);var i,r=n(392711),l=n.n(r),a=n(442837),o=n(570140),s=n(194359),c=n(81825),d=n(5254),u=n(441623),h=n(199902),m=n(271383),p=n(430824),g=n(158776),f=n(699516),_=n(594174),E=n(981631),I=n(474936);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){let t=_.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function S(e){return{status:g.Z.getStatus(e),isMobile:g.Z.isMobileOnline(e),activities:g.Z.getActivities(e),applicationStream:h.Z.getAnyStreamForUser(e)}}function N(e){let t=[];return l()(m.ZP.memberOf(e)).map(p.Z.getGuild).sortBy(e=>null!=e?e.name.toLowerCase():null).forEach(e=>{null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}class T extends c.Z{get comparator(){var e,t,n,i,r;return[this.type,null!=this.giftIntentType?0:1,null!==(r=null!==(i=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==i?i:null===(n=this.user)||void 0===n?void 0:null===(t=n.globalName)||void 0===t?void 0:t.toLowerCase())&&void 0!==r?r:this.usernameLower]}constructor(e){super(),C(this,"key",void 0),C(this,"type",void 0),C(this,"status",void 0),C(this,"isMobile",void 0),C(this,"activities",void 0),C(this,"applicationStream",void 0),C(this,"user",void 0),C(this,"usernameLower",void 0),C(this,"mutualGuildsLength",void 0),C(this,"mutualGuilds",void 0),C(this,"nickname",void 0),C(this,"spam",void 0),C(this,"giftIntentType",void 0),C(this,"ignoredUser",void 0),this.key=e.key,this.type=e.type,this.status=e.status,this.activities=e.activities,this.applicationStream=e.applicationStream,this.user=e.user,this.isMobile=e.isMobile,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds,this.nickname=e.nickname,this.spam=e.spam,this.giftIntentType=e.giftIntentType,this.ignoredUser=e.ignoredUser}}class b{reset(){let e=l().map(f.Z.getRelationships(),(e,t)=>new T({key:t,type:e,nickname:f.Z.getNickname(t),...v(t),...S(t),...N(t),spam:f.Z.isSpam(t),ignoredUser:f.Z.isIgnored(t),giftIntentType:e===E.OGo.FRIEND&&u.Z.isTopAffinityFriendAnniversary({userId:t})?I.hX.FRIEND_ANNIVERSARY:void 0})),t=l().map(d.Z.getSuggestions(),e=>new T({key:e.key,type:99,nickname:e.name,...v(e.key),...S(e.key),...N(e.key)}));return new b(l().concat(e,t))}clone(){return new b(this._rows)}update(e){let t=!1;for(let n=0;n<this._rows.length;n++){let i=this._rows[n],r=i.merge(e(i.key));t=t||r!==i,this._rows[n]=r}return t}filter(e,t){return l()(this._rows).filter(e=>{if(null==e.user)return!1;if(null!=t&&""!==t){let n=t.toLowerCase();return[e.usernameLower,e.nickname,e.user.globalName].map(e=>null==e?void 0:e.toLowerCase()).some(e=>null==e?void 0:e.includes(n))}return!0}).filter(t=>{switch(e){case E.pJs.ONLINE:return t.type===E.OGo.FRIEND&&t.status!==E.Skl.OFFLINE;case E.pJs.PENDING:return t.type===E.OGo.PENDING_INCOMING&&!t.spam&&!t.ignoredUser||t.type===E.OGo.PENDING_OUTGOING;case E.pJs.SPAM:return t.type===E.OGo.PENDING_INCOMING&&t.spam;case E.pJs.PENDING_IGNORED:return t.type===E.OGo.PENDING_INCOMING&&t.ignoredUser;case E.pJs.SUGGESTIONS:return 99===t.type;case E.pJs.BLOCKED:return t.type===E.OGo.BLOCKED;case E.pJs.ALL:default:return t.type===E.OGo.FRIEND}}).sortBy(e=>e.comparator).value()}getRelationshipCounts(){let e={[E.OGo.FRIEND]:0,[E.OGo.PENDING_INCOMING]:0,[E.OGo.PENDING_OUTGOING]:0,99:0,[E.OGo.BLOCKED]:0};return this._rows.forEach(t=>{null!=t.user&&null!=e[t.type]&&e[t.type]++}),e}constructor(e=[]){C(this,"_rows",void 0),this._rows=e}}let x=!0,A=!1,Z=E.pJs.ONLINE,L=new b,P=!0,y=!1;function O(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];x&&(e||Z!==E.pJs.ONLINE&&Z!==E.pJs.ADD_FRIEND)&&!A&&(x=!1,A=!0,s.Z.fetchRelationships())}function R(){if(x=!0,P?A=!1:O(),L=L.reset(),y)return;let e=L.getRelationshipCounts();Z=0===e[E.OGo.FRIEND]?0!==e[E.OGo.PENDING_INCOMING]?E.pJs.PENDING:E.pJs.ADD_FRIEND:E.pJs.ONLINE}function j(){L=P?new b:L.reset()}function D(e){return function(){return!P&&!!L.update(e)&&(L=L.clone(),!0)}}class M extends(i=a.ZP.Store){initialize(){this.waitFor(f.Z,g.Z,_.default,p.Z,m.ZP,h.Z,d.Z),this.syncWith([f.Z],j),this.syncWith([d.Z],j),this.syncWith([u.Z],j),this.syncWith([_.default],D(v)),this.syncWith([g.Z,h.Z],D(S)),R()}getState(){return{fetching:A,section:Z,pendingCount:f.Z.getPendingCount(),rows:L}}}C(M,"displayName","FriendsStore"),t.ZP=new M(o.Z,{CONNECTION_OPEN:function(){R()},FRIENDS_SET_SECTION:function(e){Z=e.section,O()},CHANNEL_SELECT:function(e){let{channelId:t}=e;return P=null!=t,j(),!P},LOAD_RELATIONSHIPS_SUCCESS:function(){A=!1},LOAD_RELATIONSHIPS_FAILURE:function(){x=!0,A=!0},DRAWER_SELECT_TAB:function(e){let{tab:t}=e;return P=t!==E.cII.FRIENDS,j(),!P},FRIENDS_SET_INITIAL_SECTION:function(e){Z=e.section,y=!0}})},897607:function(e,t,n){n(47120);var i=n(200651);n(192379);var r=n(392711),l=n.n(r),a=n(481060),o=n(463395),s=n(820486),c=n(131951),d=n(65154);let u=new Set(["DisplayPort"]),h=!1;function m(){let e;if(h)return;let t=c.Z.getInputDeviceId(),r=c.Z.getOutputDeviceId();if(s.Z.getState().neverShowModal||l().isEmpty(s.Z.lastDeviceConnected))return;let m=(0,s.X)(c.Z.getInputDevices()[t]),p=(0,s.X)(c.Z.getOutputDevices()[r]);if(l().some(s.Z.lastDeviceConnected,e=>u.has(e.displayName)||e.displayName===m||e.displayName===p))return;let g=l().some(s.Z.lastDeviceConnected,e=>o.Z.isCertified(s.Z.inputDevices[e.displayName])||o.Z.isCertified(s.Z.outputDevices[e.displayName]));if((t===d.w5&&s.Z.lastInputSystemDevice.justChanged||r===d.w5&&s.Z.lastOutputSystemDevice.justChanged)&&!g)return;let f=l().first(Object.keys(s.Z.lastDeviceConnected)),_=null!=f&&""!==f?s.Z.lastDeviceConnected[f]:null;null!=_&&(s.Z.initialized&&null!=f&&(o.Z.isCertified(s.Z.inputDevices[f])?e=o.Z.getCertifiedDevice(s.Z.inputDevices[f]):o.Z.isCertified(s.Z.outputDevices[f])&&(e=o.Z.getCertifiedDevice(s.Z.outputDevices[f]))),h=!0,(0,a.openModalLazy)(async()=>{let{default:t}=await n.e("83536").then(n.bind(n,43991));return n=>{let{transitionState:r,onClose:l}=n;return(0,i.jsx)(t,{device:_,certifiedDeviceMetadata:e,transitionState:r,onClose:()=>(h=!1,l())})}}))}t.Z={init(){s.Z.addChangeListener(m)}}},900974:function(e,t,n){var i=n(200651);n(192379);var r=n(481060),l=n(570140);let a=!1,o=null;t.Z={init(){l.Z.subscribe("CONNECTION_OPEN",e=>{let{pendingPayments:t}=e;if(null!=t&&t.length>0){var l;if(o===t[0]||null==(o=t[0]))return;l=o,a||(a=!0,(0,r.openModalLazy)(async()=>{let{default:e}=await n.e("7232").then(n.bind(n,645586));return t=>{let{transitionState:n,onClose:r}=t;return(0,i.jsx)(e,{pendingPayment:l,transitionState:n,onClose:()=>(a=!1,r())})}}))}})}}},863969:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(325767);function l(e){let{width:t=24,height:n=24,color:l="currentColor",foreground:a,...o}=e;return(0,i.jsx)("svg",{...(0,r.Z)(o),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:a,fill:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},563593:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(200651);n(192379);var r=n(886364),l=n(325767);function a(e){return"CloudDone-".concat(e)}function o(e){let{width:t=24,height:n=24,color:o="currentColor",foreground:s,gradientConfig:c,...d}=e,u=null;return null!=c&&(u=(0,i.jsx)(r.Z,{...c,color:o,id:a(c.id)})),(0,i.jsxs)("svg",{...(0,l.Z)(d),width:t,height:n,viewBox:"0 0 24 24",children:[(0,i.jsx)("defs",{children:u}),(0,i.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("path",{fill:null!=c?"url(#".concat(a(c.id),")"):o,className:s,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]})}},886364:function(e,t,n){var i=n(200651);n(192379);t.Z=e=>{let{id:t,startColor:n,stopColor:r,color:l,stop:a}=e;return(0,i.jsxs)("linearGradient",{id:t,children:[(0,i.jsx)("stop",{offset:"0",stopColor:n}),(0,i.jsx)("stop",{offset:a,stopColor:r}),(0,i.jsx)("stop",{offset:a,stopColor:l}),(0,i.jsx)("stop",{offset:"1",stopColor:l})]})}},662868:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(325767);function l(e){let{width:t=32,height:n=32,color:l="currentColor",...a}=e;return(0,i.jsx)("svg",{...(0,r.Z)(a),width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),fill:"none",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:l})})}},39377:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(325767);function l(e){let{width:t=24,height:n=24,color:l="currentColor",foreground:a,...o}=e;return(0,i.jsx)("svg",{...(0,r.Z)(o),width:t,height:n,viewBox:"0 0 24 24",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsx)("path",{className:a,fill:l,d:"M22 4v-.5C22 2.12 20.88 1 19.5 1S17 2.12 17 3.5V4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h5c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zm-.8 0h-3.4v-.5c0-.94.76-1.7 1.7-1.7s1.7.76 1.7 1.7V4zm-2.28 8c.04.33.08.66.08 1 0 2.08-.8 3.97-2.1 5.39-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H7v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2V3.46c-.95-.3-1.95-.46-3-.46C5.48 3 1 7.48 1 13s4.48 10 10 10 10-4.48 10-10c0-.34-.02-.67-.05-1h-2.03zM10 20.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 16v1c0 1.1.9 2 2 2v1.93z"}),(0,i.jsx)("rect",{width:"24",height:"24"})]})})}},820254:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(200651);n(192379);var r=n(325767);function l(e){let{width:t=14,height:n=14,color:l="currentColor",foreground:a,...o}=e;return(0,i.jsx)("svg",{...(0,r.Z)(o),width:t,height:n,viewBox:"0 0 14 14",children:(0,i.jsx)("path",{fill:l,className:a,d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})})}},205129:function(e,t,n){n.d(t,{y:function(){return l}});var i=n(603113),r=n(122810);function l(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(e=>{let{activity:t}=e;return(0,r.Z)(t)}),game_platform:e.currentActivities.length>0?(0,i.Z)(e.currentActivities[0].activity):null}}},63023:function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}}),n(653041);class r{_processQueue(){setTimeout(()=>{if(this._queue.length>0&&this._tokenCount>0){this._tokenCount--,null==this._intervalID&&(this._intervalID=setInterval(()=>this._iterate(),this._intervalPeriod));let e=this._queue.shift();null==e||e(),this._processQueue()}},0)}_iterate(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1),this._tokenCount>=this._capacity&&null!=this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null),this._processQueue()}process(){return new Promise(e=>{this._queue.push(e),this._processQueue()})}constructor(e,t){i(this,"_capacity",void 0),i(this,"_tokenCount",void 0),i(this,"_queue",void 0),i(this,"_intervalPeriod",void 0),i(this,"_intervalID",void 0),this._capacity=e,this._tokenCount=e,this._queue=[],this._intervalPeriod=t/e,this._intervalID=null}}},740111:function(e,t,n){n.d(t,{Wc:function(){return i},xY:function(){return E}}),n(47120),n(411104),n(653041);var i,r,l=n(230367),a=n(320215),o=n(240773),s=n(495852);(r=i||(i={}))[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.OPEN_MARKETING_PAGE=1]="OPEN_MARKETING_PAGE",r[r.OPEN_TIER_2_PAYMENT_MODAL=2]="OPEN_TIER_2_PAYMENT_MODAL";class c extends s.C{create(e){let t={header:"",pill:"",body:"",imageLink:"",imageLinkLightTheme:""};return globalThis.Object.defineProperty(t,o.C,{enumerable:!1,value:this}),void 0!==e&&(0,a.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.header=e.string();break;case 2:r.pill=e.string();break;case 3:r.body=e.string();break;case 4:r.imageLink=e.string();break;case 5:r.imageLinkLightTheme=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let o=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,o)}}return r}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,l.TD.LengthDelimited).string(e.header),""!==e.pill&&t.tag(2,l.TD.LengthDelimited).string(e.pill),""!==e.body&&t.tag(3,l.TD.LengthDelimited).string(e.body),""!==e.imageLink&&t.tag(4,l.TD.LengthDelimited).string(e.imageLink),""!==e.imageLinkLightTheme&&t.tag(5,l.TD.LengthDelimited).string(e.imageLinkLightTheme);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.FeatureCard",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"pill",kind:"scalar",T:9},{no:3,name:"body",kind:"scalar",T:9},{no:4,name:"image_link",kind:"scalar",T:9},{no:5,name:"image_link_light_theme",kind:"scalar",T:9}])}}let d=new c;class u extends s.C{create(e){let t={copy:"",buttonAction:0};return globalThis.Object.defineProperty(t,o.C,{enumerable:!1,value:this}),void 0!==e&&(0,a.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.copy=e.string();break;case 2:r.buttonAction=e.int32();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let o=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,o)}}return r}internalBinaryWrite(e,t,n){""!==e.copy&&t.tag(1,l.TD.LengthDelimited).string(e.copy),0!==e.buttonAction&&t.tag(2,l.TD.Varint).int32(e.buttonAction);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.SubscriptionButton",[{no:1,name:"copy",kind:"scalar",T:9},{no:2,name:"button_action",kind:"enum",T:()=>["discord_protos.premium_marketing.v1.ButtonAction",i,"BUTTON_ACTION_"]}])}}let h=new u;class m extends s.C{create(e){let t={heroArtLocalizedVideoLinksDarkTheme:{},heroArtLocalizedVideoLinksLightTheme:{},heroArtVideoSubtitleLinks:{}};return globalThis.Object.defineProperty(t,o.C,{enumerable:!1,value:this}),void 0!==e&&(0,a.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:this.binaryReadMap1(r.heroArtLocalizedVideoLinksDarkTheme,e,n);break;case 2:this.binaryReadMap2(r.heroArtLocalizedVideoLinksLightTheme,e,n);break;case 3:this.binaryReadMap3(r.heroArtVideoSubtitleLinks,e,n);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let o=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,o)}}return r}binaryReadMap1(e,t,n){let i=t.uint32(),r=t.pos+i,l,a;for(;t.pos<r;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_dark_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap2(e,t,n){let i=t.uint32(),r=t.pos+i,l,a;for(;t.pos<r;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_localized_video_links_light_theme")}}e[null!=l?l:""]=null!=a?a:""}binaryReadMap3(e,t,n){let i=t.uint32(),r=t.pos+i,l,a;for(;t.pos<r;){let[e,n]=t.tag();switch(e){case 1:l=t.string();break;case 2:a=t.string();break;default:throw new globalThis.Error("unknown map entry field for field discord_protos.premium_marketing.v1.Variant1Storage.hero_art_video_subtitle_links")}}e[null!=l?l:""]=null!=a?a:""}internalBinaryWrite(e,t,n){for(let n of Object.keys(e.heroArtLocalizedVideoLinksDarkTheme))t.tag(1,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksDarkTheme[n]).join();for(let n of Object.keys(e.heroArtLocalizedVideoLinksLightTheme))t.tag(2,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtLocalizedVideoLinksLightTheme[n]).join();for(let n of Object.keys(e.heroArtVideoSubtitleLinks))t.tag(3,l.TD.LengthDelimited).fork().tag(1,l.TD.LengthDelimited).string(n).tag(2,l.TD.LengthDelimited).string(e.heroArtVideoSubtitleLinks[n]).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Variant1Storage",[{no:1,name:"hero_art_localized_video_links_dark_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:2,name:"hero_art_localized_video_links_light_theme",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"hero_art_video_subtitle_links",kind:"map",K:9,V:{kind:"scalar",T:9}}])}}let p=new m;class g extends s.C{create(e){let t={link:"",locale:"",isDefault:!1};return globalThis.Object.defineProperty(t,o.C,{enumerable:!1,value:this}),void 0!==e&&(0,a.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.link=e.string();break;case 2:r.locale=e.string();break;case 3:r.isDefault=e.bool();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let o=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,o)}}return r}internalBinaryWrite(e,t,n){""!==e.link&&t.tag(1,l.TD.LengthDelimited).string(e.link),""!==e.locale&&t.tag(2,l.TD.LengthDelimited).string(e.locale),!1!==e.isDefault&&t.tag(3,l.TD.Varint).bool(e.isDefault);let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.Subtitle",[{no:1,name:"link",kind:"scalar",T:9},{no:2,name:"locale",kind:"scalar",T:9},{no:3,name:"is_default",kind:"scalar",T:8}])}}let f=new g;class _ extends s.C{create(e){let t={header:"",subheader:"",videoLink:"",helpArticleId:"",featureCards:[],dismissKey:"",heroArtVideoLinkLightTheme:"",heroArtImageLinkDarkTheme:"",heroArtImageLinkLightTheme:"",modalTopPill:"",body:"",heroArtVideoSubtitles:[]};return globalThis.Object.defineProperty(t,o.C,{enumerable:!1,value:this}),void 0!==e&&(0,a.l)(this,t,e),t}internalBinaryRead(e,t,n,i){let r=null!=i?i:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,i]=e.tag();switch(t){case 1:r.header=e.string();break;case 2:r.subheader=e.string();break;case 3:r.videoLink=e.string();break;case 4:r.helpArticleId=e.string();break;case 5:r.featureCards.push(d.internalBinaryRead(e,e.uint32(),n));break;case 6:r.button=h.internalBinaryRead(e,e.uint32(),n,r.button);break;case 7:r.dismissKey=e.string();break;case 8:r.heroArtVideoLinkLightTheme=e.string();break;case 9:r.heroArtImageLinkDarkTheme=e.string();break;case 10:r.heroArtImageLinkLightTheme=e.string();break;case 11:r.modalTopPill=e.string();break;case 12:r.body=e.string();break;case 13:r.heroArtVideoSubtitles.push(f.internalBinaryRead(e,e.uint32(),n));break;case 14:r.storage=p.internalBinaryRead(e,e.uint32(),n,r.storage);break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(i,") for ").concat(this.typeName));let o=e.skip(i);!1!==a&&(!0===a?l.z.onRead:a)(this.typeName,r,t,i,o)}}return r}internalBinaryWrite(e,t,n){""!==e.header&&t.tag(1,l.TD.LengthDelimited).string(e.header),""!==e.subheader&&t.tag(2,l.TD.LengthDelimited).string(e.subheader),""!==e.videoLink&&t.tag(3,l.TD.LengthDelimited).string(e.videoLink),""!==e.helpArticleId&&t.tag(4,l.TD.LengthDelimited).string(e.helpArticleId);for(let i=0;i<e.featureCards.length;i++)d.internalBinaryWrite(e.featureCards[i],t.tag(5,l.TD.LengthDelimited).fork(),n).join();e.button&&h.internalBinaryWrite(e.button,t.tag(6,l.TD.LengthDelimited).fork(),n).join(),""!==e.dismissKey&&t.tag(7,l.TD.LengthDelimited).string(e.dismissKey),""!==e.heroArtVideoLinkLightTheme&&t.tag(8,l.TD.LengthDelimited).string(e.heroArtVideoLinkLightTheme),""!==e.heroArtImageLinkDarkTheme&&t.tag(9,l.TD.LengthDelimited).string(e.heroArtImageLinkDarkTheme),""!==e.heroArtImageLinkLightTheme&&t.tag(10,l.TD.LengthDelimited).string(e.heroArtImageLinkLightTheme),""!==e.modalTopPill&&t.tag(11,l.TD.LengthDelimited).string(e.modalTopPill),""!==e.body&&t.tag(12,l.TD.LengthDelimited).string(e.body);for(let i=0;i<e.heroArtVideoSubtitles.length;i++)f.internalBinaryWrite(e.heroArtVideoSubtitles[i],t.tag(13,l.TD.LengthDelimited).fork(),n).join();e.storage&&p.internalBinaryWrite(e.storage,t.tag(14,l.TD.LengthDelimited).fork(),n).join();let i=n.writeUnknownFields;return!1!==i&&(!0==i?l.z.onWrite:i)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.AnnouncementModalVariant1Properties",[{no:1,name:"header",kind:"scalar",T:9},{no:2,name:"subheader",kind:"scalar",T:9},{no:3,name:"video_link",kind:"scalar",T:9},{no:4,name:"help_article_id",kind:"scalar",T:9},{no:5,name:"feature_cards",kind:"message",repeat:1,T:()=>d},{no:6,name:"button",kind:"message",T:()=>h},{no:7,name:"dismiss_key",kind:"scalar",T:9},{no:8,name:"hero_art_video_link_light_theme",kind:"scalar",T:9},{no:9,name:"hero_art_image_link_dark_theme",kind:"scalar",T:9},{no:10,name:"hero_art_image_link_light_theme",kind:"scalar",T:9},{no:11,name:"modal_top_pill",kind:"scalar",T:9},{no:12,name:"body",kind:"scalar",T:9},{no:13,name:"hero_art_video_subtitles",kind:"message",repeat:1,T:()=>f},{no:14,name:"storage",kind:"message",T:()=>p}])}}let E=new _},8853:function(e,t,n){n.d(t,{t:function(){return c}}),n(47120),n(411104);var i=n(230367),r=n(320215),l=n(240773),a=n(495852),o=n(740111);class s extends a.C{create(e){let t={properties:{oneofKind:void 0},contentIdentifier:""};return globalThis.Object.defineProperty(t,l.C,{enumerable:!1,value:this}),void 0!==e&&(0,r.l)(this,t,e),t}internalBinaryRead(e,t,n,r){let l=null!=r?r:this.create(),a=e.pos+t;for(;e.pos<a;){let[t,r]=e.tag();switch(t){case 1:l.properties={oneofKind:"placeholder",placeholder:e.string()};break;case 2:l.properties={oneofKind:"announcementModalVariant1",announcementModalVariant1:o.xY.internalBinaryRead(e,e.uint32(),n,l.properties.announcementModalVariant1)};break;case 3:l.contentIdentifier=e.string();break;default:let a=n.readUnknownField;if("throw"===a)throw new globalThis.Error("Unknown field ".concat(t," (wire type ").concat(r,") for ").concat(this.typeName));let s=e.skip(r);!1!==a&&(!0===a?i.z.onRead:a)(this.typeName,l,t,r,s)}}return l}internalBinaryWrite(e,t,n){"placeholder"===e.properties.oneofKind&&t.tag(1,i.TD.LengthDelimited).string(e.properties.placeholder),"announcementModalVariant1"===e.properties.oneofKind&&o.xY.internalBinaryWrite(e.properties.announcementModalVariant1,t.tag(2,i.TD.LengthDelimited).fork(),n).join(),""!==e.contentIdentifier&&t.tag(3,i.TD.LengthDelimited).string(e.contentIdentifier);let r=n.writeUnknownFields;return!1!==r&&(!0==r?i.z.onWrite:r)(this.typeName,e,t),t}constructor(){super("discord_protos.premium_marketing.v1.PremiumMarketingComponentProperties",[{no:1,name:"placeholder",kind:"scalar",oneof:"properties",T:9},{no:2,name:"announcement_modal_variant_1",kind:"message",oneof:"properties",T:()=>o.xY},{no:3,name:"content_identifier",kind:"scalar",T:9}])}}let c=new s},137006:function(e,t,n){n.d(t,{m:function(){return l}}),n(47120);var i=n(243814),r=n(103964);let l={[r.Q5.INITIATE_IMAGE_UPLOAD]:{request:void 0,response:e=>e.object({image_url:e.string().required()})},[r.Q5.OPEN_SHARE_MOMENT_DIALOG]:{response:void 0,request:e=>(0,r.C5)(e.object({mediaUrl:e.string().required().max(1024)}))},[r.Q5.AUTHENTICATE]:{request:e=>(0,r.C5)(e.object({access_token:e.string().allow(null).optional()})),response:e=>e.object({access_token:e.string().required(),user:e.object({username:e.string().required(),discriminator:e.string().required(),id:e.string().required(),avatar:e.string().allow(null),public_flags:e.number().required(),global_name:e.string().allow(null)}).required(),scopes:e.array().items(e.string().valid(...(0,r.no)(i.x))).required(),expires:e.string().required(),application:e.object({description:e.string().required(),icon:e.string().allow(null),id:e.string().required(),rpc_origins:e.array().items(e.string()).optional(),name:e.string().required()}).required()})},[r.Q5.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:void 0,response:e=>e.object({participants:e.array().items(a(e).keys({nickname:e.string().description("Server nickname. Not unique.")}).required()).required()}).required()},[r.Q5.SHARE_INTERACTION]:{request:e=>(0,r.C5)(e.object({command:e.string().required(),content:e.string().max(2e3),preview_image:e.object({height:e.number().required(),url:e.string().required(),width:e.number().required()}),components:e.array().items(o(e))})),response:void 0}},a=e=>e.object({id:e.string().required().description("User ID"),username:e.string().required(),global_name:e.string().allow(null).description("Global Discord name. Not unique."),discriminator:e.string().required().description("Global name discriminator. Will be 0 if a unique username"),avatar:e.string().allow(null).description("User Avatar ID"),flags:e.number().required().description("Public user flags"),bot:e.bool().required().description("If a bot user."),avatar_decoration_data:e.object({asset:e.string().required(),skuId:e.string()}).allow(null).description("Details about avatar decoration"),premium_type:e.number().allow(null).description("Nitro premium type")}).description("Discord User"),o=e=>e.object({type:e.number().valid(1).required(),components:e.array().max(5).items(s(e))}),s=e=>e.object({type:e.number().valid(2).required(),style:e.number().min(1).max(5).required(),label:e.string().max(80).description("Text that appears on the button"),custom_id:e.string().max(100).description("Developer-defined identifier for the button; max 100 characters")})},103964:function(e,t,n){n.d(t,{C5:function(){return r},Q5:function(){return i.Et},no:function(){return l}});var i=n(231338);function r(e){return e.required().unknown(!0)}function l(e){return Object.values(e)}},45792:function(e,t,n){n.d(t,{S:function(){return r}});var i=n(137006);function r(e,t){var n;let{scope:r,handler:l}=t,a={scope:r,handler:l},o=null===(n=i.m[e])||void 0===n?void 0:n.request,s=null;return null!=o&&(a.validation=function(e){return null==s&&(s=o(e)),s}),a}},873199:function(e,t,n){var i,r;n.d(t,{o:function(){return i}}),n(47120),(r=i||(i={}))[r.LIST=1]="LIST",r[r.LIST_WITH_IMAGE=2]="LIST_WITH_IMAGE",r[r.GALLERY=3]="GALLERY",r[r.EXPANDABLE_LIST=4]="EXPANDABLE_LIST",r[r.BANNER_CARDS=5]="BANNER_CARDS",r[r.SMALL_BANNER_CARDS=6]="SMALL_BANNER_CARDS"},333483:function(e,t,n){e.exports={addFriendInputWrapper:"addFriendInputWrapper_de812f",error:"error_de812f",success:"success_de812f",addFriendInput:"addFriendInput_de812f inputText_de812f",input:"input_de812f inputText_de812f",addFriendHint:"addFriendHint_de812f inputText_de812f",ring:"ring_de812f"}},415281:function(e,t,n){e.exports={container:"container_a4d4d9",guilds:"guilds_a4d4d9",base:"base_a4d4d9",sidebar:"sidebar_a4d4d9",hidden:"hidden_a4d4d9",hasNotice:"hasNotice_a4d4d9",fullWidth:"fullWidth_a4d4d9",panels:"panels_a4d4d9",content:"content_a4d4d9",activityPanel:"activityPanel_a4d4d9",loader:"loader_a4d4d9",sidebarResizeHandle:"sidebarResizeHandle_a4d4d9",sidebarList:"sidebarList_a4d4d9",page:"page_a4d4d9",sidebarListRounded:"sidebarListRounded_a4d4d9",dragging:"dragging_a4d4d9",draggingMin:"draggingMin_a4d4d9",draggingMax:"draggingMax_a4d4d9",collapsing:"collapsing_a4d4d9"}},820076:function(e,t,n){e.exports={devBanner:"devBanner_f32cbd",local:"local_f32cbd",staging:"staging_f32cbd",buildOverride:"buildOverride_f32cbd",icon:"icon_f32cbd",closeButton:"closeButton_f32cbd",closeIcon:"closeIcon_f32cbd"}},95648:function(e,t,n){e.exports={list:"list_a06168",container:"container_a06168",header:"header_a06168",permission:"permission_a06168",check:"check_a06168",cross:"cross_a06168"}},305482:function(e,t,n){e.exports={downloadProgressCircle:"downloadProgressCircle_f0963d",hideGameUpdateProgressIndicator:"hideGameUpdateProgressIndicator_f0963d",privateChannels:"privateChannels_f0963d",sectionDivider:"sectionDivider_f0963d",searchBar:"searchBar_f0963d",searchBarComponent:"searchBarComponent_f0963d",familyCenterLinkButton:"familyCenterLinkButton_f0963d",familyCenterPendingBadge:"familyCenterPendingBadge_f0963d",friendsButtonContainer:"friendsButtonContainer_f0963d",friendsBadge:"friendsBadge_f0963d",confetti:"confetti_f0963d",themedHeaderMobile:"themedHeaderMobile_f0963d",themedSearchBarMobile:"themedSearchBarMobile_f0963d"}},594193:function(e,t,n){e.exports={container:"container_f9c402",guildBadge:"guildBadge_f9c402",appIcon:"appIcon_f9c402",appIconSize:"appIconSize_f9c402",avatar:"avatar_f9c402",guildIcon:"guildIcon_f9c402",compactAvatar:"compactAvatar_f9c402",inviteResolvingGuildName:"inviteResolvingGuildName_f9c402",title:"title_f9c402",directInviteSubTitle:"directInviteSubTitle_f9c402",activityCount:"activityCount_f9c402",guildContainer:"guildContainer_f9c402",appIn:"appIn_f9c402",appGuildName:"appGuildName_f9c402",icon:"icon_f9c402"}},396587:function(e,t,n){e.exports={item:"item_b60f40",currentItem:"currentItem_b60f40",itemImage:"itemImage_b60f40",currentImage:"currentImage_b60f40 itemImage_b60f40",itemImageWrapper:"itemImageWrapper_b60f40",paginationItem:"paginationItem_b60f40",storePaginationImg:"storePaginationImg_b60f40",selectedStorePaginationItem:"selectedStorePaginationItem_b60f40",unselectedStorePaginationItem:"unselectedStorePaginationItem_b60f40",overlappingBorder:"overlappingBorder_b60f40",paginationVideoOverlay:"paginationVideoOverlay_b60f40",paginationVideoPlayPill:"paginationVideoPlayPill_b60f40",pagination:"pagination_b60f40",carouselButtonsContainer:"carouselButtonsContainer_b60f40",arrow:"arrow_b60f40",arrowHovered:"arrowHovered_b60f40",scroller:"scroller_b60f40",video:"video_b60f40",videoWrapper:"videoWrapper_b60f40",mediaPlayer:"mediaPlayer_b60f40"}},707337:function(e,t,n){e.exports={wrapper:"wrapper_b6f1f8",slide:"slide_b6f1f8",navPrev:"navPrev_b6f1f8 nav_b6f1f8",navNext:"navNext_b6f1f8 nav_b6f1f8"}},56208:function(e,t,n){e.exports={divider:"divider_b8ab18"}},860536:function(e,t,n){e.exports={libraryFilter:"libraryFilter_e0264e",focused:"focused_e0264e",searchBar:"searchBar_e0264e"}},144402:function(e,t,n){e.exports={libraryHeader:"libraryHeader_cb9493"}},833863:function(e,t,n){e.exports={container:"container_a94980"}},762353:function(e,t,n){e.exports={wrapper:"wrapper_d037ef",installationPath:"installationPath_d037ef",installationPathEditing:"installationPathEditing_d037ef",separator:"separator_d037ef",defaultIndicator:"defaultIndicator_d037ef",rowBody:"rowBody_d037ef",buttonRowWrapper:"buttonRowWrapper_d037ef",defaultLocationCheckbox:"defaultLocationCheckbox_d037ef",rowTitle:"rowTitle_d037ef"}},277900:function(e,t,n){e.exports={container:"container_ad8f79",scroller:"scroller_ad8f79"}},330580:function(e,t,n){e.exports={scroller:"scroller_c100ff",body:"body_c100ff",hiddenLibraryApplications:"hiddenLibraryApplications_c100ff",hiddenLibraryApplicationContent:"hiddenLibraryApplicationContent_c100ff",hiddenLibraryApplicationsTitle:"hiddenLibraryApplicationsTitle_c100ff",hiddenLibraryApplication:"hiddenLibraryApplication_c100ff "+n("684309").card,restoreButton:"restoreButton_c100ff",restoreIcon:"restoreIcon_c100ff",applicationName:"applicationName_c100ff",applicationSubText:"applicationSubText_c100ff"}},399210:function(e,t,n){e.exports={table:"table_f1629a",header:"header_f1629a",nameCell:"nameCell_f1629a",nameCellText:"nameCellText_f1629a",nitroIcon:"nitroIcon_f1629a icon_f1629a",platformCell:"platformCell_f1629a",lastPlayedCell:"lastPlayedCell_f1629a",actionsCell:"actionsCell_f1629a",stickyHeader:"stickyHeader_f1629a header_f1629a",headerCell:"headerCell_f1629a",headerCellSorted:"headerCellSorted_f1629a",rowWrapper:"rowWrapper_f1629a",row:"row_f1629a",rowWrapperActive:"rowWrapperActive_f1629a rowWrapper_f1629a",rowWrapperGlow:"rowWrapperGlow_f1629a rowWrapper_f1629a",bodyCell:"bodyCell_f1629a",textCell:"textCell_f1629a",nameBodyCell:"nameBodyCell_f1629a",nameCellInfo:"nameCellInfo_f1629a",lastPlayedCellNew:"lastPlayedCellNew_f1629a",gameIcon:"gameIcon_f1629a",actionButtonSize:"actionButtonSize_f1629a",hidden:"hidden_f1629a",settingIcons:"settingIcons_f1629a",settingIcon:"settingIcon_f1629a icon_f1629a",emptyStateText:"emptyStateText_f1629a",emptyStateHeader:"emptyStateHeader_f1629a",emptyStateDescription:"emptyStateDescription_f1629a",emptyWumpus:"emptyWumpus_f1629a",emptyStateLarge:"emptyStateLarge_f1629a emptyState_f1629a",emptyStateSmall:"emptyStateSmall_f1629a emptyState_f1629a",rowWrapperDim:"rowWrapperDim_f1629a"}},717242:function(e,t,n){e.exports={monitor:"monitor_bf664b",overflowContainer:"overflowContainer_bf664b",text:"text_bf664b",title:"title_bf664b",rate:"rate_bf664b",sparkChart:"sparkChart_bf664b"}},96852:function(e,t,n){e.exports={table:"table_f1035a",gameUpdates:"gameUpdates_f1035a",headerRow:"headerRow_f1035a",headerCell:"headerCell_f1035a",diskProgress:"diskProgress_f1035a",networkProgress:"networkProgress_f1035a",row:"row_f1035a",cell:"cell_f1035a",nameCell:"nameCell_f1035a",progressCell:"progressCell_f1035a",actionsCell:"actionsCell_f1035a",nameCellText:"nameCellText_f1035a",progressCellHeader:"progressCellHeader_f1035a",progressCellBody:"progressCellBody_f1035a",progressCellText:"progressCellText_f1035a",actionButton:"actionButton_f1035a",actionButtonContents:"actionButtonContents_f1035a",gameActionButton:"gameActionButton_f1035a",actionIcon:"actionIcon_f1035a"}},454072:function(e,t,n){e.exports={content:"content_ecfdf4",rating:"rating_ecfdf4"}},797844:function(e,t,n){e.exports={collapsed:"collapsed_e2ea95",blurb:"blurb_e2ea95",description:"description_e2ea95",toggleCollapseButton:"toggleCollapseButton_e2ea95",assetWrapper:"assetWrapper_e2ea95",asset:"asset_e2ea95"}},270690:function(e,t,n){e.exports={features:"features_b4ece4",row:"row_b4ece4",featureIcon:"featureIcon_b4ece4",checkmarkIcon:"checkmarkIcon_b4ece4",featureText:"featureText_b4ece4"}},238939:function(e,t,n){e.exports={content:"content_be5438"}},563364:function(e,t,n){e.exports={recommendationActivity:"recommendationActivity_a94968",players:"players_a94968",playerAvatar:"playerAvatar_a94968",avatarMasked:"avatarMasked_a94968",playerOverflow:"playerOverflow_a94968",description:"description_a94968",username:"username_a94968",tooltip:"tooltip_a94968",tooltipTimestamp:"tooltipTimestamp_a94968"}},99238:function(e,t,n){e.exports={header:"header_d11817",staffReviewHeader:"staffReviewHeader_d11817",headerText:"headerText_d11817",label:"label_d11817",username:"username_d11817",notes:"notes_d11817"}},32304:function(e,t,n){e.exports={applicationStore:"applicationStore_cecc86",marketingHeader:"marketingHeader_cecc86",marketingFooter:"marketingFooter_cecc86"}},707858:function(e,t,n){e.exports={headerBar:"headerBar_d175a8",spinner:"spinner_d175a8",homeWrapperNormal:"homeWrapperNormal_d175a8 homeWrapper_d175a8",headerBarV2LightBackground:"headerBarV2LightBackground_d175a8",headerBarV2DarkBackground:"headerBarV2DarkBackground_d175a8"}},358636:function(e,t,n){e.exports={listingWrapper:"listingWrapper_d6180d",noHeaderSpacer:"noHeaderSpacer_d6180d",headerAssets:"headerAssets_d6180d",headerBackground:"headerBackground_d6180d",headerLogo:"headerLogo_d6180d",link:"link_d6180d",linkIcon:"linkIcon_d6180d",spinner:"spinner_d6180d",listing:"listing_d6180d",gatedListing:"gatedListing_d6180d",description:"description_d6180d",whyYouMightLikeIt:"whyYouMightLikeIt_d6180d",guildInvite:"guildInvite_d6180d",contentRating:"contentRating_d6180d",legalInfo:"legalInfo_d6180d",systemRequirements:"systemRequirements_d6180d",headerBarListing:"headerBarListing_d6180d",headerSection:"headerSection_d6180d",headerPurchase:"headerPurchase_d6180d",active:"active_d6180d",testModeSelectButton:"testModeSelectButton_d6180d",listingLarge:"listingLarge_d6180d",body:"body_d6180d",leftColumn:"leftColumn_d6180d",rightColumn:"rightColumn_d6180d",listingSmall:"listingSmall_d6180d",purchaseError:"purchaseError_d6180d"}},55144:function(e,t,n){e.exports={matureListing:"matureListing_f610a5"}},846523:function(e,t,n){e.exports={root:"root_aef182",header:"header_aef182",section:"section_aef182",sectionContent:"sectionContent_aef182",unit:"unit_aef182",review:"review_aef182"}},95702:function(e,t,n){e.exports={breadcrumb:"breadcrumb_dacdd0"}},16655:function(e,t,n){e.exports={smallCarousel:"smallCarousel_b0360e",smallCarouselItem:"smallCarouselItem_b0360e",smallCarouselImage:"smallCarouselImage_b0360e",embedContainer:"embedContainer_b0360e",hidden:"hidden_b0360e",spinner:"spinner_b0360e",errorContainer:"errorContainer_b0360e",sizedToParent:"sizedToParent_b0360e"}},803157:function(e,t,n){e.exports={tabs:"tabs_f566d4",separator:"separator_f566d4",tabPageLarge:"tabPageLarge_f566d4 tab_f566d4",tabPageSmall:"tabPageSmall_f566d4 tab_f566d4",tabNotSelected:"tabNotSelected_f566d4",requirementsContainer:"requirementsContainer_f566d4",requirements:"requirements_f566d4",requirement:"requirement_f566d4",requirementKey:"requirementKey_f566d4",tabSelected:"tabSelected_f566d4",tabNotSelectedColor:"tabNotSelectedColor_f566d4",tabSelectedColor:"tabSelectedColor_f566d4"}},106269:function(e,t,n){e.exports={inviteSmall:"inviteSmall_b118d9",content:"content_b118d9",info:"info_b118d9",inviteLarge:"inviteLarge_b118d9",guildIcon:"guildIcon_b118d9",infoText:"infoText_b118d9",name:"name_b118d9",memberInfo:"memberInfo_b118d9",dotOnline:"dotOnline_b118d9 dot_b118d9",dotOffline:"dotOffline_b118d9 dot_b118d9",memberText:"memberText_b118d9",actionButton:"actionButton_b118d9",joinedCheckmark:"joinedCheckmark_b118d9",buttonColorInGuild:"buttonColorInGuild_b118d9"}},484010:function(e,t,n){e.exports={userList:"userList_bdebc8",header:"header_bdebc8",content:"content_bdebc8",user:"user_bdebc8",discriminator:"discriminator_bdebc8",tag:"tag_bdebc8",avatar:"avatar_bdebc8",username:"username_bdebc8"}},939661:function(e,t,n){e.exports={container:"container_ed5743",contentWrapper:"contentWrapper_ed5743",scroller:"scroller_ed5743",noThanksButton:"noThanksButton_ed5743",stage:"stage_ed5743",inviteContent:"inviteContent_ed5743",inviteSplash:"inviteSplash_ed5743",buttonGroup:"buttonGroup_ed5743",experimentUpsellError:"experimentUpsellError_ed5743",experimentUpsellIcon:"experimentUpsellIcon_ed5743",experimentUpsellText:"experimentUpsellText_ed5743",experimentGetNitro:"experimentGetNitro_ed5743",errorContent:"errorContent_ed5743",errorImage:"errorImage_ed5743",errorBody:"errorBody_ed5743",iconContainer:"iconContainer_ed5743",iconSparklePlus:"iconSparklePlus_ed5743",iconLink:"iconLink_ed5743",iconSparkleStar:"iconSparkleStar_ed5743"}},920008:function(e,t,n){e.exports={root:"root_e4b6b5",footer:"footer_e4b6b5",content:"content_e4b6b5",closeButton:"closeButton_e4b6b5"}},529500:function(e,t,n){e.exports={container:"container_bb9f30",title:"title_bb9f30",subtitle:"subtitle_bb9f30",img:"img_bb9f30"}},675335:function(e,t,n){e.exports={container:"container_ab06ed",title:"title_ab06ed",subtitle:"subtitle_ab06ed",img:"img_ab06ed"}},749880:function(e,t,n){e.exports={image:"image_d42055",loaded:"loaded_d42055"}},484759:function(e,t,n){e.exports={wrapper:"wrapper_b3d866",icons:"icons_b3d866",iconMask:"iconMask_b3d866",icon:"icon_b3d866",iconSmall:"iconSmall_b3d866",iconLarge:"iconLarge_b3d866",moreGuilds:"moreGuilds_b3d866",moreGuildsSmall:"moreGuildsSmall_b3d866",moreGuildsLarge:"moreGuildsLarge_b3d866",defaultIcon:"defaultIcon_b3d866"}},496008:function(e,t,n){e.exports={container:"container_da6719",spinnerContainer:"spinnerContainer_da6719",spinner:"spinner_da6719",loading:"loading_da6719"}},892528:function(e,t,n){e.exports={card:"card_b5d566",cardHeader:"cardHeader_b5d566",splashImage:"splashImage_b5d566",guildIcon:"guildIcon_b5d566",iconMask:"iconMask_b5d566",cardDetails:"cardDetails_b5d566",guildNameWrapper:"guildNameWrapper_b5d566",guildBadge:"guildBadge_b5d566",guildName:"guildName_b5d566",guildDescription:"guildDescription_b5d566",memberInfo:"memberInfo_b5d566",memberCountWrapper:"memberCountWrapper_b5d566",memberCountIcon:"memberCountIcon_b5d566"}},941221:function(e,t,n){e.exports={wrapper:"wrapper_bfa0f5",productsContainer:"productsContainer_bfa0f5",productSection:"productSection_bfa0f5",subscriptionCardSubtext:"subscriptionCardSubtext_bfa0f5"}},755522:function(e,t,n){e.exports={heading:"heading_fcab0f"}},914333:function(e,t,n){e.exports={headerContainer:"headerContainer_e5a9ed",textContainer:"textContainer_e5a9ed",container:"container_e5a9ed",iconCard:"iconCard_e5a9ed",tooltipContent:"tooltipContent_e5a9ed",iconContainer:"iconContainer_e5a9ed",itemContainer:"itemContainer_e5a9ed",clickable:"clickable_e5a9ed",disabledClickable:"disabledClickable_e5a9ed",spinner:"spinner_e5a9ed",spinnerInnerRunning:"spinnerInnerRunning_e5a9ed"}},817623:function(e,t,n){e.exports={logo:"logo_c59dbe"}},503645:function(e,t,n){e.exports={canvas:"canvas_f26d08",fallbackImage:"fallbackImage_f26d08",visible:"visible_f26d08",embedded:"embedded_f26d08"}},407530:function(e,t,n){e.exports={wrapper:"wrapper_bb3b80 "+n("763971").scrollbarGhost,rightSplit:"rightSplit_bb3b80",embedded:"embedded_bb3b80",leftSplit:"leftSplit_bb3b80",nonEmbeddedLeftSplit:"nonEmbeddedLeftSplit_bb3b80",mobileWave:"mobileWave_bb3b80",logo:"logo_bb3b80"}},837199:function(e,t,n){e.exports={chat:"chat_d6c7e0"}},215191:function(e,t,n){e.exports={hamBanner:"hamBanner_d1cafc",hamBannerButton:"hamBannerButton_d1cafc"}},913208:function(e,t,n){e.exports={container:"container_a7d4dd",upsell:"upsell_a7d4dd",hidden:"hidden_a7d4dd"}},173549:function(e,t,n){e.exports={container:"container_ff2ab3",close:"close_ff2ab3",closeIcon:"closeIcon_ff2ab3",imageContainer:"imageContainer_ff2ab3",image:"image_ff2ab3",message:"message_ff2ab3",title:"title_ff2ab3",live:"live_ff2ab3",center:"center_ff2ab3",noImageTitle:"noImageTitle_ff2ab3",button:"button_ff2ab3",header:"header_ff2ab3",participants:"participants_ff2ab3",pill:"pill_ff2ab3",pillIcon:"pillIcon_ff2ab3",pillLabel:"pillLabel_ff2ab3",locationContainer:"locationContainer_ff2ab3",location:"location_ff2ab3",locationIcon:"locationIcon_ff2ab3",avatar:"avatar_ff2ab3"}},3030:function(e,t,n){e.exports={channelNotice:"channelNotice_f013f3",close:"close_f013f3",closeIcon:"closeIcon_f013f3",title:"title_f013f3",message:"message_f013f3",btn:"btn_f013f3",imageContainer:"imageContainer_f013f3",image:"image_f013f3"}},224239:function(e,t,n){e.exports={app:"app_a01fb1",layers:"layers_a01fb1"}},294981:function(e,t,n){e.exports={layers:"layers_d4b6c5",layer:"layer_d4b6c5",animating:"animating_d4b6c5",bg:"bg_d4b6c5",baseLayer:"baseLayer_d4b6c5"}},690924:function(e,t,n){e.exports={container:"container_ff9ac4",containerEnabled:"containerEnabled_ff9ac4",buttonClose:"buttonClose_ff9ac4",buttonCTA:"buttonCTA_ff9ac4",dismissIcon:"dismissIcon_ff9ac4",errorWarningIcon:"errorWarningIcon_ff9ac4",keyCombo:"keyCombo_ff9ac4"}},760312:function(e,t,n){e.exports={container:"container_f20c2c",pointer:"pointer_f20c2c"}},335907:function(e,t,n){n.r(e.exports={"heading-sm/normal":"heading-sm/normal_a25714",fontScaling:"fontScaling_a25714","heading-sm/medium":"heading-sm/medium_a25714","heading-sm/semibold":"heading-sm/semibold_a25714","heading-sm/bold":"heading-sm/bold_a25714","heading-sm/extrabold":"heading-sm/extrabold_a25714","heading-md/normal":"heading-md/normal_a25714","heading-md/medium":"heading-md/medium_a25714","heading-md/semibold":"heading-md/semibold_a25714","heading-md/bold":"heading-md/bold_a25714","heading-md/extrabold":"heading-md/extrabold_a25714","heading-lg/normal":"heading-lg/normal_a25714","heading-lg/medium":"heading-lg/medium_a25714","heading-lg/semibold":"heading-lg/semibold_a25714","heading-lg/bold":"heading-lg/bold_a25714","heading-lg/extrabold":"heading-lg/extrabold_a25714","heading-xl/normal":"heading-xl/normal_a25714","heading-xl/medium":"heading-xl/medium_a25714","heading-xl/semibold":"heading-xl/semibold_a25714","heading-xl/bold":"heading-xl/bold_a25714","heading-xl/extrabold":"heading-xl/extrabold_a25714","heading-xxl/normal":"heading-xxl/normal_a25714","heading-xxl/medium":"heading-xxl/medium_a25714","heading-xxl/semibold":"heading-xxl/semibold_a25714","heading-xxl/bold":"heading-xxl/bold_a25714","heading-xxl/extrabold":"heading-xxl/extrabold_a25714",eyebrow:"eyebrow_a25714","heading-deprecated-12/normal":"heading-deprecated-12/normal_a25714","heading-deprecated-12/medium":"heading-deprecated-12/medium_a25714","heading-deprecated-12/semibold":"heading-deprecated-12/semibold_a25714","heading-deprecated-12/bold":"heading-deprecated-12/bold_a25714","heading-deprecated-12/extrabold":"heading-deprecated-12/extrabold_a25714","redesign/heading-18/bold":"redesign/heading-18/bold_a25714","text-xxs/normal":"text-xxs/normal_a25714","text-xxs/medium":"text-xxs/medium_a25714","text-xxs/semibold":"text-xxs/semibold_a25714","text-xxs/bold":"text-xxs/bold_a25714","text-xs/normal":"text-xs/normal_a25714","text-xs/medium":"text-xs/medium_a25714","text-xs/semibold":"text-xs/semibold_a25714","text-xs/bold":"text-xs/bold_a25714","text-sm/normal":"text-sm/normal_a25714","text-sm/medium":"text-sm/medium_a25714","text-sm/semibold":"text-sm/semibold_a25714","text-sm/bold":"text-sm/bold_a25714","text-md/normal":"text-md/normal_a25714","text-md/medium":"text-md/medium_a25714","text-md/semibold":"text-md/semibold_a25714","text-md/bold":"text-md/bold_a25714","text-lg/normal":"text-lg/normal_a25714","text-lg/medium":"text-lg/medium_a25714","text-lg/semibold":"text-lg/semibold_a25714","text-lg/bold":"text-lg/bold_a25714","redesign/message-preview/normal":"redesign/message-preview/normal_a25714","redesign/message-preview/medium":"redesign/message-preview/medium_a25714","redesign/message-preview/semibold":"redesign/message-preview/semibold_a25714","redesign/message-preview/bold":"redesign/message-preview/bold_a25714","redesign/channel-title/normal":"redesign/channel-title/normal_a25714","redesign/channel-title/medium":"redesign/channel-title/medium_a25714","redesign/channel-title/semibold":"redesign/channel-title/semibold_a25714","redesign/channel-title/bold":"redesign/channel-title/bold_a25714","display-sm":"display-sm_a25714","display-md":"display-md_a25714","display-lg":"display-lg_a25714",code:"code_a25714",marketingBadgeTooltip:"marketingBadgeTooltip_a25714",marketingBadgeTooltipContent:"marketingBadgeTooltipContent_a25714",shopMarketingTooltipContent:"shopMarketingTooltipContent_a25714",shopMarketingTooltipText:"shopMarketingTooltipText_a25714",avatarContainer:"avatarContainer_a25714",avatar:"avatar_a25714",newBadge:"newBadge_a25714 eyebrow_a25714",marketingButtonBackground:"marketingButtonBackground_a25714",marketingButtonBackgroundImage:"marketingButtonBackgroundImage_a25714",marketingButtonImage:"marketingButtonImage_a25714",marketingButtonImageHovered:"marketingButtonImageHovered_a25714",tideButton:"tideButton_a25714"})},698948:function(e,t,n){e.exports={modal:"modal_b8f561",container:"container_b8f561",headerIcon:"headerIcon_b8f561",modalCloseButton:"modalCloseButton_b8f561",verifiedRoles:"verifiedRoles_b8f561",verifiedRole:"verifiedRole_b8f561",verifiedRoleNameDescriptionContainer:"verifiedRoleNameDescriptionContainer_b8f561",verifiedRoleName:"verifiedRoleName_b8f561",verifiedRoleDescription:"verifiedRoleDescription_b8f561",verifiedRoleHasRole:"verifiedRoleHasRole_b8f561",roleCheckmark:"roleCheckmark_b8f561",botAvatar:"botAvatar_b8f561"}},368043:function(e,t,n){e.exports={contentRating:"contentRating_c9032a",esrbEveryone:"esrbEveryone_c9032a esrb_c9032a",esrbEveryoneTenPlus:"esrbEveryoneTenPlus_c9032a esrb_c9032a",esrbTeen:"esrbTeen_c9032a esrb_c9032a",esrbMature:"esrbMature_c9032a esrb_c9032a",esrbAdult:"esrbAdult_c9032a esrb_c9032a",esrbRatingPending:"esrbRatingPending_c9032a",pegiThree:"pegiThree_c9032a pegi_c9032a",pegiSeven:"pegiSeven_c9032a pegi_c9032a",pegiTwelve:"pegiTwelve_c9032a pegi_c9032a",pegiSixteen:"pegiSixteen_c9032a pegi_c9032a",pegiEighteen:"pegiEighteen_c9032a pegi_c9032a"}},553512:function(e,t,n){e.exports={guild:"guild_cee378",guildIcon:"guildIcon_cee378",icon:"icon_cee378",button:"button_cee378"}},261535:function(e,t,n){e.exports={outer:"outer_b15852",inner:"inner_b15852"}},38179:function(e,t,n){e.exports={spinner:"spinner_e40c16",container:"container_e40c16 "+n("250739").fixClipping,text:"text_e40c16",ready:"ready_e40c16",content:"content_e40c16",problems:"problems_e40c16",slideIn:"slideIn_e40c16",problemsText:"problemsText_e40c16",twitterLink:"twitterLink_e40c16 links_e40c16",statusLink:"statusLink_e40c16 links_e40c16",icon:"icon_e40c16",tipTitle:"tipTitle_e40c16",tip:"tip_e40c16",keybind:"keybind_e40c16",body:"body_e40c16 contentBase_e40c16",title:"title_e40c16 contentBase_e40c16"}},565923:function(e,t,n){e.exports={bar:"bar_a5e357",title:"title_a5e357",leading:"leading_a5e357",trailing:"trailing_a5e357",winButtons:"winButtons_a5e357",winButtonsWithDivider:"winButtonsWithDivider_a5e357",winButton:"winButton_a5e357",winButtonMinMax:"winButtonMinMax_a5e357",winButtonClose:"winButtonClose_a5e357 winButton_a5e357"}},517055:function(e,t,n){e.exports={outer:"outer_ac5d22",inset:"inset_ac5d22",padded:"padded_ac5d22",interactive:"interactive_ac5d22",active:"active_ac5d22"}},911785:function(e,t,n){e.exports={canvas:"canvas_cb6056"}},410642:function(e,t,n){e.exports={row:"row_a6e298",clickable:"clickable_a6e298",headerCell:"headerCell_a6e298",headerCellContent:"headerCellContent_a6e298",stickyHeader:"stickyHeader_a6e298",sortIcon:"sortIcon_a6e298"}},874751:function(e,t,n){e.exports={emoji:"emoji_bd4cdf"}},531524:function(e,t,n){e.exports={root:"root_c73da7",connected:"connected_c73da7",icon:"icon_c73da7",connecting:"connecting_c73da7"}},409367:function(e,t,n){e.exports={recommendationReason:"recommendationReason_bd2d4e",icon:"icon_bd2d4e",iconCircle:"iconCircle_bd2d4e circle_bd2d4e",earlyAccess:"earlyAccess_bd2d4e",premiumCircle:"premiumCircle_bd2d4e",smallHeader:"smallHeader_bd2d4e",text:"text_bd2d4e",description:"description_bd2d4e"}},156212:function(e,t,n){e.exports={container:"container_d746e5",dragRegion:"dragRegion_d746e5"}},656867:function(e,t,n){e.exports={button:"button_f34a81",innerButton:"innerButton_f34a81"}},358459:function(e,t,n){e.exports={container:"container_b97772",content:"content_b97772",textContainer:"textContainer_b97772",buttonContainer:"buttonContainer_b97772",title:"title_b97772",uppercase:"uppercase_b97772",description:"description_b97772",gradient:"gradient_b97772",clientThemes:"clientThemes_b97772",gradientOverlay:"gradientOverlay_b97772",gradientBackground:"gradientBackground_b97772"}},278741:function(e,t,n){e.exports={contentSection:"contentSection_a56260",content:"content_a56260"}},578451:function(e,t,n){e.exports={firstChildSpacingFix:"firstChildSpacingFix_d2d101",tabItem:"tabItem_d2d101"}},406014:function(e,t,n){e.exports={headerBar:"headerBar_accde0",overlay:"overlay_accde0",relative:"relative_accde0",backdrop:"backdrop_accde0",icon:"icon_accde0",iconButton:"iconButton_accde0",floatingSearchTabsMask:"floatingSearchTabsMask_accde0"}},333078:function(e,t,n){e.exports={container:"container_a853ca",measurements:"measurements_a853ca",tabs:"tabs_a853ca",tab:"tab_a853ca",more:"more_a853ca",selected:"selected_a853ca"}},789560:function(e,t,n){e.exports={scroller:"scroller_b91a2d"}},149025:function(e,t,n){e.exports={searchBar:"searchBar_e06425 search_e06425",searchIcon:"searchIcon_e06425 search_e06425",searchFloating:"searchFloating_e06425"}},600419:function(e,t,n){e.exports={filter:"filter_e4088d",filterBackground:"filterBackground_e4088d",menu:"menu_e4088d",categoryLabel:"categoryLabel_e4088d"}},729922:function(e,t,n){e.exports={container:"container_e462a4",header:"header_e462a4",nav:"nav_e462a4",navItemIcon:"navItemIcon_e462a4",navItem:"navItem_e462a4",selected:"selected_e462a4"}},704839:function(e,t,n){e.exports={card:"card_e32e6f",clickable:"clickable_e32e6f",disabled:"disabled_e32e6f",cardPlaceholder:"cardPlaceholder_e32e6f card_e32e6f",transitionItem:"transitionItem_e32e6f"}},544973:function(e,t,n){e.exports={container:"container_d862e5",detailHeaderContainer:"detailHeaderContainer_d862e5",detailHeaderSection:"detailHeaderSection_d862e5",detailHeaderButtonsContainer:"detailHeaderButtonsContainer_d862e5",hidden:"hidden_d862e5",hide:"hide_d862e5",visible:"visible_d862e5",detailHeader:"detailHeader_d862e5",searchHeader:"searchHeader_d862e5"}},226944:function(e,t,n){e.exports={bannerContainer:"bannerContainer_ea6128",bannerContent:"bannerContent_ea6128",bannerGradient:"bannerGradient_ea6128",loaded:"loaded_ea6128",bannerImage:"bannerImage_ea6128",bannerAnimatedContainer:"bannerAnimatedContainer_ea6128",videoFadeIn:"videoFadeIn_ea6128",videoFadeOut:"videoFadeOut_ea6128"}},833643:function(e,t,n){e.exports={container:"container_f2758d",card:"card_f2758d",avatar:"avatar_f2758d",header:"header_f2758d",avatarContainer:"avatarContainer_f2758d",appDetails:"appDetails_f2758d",titleContainer:"titleContainer_f2758d",title:"title_f2758d",infoContainer:"infoContainer_f2758d",appName:"appName_f2758d",appCategory:"appCategory_f2758d",description:"description_f2758d",memberDetails:"memberDetails_f2758d"}},928261:function(e,t,n){e.exports={container:"container_f47946",imageContainer:"imageContainer_f47946",image:"image_f47946",header:"header_f47946"}},863375:function(e,t,n){e.exports={errorContainer:"errorContainer_dff12c",error:"error_dff12c"}},76413:function(e,t,n){e.exports={content:"content_c657e4",errorContainer:"errorContainer_c657e4",error:"error_c657e4",paginationInput:"paginationInput_c657e4"}},890030:function(e,t,n){e.exports={detailContainer:"detailContainer_dc60cd",contentContainer:"contentContainer_dc60cd",contentTabsContainer:"contentTabsContainer_dc60cd",contentTabs:"contentTabs_dc60cd",centerContainer:"centerContainer_dc60cd",error:"error_dc60cd",sidebar:"sidebar_dc60cd"}},609396:function(e,t,n){e.exports={aboutContainer:"aboutContainer_d0b14a"}},914045:function(e,t,n){e.exports={actionContainer:"actionContainer_bf142c",iconButton:"iconButton_bf142c",small:"small_bf142c",innerIconButton:"innerIconButton_bf142c"}},520432:function(e,t,n){e.exports={errorImage:"errorImage_d90cba",carousel:"carousel_d90cba"}},765853:function(e,t,n){e.exports={sectionContainer:"sectionContainer_a7f862",contentContainer:"contentContainer_a7f862",commandContainer:"commandContainer_a7f862",commandName:"commandName_a7f862"}},349778:function(e,t,n){e.exports={sectionContainer:"sectionContainer_ab98a8",contentContainer:"contentContainer_ab98a8",privacyPolicy:"privacyPolicy_ab98a8",intentsList:"intentsList_ab98a8",intentContainer:"intentContainer_ab98a8",intentTextContainer:"intentTextContainer_ab98a8"}},137762:function(e,t,n){e.exports={avatarContainer:"avatarContainer_e55bd2",avatar:"avatar_e55bd2",infoContainer:"infoContainer_e55bd2",metadataContainer:"metadataContainer_e55bd2",disclosuresContainer:"disclosuresContainer_e55bd2",disclosuresText:"disclosuresText_e55bd2"}},140577:function(e,t,n){e.exports={list:"list_ab2e08",listItem:"listItem_ab2e08",linkItem:"linkItem_ab2e08",listIcon:"listIcon_ab2e08",listText:"listText_ab2e08",listImage:"listImage_ab2e08"}},285136:function(e,t,n){e.exports={overviewContainer:"overviewContainer_b6e1a1",descriptionClamp:"descriptionClamp_b6e1a1",descriptionClampSafari:"descriptionClampSafari_b6e1a1",detailedDescription:"detailedDescription_b6e1a1",showMoreButton:"showMoreButton_b6e1a1",showMoreContent:"showMoreContent_b6e1a1",showMoreButtonIcon:"showMoreButtonIcon_b6e1a1",divider:"divider_b6e1a1"}},878744:function(e,t,n){e.exports={sectionContainer:"sectionContainer_d51bcd",contentContainer:"contentContainer_d51bcd"}},37903:function(e,t,n){e.exports={guildCountContainer:"guildCountContainer_e7b018",guildsIconContainer:"guildsIconContainer_e7b018",sidebar:"sidebar_e7b018",sidebarSection:"sidebarSection_e7b018",categories:"categories_e7b018",category:"category_e7b018"}},69812:function(e,t,n){e.exports={sectionContainer:"sectionContainer_a211ab",divider:"divider_a211ab",sectionHeader:"sectionHeader_a211ab",contentContainer:"contentContainer_a211ab",appContainer:"appContainer_a211ab",appHeader:"appHeader_a211ab",avatar:"avatar_a211ab",titleContainer:"titleContainer_a211ab",appName:"appName_a211ab",appCategory:"appCategory_a211ab",appDescription:"appDescription_a211ab"}},272680:function(e,t,n){e.exports={storeContainer:"storeContainer_a41aee",productSection:"productSection_a41aee",products:"products_a41aee",legalContainer:"legalContainer_a41aee"}},181169:function(e,t,n){e.exports={outerContainer:"outerContainer_e2a33b",innerContainer:"innerContainer_e2a33b",languageItem:"languageItem_e2a33b"}},894183:function(e,t,n){e.exports={contentContainer:"contentContainer_bec863"}},318708:function(e,t,n){e.exports={sectionTitle:"sectionTitle_b1e578",titleExtraPadding:"titleExtraPadding_b1e578",content:"content_b1e578",errorContainer:"errorContainer_b1e578",error:"error_b1e578"}},968654:function(e,t,n){e.exports={categories:"categories_acddb7",category:"category_acddb7",name:"name_acddb7",count:"count_acddb7",selected:"selected_acddb7",container:"container_acddb7"}},207876:function(e,t,n){e.exports={container:"container_e848c7",image:"image_e848c7",header:"header_e848c7"}},378105:function(e,t,n){e.exports={container:"container_e9dbfa",contentContainer:"contentContainer_e9dbfa",content:"content_e9dbfa",paginationInput:"paginationInput_e9dbfa",topFilterContainer:"topFilterContainer_e9dbfa",sideFilterContainer:"sideFilterContainer_e9dbfa",sideFilterContent:"sideFilterContent_e9dbfa"}},125285:function(e,t,n){e.exports={container:"container_c73cee",card:"card_c73cee",iconMask:"iconMask_c73cee",contextMenu:"contextMenu_c73cee",header:"header_c73cee",loaded:"loaded_c73cee",banner:"banner_c73cee",bannerImage:"bannerImage_c73cee",icon:"icon_c73cee",avatar:"avatar_c73cee",guildDetails:"guildDetails_c73cee",title:"title_c73cee",guildBadge:"guildBadge_c73cee",guildName:"guildName_c73cee",description:"description_c73cee",memberDetails:"memberDetails_c73cee",memberDetailsCount:"memberDetailsCount_c73cee",memberDetailsText:"memberDetailsText_c73cee",presenceCountDot:"presenceCountDot_c73cee infoDot_c73cee",memberCountDot:"memberCountDot_c73cee infoDot_c73cee",spinnerContainer:"spinnerContainer_c73cee",spinner:"spinner_c73cee",placeholder:"placeholder_c73cee",transitionGroup:"transitionGroup_c73cee"}},877184:function(e,t,n){e.exports={actionButtonsContainer:"actionButtonsContainer_d6b7f4",forceButtonsShow:"forceButtonsShow_d6b7f4",overflowIcon:"overflowIcon_d6b7f4"}},608576:function(e,t,n){e.exports={container:"container_eed148",searchResultsHeader:"searchResultsHeader_eed148"}},841787:function(e,t,n){e.exports={heading:"heading_b120dc",headingTopbar:"headingTopbar_b120dc",headingFilters:"headingFilters_b120dc",masonryList:"masonryList_b120dc",container:"container_b120dc",spinner:"spinner_b120dc",spinnerWithSidebar:"spinnerWithSidebar_b120dc",sidebar:"sidebar_b120dc",sidebarContent:"sidebarContent_b120dc",sidebarLanguageSelect:"sidebarLanguageSelect_b120dc"}},196684:function(e,t,n){e.exports={categories:"categories_d70b79",category:"category_d70b79",name:"name_d70b79",count:"count_d70b79",selected:"selected_d70b79"}},136676:function(e,t,n){e.exports={container:"container_b02222"}},548538:function(e,t,n){e.exports={container:"container_bac4a9",image:"image_bac4a9",header:"header_bac4a9"}},874892:function(e,t,n){e.exports={sectionTitle:"sectionTitle_fa6dd5",content:"content_fa6dd5"}},337596:function(e,t,n){e.exports={disclaimer:"disclaimer_f0029c",text:"text_f0029c",divider:"divider_f0029c"}},301219:function(e,t,n){e.exports={page:"page_a2a504",contentWrapper:"contentWrapper_a2a504",dragRegion:"dragRegion_a2a504"}},832311:function(e,t,n){e.exports={container:"container_a74b6f",guildSidebar:"guildSidebar_a74b6f",guildDescription:"guildDescription_a74b6f",guildIcon:"guildIcon_a74b6f",guildIconNoIcon:"guildIconNoIcon_a74b6f",guildName:"guildName_a74b6f",emojisContainer:"emojisContainer_a74b6f",emoji:"emoji_a74b6f",onlineCount:"onlineCount_a74b6f",dotOnline:"dotOnline_a74b6f dot_a74b6f",dotMembers:"dotMembers_a74b6f dot_a74b6f",divider:"divider_a74b6f",modal:"modal_a74b6f",sequencer:"sequencer_a74b6f",modalContent:"modalContent_a74b6f",content:"content_a74b6f",centerContent:"centerContent_a74b6f",closeButton:"closeButton_a74b6f",applicationIconContainer:"applicationIconContainer_a74b6f",applicationIcon:"applicationIcon_a74b6f",animationAndSparklesContainer:"animationAndSparklesContainer_a74b6f",sparkleIcon:"sparkleIcon_a74b6f",sparkleTop:"sparkleTop_a74b6f",sparkleBottom:"sparkleBottom_a74b6f",animation:"animation_a74b6f",header:"header_a74b6f",subheader:"subheader_a74b6f",footer:"footer_a74b6f",submitButton:"submitButton_a74b6f",formItem:"formItem_a74b6f",resendButton:"resendButton_a74b6f",confirmation:"confirmation_a74b6f",confirmationContent:"confirmationContent_a74b6f",confirmationButtonRow:"confirmationButtonRow_a74b6f",confirmationButton:"confirmationButton_a74b6f",confirmationTooltipContents:"confirmationTooltipContents_a74b6f",confirmationButtonColumn:"confirmationButtonColumn_a74b6f",notice:"notice_a74b6f",rejectionReasonLabel:"rejectionReasonLabel_a74b6f",rejectionReason:"rejectionReason_a74b6f",disclaimerFooter:"disclaimerFooter_a74b6f"}},933078:function(e,t,n){e.exports={questionContainer:"questionContainer_b007eb",questionTitle:"questionTitle_b007eb",requirementContainer:"requirementContainer_b007eb",requirementIcon:"requirementIcon_b007eb",requirementText:"requirementText_b007eb",requirementSuccess:"requirementSuccess_b007eb",requirementFailure:"requirementFailure_b007eb",footnote:"footnote_b007eb"}},119866:function(e,t,n){e.exports={termsRow:"termsRow_bd5b94",termsRowContent:"termsRowContent_bd5b94",checkbox:"checkbox_bd5b94",verifyConfirmText:"verifyConfirmText_bd5b94",fieldBackground:"fieldBackground_bd5b94",termsFieldBody:"termsFieldBody_bd5b94",textInputFieldBodyInput:"textInputFieldBodyInput_bd5b94",paragraphFieldBody:"paragraphFieldBody_bd5b94",multipleChoiceIcon:"multipleChoiceIcon_bd5b94"}},279950:function(e,t,n){e.exports={container:"container_b03943",explainerContainer:"explainerContainer_b03943"}},97753:function(e,t,n){e.exports={container:"container_b42697",image:"image_b42697"}},626054:function(e,t,n){e.exports={container:"container_e9f3d2",video:"video_e9f3d2"}},205572:function(e,t,n){e.exports={pendingPlanChangeNotice:"pendingPlanChangeNotice_f1d0a8"}},818754:function(e,t,n){e.exports={errorPageContainer:"errorPageContainer_a4a24d",errorPageContent:"errorPageContent_a4a24d",errorPageIllo:"errorPageIllo_a4a24d",errorPageTitle:"errorPageTitle_a4a24d",errorPagSubtitle:"errorPagSubtitle_a4a24d"}},807859:function(e,t,n){e.exports={container:"container_fca846",content:"content_fca846",scroller:"scroller_fca846",scrollerContent:"scrollerContent_fca846",headerBar:"headerBar_fca846"}},549440:function(e,t,n){e.exports={container:"container_e290d6",content:"content_e290d6",header:"header_e290d6"}},33827:function(e,t,n){e.exports={container:"container_d575b2",coverImageContainer:"coverImageContainer_d575b2",coverImage:"coverImage_d575b2",guildIconContainer:"guildIconContainer_d575b2",ctaTitle:"ctaTitle_d575b2",ctaSubtitle:"ctaSubtitle_d575b2"}},832019:function(e,t,n){e.exports={channelNotice:"channelNotice_a6cd4e",textBlock:"textBlock_a6cd4e",singleLine:"singleLine_a6cd4e",liveNowText:"liveNowText_a6cd4e",eventNameClickable:"eventNameClickable_a6cd4e",eventName:"eventName_a6cd4e",channelName:"channelName_a6cd4e",dotDivider:"dotDivider_a6cd4e",liveIndicator:"liveIndicator_a6cd4e",startTime:"startTime_a6cd4e",stageIcon:"stageIcon_a6cd4e",userNames:"userNames_a6cd4e",joinButton:"joinButton_a6cd4e",rsvpButton:"rsvpButton_a6cd4e",buttonIcon:"buttonIcon_a6cd4e",closeIcon:"closeIcon_a6cd4e",details:"details_a6cd4e"}},328835:function(e,t,n){e.exports={image:"image_ac8185"}},325382:function(e,t,n){e.exports={container:"container_ee69e0",hubContainer:"hubContainer_ee69e0",tooltipOverrideColor:"tooltipOverrideColor_ee69e0",dropdownButton:"dropdownButton_ee69e0"}},692013:function(e,t,n){e.exports={container:"container_fa295b"}},434351:function(e,t,n){e.exports={container:"container_b68b01",bannerPadding:"bannerPadding_b68b01",category:"category_b68b01",spacer:"spacer_b68b01",channel:"channel_b68b01",channelIcon:"channelIcon_b68b01",channelName:"channelName_b68b01"}},512360:function(e,t,n){e.exports={wrapper:"wrapper_c1da7a",backgroundWrapper:"backgroundWrapper_c1da7a",backgroundImage:"backgroundImage_c1da7a",backgroundOverlay:"backgroundOverlay_c1da7a",heroImage:"heroImage_c1da7a",content:"content_c1da7a",specialText:"specialText_c1da7a",specialTextLink:"specialTextLink_c1da7a specialText_c1da7a",closeClickable:"closeClickable_c1da7a"}},107233:function(e,t,n){e.exports={background:"background_e6e855"}},776597:function(e,t,n){e.exports={container:"container_f11cbf",iconContainer:"iconContainer_f11cbf",header:"header_f11cbf",gap:"gap_f11cbf",addButton:"addButton_f11cbf"}},569055:function(e,t,n){e.exports={container:"container_e5a030",topImage:"topImage_e5a030",centerText:"centerText_e5a030",header:"header_e5a030",descriptionWidth:"descriptionWidth_e5a030",formContent:"formContent_e5a030",formDescription:"formDescription_e5a030",termsPhrase:"termsPhrase_e5a030",submitButton:"submitButton_e5a030",cancelButton:"cancelButton_e5a030"}},728835:function(e,t,n){e.exports={container:"container_d1a2b6",centerText:"centerText_d1a2b6",header:"header_d1a2b6",description:"description_d1a2b6",guildList:"guildList_d1a2b6",forcedHeight:"forcedHeight_d1a2b6",searchContainer:"searchContainer_d1a2b6",searchBox:"searchBox_d1a2b6",searchBoxInput:"searchBoxInput_d1a2b6",searchBoxIcon:"searchBoxIcon_d1a2b6",clickableGuildInfoRow:"clickableGuildInfoRow_d1a2b6 guildRow_d1a2b6",guildIcon:"guildIcon_d1a2b6",guildName:"guildName_d1a2b6",noResultsContainer:"noResultsContainer_d1a2b6",noResultsContent:"noResultsContent_d1a2b6",noResultsImage:"noResultsImage_d1a2b6",scroller:"scroller_d1a2b6"}},798508:function(e,t,n){e.exports={modalRoot:"modalRoot_e5b5f9",sidebarContainer:"sidebarContainer_e5b5f9",contentContainer:"contentContainer_e5b5f9",modalContent:"modalContent_e5b5f9",container:"container_e5b5f9",closeButton:"closeButton_e5b5f9"}},214463:function(e,t,n){e.exports={page:"page_a9bf6c",contentWrapper:"contentWrapper_a9bf6c",dragRegion:"dragRegion_a9bf6c"}},748751:function(e,t,n){e.exports={container:"container_f38045",iconContainer:"iconContainer_f38045",icon:"icon_f38045",header:"header_f38045",description:"description_f38045"}},621475:function(e,t,n){e.exports={container:"container_f64057",centerText:"centerText_f64057",header:"header_f64057",descriptionWidth:"descriptionWidth_f64057",formItem:"formItem_f64057",footer:"footer_f64057",backButton:"backButton_f64057"}},671777:function(e,t,n){e.exports={container:"container_a27408",topImage:"topImage_a27408",centerText:"centerText_a27408",formItem:"formItem_a27408 centerText_a27408",header:"header_a27408",descriptionWidth:"descriptionWidth_a27408",submitText:"submitText_a27408"}},806305:function(e,t,n){e.exports={container:"container_e09820",content:"content_e09820",pointer:"pointer_e09820"}},865840:function(e,t,n){e.exports={icon:"icon_b4cd9b"}},521287:function(e,t,n){e.exports={keyboardShortcutsModal:"keyboardShortcutsModal_ad95dc",noBackground:"noBackground_ad95dc",noShadow:"noShadow_ad95dc",backdrop:"backdrop_ad95dc",show:"show_ad95dc",modalTitle:"modalTitle_ad95dc",content:"content_ad95dc",modalSubtitle:"modalSubtitle_ad95dc",ddrArrows:"ddrArrows_ad95dc",arrow:"arrow_ad95dc",active:"active_ad95dc",left:"left_ad95dc",down:"down_ad95dc",up:"up_ad95dc",right:"right_ad95dc",keybindGroupDescription:"keybindGroupDescription_ad95dc",keyboardShortcutList:"keyboardShortcutList_ad95dc",keybindGroup:"keybindGroup_ad95dc",keybindKey:"keybindKey_ad95dc",keyboardShortcutSection:"keyboardShortcutSection_ad95dc",keyboardShortcutListGroup:"keyboardShortcutListGroup_ad95dc"}},727688:function(e,t,n){e.exports={ragingDemon:"ragingDemon_f4b0b6",visible:"visible_f4b0b6",symbol:"symbol_f4b0b6",symbolBackground:"symbolBackground_f4b0b6",container:"container_f4b0b6",animate:"animate_f4b0b6",circleInner:"circleInner_f4b0b6",circleOuter:"circleOuter_f4b0b6",linesSecondary:"linesSecondary_f4b0b6",linesMain:"linesMain_f4b0b6",primaryExplosion:"primaryExplosion_f4b0b6 explosion_f4b0b6",secondaryExplosion:"secondaryExplosion_f4b0b6 explosion_f4b0b6"}},723478:function(e,t,n){e.exports={alignCenter:"alignCenter_ad2a08",alignLeft:"alignLeft_ad2a08",horizontalPaginationItemContainer:"horizontalPaginationItemContainer_ad2a08",verticalPaginationItemContainer:"verticalPaginationItemContainer_ad2a08 alignLeft_ad2a08",arrow:"arrow_ad2a08",prevButtonContainer:"prevButtonContainer_ad2a08 arrowContainer_ad2a08",nextButtonContainer:"nextButtonContainer_ad2a08 arrowContainer_ad2a08"}},72714:function(e,t,n){e.exports={singleItemWrapper:"singleItemWrapper_e3183f",carousel:"carousel_e3183f",item:"item_e3183f",singleItem:"singleItem_e3183f item_e3183f",viewport:"viewport_e3183f"}},262309:function(e,t,n){e.exports={root:"root_db3abe",carouselContainer:"carouselContainer_db3abe",carousel:"carousel_db3abe",pagination:"pagination_db3abe",themedPagination:"themedPagination_db3abe pagination_db3abe",controls:"controls_db3abe",arrowHitbox:"arrowHitbox_db3abe",arrow:"arrow_db3abe",arrowHitboxPadding:"arrowHitboxPadding_db3abe",dots:"dots_db3abe",dotNormal:"dotNormal_db3abe dot_db3abe",dotSelected:"dotSelected_db3abe dot_db3abe"}},891589:function(e,t,n){e.exports={slide:"slide_f97a12",scaleDown:"scaleDown_f97a12",contain:"contain_f97a12"}},980037:function(e,t,n){e.exports={video:"video_ec4fee",upsellBody:"upsellBody_ec4fee"}},262755:function(e,t,n){e.exports={messageRequestItem:"messageRequestItem_a5de62",firstItem:"firstItem_a5de62",active:"active_a5de62"}},863705:function(e,t,n){e.exports={container:"container_f3abf4",list:"list_f3abf4",sectionTitle:"sectionTitle_f3abf4",selected:"selected_f3abf4",siblingSelected:"siblingSelected_f3abf4",messageRequestCoachmark:"messageRequestCoachmark_f3abf4",titleDivider:"titleDivider_f3abf4",clearAllButton:"clearAllButton_f3abf4"}},560006:function(e,t,n){e.exports={messageContent:"messageContent_b99bee",messageReplacement:"messageReplacement_b99bee messageContent_b99bee",messageContentIcon:"messageContentIcon_b99bee",messageFocusBlock:"messageFocusBlock_b99bee"}},993595:function(e,t,n){e.exports={avatar:"avatar_e4d6ba",userPreview:"userPreview_e4d6ba",userContainerWithPreview:"userContainerWithPreview_e4d6ba",tagContainer:"tagContainer_e4d6ba",username:"username_e4d6ba",discriminator:"discriminator_e4d6ba",globalName:"globalName_e4d6ba",timestampWithPreview:"timestampWithPreview_e4d6ba",mutualGuildsContainer:"mutualGuildsContainer_e4d6ba",mutualGuilds:"mutualGuilds_e4d6ba"}},283863:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer_c353e6"}},573475:function(e,t,n){e.exports={container:"container_c7a96d",actions:"actions_c7a96d",button:"button_c7a96d"}},300755:function(e,t,n){e.exports={selected:"selected_cc7518",siblingSelected:"siblingSelected_cc7518",list:"list_cc7518",sectionTitle:"sectionTitle_cc7518",titleDivider:"titleDivider_cc7518",clearAllButton:"clearAllButton_cc7518"}},48829:function(e,t,n){e.exports={container:"container_deb497",actions:"actions_deb497",button:"button_deb497"}},602654:function(e,t,n){e.exports={body:"body_ad5fac",menus:"menus_ad5fac",menuOverlay:"menuOverlay_ad5fac",menuDivider:"menuDivider_ad5fac",menuItemInner:"menuItemInner_ad5fac",menuItemLabel:"menuItemLabel_ad5fac",menuItemColor:"menuItemColor_ad5fac",submenuPaddingContainer:"submenuPaddingContainer_ad5fac",statusPickerModal:"statusPickerModal_ad5fac",statusPickerModalMenu:"statusPickerModalMenu_ad5fac",statusItem:"statusItem_ad5fac",expiringStatusMenuItem:"expiringStatusMenuItem_ad5fac",status:"status_ad5fac",icon:"icon_ad5fac",description:"description_ad5fac",themeContainer:"themeContainer_ad5fac",username:"username_ad5fac",focusModeTitle:"focusModeTitle_ad5fac"}},543395:function(e,t,n){e.exports={userMenuItem:"userMenuItem_e1268c",userMenuUsername:"userMenuUsername_e1268c",userMenuText:"userMenuText_e1268c",userMenuDiscriminator:"userMenuDiscriminator_e1268c",focused:"focused_e1268c",activeIcon:"activeIcon_e1268c"}},721925:function(e,t,n){e.exports={itemCard:"itemCard_f02fcf",emptyCard:"emptyCard_f02fcf",emptyHeader:"emptyHeader_f02fcf",emptyText:"emptyText_f02fcf"}},178584:function(e,t,n){e.exports={scroller:"scroller_bf550a",container:"container_bf550a",header:"header_bf550a"}},617927:function(e,t,n){e.exports={memberItem:"memberItem_b09fe8",avatar:"avatar_b09fe8",unknown:"unknown_b09fe8"}},730873:function(e,t,n){e.exports={listeningAlong:"listeningAlong_d4626d",party:"party_d4626d",overflow:"overflow_d4626d",icons:"icons_d4626d",avatar:"avatar_d4626d"}},628005:function(e,t,n){e.exports={container:"container_b2ca13",avatar:"avatar_b2ca13",redIcon:"redIcon_b2ca13",avatarWrapper:"avatarWrapper_b2ca13",nameTag:"nameTag_b2ca13",canCopy:"canCopy_b2ca13",hasBuildOverride:"hasBuildOverride_b2ca13",buildOverrideButton:"buildOverrideButton_b2ca13",panelTitleContainer:"panelTitleContainer_b2ca13",panelSubtextContainer:"panelSubtextContainer_b2ca13",customStatus:"customStatus_b2ca13",strikethrough:"strikethrough_b2ca13",emoji:"emoji_b2ca13",accountProfilePopoutWrapper:"accountProfilePopoutWrapper_b2ca13",buttons:"buttons_b2ca13"}},525270:function(e,t,n){e.exports={scroller:"scroller_fb2f1c",voiceUsers:"voiceUsers_fb2f1c",expandButton:"expandButton_fb2f1c",avatarContainer:"avatarContainer_fb2f1c",avatar:"avatar_fb2f1c",speaking:"speaking_fb2f1c",avatarIconOverlay:"avatarIconOverlay_fb2f1c",avatarIconRed:"avatarIconRed_fb2f1c"}},423360:function(e,t,n){e.exports={actionButton:"actionButton_e01b91",highlight:"highlight_e01b91",actionAccept:"actionAccept_e01b91",actionDeny:"actionDeny_e01b91",icon:"icon_e01b91",actionButtonMobile:"actionButtonMobile_e01b91"}},950834:function(e,t,n){e.exports={header:"header_c96274",title:"title_c96274",emptyState:"emptyState_c96274"}},77418:function(e,t,n){e.exports={header:"header_aef5fd",title:"title_aef5fd",grid:"grid_aef5fd",container:"container_aef5fd",arrow:"arrow_aef5fd",icon:"icon_aef5fd",text:"text_aef5fd"}},146368:function(e,t,n){e.exports={listItemContents:"listItemContents_f71b83"}},271249:function(e,t,n){e.exports={card:"card_ae5e0b",header:"header_ae5e0b",buttonContainer:"buttonContainer_ae5e0b"}},401207:function(e,t,n){e.exports={listItemContents:"listItemContents_e05dae",actions:"actions_e05dae"}},446501:function(e,t,n){e.exports={friendsEmpty:"friendsEmpty_a62993",button:"button_a62993",emptyStateContainer:"emptyStateContainer_a62993",spamButton:"spamButton_a62993"}},55945:function(e,t,n){e.exports={listItemContents:"listItemContents_ccc740",actions:"actions_ccc740",staffIndicator:"staffIndicator_ccc740"}},732144:function(e,t,n){e.exports={emptyStateContainer:"emptyStateContainer_e0840f",peopleList:"peopleList_e0840f",searchBar:"searchBar_e0840f",sectionTitle:"sectionTitle_e0840f",clearButton:"clearButton_e0840f",searchEmptyState:"searchEmptyState_e0840f",viewSpamButton:"viewSpamButton_e0840f",viewSpamButtonColor:"viewSpamButtonColor_e0840f"}},189519:function(e,t,n){e.exports={peopleListItem:"peopleListItem_d51464",active:"active_d51464"}},224602:function(e,t,n){e.exports={container:"container_c2739c",inviteToolbar:"inviteToolbar_c2739c",peopleColumn:"peopleColumn_c2739c",nowPlayingColumn:"nowPlayingColumn_c2739c",tabBar:"tabBar_c2739c",badge:"badge_c2739c",item:"item_c2739c",addFriend:"addFriend_c2739c",tabBody:"tabBody_c2739c"}},962479:function(e,t,n){e.exports={blockedIgnoredSettingsNotice:"blockedIgnoredSettingsNotice_e40e0c",closeButton:"closeButton_e40e0c"}},379336:function(e,t,n){e.exports={title:"title_a1cafe"}},542745:function(e,t,n){e.exports={activity:"activity_f7ebfd",text:"text_f7ebfd",customStatusEmoji:"customStatusEmoji_f7ebfd"}},28504:function(e,t,n){e.exports={listItemContents:"listItemContents_ea0e6d",actions:"actions_ea0e6d"}},757338:function(e,t,n){e.exports={userInfo:"userInfo_f3939d",avatar:"avatar_f3939d",text:"text_f3939d",subtext:"subtext_f3939d",discordTag:"discordTag_f3939d",botTag:"botTag_f3939d",username:"username_f3939d",discriminator:"discriminator_f3939d",hovered:"hovered_f3939d",alignPomelo:"alignPomelo_f3939d"}},664358:function(e,t,n){e.exports={countDown:"countDown_d0e7ba",sparkleStar1:"sparkleStar1_d0e7ba",sparkleStar2:"sparkleStar2_d0e7ba"}},378480:function(e,t,n){e.exports={spriteContainer:"spriteContainer_ce90d9",sprite:"sprite_ce90d9",popoutButton:"popoutButton_ce90d9",pillContentContainer:"pillContentContainer_ce90d9",pillButtonText:"pillButtonText_ce90d9"}},204586:function(e,t,n){e.exports={buttonWide:"buttonWide_b5c0bd",innerButton:"innerButton_b5c0bd",nitroIconSubHeader:"nitroIconSubHeader_b5c0bd",termsApplyAnchor:"termsApplyAnchor_b5c0bd",modalTopPill:"modalTopPill_b5c0bd",tier2Gradient:"tier2Gradient_b5c0bd"}},733926:function(e,t,n){e.exports={container:"container_cb4f32",image:"image_cb4f32",header:"header_cb4f32",primaryButton:"primaryButton_cb4f32"}},767493:function(e,t,n){n.r(e.exports={badgeIconPrivateMessages:"badgeIconPrivateMessages_d98ec4",badgeIconSettingsMenu:"badgeIconSettingsMenu_d98ec4"})},229830:function(e,t,n){e.exports={premiumTrialBadge:"premiumTrialBadge_b089d3",premiumTrialBadgeV2:"premiumTrialBadgeV2_b089d3",premiumTrialBadgeIcon:"premiumTrialBadgeIcon_b089d3",premiumTrialTier0UnacknowledgedBadge:"premiumTrialTier0UnacknowledgedBadge_b089d3",premiumTrialTier2UnacknowledgedBadge:"premiumTrialTier2UnacknowledgedBadge_b089d3",premiumDiscountUnacknowledgedBadge:"premiumDiscountUnacknowledgedBadge_b089d3",premiumTrialAcknowledgedBadge:"premiumTrialAcknowledgedBadge_b089d3",premiumTrialBadgeSelected:"premiumTrialBadgeSelected_b089d3",premiumOfferBadgeCopy:"premiumOfferBadgeCopy_b089d3"}},762042:function(e,t,n){e.exports={customCircleAnimation:"customCircleAnimation_b5369a",coachTipContainer:"coachTipContainer_b5369a",coachmarkArt:"coachmarkArt_b5369a",exitIcon:"exitIcon_b5369a",iconContainer:"iconContainer_b5369a",coachtipContent:"coachtipContent_b5369a",incentiveCoachtipContent:"incentiveCoachtipContent_b5369a",marketingBadgeTooltip:"marketingBadgeTooltip_b5369a",tooltipContent:"tooltipContent_b5369a",incentiveTooltipPointer:"incentiveTooltipPointer_b5369a",incentiveCoachtipContainer:"incentiveCoachtipContainer_b5369a",icon:"icon_b5369a",incentiveIcon:"incentiveIcon_b5369a",trialBadgeBackground:"trialBadgeBackground_b5369a",trialAckedBadge:"trialAckedBadge_b5369a",t4ACoachTipContainer:"t4ACoachTipContainer_b5369a",t4ACoachtipArtOuterContainer:"t4ACoachtipArtOuterContainer_b5369a",t4AMarketingBadgeTooltip:"t4AMarketingBadgeTooltip_b5369a",t4ACoachtipArtInnerContainer:"t4ACoachtipArtInnerContainer_b5369a",t4aCoachtipContent:"t4aCoachtipContent_b5369a"}},830164:function(e,t,n){e.exports={nitroGemAnimation:"nitroGemAnimation_ba5739",gemBackgroundFill:"gemBackgroundFill_ba5739",progressCircle:"progressCircle_ba5739",activeProgressCircle:"activeProgressCircle_ba5739",activeProgressCircleAnimation:"activeProgressCircleAnimation_ba5739",avatarDecoContainer:"avatarDecoContainer_ba5739",avatarDeco:"avatarDeco_ba5739",avatarDecoImage:"avatarDecoImage_ba5739"}},697303:function(e,t,n){e.exports={circleContainer:"circleContainer_d37103",childrenContainer:"childrenContainer_d37103",baseProgressCircle:"baseProgressCircle_d37103",circleSVG:"circleSVG_d37103"}},398645:function(e,t,n){e.exports={localizeBadge:"localizeBadge_d44307",referralIncentive:"referralIncentive_d44307",tabBackgroundImage:"tabBackgroundImage_d44307",tabBackgroundImageHovered:"tabBackgroundImageHovered_d44307",tabBackground:"tabBackground_d44307",trialForAllButton:"trialForAllButton_d44307"}},966156:function(e,t,n){e.exports={root:"root_f95964",splash:"splash_f95964",headerText:"headerText_f95964",closeButton:"closeButton_f95964",video:"video_f95964",content:"content_f95964",subHeader:"subHeader_f95964",bodyText:"bodyText_f95964",featureCardGroup:"featureCardGroup_f95964",wideStyle:"wideStyle_f95964",featureCard:"featureCard_f95964",featureCardImg:"featureCardImg_f95964",featureCardTextGroup:"featureCardTextGroup_f95964",featureCardTextHeader:"featureCardTextHeader_f95964",featureCardTag:"featureCardTag_f95964",tag:"tag_f95964"}},844812:function(e,t,n){e.exports={badgeContainer:"badgeContainer_b7316a",newBadge:"newBadge_b7316a",star:"star_b7316a",starLeft:"starLeft_b7316a",starRight:"starRight_b7316a"}},722052:function(e,t,n){e.exports={profileThemesArt:"profileThemesArt_f604cd"}},625844:function(e,t,n){e.exports={container:"container_e2fc00",image:"image_e2fc00",assetBlurred:"assetBlurred_e2fc00",decoWrapper:"decoWrapper_e2fc00",overlay:"overlay_e2fc00",darkThemeGradient:"darkThemeGradient_e2fc00",lightThemeGradient:"lightThemeGradient_e2fc00",details:"details_e2fc00",logoContainer:"logoContainer_e2fc00",logo:"logo_e2fc00",logoWithCosponsor:"logoWithCosponsor_e2fc00",title:"title_e2fc00",hovered:"hovered_e2fc00"}},308470:function(e,t,n){e.exports={gridContainer:"gridContainer_e6c4a3",spinner:"spinner_e6c4a3"}},359643:function(e,t,n){e.exports={container:"container_fc867b",dragRegion:"dragRegion_fc867b",bannerImage:"bannerImage_fc867b",bannerGradient:"bannerGradient_fc867b",tabs:"tabs_fc867b",bannerContainer:"bannerContainer_fc867b"}},86675:function(e,t,n){e.exports={container:"container_ad4620",questTile:"questTile_ad4620",selected:"selected_ad4620",unselected:"unselected_ad4620",spinner:"spinner_ad4620"}},444865:function(e,t,n){e.exports={wrapper:"wrapper_a18c91",submenuIcon:"submenuIcon_a18c91",utils:"utils_a18c91",wrapperQuestAccepted:"wrapperQuestAccepted_a18c91",heading:"heading_a18c91",headingGameTile:"headingGameTile_a18c91",headingCopy:"headingCopy_a18c91",instructions:"instructions_a18c91",ctas:"ctas_a18c91",cta:"cta_a18c91",rewardTileWithInstructions:"rewardTileWithInstructions_a18c91"}},449532:function(e,t,n){e.exports={container:"container_f4e139",mobileContainer:"mobileContainer_f4e139",quickswitcher:"quickswitcher_f4e139",mobileQuickswitcher:"mobileQuickswitcher_f4e139",input:"input_f4e139",autocompleteQuerySymbol:"autocompleteQuerySymbol_f4e139",scroller:"scroller_f4e139",protip:"protip_f4e139",hasContent:"hasContent_f4e139",emptyState:"emptyState_f4e139",emptyStateNote:"emptyStateNote_f4e139",emptyStateCTA:"emptyStateCTA_f4e139",miscContainer:"miscContainer_f4e139"}},159381:function(e,t,n){e.exports={tutorial:"tutorial_c36bbe",shown:"shown_c36bbe",arrowGroup:"arrowGroup_c36bbe",right:"right_c36bbe",arrowContainer:"arrowContainer_c36bbe",horizontal:"horizontal_c36bbe",diag1:"diag1_c36bbe",diag2:"diag2_c36bbe",arrowIcon:"arrowIcon_c36bbe",tutorialMessages:"tutorialMessages_c36bbe",searchMessage:"searchMessage_c36bbe message_c36bbe",selectMessage:"selectMessage_c36bbe message_c36bbe",hasQuery:"hasQuery_c36bbe"}},378481:function(e,t,n){e.exports={channelName:"channelName_d09c05",username:"username_d09c05",kvContainer:"kvContainer_d09c05",item:"item_d09c05",itemValue:"itemValue_d09c05",valueIcon:"valueIcon_d09c05",title:"title_d09c05",graph:"graph_d09c05",divider:"divider_d09c05",videoWrapper:"videoWrapper_d09c05",sectionHeader:"sectionHeader_d09c05",allowSelection:"allowSelection_d09c05",avatar:"avatar_d09c05"}},183387:function(e,t,n){e.exports={header:"header_ec97fb",video:"video_ec97fb"}},236363:function(e,t,n){e.exports={header:"header_bc6086",video:"video_bc6086"}},125071:function(e,t,n){e.exports={header:"header_d74e4c",video:"video_d74e4c"}},804648:function(e,t,n){e.exports={container:"container_b41b7a",card:"card_b41b7a",eyebrow:"eyebrow_b41b7a",button:"button_b41b7a",dismiss:"dismiss_b41b7a"}},502957:function(e,t,n){e.exports={art:"art_f5abe7"}},278495:function(e,t,n){e.exports={wrapper:"wrapper_ebd0fc",svg:"svg_ebd0fc",background:"background_ebd0fc path_ebd0fc",foreground:"foreground_ebd0fc path_ebd0fc",usageInfo:"usageInfo_ebd0fc"}},928351:function(e,t,n){e.exports={coachmarkArt:"coachmarkArt_ef9e7d",coachmarkHeader:"coachmarkHeader_ef9e7d"}},777942:function(e,t,n){e.exports={container:"container_bb2fbe",image:"image_bb2fbe",links:"links_bb2fbe",agreementDescription:"agreementDescription_bb2fbe"}},906540:function(e,t,n){e.exports={verification:"verification_cdbc7c",title:"title_cdbc7c",body:"body_cdbc7c",footer:"footer_cdbc7c",container:"container_cdbc7c",isMobile:"isMobile_cdbc7c",image:"image_cdbc7c",footerBullet:"footerBullet_cdbc7c",footerAction:"footerAction_cdbc7c"}},250739:function(e,t,n){n.r(e.exports={firefoxFixScrollFlex:"firefoxFixScrollFlex_c7e9c6",fixClipping:"fixClipping_c7e9c6"})},684309:function(e,t,n){n.r(e.exports={card:"card_ffe375",active:"active_ffe375"})},422235:function(e,t,n){e.exports={wrapper:"wrapper_c01868",image:"image_c01868",content:"content_c01868",icon:"icon_c01868",background:"background_c01868"}},134992:function(e,t,n){e.exports={wrapper:"wrapper_a8220a",cardHeaderImg:"cardHeaderImg_a8220a",details:"details_a8220a",description:"description_a8220a",footer:"footer_a8220a"}},955092:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/5b4dc771eb1d2e239bcba774f3589b977845bf70d179315dc2f9a531b253c6d8.png"},250225:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/577d28b05d22c43a8b3dfe5ebfc6fa278c58f03907e888db884c331d13c3ad23.png"},778441:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/7fa341ec7211b62a71a0bd433d2bafe570ada865b0fd72d695b90de4a581022a.png"},238988:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/f3e3de08090be16d5041988655da92f175ba9967e7854f170caa18550159ae10.png"},298233:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/f56fdb607f14f6ebe5a37eac65f5b8c975ea446224c06dd8aef4dd0187c81874.png"},304354:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/d1dcb0c115a836edc8cbf021a15888bdf416fd352187518f227b8e905a20227f.png"},265704:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/b344b1fe2b3d2cc66466f09c46b4e2dcce56a16f1ff047aed69155fa4cff39a8.png"},85010:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/f3e3de08090be16d5041988655da92f175ba9967e7854f170caa18550159ae10.png"},954620:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/87534097f7ff0b0a3c6164bbcaad8968b2e7f8dbbdc59776c782cf14dba4c53c.png"},28747:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/5e27b7f8865a87dd6eec34188b96bb51924a55252b16f9ebfb8aa72973304bbd.png"},962658:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/15940a9acc0fab74b37e730350d6cef34289948e14b6d73e90432c19b4a51beb.png"},29971:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/6c6eeb5576f47ad8c19a40e67a6404ffaae3b939f07183afc984d669f17137de.png"},730837:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/fab9a25304af3a77b100b6beabd1d46013120289193faa37e9fa82977f133322.png"},95897:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/ef7a0b437305ab3a5ccda00a5ecd4eddd69544a90eac121e5c984ca63dd93b9e.png"},171362:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/71744284320fdf451ac09af729ea60d3fde7ef492f7c7e8c5657387c20c2b9c6.png"},945720:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/6c6eeb5576f47ad8c19a40e67a6404ffaae3b939f07183afc984d669f17137de.png"},693988:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/455578a39348fd68702ed848cc1f516351398f5ccc93621c286eed17794e9142.png"},155357:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/ae2d698387a8310a3e66f2e42e5b726876d8feafeeeee71c4d361f8b4c4490c9.png"},513885:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/a20d6da483ebf0d9a3af4053d836a4e6b321840f0ce0c71c8f6afa947691bce4.png"},547970:function(e,t){t.Z="https://cdn.discordapp.com/assets/content/e3516f28c7a687ad609618b344d9db666960a0e2b4d74b610252216c2756dec4.png"}}]);
//# sourceMappingURL=1417fad413926d4a4bac.js.map